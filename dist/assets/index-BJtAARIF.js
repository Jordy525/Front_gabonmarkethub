var Fp=t=>{throw TypeError(t)};var Yu=(t,s,r)=>s.has(t)||Fp("Cannot "+r);var z=(t,s,r)=>(Yu(t,s,"read from private field"),r?r.call(t):s.get(t)),xe=(t,s,r)=>s.has(t)?Fp("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),le=(t,s,r,n)=>(Yu(t,s,"write to private field"),n?n.call(t,r):s.set(t,r),r),Pe=(t,s,r)=>(Yu(t,s,"access private method"),r);var hc=(t,s,r,n)=>({set _(a){le(t,s,a,r)},get _(){return z(t,s,n)}});function GC(t,s){for(var r=0;r<s.length;r++){const n=s[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Rv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Av={exports:{}},su={},Mv={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=Symbol.for("react.element"),XC=Symbol.for("react.portal"),KC=Symbol.for("react.fragment"),YC=Symbol.for("react.strict_mode"),QC=Symbol.for("react.profiler"),JC=Symbol.for("react.provider"),ZC=Symbol.for("react.context"),eS=Symbol.for("react.forward_ref"),tS=Symbol.for("react.suspense"),sS=Symbol.for("react.memo"),rS=Symbol.for("react.lazy"),zp=Symbol.iterator;function nS(t){return t===null||typeof t!="object"?null:(t=zp&&t[zp]||t["@@iterator"],typeof t=="function"?t:null)}var Iv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lv=Object.assign,Dv={};function mo(t,s,r){this.props=t,this.context=s,this.refs=Dv,this.updater=r||Iv}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ov(){}Ov.prototype=mo.prototype;function If(t,s,r){this.props=t,this.context=s,this.refs=Dv,this.updater=r||Iv}var Lf=If.prototype=new Ov;Lf.constructor=If;Lv(Lf,mo.prototype);Lf.isPureReactComponent=!0;var $p=Array.isArray,Fv=Object.prototype.hasOwnProperty,Df={current:null},zv={key:!0,ref:!0,__self:!0,__source:!0};function $v(t,s,r){var n,a={},i=null,o=null;if(s!=null)for(n in s.ref!==void 0&&(o=s.ref),s.key!==void 0&&(i=""+s.key),s)Fv.call(s,n)&&!zv.hasOwnProperty(n)&&(a[n]=s[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Vl,type:t,key:i,ref:o,props:a,_owner:Df.current}}function aS(t,s){return{$$typeof:Vl,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function Of(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vl}function iS(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var qp=/\/+/g;function Qu(t,s){return typeof t=="object"&&t!==null&&t.key!=null?iS(""+t.key):s.toString(36)}function Hc(t,s,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vl:case XC:o=!0}}if(o)return o=t,a=a(o),t=n===""?"."+Qu(o,0):n,$p(a)?(r="",t!=null&&(r=t.replace(qp,"$&/")+"/"),Hc(a,s,r,"",function(d){return d})):a!=null&&(Of(a)&&(a=aS(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(qp,"$&/")+"/")+t)),s.push(a)),1;if(o=0,n=n===""?".":n+":",$p(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+Qu(i,l);o+=Hc(i,s,r,c,a)}else if(c=nS(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+Qu(i,l++),o+=Hc(i,s,r,c,a);else if(i==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return o}function fc(t,s,r){if(t==null)return t;var n=[],a=0;return Hc(t,n,"","",function(i){return s.call(r,i,a++)}),n}function oS(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var Zt={current:null},Wc={transition:null},lS={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:Wc,ReactCurrentOwner:Df};function qv(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:fc,forEach:function(t,s,r){fc(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return fc(t,function(){s++}),s},toArray:function(t){return fc(t,function(s){return s})||[]},only:function(t){if(!Of(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=mo;Me.Fragment=KC;Me.Profiler=QC;Me.PureComponent=If;Me.StrictMode=YC;Me.Suspense=tS;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lS;Me.act=qv;Me.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Lv({},t.props),a=t.key,i=t.ref,o=t._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,o=Df.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in s)Fv.call(s,c)&&!zv.hasOwnProperty(c)&&(n[c]=s[c]===void 0&&l!==void 0?l[c]:s[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Vl,type:t.type,key:a,ref:i,props:n,_owner:o}};Me.createContext=function(t){return t={$$typeof:ZC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JC,_context:t},t.Consumer=t};Me.createElement=$v;Me.createFactory=function(t){var s=$v.bind(null,t);return s.type=t,s};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:eS,render:t}};Me.isValidElement=Of;Me.lazy=function(t){return{$$typeof:rS,_payload:{_status:-1,_result:t},_init:oS}};Me.memo=function(t,s){return{$$typeof:sS,type:t,compare:s===void 0?null:s}};Me.startTransition=function(t){var s=Wc.transition;Wc.transition={};try{t()}finally{Wc.transition=s}};Me.unstable_act=qv;Me.useCallback=function(t,s){return Zt.current.useCallback(t,s)};Me.useContext=function(t){return Zt.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return Zt.current.useDeferredValue(t)};Me.useEffect=function(t,s){return Zt.current.useEffect(t,s)};Me.useId=function(){return Zt.current.useId()};Me.useImperativeHandle=function(t,s,r){return Zt.current.useImperativeHandle(t,s,r)};Me.useInsertionEffect=function(t,s){return Zt.current.useInsertionEffect(t,s)};Me.useLayoutEffect=function(t,s){return Zt.current.useLayoutEffect(t,s)};Me.useMemo=function(t,s){return Zt.current.useMemo(t,s)};Me.useReducer=function(t,s,r){return Zt.current.useReducer(t,s,r)};Me.useRef=function(t){return Zt.current.useRef(t)};Me.useState=function(t){return Zt.current.useState(t)};Me.useSyncExternalStore=function(t,s,r){return Zt.current.useSyncExternalStore(t,s,r)};Me.useTransition=function(){return Zt.current.useTransition()};Me.version="18.3.1";Mv.exports=Me;var u=Mv.exports;const re=Rv(u),Ff=GC({__proto__:null,default:re},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS=u,dS=Symbol.for("react.element"),uS=Symbol.for("react.fragment"),mS=Object.prototype.hasOwnProperty,hS=cS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fS={key:!0,ref:!0,__self:!0,__source:!0};function Bv(t,s,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(o=s.ref);for(n in s)mS.call(s,n)&&!fS.hasOwnProperty(n)&&(a[n]=s[n]);if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:dS,type:t,key:i,ref:o,props:a,_owner:hS.current}}su.Fragment=uS;su.jsx=Bv;su.jsxs=Bv;Av.exports=su;var e=Av.exports,Vv={exports:{}},Es={},Uv={exports:{}},Hv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(R,F){var J=R.length;R.push(F);e:for(;0<J;){var G=J-1>>>1,te=R[G];if(0<a(te,F))R[G]=F,R[J]=te,J=G;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var F=R[0],J=R.pop();if(J!==F){R[0]=J;e:for(var G=0,te=R.length,Q=te>>>1;G<Q;){var ae=2*(G+1)-1,ue=R[ae],de=ae+1,V=R[de];if(0>a(ue,J))de<te&&0>a(V,ue)?(R[G]=V,R[de]=J,G=de):(R[G]=ue,R[ae]=J,G=ae);else if(de<te&&0>a(V,J))R[G]=V,R[de]=J,G=de;else break e}}return F}function a(R,F){var J=R.sortIndex-F.sortIndex;return J!==0?J:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,m=null,h=3,j=!1,y=!1,g=!1,N=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var F=r(d);F!==null;){if(F.callback===null)n(d);else if(F.startTime<=R)n(d),F.sortIndex=F.expirationTime,s(c,F);else break;F=r(d)}}function w(R){if(g=!1,x(R),!y)if(r(c)!==null)y=!0,A(k);else{var F=r(d);F!==null&&B(w,F.startTime-R)}}function k(R,F){y=!1,g&&(g=!1,p(C),C=-1),j=!0;var J=h;try{for(x(F),m=r(c);m!==null&&(!(m.expirationTime>F)||R&&!T());){var G=m.callback;if(typeof G=="function"){m.callback=null,h=m.priorityLevel;var te=G(m.expirationTime<=F);F=t.unstable_now(),typeof te=="function"?m.callback=te:m===r(c)&&n(c),x(F)}else n(c);m=r(c)}if(m!==null)var Q=!0;else{var ae=r(d);ae!==null&&B(w,ae.startTime-F),Q=!1}return Q}finally{m=null,h=J,j=!1}}var S=!1,b=null,C=-1,_=5,P=-1;function T(){return!(t.unstable_now()-P<_)}function L(){if(b!==null){var R=t.unstable_now();P=R;var F=!0;try{F=b(!0,R)}finally{F?I():(S=!1,b=null)}}else S=!1}var I;if(typeof v=="function")I=function(){v(L)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,X=O.port2;O.port1.onmessage=L,I=function(){X.postMessage(null)}}else I=function(){N(L,0)};function A(R){b=R,S||(S=!0,I())}function B(R,F){C=N(function(){R(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){y||j||(y=!0,A(k))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var J=h;h=F;try{return R()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var J=h;h=R;try{return F()}finally{h=J}},t.unstable_scheduleCallback=function(R,F,J){var G=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?G+J:G):J=G,R){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=J+te,R={id:f++,callback:F,priorityLevel:R,startTime:J,expirationTime:te,sortIndex:-1},J>G?(R.sortIndex=J,s(d,R),r(c)===null&&R===r(d)&&(g?(p(C),C=-1):g=!0,B(w,J-G))):(R.sortIndex=te,s(c,R),y||j||(y=!0,A(k))),R},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(R){var F=h;return function(){var J=h;h=F;try{return R.apply(this,arguments)}finally{h=J}}}})(Hv);Uv.exports=Hv;var xS=Uv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS=u,_s=xS;function ee(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wv=new Set,ul={};function ei(t,s){Ji(t,s),Ji(t+"Capture",s)}function Ji(t,s){for(ul[t]=s,t=0;t<s.length;t++)Wv.add(s[t])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Um=Object.prototype.hasOwnProperty,gS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bp={},Vp={};function vS(t){return Um.call(Vp,t)?!0:Um.call(Bp,t)?!1:gS.test(t)?Vp[t]=!0:(Bp[t]=!0,!1)}function jS(t,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yS(t,s,r,n){if(s===null||typeof s>"u"||jS(t,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function es(t,s,r,n,a,i,o){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=i,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new es(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];Lt[s]=new es(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new es(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new es(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new es(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new es(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new es(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new es(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new es(t,5,!1,t.toLowerCase(),null,!1,!1)});var zf=/[\-:]([a-z])/g;function $f(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(zf,$f);Lt[s]=new es(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(zf,$f);Lt[s]=new es(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(zf,$f);Lt[s]=new es(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new es(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new es("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new es(t,1,!1,t.toLowerCase(),null,!0,!0)});function qf(t,s,r,n){var a=Lt.hasOwnProperty(s)?Lt[s]:null;(a!==null?a.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(yS(s,r,a,n)&&(r=null),n||a===null?vS(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(s=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(s):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,s,r):t.setAttribute(s,r))))}var bn=pS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xc=Symbol.for("react.element"),fi=Symbol.for("react.portal"),xi=Symbol.for("react.fragment"),Bf=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),Gv=Symbol.for("react.provider"),Xv=Symbol.for("react.context"),Vf=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),Gm=Symbol.for("react.suspense_list"),Uf=Symbol.for("react.memo"),Rn=Symbol.for("react.lazy"),Kv=Symbol.for("react.offscreen"),Up=Symbol.iterator;function Ro(t){return t===null||typeof t!="object"?null:(t=Up&&t[Up]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,Ju;function Vo(t){if(Ju===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Ju=s&&s[1]||""}return`
`+Ju+t}var Zu=!1;function em(t,s){if(!t||Zu)return"";Zu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var n=d}Reflect.construct(t,[],s)}else{try{s.call()}catch(d){n=d}t.call(s.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Zu=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Vo(t):""}function bS(t){switch(t.tag){case 5:return Vo(t.type);case 16:return Vo("Lazy");case 13:return Vo("Suspense");case 19:return Vo("SuspenseList");case 0:case 2:case 15:return t=em(t.type,!1),t;case 11:return t=em(t.type.render,!1),t;case 1:return t=em(t.type,!0),t;default:return""}}function Xm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xi:return"Fragment";case fi:return"Portal";case Hm:return"Profiler";case Bf:return"StrictMode";case Wm:return"Suspense";case Gm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xv:return(t.displayName||"Context")+".Consumer";case Gv:return(t._context.displayName||"Context")+".Provider";case Vf:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uf:return s=t.displayName||null,s!==null?s:Xm(t.type)||"Memo";case Rn:s=t._payload,t=t._init;try{return Xm(t(s))}catch{}}return null}function NS(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xm(s);case 8:return s===Bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ra(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yv(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wS(t){var s=Yv(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),n=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function pc(t){t._valueTracker||(t._valueTracker=wS(t))}function Qv(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return t&&(n=Yv(t)?t.checked?"true":"false":t.value),t=n,t!==r?(s.setValue(t),!0):!1}function xd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Km(t,s){var r=s.checked;return ct({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Hp(t,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=ra(s.value!=null?s.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Jv(t,s){s=s.checked,s!=null&&qf(t,"checked",s,!1)}function Ym(t,s){Jv(t,s);var r=ra(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Qm(t,s.type,r):s.hasOwnProperty("defaultValue")&&Qm(t,s.type,ra(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Wp(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Qm(t,s,r){(s!=="number"||xd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Uo=Array.isArray;function ki(t,s,r,n){if(t=t.options,s){s={};for(var a=0;a<r.length;a++)s["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=s.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ra(r),s=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function Jm(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(ee(91));return ct({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gp(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(ee(92));if(Uo(r)){if(1<r.length)throw Error(ee(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:ra(r)}}function Zv(t,s){var r=ra(s.value),n=ra(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Xp(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function ej(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zm(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?ej(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gc,tj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(s,r,n,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(gc=gc||document.createElement("div"),gc.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function ml(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CS=["Webkit","ms","Moz","O"];Object.keys(Jo).forEach(function(t){CS.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Jo[s]=Jo[t]})});function sj(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||Jo.hasOwnProperty(t)&&Jo[t]?(""+s).trim():s+"px"}function rj(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=sj(r,s[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var SS=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eh(t,s){if(s){if(SS[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(ee(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(ee(61))}if(s.style!=null&&typeof s.style!="object")throw Error(ee(62))}}function th(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=null;function Hf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rh=null,Ei=null,Pi=null;function Kp(t){if(t=Wl(t)){if(typeof rh!="function")throw Error(ee(280));var s=t.stateNode;s&&(s=ou(s),rh(t.stateNode,t.type,s))}}function nj(t){Ei?Pi?Pi.push(t):Pi=[t]:Ei=t}function aj(){if(Ei){var t=Ei,s=Pi;if(Pi=Ei=null,Kp(t),s)for(t=0;t<s.length;t++)Kp(s[t])}}function ij(t,s){return t(s)}function oj(){}var tm=!1;function lj(t,s,r){if(tm)return t(s,r);tm=!0;try{return ij(t,s,r)}finally{tm=!1,(Ei!==null||Pi!==null)&&(oj(),aj())}}function hl(t,s){var r=t.stateNode;if(r===null)return null;var n=ou(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ee(231,s,typeof r));return r}var nh=!1;if(mn)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){nh=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{nh=!1}function _S(t,s,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(f){this.onError(f)}}var Zo=!1,pd=null,gd=!1,ah=null,kS={onError:function(t){Zo=!0,pd=t}};function ES(t,s,r,n,a,i,o,l,c){Zo=!1,pd=null,_S.apply(kS,arguments)}function PS(t,s,r,n,a,i,o,l,c){if(ES.apply(this,arguments),Zo){if(Zo){var d=pd;Zo=!1,pd=null}else throw Error(ee(198));gd||(gd=!0,ah=d)}}function ti(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function cj(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Yp(t){if(ti(t)!==t)throw Error(ee(188))}function TS(t){var s=t.alternate;if(!s){if(s=ti(t),s===null)throw Error(ee(188));return s!==t?null:t}for(var r=t,n=s;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Yp(a),t;if(i===n)return Yp(a),s;i=i.sibling}throw Error(ee(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?t:s}function dj(t){return t=TS(t),t!==null?uj(t):null}function uj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=uj(t);if(s!==null)return s;t=t.sibling}return null}var mj=_s.unstable_scheduleCallback,Qp=_s.unstable_cancelCallback,RS=_s.unstable_shouldYield,AS=_s.unstable_requestPaint,ht=_s.unstable_now,MS=_s.unstable_getCurrentPriorityLevel,Wf=_s.unstable_ImmediatePriority,hj=_s.unstable_UserBlockingPriority,vd=_s.unstable_NormalPriority,IS=_s.unstable_LowPriority,fj=_s.unstable_IdlePriority,ru=null,zr=null;function LS(t){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(ru,t,void 0,(t.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:FS,DS=Math.log,OS=Math.LN2;function FS(t){return t>>>=0,t===0?32:31-(DS(t)/OS|0)|0}var vc=64,jc=4194304;function Ho(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jd(t,s){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Ho(l):(i&=o,i!==0&&(n=Ho(i)))}else o=r&~a,o!==0?n=Ho(o):i!==0&&(n=Ho(i));if(n===0)return 0;if(s!==0&&s!==n&&!(s&a)&&(a=n&-n,i=s&-s,a>=i||a===16&&(i&4194240)!==0))return s;if(n&4&&(n|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=n;0<s;)r=31-mr(s),a=1<<r,n|=t[r],s&=~a;return n}function zS(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $S(t,s){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-mr(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=zS(l,s)):c<=s&&(t.expiredLanes|=l),i&=~l}}function ih(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xj(){var t=vc;return vc<<=1,!(vc&4194240)&&(vc=64),t}function sm(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Ul(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-mr(s),t[s]=r}function qS(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-mr(r),i=1<<a;s[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function Gf(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var n=31-mr(r),a=1<<n;a&s|t[n]&s&&(t[n]|=s),r&=~a}}var He=0;function pj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gj,Xf,vj,jj,yj,oh=!1,yc=[],Gn=null,Xn=null,Kn=null,fl=new Map,xl=new Map,Mn=[],BS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jp(t,s){switch(t){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":fl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(s.pointerId)}}function Mo(t,s,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},s!==null&&(s=Wl(s),s!==null&&Xf(s)),t):(t.eventSystemFlags|=n,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function VS(t,s,r,n,a){switch(s){case"focusin":return Gn=Mo(Gn,t,s,r,n,a),!0;case"dragenter":return Xn=Mo(Xn,t,s,r,n,a),!0;case"mouseover":return Kn=Mo(Kn,t,s,r,n,a),!0;case"pointerover":var i=a.pointerId;return fl.set(i,Mo(fl.get(i)||null,t,s,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,xl.set(i,Mo(xl.get(i)||null,t,s,r,n,a)),!0}return!1}function bj(t){var s=_a(t.target);if(s!==null){var r=ti(s);if(r!==null){if(s=r.tag,s===13){if(s=cj(r),s!==null){t.blockedOn=s,yj(t.priority,function(){vj(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=lh(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);sh=n,r.target.dispatchEvent(n),sh=null}else return s=Wl(r),s!==null&&Xf(s),t.blockedOn=r,!1;s.shift()}return!0}function Zp(t,s,r){Gc(t)&&r.delete(s)}function US(){oh=!1,Gn!==null&&Gc(Gn)&&(Gn=null),Xn!==null&&Gc(Xn)&&(Xn=null),Kn!==null&&Gc(Kn)&&(Kn=null),fl.forEach(Zp),xl.forEach(Zp)}function Io(t,s){t.blockedOn===s&&(t.blockedOn=null,oh||(oh=!0,_s.unstable_scheduleCallback(_s.unstable_NormalPriority,US)))}function pl(t){function s(a){return Io(a,t)}if(0<yc.length){Io(yc[0],t);for(var r=1;r<yc.length;r++){var n=yc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Gn!==null&&Io(Gn,t),Xn!==null&&Io(Xn,t),Kn!==null&&Io(Kn,t),fl.forEach(s),xl.forEach(s),r=0;r<Mn.length;r++)n=Mn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Mn.length&&(r=Mn[0],r.blockedOn===null);)bj(r),r.blockedOn===null&&Mn.shift()}var Ti=bn.ReactCurrentBatchConfig,yd=!0;function HS(t,s,r,n){var a=He,i=Ti.transition;Ti.transition=null;try{He=1,Kf(t,s,r,n)}finally{He=a,Ti.transition=i}}function WS(t,s,r,n){var a=He,i=Ti.transition;Ti.transition=null;try{He=4,Kf(t,s,r,n)}finally{He=a,Ti.transition=i}}function Kf(t,s,r,n){if(yd){var a=lh(t,s,r,n);if(a===null)mm(t,s,n,bd,r),Jp(t,n);else if(VS(a,t,s,r,n))n.stopPropagation();else if(Jp(t,n),s&4&&-1<BS.indexOf(t)){for(;a!==null;){var i=Wl(a);if(i!==null&&gj(i),i=lh(t,s,r,n),i===null&&mm(t,s,n,bd,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else mm(t,s,n,null,r)}}var bd=null;function lh(t,s,r,n){if(bd=null,t=Hf(n),t=_a(t),t!==null)if(s=ti(t),s===null)t=null;else if(r=s.tag,r===13){if(t=cj(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return bd=t,null}function Nj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MS()){case Wf:return 1;case hj:return 4;case vd:case IS:return 16;case fj:return 536870912;default:return 16}default:return 16}}var Un=null,Yf=null,Xc=null;function wj(){if(Xc)return Xc;var t,s=Yf,r=s.length,n,a="value"in Un?Un.value:Un.textContent,i=a.length;for(t=0;t<r&&s[t]===a[t];t++);var o=r-t;for(n=1;n<=o&&s[r-n]===a[i-n];n++);return Xc=a.slice(t,1<n?1-n:void 0)}function Kc(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function bc(){return!0}function eg(){return!1}function Ps(t){function s(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bc:eg,this.isPropagationStopped=eg,this}return ct(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bc)},persist:function(){},isPersistent:bc}),s}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qf=Ps(ho),Hl=ct({},ho,{view:0,detail:0}),GS=Ps(Hl),rm,nm,Lo,nu=ct({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lo&&(Lo&&t.type==="mousemove"?(rm=t.screenX-Lo.screenX,nm=t.screenY-Lo.screenY):nm=rm=0,Lo=t),rm)},movementY:function(t){return"movementY"in t?t.movementY:nm}}),tg=Ps(nu),XS=ct({},nu,{dataTransfer:0}),KS=Ps(XS),YS=ct({},Hl,{relatedTarget:0}),am=Ps(YS),QS=ct({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),JS=Ps(QS),ZS=ct({},ho,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),e4=Ps(ZS),t4=ct({},ho,{data:0}),sg=Ps(t4),s4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a4(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=n4[t])?!!s[t]:!1}function Jf(){return a4}var i4=ct({},Hl,{key:function(t){if(t.key){var s=s4[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Kc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?r4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jf,charCode:function(t){return t.type==="keypress"?Kc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),o4=Ps(i4),l4=ct({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rg=Ps(l4),c4=ct({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jf}),d4=Ps(c4),u4=ct({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),m4=Ps(u4),h4=ct({},nu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),f4=Ps(h4),x4=[9,13,27,32],Zf=mn&&"CompositionEvent"in window,el=null;mn&&"documentMode"in document&&(el=document.documentMode);var p4=mn&&"TextEvent"in window&&!el,Cj=mn&&(!Zf||el&&8<el&&11>=el),ng=" ",ag=!1;function Sj(t,s){switch(t){case"keyup":return x4.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _j(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pi=!1;function g4(t,s){switch(t){case"compositionend":return _j(s);case"keypress":return s.which!==32?null:(ag=!0,ng);case"textInput":return t=s.data,t===ng&&ag?null:t;default:return null}}function v4(t,s){if(pi)return t==="compositionend"||!Zf&&Sj(t,s)?(t=wj(),Xc=Yf=Un=null,pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cj&&s.locale!=="ko"?null:s.data;default:return null}}var j4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!j4[t.type]:s==="textarea"}function kj(t,s,r,n){nj(n),s=Nd(s,"onChange"),0<s.length&&(r=new Qf("onChange","change",null,r,n),t.push({event:r,listeners:s}))}var tl=null,gl=null;function y4(t){Fj(t,0)}function au(t){var s=ji(t);if(Qv(s))return t}function b4(t,s){if(t==="change")return s}var Ej=!1;if(mn){var im;if(mn){var om="oninput"in document;if(!om){var og=document.createElement("div");og.setAttribute("oninput","return;"),om=typeof og.oninput=="function"}im=om}else im=!1;Ej=im&&(!document.documentMode||9<document.documentMode)}function lg(){tl&&(tl.detachEvent("onpropertychange",Pj),gl=tl=null)}function Pj(t){if(t.propertyName==="value"&&au(gl)){var s=[];kj(s,gl,t,Hf(t)),lj(y4,s)}}function N4(t,s,r){t==="focusin"?(lg(),tl=s,gl=r,tl.attachEvent("onpropertychange",Pj)):t==="focusout"&&lg()}function w4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return au(gl)}function C4(t,s){if(t==="click")return au(s)}function S4(t,s){if(t==="input"||t==="change")return au(s)}function _4(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var pr=typeof Object.is=="function"?Object.is:_4;function vl(t,s){if(pr(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Um.call(s,a)||!pr(t[a],s[a]))return!1}return!0}function cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dg(t,s){var r=cg(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=s&&n>=s)return{node:r,offset:s-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cg(r)}}function Tj(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Tj(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Rj(){for(var t=window,s=xd();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=xd(t.document)}return s}function ex(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function k4(t){var s=Rj(),r=t.focusedElem,n=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&Tj(r.ownerDocument.documentElement,r)){if(n!==null&&ex(r)){if(s=n.start,t=n.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=dg(r,i);var o=dg(r,n);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(s),t.extend(o.node,o.offset)):(s.setEnd(o.node,o.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var E4=mn&&"documentMode"in document&&11>=document.documentMode,gi=null,ch=null,sl=null,dh=!1;function ug(t,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dh||gi==null||gi!==xd(n)||(n=gi,"selectionStart"in n&&ex(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sl&&vl(sl,n)||(sl=n,n=Nd(ch,"onSelect"),0<n.length&&(s=new Qf("onSelect","select",null,s,r),t.push({event:s,listeners:n}),s.target=gi)))}function Nc(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var vi={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},lm={},Aj={};mn&&(Aj=document.createElement("div").style,"AnimationEvent"in window||(delete vi.animationend.animation,delete vi.animationiteration.animation,delete vi.animationstart.animation),"TransitionEvent"in window||delete vi.transitionend.transition);function iu(t){if(lm[t])return lm[t];if(!vi[t])return t;var s=vi[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Aj)return lm[t]=s[r];return t}var Mj=iu("animationend"),Ij=iu("animationiteration"),Lj=iu("animationstart"),Dj=iu("transitionend"),Oj=new Map,mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(t,s){Oj.set(t,s),ei(s,[t])}for(var cm=0;cm<mg.length;cm++){var dm=mg[cm],P4=dm.toLowerCase(),T4=dm[0].toUpperCase()+dm.slice(1);xa(P4,"on"+T4)}xa(Mj,"onAnimationEnd");xa(Ij,"onAnimationIteration");xa(Lj,"onAnimationStart");xa("dblclick","onDoubleClick");xa("focusin","onFocus");xa("focusout","onBlur");xa(Dj,"onTransitionEnd");Ji("onMouseEnter",["mouseout","mouseover"]);Ji("onMouseLeave",["mouseout","mouseover"]);Ji("onPointerEnter",["pointerout","pointerover"]);Ji("onPointerLeave",["pointerout","pointerover"]);ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function hg(t,s,r){var n=t.type||"unknown-event";t.currentTarget=r,PS(n,s,void 0,t),t.currentTarget=null}function Fj(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(s)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;hg(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;hg(a,l,d),i=c}}}if(gd)throw t=ah,gd=!1,ah=null,t}function et(t,s){var r=s[xh];r===void 0&&(r=s[xh]=new Set);var n=t+"__bubble";r.has(n)||(zj(s,t,2,!1),r.add(n))}function um(t,s,r){var n=0;s&&(n|=4),zj(r,t,n,s)}var wc="_reactListening"+Math.random().toString(36).slice(2);function jl(t){if(!t[wc]){t[wc]=!0,Wv.forEach(function(r){r!=="selectionchange"&&(R4.has(r)||um(r,!1,t),um(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[wc]||(s[wc]=!0,um("selectionchange",!1,s))}}function zj(t,s,r,n){switch(Nj(s)){case 1:var a=HS;break;case 4:a=WS;break;default:a=Kf}r=a.bind(null,s,r,t),a=void 0,!nh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(s,r,{capture:!0,passive:a}):t.addEventListener(s,r,!0):a!==void 0?t.addEventListener(s,r,{passive:a}):t.addEventListener(s,r,!1)}function mm(t,s,r,n,a){var i=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=_a(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}lj(function(){var d=i,f=Hf(r),m=[];e:{var h=Oj.get(t);if(h!==void 0){var j=Qf,y=t;switch(t){case"keypress":if(Kc(r)===0)break e;case"keydown":case"keyup":j=o4;break;case"focusin":y="focus",j=am;break;case"focusout":y="blur",j=am;break;case"beforeblur":case"afterblur":j=am;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=tg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=KS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=d4;break;case Mj:case Ij:case Lj:j=JS;break;case Dj:j=m4;break;case"scroll":j=GS;break;case"wheel":j=f4;break;case"copy":case"cut":case"paste":j=e4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=rg}var g=(s&4)!==0,N=!g&&t==="scroll",p=g?h!==null?h+"Capture":null:h;g=[];for(var v=d,x;v!==null;){x=v;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,p!==null&&(w=hl(v,p),w!=null&&g.push(yl(v,w,x)))),N)break;v=v.return}0<g.length&&(h=new j(h,y,null,r,f),m.push({event:h,listeners:g}))}}if(!(s&7)){e:{if(h=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",h&&r!==sh&&(y=r.relatedTarget||r.fromElement)&&(_a(y)||y[hn]))break e;if((j||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,j?(y=r.relatedTarget||r.toElement,j=d,y=y?_a(y):null,y!==null&&(N=ti(y),y!==N||y.tag!==5&&y.tag!==6)&&(y=null)):(j=null,y=d),j!==y)){if(g=tg,w="onMouseLeave",p="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=rg,w="onPointerLeave",p="onPointerEnter",v="pointer"),N=j==null?h:ji(j),x=y==null?h:ji(y),h=new g(w,v+"leave",j,r,f),h.target=N,h.relatedTarget=x,w=null,_a(f)===d&&(g=new g(p,v+"enter",y,r,f),g.target=x,g.relatedTarget=N,w=g),N=w,j&&y)t:{for(g=j,p=y,v=0,x=g;x;x=ci(x))v++;for(x=0,w=p;w;w=ci(w))x++;for(;0<v-x;)g=ci(g),v--;for(;0<x-v;)p=ci(p),x--;for(;v--;){if(g===p||p!==null&&g===p.alternate)break t;g=ci(g),p=ci(p)}g=null}else g=null;j!==null&&fg(m,h,j,g,!1),y!==null&&N!==null&&fg(m,N,y,g,!0)}}e:{if(h=d?ji(d):window,j=h.nodeName&&h.nodeName.toLowerCase(),j==="select"||j==="input"&&h.type==="file")var k=b4;else if(ig(h))if(Ej)k=S4;else{k=w4;var S=N4}else(j=h.nodeName)&&j.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=C4);if(k&&(k=k(t,d))){kj(m,k,r,f);break e}S&&S(t,h,d),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Qm(h,"number",h.value)}switch(S=d?ji(d):window,t){case"focusin":(ig(S)||S.contentEditable==="true")&&(gi=S,ch=d,sl=null);break;case"focusout":sl=ch=gi=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,ug(m,r,f);break;case"selectionchange":if(E4)break;case"keydown":case"keyup":ug(m,r,f)}var b;if(Zf)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else pi?Sj(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Cj&&r.locale!=="ko"&&(pi||C!=="onCompositionStart"?C==="onCompositionEnd"&&pi&&(b=wj()):(Un=f,Yf="value"in Un?Un.value:Un.textContent,pi=!0)),S=Nd(d,C),0<S.length&&(C=new sg(C,t,null,r,f),m.push({event:C,listeners:S}),b?C.data=b:(b=_j(r),b!==null&&(C.data=b)))),(b=p4?g4(t,r):v4(t,r))&&(d=Nd(d,"onBeforeInput"),0<d.length&&(f=new sg("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:d}),f.data=b))}Fj(m,s)})}function yl(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Nd(t,s){for(var r=s+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=hl(t,r),i!=null&&n.unshift(yl(t,i,a)),i=hl(t,s),i!=null&&n.push(yl(t,i,a))),t=t.return}return n}function ci(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fg(t,s,r,n,a){for(var i=s._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=hl(r,i),c!=null&&o.unshift(yl(r,c,l))):a||(c=hl(r,i),c!=null&&o.push(yl(r,c,l)))),r=r.return}o.length!==0&&t.push({event:s,listeners:o})}var A4=/\r\n?/g,M4=/\u0000|\uFFFD/g;function xg(t){return(typeof t=="string"?t:""+t).replace(A4,`
`).replace(M4,"")}function Cc(t,s,r){if(s=xg(s),xg(t)!==s&&r)throw Error(ee(425))}function wd(){}var uh=null,mh=null;function hh(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fh=typeof setTimeout=="function"?setTimeout:void 0,I4=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,L4=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(t){return pg.resolve(null).then(t).catch(D4)}:fh;function D4(t){setTimeout(function(){throw t})}function hm(t,s){var r=s,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),pl(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);pl(s)}function Yn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function gg(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var fo=Math.random().toString(36).slice(2),Mr="__reactFiber$"+fo,bl="__reactProps$"+fo,hn="__reactContainer$"+fo,xh="__reactEvents$"+fo,O4="__reactListeners$"+fo,F4="__reactHandles$"+fo;function _a(t){var s=t[Mr];if(s)return s;for(var r=t.parentNode;r;){if(s=r[hn]||r[Mr]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=gg(t);t!==null;){if(r=t[Mr])return r;t=gg(t)}return s}t=r,r=t.parentNode}return null}function Wl(t){return t=t[Mr]||t[hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function ou(t){return t[bl]||null}var ph=[],yi=-1;function pa(t){return{current:t}}function tt(t){0>yi||(t.current=ph[yi],ph[yi]=null,yi--)}function Qe(t,s){yi++,ph[yi]=t.current,t.current=s}var na={},Ut=pa(na),cs=pa(!1),za=na;function Zi(t,s){var r=t.type.contextTypes;if(!r)return na;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=s[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function ds(t){return t=t.childContextTypes,t!=null}function Cd(){tt(cs),tt(Ut)}function vg(t,s,r){if(Ut.current!==na)throw Error(ee(168));Qe(Ut,s),Qe(cs,r)}function $j(t,s,r){var n=t.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(ee(108,NS(t)||"Unknown",a));return ct({},r,n)}function Sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||na,za=Ut.current,Qe(Ut,t),Qe(cs,cs.current),!0}function jg(t,s,r){var n=t.stateNode;if(!n)throw Error(ee(169));r?(t=$j(t,s,za),n.__reactInternalMemoizedMergedChildContext=t,tt(cs),tt(Ut),Qe(Ut,t)):tt(cs),Qe(cs,r)}var nn=null,lu=!1,fm=!1;function qj(t){nn===null?nn=[t]:nn.push(t)}function z4(t){lu=!0,qj(t)}function ga(){if(!fm&&nn!==null){fm=!0;var t=0,s=He;try{var r=nn;for(He=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}nn=null,lu=!1}catch(a){throw nn!==null&&(nn=nn.slice(t+1)),mj(Wf,ga),a}finally{He=s,fm=!1}}return null}var bi=[],Ni=0,_d=null,kd=0,As=[],Ms=0,$a=null,on=1,ln="";function wa(t,s){bi[Ni++]=kd,bi[Ni++]=_d,_d=t,kd=s}function Bj(t,s,r){As[Ms++]=on,As[Ms++]=ln,As[Ms++]=$a,$a=t;var n=on;t=ln;var a=32-mr(n)-1;n&=~(1<<a),r+=1;var i=32-mr(s)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,on=1<<32-mr(s)+a|r<<a|n,ln=i+t}else on=1<<i|r<<a|n,ln=t}function tx(t){t.return!==null&&(wa(t,1),Bj(t,1,0))}function sx(t){for(;t===_d;)_d=bi[--Ni],bi[Ni]=null,kd=bi[--Ni],bi[Ni]=null;for(;t===$a;)$a=As[--Ms],As[Ms]=null,ln=As[--Ms],As[Ms]=null,on=As[--Ms],As[Ms]=null}var Ns=null,bs=null,st=!1,lr=null;function Vj(t,s){var r=Fs(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function yg(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Ns=t,bs=Yn(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Ns=t,bs=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=$a!==null?{id:on,overflow:ln}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=Fs(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,Ns=t,bs=null,!0):!1;default:return!1}}function gh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vh(t){if(st){var s=bs;if(s){var r=s;if(!yg(t,s)){if(gh(t))throw Error(ee(418));s=Yn(r.nextSibling);var n=Ns;s&&yg(t,s)?Vj(n,r):(t.flags=t.flags&-4097|2,st=!1,Ns=t)}}else{if(gh(t))throw Error(ee(418));t.flags=t.flags&-4097|2,st=!1,Ns=t}}}function bg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ns=t}function Sc(t){if(t!==Ns)return!1;if(!st)return bg(t),st=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!hh(t.type,t.memoizedProps)),s&&(s=bs)){if(gh(t))throw Uj(),Error(ee(418));for(;s;)Vj(t,s),s=Yn(s.nextSibling)}if(bg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){bs=Yn(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}bs=null}}else bs=Ns?Yn(t.stateNode.nextSibling):null;return!0}function Uj(){for(var t=bs;t;)t=Yn(t.nextSibling)}function eo(){bs=Ns=null,st=!1}function rx(t){lr===null?lr=[t]:lr.push(t)}var $4=bn.ReactCurrentBatchConfig;function Do(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,t));var a=n,i=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},s._stringRef=i,s)}if(typeof t!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,t))}return t}function _c(t,s){throw t=Object.prototype.toString.call(s),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Ng(t){var s=t._init;return s(t._payload)}function Hj(t){function s(p,v){if(t){var x=p.deletions;x===null?(p.deletions=[v],p.flags|=16):x.push(v)}}function r(p,v){if(!t)return null;for(;v!==null;)s(p,v),v=v.sibling;return null}function n(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function a(p,v){return p=ea(p,v),p.index=0,p.sibling=null,p}function i(p,v,x){return p.index=x,t?(x=p.alternate,x!==null?(x=x.index,x<v?(p.flags|=2,v):x):(p.flags|=2,v)):(p.flags|=1048576,v)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,v,x,w){return v===null||v.tag!==6?(v=bm(x,p.mode,w),v.return=p,v):(v=a(v,x),v.return=p,v)}function c(p,v,x,w){var k=x.type;return k===xi?f(p,v,x.props.children,w,x.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Rn&&Ng(k)===v.type)?(w=a(v,x.props),w.ref=Do(p,v,x),w.return=p,w):(w=sd(x.type,x.key,x.props,null,p.mode,w),w.ref=Do(p,v,x),w.return=p,w)}function d(p,v,x,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Nm(x,p.mode,w),v.return=p,v):(v=a(v,x.children||[]),v.return=p,v)}function f(p,v,x,w,k){return v===null||v.tag!==7?(v=Fa(x,p.mode,w,k),v.return=p,v):(v=a(v,x),v.return=p,v)}function m(p,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=bm(""+v,p.mode,x),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case xc:return x=sd(v.type,v.key,v.props,null,p.mode,x),x.ref=Do(p,null,v),x.return=p,x;case fi:return v=Nm(v,p.mode,x),v.return=p,v;case Rn:var w=v._init;return m(p,w(v._payload),x)}if(Uo(v)||Ro(v))return v=Fa(v,p.mode,x,null),v.return=p,v;_c(p,v)}return null}function h(p,v,x,w){var k=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:l(p,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xc:return x.key===k?c(p,v,x,w):null;case fi:return x.key===k?d(p,v,x,w):null;case Rn:return k=x._init,h(p,v,k(x._payload),w)}if(Uo(x)||Ro(x))return k!==null?null:f(p,v,x,w,null);_c(p,x)}return null}function j(p,v,x,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(x)||null,l(v,p,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xc:return p=p.get(w.key===null?x:w.key)||null,c(v,p,w,k);case fi:return p=p.get(w.key===null?x:w.key)||null,d(v,p,w,k);case Rn:var S=w._init;return j(p,v,x,S(w._payload),k)}if(Uo(w)||Ro(w))return p=p.get(x)||null,f(v,p,w,k,null);_c(v,w)}return null}function y(p,v,x,w){for(var k=null,S=null,b=v,C=v=0,_=null;b!==null&&C<x.length;C++){b.index>C?(_=b,b=null):_=b.sibling;var P=h(p,b,x[C],w);if(P===null){b===null&&(b=_);break}t&&b&&P.alternate===null&&s(p,b),v=i(P,v,C),S===null?k=P:S.sibling=P,S=P,b=_}if(C===x.length)return r(p,b),st&&wa(p,C),k;if(b===null){for(;C<x.length;C++)b=m(p,x[C],w),b!==null&&(v=i(b,v,C),S===null?k=b:S.sibling=b,S=b);return st&&wa(p,C),k}for(b=n(p,b);C<x.length;C++)_=j(b,p,C,x[C],w),_!==null&&(t&&_.alternate!==null&&b.delete(_.key===null?C:_.key),v=i(_,v,C),S===null?k=_:S.sibling=_,S=_);return t&&b.forEach(function(T){return s(p,T)}),st&&wa(p,C),k}function g(p,v,x,w){var k=Ro(x);if(typeof k!="function")throw Error(ee(150));if(x=k.call(x),x==null)throw Error(ee(151));for(var S=k=null,b=v,C=v=0,_=null,P=x.next();b!==null&&!P.done;C++,P=x.next()){b.index>C?(_=b,b=null):_=b.sibling;var T=h(p,b,P.value,w);if(T===null){b===null&&(b=_);break}t&&b&&T.alternate===null&&s(p,b),v=i(T,v,C),S===null?k=T:S.sibling=T,S=T,b=_}if(P.done)return r(p,b),st&&wa(p,C),k;if(b===null){for(;!P.done;C++,P=x.next())P=m(p,P.value,w),P!==null&&(v=i(P,v,C),S===null?k=P:S.sibling=P,S=P);return st&&wa(p,C),k}for(b=n(p,b);!P.done;C++,P=x.next())P=j(b,p,C,P.value,w),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?C:P.key),v=i(P,v,C),S===null?k=P:S.sibling=P,S=P);return t&&b.forEach(function(L){return s(p,L)}),st&&wa(p,C),k}function N(p,v,x,w){if(typeof x=="object"&&x!==null&&x.type===xi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case xc:e:{for(var k=x.key,S=v;S!==null;){if(S.key===k){if(k=x.type,k===xi){if(S.tag===7){r(p,S.sibling),v=a(S,x.props.children),v.return=p,p=v;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Rn&&Ng(k)===S.type){r(p,S.sibling),v=a(S,x.props),v.ref=Do(p,S,x),v.return=p,p=v;break e}r(p,S);break}else s(p,S);S=S.sibling}x.type===xi?(v=Fa(x.props.children,p.mode,w,x.key),v.return=p,p=v):(w=sd(x.type,x.key,x.props,null,p.mode,w),w.ref=Do(p,v,x),w.return=p,p=w)}return o(p);case fi:e:{for(S=x.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(p,v.sibling),v=a(v,x.children||[]),v.return=p,p=v;break e}else{r(p,v);break}else s(p,v);v=v.sibling}v=Nm(x,p.mode,w),v.return=p,p=v}return o(p);case Rn:return S=x._init,N(p,v,S(x._payload),w)}if(Uo(x))return y(p,v,x,w);if(Ro(x))return g(p,v,x,w);_c(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(p,v.sibling),v=a(v,x),v.return=p,p=v):(r(p,v),v=bm(x,p.mode,w),v.return=p,p=v),o(p)):r(p,v)}return N}var to=Hj(!0),Wj=Hj(!1),Ed=pa(null),Pd=null,wi=null,nx=null;function ax(){nx=wi=Pd=null}function ix(t){var s=Ed.current;tt(Ed),t._currentValue=s}function jh(t,s,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),t===r)break;t=t.return}}function Ri(t,s){Pd=t,nx=wi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(os=!0),t.firstContext=null)}function Xs(t){var s=t._currentValue;if(nx!==t)if(t={context:t,memoizedValue:s,next:null},wi===null){if(Pd===null)throw Error(ee(308));wi=t,Pd.dependencies={lanes:0,firstContext:t}}else wi=wi.next=t;return s}var ka=null;function ox(t){ka===null?ka=[t]:ka.push(t)}function Gj(t,s,r,n){var a=s.interleaved;return a===null?(r.next=r,ox(s)):(r.next=a.next,a.next=r),s.interleaved=r,fn(t,n)}function fn(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var An=!1;function lx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xj(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cn(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Qn(t,s,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var a=n.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s,fn(t,r)}return a=n.interleaved,a===null?(s.next=s,ox(n)):(s.next=a.next,a.next=s),n.interleaved=s,fn(t,r)}function Yc(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,Gf(t,r)}}function wg(t,s){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=s:i=i.next=s}else a=i=s;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function Td(t,s,r,n){var a=t.updateQueue;An=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,f=d=c=null,l=i;do{var h=l.lane,j=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:j,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,g=l;switch(h=s,j=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){m=y.call(j,m,h);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(j,m,h):y,h==null)break e;m=ct({},m,h);break e;case 2:An=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else j={eventTime:j,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=j,c=m):f=f.next=j,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=f,s=a.shared.interleaved,s!==null){a=s;do o|=a.lane,a=a.next;while(a!==s)}else i===null&&(a.shared.lanes=0);Ba|=o,t.lanes=o,t.memoizedState=m}}function Cg(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var n=t[s],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ee(191,a));a.call(n)}}}var Gl={},$r=pa(Gl),Nl=pa(Gl),wl=pa(Gl);function Ea(t){if(t===Gl)throw Error(ee(174));return t}function cx(t,s){switch(Qe(wl,s),Qe(Nl,t),Qe($r,Gl),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Zm(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Zm(s,t)}tt($r),Qe($r,s)}function so(){tt($r),tt(Nl),tt(wl)}function Kj(t){Ea(wl.current);var s=Ea($r.current),r=Zm(s,t.type);s!==r&&(Qe(Nl,t),Qe($r,r))}function dx(t){Nl.current===t&&(tt($r),tt(Nl))}var it=pa(0);function Rd(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var xm=[];function ux(){for(var t=0;t<xm.length;t++)xm[t]._workInProgressVersionPrimary=null;xm.length=0}var Qc=bn.ReactCurrentDispatcher,pm=bn.ReactCurrentBatchConfig,qa=0,lt=null,bt=null,Et=null,Ad=!1,rl=!1,Cl=0,q4=0;function Ft(){throw Error(ee(321))}function mx(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!pr(t[r],s[r]))return!1;return!0}function hx(t,s,r,n,a,i){if(qa=i,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Qc.current=t===null||t.memoizedState===null?H4:W4,t=r(n,a),rl){i=0;do{if(rl=!1,Cl=0,25<=i)throw Error(ee(301));i+=1,Et=bt=null,s.updateQueue=null,Qc.current=G4,t=r(n,a)}while(rl)}if(Qc.current=Md,s=bt!==null&&bt.next!==null,qa=0,Et=bt=lt=null,Ad=!1,s)throw Error(ee(300));return t}function fx(){var t=Cl!==0;return Cl=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?lt.memoizedState=Et=t:Et=Et.next=t,Et}function Ks(){if(bt===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var s=Et===null?lt.memoizedState:Et.next;if(s!==null)Et=s,bt=t;else{if(t===null)throw Error(ee(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Et===null?lt.memoizedState=Et=t:Et=Et.next=t}return Et}function Sl(t,s){return typeof s=="function"?s(t):s}function gm(t){var s=Ks(),r=s.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=bt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var f=d.lane;if((qa&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,lt.lanes|=f,Ba|=f}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,pr(n,s.memoizedState)||(os=!0),s.memoizedState=n,s.baseState=o,s.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,lt.lanes|=i,Ba|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function vm(t){var s=Ks(),r=s.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=s.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);pr(i,s.memoizedState)||(os=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),r.lastRenderedState=i}return[i,n]}function Yj(){}function Qj(t,s){var r=lt,n=Ks(),a=s(),i=!pr(n.memoizedState,a);if(i&&(n.memoizedState=a,os=!0),n=n.queue,xx(ey.bind(null,r,n,t),[t]),n.getSnapshot!==s||i||Et!==null&&Et.memoizedState.tag&1){if(r.flags|=2048,_l(9,Zj.bind(null,r,n,a,s),void 0,null),Pt===null)throw Error(ee(349));qa&30||Jj(r,s,a)}return a}function Jj(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function Zj(t,s,r,n){s.value=r,s.getSnapshot=n,ty(s)&&sy(t)}function ey(t,s,r){return r(function(){ty(s)&&sy(t)})}function ty(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!pr(t,r)}catch{return!0}}function sy(t){var s=fn(t,1);s!==null&&hr(s,t,1,-1)}function Sg(t){var s=Er();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},s.queue=t,t=t.dispatch=U4.bind(null,lt,t),[s.memoizedState,t]}function _l(t,s,r,n){return t={tag:t,create:s,destroy:r,deps:n,next:null},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,s.lastEffect=t)),t}function ry(){return Ks().memoizedState}function Jc(t,s,r,n){var a=Er();lt.flags|=t,a.memoizedState=_l(1|s,r,void 0,n===void 0?null:n)}function cu(t,s,r,n){var a=Ks();n=n===void 0?null:n;var i=void 0;if(bt!==null){var o=bt.memoizedState;if(i=o.destroy,n!==null&&mx(n,o.deps)){a.memoizedState=_l(s,r,i,n);return}}lt.flags|=t,a.memoizedState=_l(1|s,r,i,n)}function _g(t,s){return Jc(8390656,8,t,s)}function xx(t,s){return cu(2048,8,t,s)}function ny(t,s){return cu(4,2,t,s)}function ay(t,s){return cu(4,4,t,s)}function iy(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function oy(t,s,r){return r=r!=null?r.concat([t]):null,cu(4,4,iy.bind(null,s,t),r)}function px(){}function ly(t,s){var r=Ks();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&mx(s,n[1])?n[0]:(r.memoizedState=[t,s],t)}function cy(t,s){var r=Ks();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&mx(s,n[1])?n[0]:(t=t(),r.memoizedState=[t,s],t)}function dy(t,s,r){return qa&21?(pr(r,s)||(r=xj(),lt.lanes|=r,Ba|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,os=!0),t.memoizedState=r)}function B4(t,s){var r=He;He=r!==0&&4>r?r:4,t(!0);var n=pm.transition;pm.transition={};try{t(!1),s()}finally{He=r,pm.transition=n}}function uy(){return Ks().memoizedState}function V4(t,s,r){var n=Zn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},my(t))hy(s,r);else if(r=Gj(t,s,r,n),r!==null){var a=Qt();hr(r,t,n,a),fy(r,s,n)}}function U4(t,s,r){var n=Zn(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(my(t))hy(s,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var o=s.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,pr(l,o)){var c=s.interleaved;c===null?(a.next=a,ox(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}r=Gj(t,s,a,n),r!==null&&(a=Qt(),hr(r,t,n,a),fy(r,s,n))}}function my(t){var s=t.alternate;return t===lt||s!==null&&s===lt}function hy(t,s){rl=Ad=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function fy(t,s,r){if(r&4194240){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,Gf(t,r)}}var Md={readContext:Xs,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},H4={readContext:Xs,useCallback:function(t,s){return Er().memoizedState=[t,s===void 0?null:s],t},useContext:Xs,useEffect:_g,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,Jc(4194308,4,iy.bind(null,s,t),r)},useLayoutEffect:function(t,s){return Jc(4194308,4,t,s)},useInsertionEffect:function(t,s){return Jc(4,2,t,s)},useMemo:function(t,s){var r=Er();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var n=Er();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},n.queue=t,t=t.dispatch=V4.bind(null,lt,t),[n.memoizedState,t]},useRef:function(t){var s=Er();return t={current:t},s.memoizedState=t},useState:Sg,useDebugValue:px,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=Sg(!1),s=t[0];return t=B4.bind(null,t[1]),Er().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var n=lt,a=Er();if(st){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=s(),Pt===null)throw Error(ee(349));qa&30||Jj(n,s,r)}a.memoizedState=r;var i={value:r,getSnapshot:s};return a.queue=i,_g(ey.bind(null,n,i,t),[t]),n.flags|=2048,_l(9,Zj.bind(null,n,i,r,s),void 0,null),r},useId:function(){var t=Er(),s=Pt.identifierPrefix;if(st){var r=ln,n=on;r=(n&~(1<<32-mr(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=Cl++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=q4++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},W4={readContext:Xs,useCallback:ly,useContext:Xs,useEffect:xx,useImperativeHandle:oy,useInsertionEffect:ny,useLayoutEffect:ay,useMemo:cy,useReducer:gm,useRef:ry,useState:function(){return gm(Sl)},useDebugValue:px,useDeferredValue:function(t){var s=Ks();return dy(s,bt.memoizedState,t)},useTransition:function(){var t=gm(Sl)[0],s=Ks().memoizedState;return[t,s]},useMutableSource:Yj,useSyncExternalStore:Qj,useId:uy,unstable_isNewReconciler:!1},G4={readContext:Xs,useCallback:ly,useContext:Xs,useEffect:xx,useImperativeHandle:oy,useInsertionEffect:ny,useLayoutEffect:ay,useMemo:cy,useReducer:vm,useRef:ry,useState:function(){return vm(Sl)},useDebugValue:px,useDeferredValue:function(t){var s=Ks();return bt===null?s.memoizedState=t:dy(s,bt.memoizedState,t)},useTransition:function(){var t=vm(Sl)[0],s=Ks().memoizedState;return[t,s]},useMutableSource:Yj,useSyncExternalStore:Qj,useId:uy,unstable_isNewReconciler:!1};function nr(t,s){if(t&&t.defaultProps){s=ct({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function yh(t,s,r,n){s=t.memoizedState,r=r(n,s),r=r==null?s:ct({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var du={isMounted:function(t){return(t=t._reactInternals)?ti(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var n=Qt(),a=Zn(t),i=cn(n,a);i.payload=s,r!=null&&(i.callback=r),s=Qn(t,i,a),s!==null&&(hr(s,t,a,n),Yc(s,t,a))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var n=Qt(),a=Zn(t),i=cn(n,a);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=Qn(t,i,a),s!==null&&(hr(s,t,a,n),Yc(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Qt(),n=Zn(t),a=cn(r,n);a.tag=2,s!=null&&(a.callback=s),s=Qn(t,a,n),s!==null&&(hr(s,t,n,r),Yc(s,t,n))}};function kg(t,s,r,n,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):s.prototype&&s.prototype.isPureReactComponent?!vl(r,n)||!vl(a,i):!0}function xy(t,s,r){var n=!1,a=na,i=s.contextType;return typeof i=="object"&&i!==null?i=Xs(i):(a=ds(s)?za:Ut.current,n=s.contextTypes,i=(n=n!=null)?Zi(t,a):na),s=new s(r,i),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=du,t.stateNode=s,s._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),s}function Eg(t,s,r,n){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==t&&du.enqueueReplaceState(s,s.state,null)}function bh(t,s,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},lx(t);var i=s.contextType;typeof i=="object"&&i!==null?a.context=Xs(i):(i=ds(s)?za:Ut.current,a.context=Zi(t,i)),a.state=t.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(yh(t,s,i,r),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&du.enqueueReplaceState(a,a.state,null),Td(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function ro(t,s){try{var r="",n=s;do r+=bS(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:s,stack:a,digest:null}}function jm(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function Nh(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var X4=typeof WeakMap=="function"?WeakMap:Map;function py(t,s,r){r=cn(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){Ld||(Ld=!0,Ah=n),Nh(t,s)},r}function gy(t,s,r){r=cn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=s.value;r.payload=function(){return n(a)},r.callback=function(){Nh(t,s)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Nh(t,s),typeof n!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})}),r}function Pg(t,s,r){var n=t.pingCache;if(n===null){n=t.pingCache=new X4;var a=new Set;n.set(s,a)}else a=n.get(s),a===void 0&&(a=new Set,n.set(s,a));a.has(r)||(a.add(r),t=l_.bind(null,t,s,r),s.then(t,t))}function Tg(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Rg(t,s,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=cn(-1,1),s.tag=2,Qn(r,s,1))),r.lanes|=1),t)}var K4=bn.ReactCurrentOwner,os=!1;function Kt(t,s,r,n){s.child=t===null?Wj(s,null,r,n):to(s,t.child,r,n)}function Ag(t,s,r,n,a){r=r.render;var i=s.ref;return Ri(s,a),n=hx(t,s,r,n,i,a),r=fx(),t!==null&&!os?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,xn(t,s,a)):(st&&r&&tx(s),s.flags|=1,Kt(t,s,n,a),s.child)}function Mg(t,s,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Cx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=i,vy(t,s,i,n,a)):(t=sd(r.type,null,n,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:vl,r(o,n)&&t.ref===s.ref)return xn(t,s,a)}return s.flags|=1,t=ea(i,n),t.ref=s.ref,t.return=s,s.child=t}function vy(t,s,r,n,a){if(t!==null){var i=t.memoizedProps;if(vl(i,n)&&t.ref===s.ref)if(os=!1,s.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(os=!0);else return s.lanes=t.lanes,xn(t,s,a)}return wh(t,s,r,n,a)}function jy(t,s,r){var n=s.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Si,vs),vs|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Qe(Si,vs),vs|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Qe(Si,vs),vs|=n}else i!==null?(n=i.baseLanes|r,s.memoizedState=null):n=r,Qe(Si,vs),vs|=n;return Kt(t,s,a,r),s.child}function yy(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function wh(t,s,r,n,a){var i=ds(r)?za:Ut.current;return i=Zi(s,i),Ri(s,a),r=hx(t,s,r,n,i,a),n=fx(),t!==null&&!os?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,xn(t,s,a)):(st&&n&&tx(s),s.flags|=1,Kt(t,s,r,a),s.child)}function Ig(t,s,r,n,a){if(ds(r)){var i=!0;Sd(s)}else i=!1;if(Ri(s,a),s.stateNode===null)Zc(t,s),xy(s,r,n),bh(s,r,n,a),n=!0;else if(t===null){var o=s.stateNode,l=s.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Xs(d):(d=ds(r)?za:Ut.current,d=Zi(s,d));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Eg(s,o,n,d),An=!1;var h=s.memoizedState;o.state=h,Td(s,n,o,a),c=s.memoizedState,l!==n||h!==c||cs.current||An?(typeof f=="function"&&(yh(s,r,f,n),c=s.memoizedState),(l=An||kg(s,r,l,n,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(s.flags|=4194308)):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{o=s.stateNode,Xj(t,s),l=s.memoizedProps,d=s.type===s.elementType?l:nr(s.type,l),o.props=d,m=s.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Xs(c):(c=ds(r)?za:Ut.current,c=Zi(s,c));var j=r.getDerivedStateFromProps;(f=typeof j=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&Eg(s,o,n,c),An=!1,h=s.memoizedState,o.state=h,Td(s,n,o,a);var y=s.memoizedState;l!==m||h!==y||cs.current||An?(typeof j=="function"&&(yh(s,r,j,n),y=s.memoizedState),(d=An||kg(s,r,d,n,h,y,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(s.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=y),o.props=n,o.state=y,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(s.flags|=1024),n=!1)}return Ch(t,s,r,n,i,a)}function Ch(t,s,r,n,a,i){yy(t,s);var o=(s.flags&128)!==0;if(!n&&!o)return a&&jg(s,r,!1),xn(t,s,i);n=s.stateNode,K4.current=s;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,t!==null&&o?(s.child=to(s,t.child,null,i),s.child=to(s,null,l,i)):Kt(t,s,l,i),s.memoizedState=n.state,a&&jg(s,r,!0),s.child}function by(t){var s=t.stateNode;s.pendingContext?vg(t,s.pendingContext,s.pendingContext!==s.context):s.context&&vg(t,s.context,!1),cx(t,s.containerInfo)}function Lg(t,s,r,n,a){return eo(),rx(a),s.flags|=256,Kt(t,s,r,n),s.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function _h(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ny(t,s,r){var n=s.pendingProps,a=it.current,i=!1,o=(s.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Qe(it,a&1),t===null)return vh(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(o=n.children,t=n.fallback,i?(n=s.mode,i=s.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=hu(o,n,0,null),t=Fa(t,n,r,null),i.return=s,t.return=s,i.sibling=t,s.child=i,s.child.memoizedState=_h(r),s.memoizedState=Sh,t):gx(s,o));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Y4(t,s,o,n,l,a,r);if(i){i=n.fallback,o=s.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&s.child!==a?(n=s.child,n.childLanes=0,n.pendingProps=c,s.deletions=null):(n=ea(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ea(l,i):(i=Fa(i,o,r,null),i.flags|=2),i.return=s,n.return=s,n.sibling=i,s.child=n,n=i,i=s.child,o=t.child.memoizedState,o=o===null?_h(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,s.memoizedState=Sh,n}return i=t.child,t=i.sibling,n=ea(i,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=n,s.memoizedState=null,n}function gx(t,s){return s=hu({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function kc(t,s,r,n){return n!==null&&rx(n),to(s,t.child,null,r),t=gx(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Y4(t,s,r,n,a,i,o){if(r)return s.flags&256?(s.flags&=-257,n=jm(Error(ee(422))),kc(t,s,o,n)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(i=n.fallback,a=s.mode,n=hu({mode:"visible",children:n.children},a,0,null),i=Fa(i,a,o,null),i.flags|=2,n.return=s,i.return=s,n.sibling=i,s.child=n,s.mode&1&&to(s,t.child,null,o),s.child.memoizedState=_h(o),s.memoizedState=Sh,i);if(!(s.mode&1))return kc(t,s,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ee(419)),n=jm(i,n,void 0),kc(t,s,o,n)}if(l=(o&t.childLanes)!==0,os||l){if(n=Pt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,fn(t,a),hr(n,t,a,-1))}return wx(),n=jm(Error(ee(421))),kc(t,s,o,n)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=c_.bind(null,t),a._reactRetry=s,null):(t=i.treeContext,bs=Yn(a.nextSibling),Ns=s,st=!0,lr=null,t!==null&&(As[Ms++]=on,As[Ms++]=ln,As[Ms++]=$a,on=t.id,ln=t.overflow,$a=s),s=gx(s,n.children),s.flags|=4096,s)}function Dg(t,s,r){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s),jh(t.return,s,r)}function ym(t,s,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function wy(t,s,r){var n=s.pendingProps,a=n.revealOrder,i=n.tail;if(Kt(t,s,n.children,r),n=it.current,n&2)n=n&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dg(t,r,s);else if(t.tag===19)Dg(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Qe(it,n),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(r=s.child,a=null;r!==null;)t=r.alternate,t!==null&&Rd(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=s.child,s.child=null):(a=r.sibling,r.sibling=null),ym(s,!1,a,r,i);break;case"backwards":for(r=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&Rd(t)===null){s.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}ym(s,!0,r,null,i);break;case"together":ym(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zc(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function xn(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Ba|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(ee(153));if(s.child!==null){for(t=s.child,r=ea(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=ea(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function Q4(t,s,r){switch(s.tag){case 3:by(s),eo();break;case 5:Kj(s);break;case 1:ds(s.type)&&Sd(s);break;case 4:cx(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,a=s.memoizedProps.value;Qe(Ed,n._currentValue),n._currentValue=a;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(Qe(it,it.current&1),s.flags|=128,null):r&s.child.childLanes?Ny(t,s,r):(Qe(it,it.current&1),t=xn(t,s,r),t!==null?t.sibling:null);Qe(it,it.current&1);break;case 19:if(n=(r&s.childLanes)!==0,t.flags&128){if(n)return wy(t,s,r);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Qe(it,it.current),n)break;return null;case 22:case 23:return s.lanes=0,jy(t,s,r)}return xn(t,s,r)}var Cy,kh,Sy,_y;Cy=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kh=function(){};Sy=function(t,s,r,n){var a=t.memoizedProps;if(a!==n){t=s.stateNode,Ea($r.current);var i=null;switch(r){case"input":a=Km(t,a),n=Km(t,n),i=[];break;case"select":a=ct({},a,{value:void 0}),n=ct({},n,{value:void 0}),i=[];break;case"textarea":a=Jm(t,a),n=Jm(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=wd)}eh(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ul.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ul.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&et("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(s.updateQueue=d)&&(s.flags|=4)}};_y=function(t,s,r,n){r!==n&&(s.flags|=4)};function Oo(t,s){if(!st)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function zt(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(s)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,s}function J4(t,s,r){var n=s.pendingProps;switch(sx(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(s),null;case 1:return ds(s.type)&&Cd(),zt(s),null;case 3:return n=s.stateNode,so(),tt(cs),tt(Ut),ux(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Sc(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,lr!==null&&(Lh(lr),lr=null))),kh(t,s),zt(s),null;case 5:dx(s);var a=Ea(wl.current);if(r=s.type,t!==null&&s.stateNode!=null)Sy(t,s,r,n,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(ee(166));return zt(s),null}if(t=Ea($r.current),Sc(s)){n=s.stateNode,r=s.type;var i=s.memoizedProps;switch(n[Mr]=s,n[bl]=i,t=(s.mode&1)!==0,r){case"dialog":et("cancel",n),et("close",n);break;case"iframe":case"object":case"embed":et("load",n);break;case"video":case"audio":for(a=0;a<Wo.length;a++)et(Wo[a],n);break;case"source":et("error",n);break;case"img":case"image":case"link":et("error",n),et("load",n);break;case"details":et("toggle",n);break;case"input":Hp(n,i),et("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},et("invalid",n);break;case"textarea":Gp(n,i),et("invalid",n)}eh(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Cc(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Cc(n.textContent,l,t),a=["children",""+l]):ul.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&et("scroll",n)}switch(r){case"input":pc(n),Wp(n,i,!0);break;case"textarea":pc(n),Xp(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=wd)}n=a,s.updateQueue=n,n!==null&&(s.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ej(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Mr]=s,t[bl]=n,Cy(t,s,!1,!1),s.stateNode=t;e:{switch(o=th(r,n),r){case"dialog":et("cancel",t),et("close",t),a=n;break;case"iframe":case"object":case"embed":et("load",t),a=n;break;case"video":case"audio":for(a=0;a<Wo.length;a++)et(Wo[a],t);a=n;break;case"source":et("error",t),a=n;break;case"img":case"image":case"link":et("error",t),et("load",t),a=n;break;case"details":et("toggle",t),a=n;break;case"input":Hp(t,n),a=Km(t,n),et("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=ct({},n,{value:void 0}),et("invalid",t);break;case"textarea":Gp(t,n),a=Jm(t,n),et("invalid",t);break;default:a=n}eh(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?rj(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tj(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ml(t,c):typeof c=="number"&&ml(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ul.hasOwnProperty(i)?c!=null&&i==="onScroll"&&et("scroll",t):c!=null&&qf(t,i,c,o))}switch(r){case"input":pc(t),Wp(t,n,!1);break;case"textarea":pc(t),Xp(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ra(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ki(t,!!n.multiple,i,!1):n.defaultValue!=null&&ki(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=wd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return zt(s),null;case 6:if(t&&s.stateNode!=null)_y(t,s,t.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(ee(166));if(r=Ea(wl.current),Ea($r.current),Sc(s)){if(n=s.stateNode,r=s.memoizedProps,n[Mr]=s,(i=n.nodeValue!==r)&&(t=Ns,t!==null))switch(t.tag){case 3:Cc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cc(n.nodeValue,r,(t.mode&1)!==0)}i&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mr]=s,s.stateNode=n}return zt(s),null;case 13:if(tt(it),n=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&bs!==null&&s.mode&1&&!(s.flags&128))Uj(),eo(),s.flags|=98560,i=!1;else if(i=Sc(s),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(ee(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ee(317));i[Mr]=s}else eo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;zt(s),i=!1}else lr!==null&&(Lh(lr),lr=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(t===null||it.current&1?Ct===0&&(Ct=3):wx())),s.updateQueue!==null&&(s.flags|=4),zt(s),null);case 4:return so(),kh(t,s),t===null&&jl(s.stateNode.containerInfo),zt(s),null;case 10:return ix(s.type._context),zt(s),null;case 17:return ds(s.type)&&Cd(),zt(s),null;case 19:if(tt(it),i=s.memoizedState,i===null)return zt(s),null;if(n=(s.flags&128)!==0,o=i.rendering,o===null)if(n)Oo(i,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(o=Rd(t),o!==null){for(s.flags|=128,Oo(i,!1),n=o.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Qe(it,it.current&1|2),s.child}t=t.sibling}i.tail!==null&&ht()>no&&(s.flags|=128,n=!0,Oo(i,!1),s.lanes=4194304)}else{if(!n)if(t=Rd(o),t!==null){if(s.flags|=128,n=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Oo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!st)return zt(s),null}else 2*ht()-i.renderingStartTime>no&&r!==1073741824&&(s.flags|=128,n=!0,Oo(i,!1),s.lanes=4194304);i.isBackwards?(o.sibling=s.child,s.child=o):(r=i.last,r!==null?r.sibling=o:s.child=o,i.last=o)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=ht(),s.sibling=null,r=it.current,Qe(it,n?r&1|2:r&1),s):(zt(s),null);case 22:case 23:return Nx(),n=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?vs&1073741824&&(zt(s),s.subtreeFlags&6&&(s.flags|=8192)):zt(s),null;case 24:return null;case 25:return null}throw Error(ee(156,s.tag))}function Z4(t,s){switch(sx(s),s.tag){case 1:return ds(s.type)&&Cd(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return so(),tt(cs),tt(Ut),ux(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return dx(s),null;case 13:if(tt(it),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(ee(340));eo()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return tt(it),null;case 4:return so(),null;case 10:return ix(s.type._context),null;case 22:case 23:return Nx(),null;case 24:return null;default:return null}}var Ec=!1,Vt=!1,e_=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Ci(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){mt(t,s,n)}else r.current=null}function Eh(t,s,r){try{r()}catch(n){mt(t,s,n)}}var Og=!1;function t_(t,s){if(uh=yd,t=Rj(),ex(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,f=0,m=t,h=null;t:for(;;){for(var j;m!==r||a!==0&&m.nodeType!==3||(l=o+a),m!==i||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(j=m.firstChild)!==null;)h=m,m=j;for(;;){if(m===t)break t;if(h===r&&++d===a&&(l=o),h===i&&++f===n&&(c=o),(j=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=j}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(mh={focusedElem:t,selectionRange:r},yd=!1,ce=s;ce!==null;)if(s=ce,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ce=t;else for(;ce!==null;){s=ce;try{var y=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,N=y.memoizedState,p=s.stateNode,v=p.getSnapshotBeforeUpdate(s.elementType===s.type?g:nr(s.type,g),N);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=s.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(w){mt(s,s.return,w)}if(t=s.sibling,t!==null){t.return=s.return,ce=t;break}ce=s.return}return y=Og,Og=!1,y}function nl(t,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&Eh(s,r,i)}a=a.next}while(a!==n)}}function uu(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function Ph(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function ky(t){var s=t.alternate;s!==null&&(t.alternate=null,ky(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Mr],delete s[bl],delete s[xh],delete s[O4],delete s[F4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ey(t){return t.tag===5||t.tag===3||t.tag===4}function Fg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Th(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=wd));else if(n!==4&&(t=t.child,t!==null))for(Th(t,s,r),t=t.sibling;t!==null;)Th(t,s,r),t=t.sibling}function Rh(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Rh(t,s,r),t=t.sibling;t!==null;)Rh(t,s,r),t=t.sibling}var At=null,ir=!1;function Sn(t,s,r){for(r=r.child;r!==null;)Py(t,s,r),r=r.sibling}function Py(t,s,r){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(ru,r)}catch{}switch(r.tag){case 5:Vt||Ci(r,s);case 6:var n=At,a=ir;At=null,Sn(t,s,r),At=n,ir=a,At!==null&&(ir?(t=At,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):At.removeChild(r.stateNode));break;case 18:At!==null&&(ir?(t=At,r=r.stateNode,t.nodeType===8?hm(t.parentNode,r):t.nodeType===1&&hm(t,r),pl(t)):hm(At,r.stateNode));break;case 4:n=At,a=ir,At=r.stateNode.containerInfo,ir=!0,Sn(t,s,r),At=n,ir=a;break;case 0:case 11:case 14:case 15:if(!Vt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Eh(r,s,o),a=a.next}while(a!==n)}Sn(t,s,r);break;case 1:if(!Vt&&(Ci(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){mt(r,s,l)}Sn(t,s,r);break;case 21:Sn(t,s,r);break;case 22:r.mode&1?(Vt=(n=Vt)||r.memoizedState!==null,Sn(t,s,r),Vt=n):Sn(t,s,r);break;default:Sn(t,s,r)}}function zg(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new e_),s.forEach(function(n){var a=d_.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function er(t,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,o=s,l=o;e:for(;l!==null;){switch(l.tag){case 5:At=l.stateNode,ir=!1;break e;case 3:At=l.stateNode.containerInfo,ir=!0;break e;case 4:At=l.stateNode.containerInfo,ir=!0;break e}l=l.return}if(At===null)throw Error(ee(160));Py(i,o,a),At=null,ir=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){mt(a,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ty(s,t),s=s.sibling}function Ty(t,s){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(er(s,t),_r(t),n&4){try{nl(3,t,t.return),uu(3,t)}catch(g){mt(t,t.return,g)}try{nl(5,t,t.return)}catch(g){mt(t,t.return,g)}}break;case 1:er(s,t),_r(t),n&512&&r!==null&&Ci(r,r.return);break;case 5:if(er(s,t),_r(t),n&512&&r!==null&&Ci(r,r.return),t.flags&32){var a=t.stateNode;try{ml(a,"")}catch(g){mt(t,t.return,g)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Jv(a,i),th(l,o);var d=th(l,i);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?rj(a,m):f==="dangerouslySetInnerHTML"?tj(a,m):f==="children"?ml(a,m):qf(a,f,m,d)}switch(l){case"input":Ym(a,i);break;case"textarea":Zv(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var j=i.value;j!=null?ki(a,!!i.multiple,j,!1):h!==!!i.multiple&&(i.defaultValue!=null?ki(a,!!i.multiple,i.defaultValue,!0):ki(a,!!i.multiple,i.multiple?[]:"",!1))}a[bl]=i}catch(g){mt(t,t.return,g)}}break;case 6:if(er(s,t),_r(t),n&4){if(t.stateNode===null)throw Error(ee(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(g){mt(t,t.return,g)}}break;case 3:if(er(s,t),_r(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pl(s.containerInfo)}catch(g){mt(t,t.return,g)}break;case 4:er(s,t),_r(t);break;case 13:er(s,t),_r(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(yx=ht())),n&4&&zg(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Vt=(d=Vt)||f,er(s,t),Vt=d):er(s,t),_r(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(ce=t,f=t.child;f!==null;){for(m=ce=f;ce!==null;){switch(h=ce,j=h.child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Ci(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{s=n,y.props=s.memoizedProps,y.state=s.memoizedState,y.componentWillUnmount()}catch(g){mt(n,r,g)}}break;case 5:Ci(h,h.return);break;case 22:if(h.memoizedState!==null){qg(m);continue}}j!==null?(j.return=h,ce=j):qg(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=sj("display",o))}catch(g){mt(t,t.return,g)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(g){mt(t,t.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:er(s,t),_r(t),n&4&&zg(t);break;case 21:break;default:er(s,t),_r(t)}}function _r(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(Ey(r)){var n=r;break e}r=r.return}throw Error(ee(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ml(a,""),n.flags&=-33);var i=Fg(t);Rh(t,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Fg(t);Th(t,l,o);break;default:throw Error(ee(161))}}catch(c){mt(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function s_(t,s,r){ce=t,Ry(t)}function Ry(t,s,r){for(var n=(t.mode&1)!==0;ce!==null;){var a=ce,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Ec;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Vt;l=Ec;var d=Vt;if(Ec=o,(Vt=c)&&!d)for(ce=a;ce!==null;)o=ce,c=o.child,o.tag===22&&o.memoizedState!==null?Bg(a):c!==null?(c.return=o,ce=c):Bg(a);for(;i!==null;)ce=i,Ry(i),i=i.sibling;ce=a,Ec=l,Vt=d}$g(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ce=i):$g(t)}}function $g(t){for(;ce!==null;){var s=ce;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Vt||uu(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!Vt)if(r===null)n.componentDidMount();else{var a=s.elementType===s.type?r.memoizedProps:nr(s.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&Cg(s,i,n);break;case 3:var o=s.updateQueue;if(o!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}Cg(s,o,r)}break;case 5:var l=s.stateNode;if(r===null&&s.flags&4){r=l;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&pl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Vt||s.flags&512&&Ph(s)}catch(h){mt(s,s.return,h)}}if(s===t){ce=null;break}if(r=s.sibling,r!==null){r.return=s.return,ce=r;break}ce=s.return}}function qg(t){for(;ce!==null;){var s=ce;if(s===t){ce=null;break}var r=s.sibling;if(r!==null){r.return=s.return,ce=r;break}ce=s.return}}function Bg(t){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{uu(4,s)}catch(c){mt(s,r,c)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var a=s.return;try{n.componentDidMount()}catch(c){mt(s,a,c)}}var i=s.return;try{Ph(s)}catch(c){mt(s,i,c)}break;case 5:var o=s.return;try{Ph(s)}catch(c){mt(s,o,c)}}}catch(c){mt(s,s.return,c)}if(s===t){ce=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ce=l;break}ce=s.return}}var r_=Math.ceil,Id=bn.ReactCurrentDispatcher,vx=bn.ReactCurrentOwner,$s=bn.ReactCurrentBatchConfig,Fe=0,Pt=null,vt=null,Mt=0,vs=0,Si=pa(0),Ct=0,kl=null,Ba=0,mu=0,jx=0,al=null,as=null,yx=0,no=1/0,rn=null,Ld=!1,Ah=null,Jn=null,Pc=!1,Hn=null,Dd=0,il=0,Mh=null,ed=-1,td=0;function Qt(){return Fe&6?ht():ed!==-1?ed:ed=ht()}function Zn(t){return t.mode&1?Fe&2&&Mt!==0?Mt&-Mt:$4.transition!==null?(td===0&&(td=xj()),td):(t=He,t!==0||(t=window.event,t=t===void 0?16:Nj(t.type)),t):1}function hr(t,s,r,n){if(50<il)throw il=0,Mh=null,Error(ee(185));Ul(t,r,n),(!(Fe&2)||t!==Pt)&&(t===Pt&&(!(Fe&2)&&(mu|=r),Ct===4&&In(t,Mt)),us(t,n),r===1&&Fe===0&&!(s.mode&1)&&(no=ht()+500,lu&&ga()))}function us(t,s){var r=t.callbackNode;$S(t,s);var n=jd(t,t===Pt?Mt:0);if(n===0)r!==null&&Qp(r),t.callbackNode=null,t.callbackPriority=0;else if(s=n&-n,t.callbackPriority!==s){if(r!=null&&Qp(r),s===1)t.tag===0?z4(Vg.bind(null,t)):qj(Vg.bind(null,t)),L4(function(){!(Fe&6)&&ga()}),r=null;else{switch(pj(n)){case 1:r=Wf;break;case 4:r=hj;break;case 16:r=vd;break;case 536870912:r=fj;break;default:r=vd}r=zy(r,Ay.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function Ay(t,s){if(ed=-1,td=0,Fe&6)throw Error(ee(327));var r=t.callbackNode;if(Ai()&&t.callbackNode!==r)return null;var n=jd(t,t===Pt?Mt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||s)s=Od(t,n);else{s=n;var a=Fe;Fe|=2;var i=Iy();(Pt!==t||Mt!==s)&&(rn=null,no=ht()+500,Oa(t,s));do try{i_();break}catch(l){My(t,l)}while(!0);ax(),Id.current=i,Fe=a,vt!==null?s=0:(Pt=null,Mt=0,s=Ct)}if(s!==0){if(s===2&&(a=ih(t),a!==0&&(n=a,s=Ih(t,a))),s===1)throw r=kl,Oa(t,0),In(t,n),us(t,ht()),r;if(s===6)In(t,n);else{if(a=t.current.alternate,!(n&30)&&!n_(a)&&(s=Od(t,n),s===2&&(i=ih(t),i!==0&&(n=i,s=Ih(t,i))),s===1))throw r=kl,Oa(t,0),In(t,n),us(t,ht()),r;switch(t.finishedWork=a,t.finishedLanes=n,s){case 0:case 1:throw Error(ee(345));case 2:Ca(t,as,rn);break;case 3:if(In(t,n),(n&130023424)===n&&(s=yx+500-ht(),10<s)){if(jd(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Qt(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=fh(Ca.bind(null,t,as,rn),s);break}Ca(t,as,rn);break;case 4:if(In(t,n),(n&4194240)===n)break;for(s=t.eventTimes,a=-1;0<n;){var o=31-mr(n);i=1<<o,o=s[o],o>a&&(a=o),n&=~i}if(n=a,n=ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*r_(n/1960))-n,10<n){t.timeoutHandle=fh(Ca.bind(null,t,as,rn),n);break}Ca(t,as,rn);break;case 5:Ca(t,as,rn);break;default:throw Error(ee(329))}}}return us(t,ht()),t.callbackNode===r?Ay.bind(null,t):null}function Ih(t,s){var r=al;return t.current.memoizedState.isDehydrated&&(Oa(t,s).flags|=256),t=Od(t,s),t!==2&&(s=as,as=r,s!==null&&Lh(s)),t}function Lh(t){as===null?as=t:as.push.apply(as,t)}function n_(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!pr(i(),a))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function In(t,s){for(s&=~jx,s&=~mu,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-mr(s),n=1<<r;t[r]=-1,s&=~n}}function Vg(t){if(Fe&6)throw Error(ee(327));Ai();var s=jd(t,0);if(!(s&1))return us(t,ht()),null;var r=Od(t,s);if(t.tag!==0&&r===2){var n=ih(t);n!==0&&(s=n,r=Ih(t,n))}if(r===1)throw r=kl,Oa(t,0),In(t,s),us(t,ht()),r;if(r===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Ca(t,as,rn),us(t,ht()),null}function bx(t,s){var r=Fe;Fe|=1;try{return t(s)}finally{Fe=r,Fe===0&&(no=ht()+500,lu&&ga())}}function Va(t){Hn!==null&&Hn.tag===0&&!(Fe&6)&&Ai();var s=Fe;Fe|=1;var r=$s.transition,n=He;try{if($s.transition=null,He=1,t)return t()}finally{He=n,$s.transition=r,Fe=s,!(Fe&6)&&ga()}}function Nx(){vs=Si.current,tt(Si)}function Oa(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,I4(r)),vt!==null)for(r=vt.return;r!==null;){var n=r;switch(sx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Cd();break;case 3:so(),tt(cs),tt(Ut),ux();break;case 5:dx(n);break;case 4:so();break;case 13:tt(it);break;case 19:tt(it);break;case 10:ix(n.type._context);break;case 22:case 23:Nx()}r=r.return}if(Pt=t,vt=t=ea(t.current,null),Mt=vs=s,Ct=0,kl=null,jx=mu=Ba=0,as=al=null,ka!==null){for(s=0;s<ka.length;s++)if(r=ka[s],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}ka=null}return t}function My(t,s){do{var r=vt;try{if(ax(),Qc.current=Md,Ad){for(var n=lt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ad=!1}if(qa=0,Et=bt=lt=null,rl=!1,Cl=0,vx.current=null,r===null||r.return===null){Ct=1,kl=s,vt=null;break}e:{var i=t,o=r.return,l=r,c=s;if(s=Mt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var j=Tg(o);if(j!==null){j.flags&=-257,Rg(j,o,l,i,s),j.mode&1&&Pg(i,d,s),s=j,c=d;var y=s.updateQueue;if(y===null){var g=new Set;g.add(c),s.updateQueue=g}else y.add(c);break e}else{if(!(s&1)){Pg(i,d,s),wx();break e}c=Error(ee(426))}}else if(st&&l.mode&1){var N=Tg(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Rg(N,o,l,i,s),rx(ro(c,l));break e}}i=c=ro(c,l),Ct!==4&&(Ct=2),al===null?al=[i]:al.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var p=py(i,c,s);wg(i,p);break e;case 1:l=c;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Jn===null||!Jn.has(x)))){i.flags|=65536,s&=-s,i.lanes|=s;var w=gy(i,l,s);wg(i,w);break e}}i=i.return}while(i!==null)}Dy(r)}catch(k){s=k,vt===r&&r!==null&&(vt=r=r.return);continue}break}while(!0)}function Iy(){var t=Id.current;return Id.current=Md,t===null?Md:t}function wx(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Pt===null||!(Ba&268435455)&&!(mu&268435455)||In(Pt,Mt)}function Od(t,s){var r=Fe;Fe|=2;var n=Iy();(Pt!==t||Mt!==s)&&(rn=null,Oa(t,s));do try{a_();break}catch(a){My(t,a)}while(!0);if(ax(),Fe=r,Id.current=n,vt!==null)throw Error(ee(261));return Pt=null,Mt=0,Ct}function a_(){for(;vt!==null;)Ly(vt)}function i_(){for(;vt!==null&&!RS();)Ly(vt)}function Ly(t){var s=Fy(t.alternate,t,vs);t.memoizedProps=t.pendingProps,s===null?Dy(t):vt=s,vx.current=null}function Dy(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=Z4(r,s),r!==null){r.flags&=32767,vt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,vt=null;return}}else if(r=J4(r,s,vs),r!==null){vt=r;return}if(s=s.sibling,s!==null){vt=s;return}vt=s=t}while(s!==null);Ct===0&&(Ct=5)}function Ca(t,s,r){var n=He,a=$s.transition;try{$s.transition=null,He=1,o_(t,s,r,n)}finally{$s.transition=a,He=n}return null}function o_(t,s,r,n){do Ai();while(Hn!==null);if(Fe&6)throw Error(ee(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(qS(t,i),t===Pt&&(vt=Pt=null,Mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Pc||(Pc=!0,zy(vd,function(){return Ai(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=$s.transition,$s.transition=null;var o=He;He=1;var l=Fe;Fe|=4,vx.current=null,t_(t,r),Ty(r,t),k4(mh),yd=!!uh,mh=uh=null,t.current=r,s_(r),AS(),Fe=l,He=o,$s.transition=i}else t.current=r;if(Pc&&(Pc=!1,Hn=t,Dd=a),i=t.pendingLanes,i===0&&(Jn=null),LS(r.stateNode),us(t,ht()),s!==null)for(n=t.onRecoverableError,r=0;r<s.length;r++)a=s[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ld)throw Ld=!1,t=Ah,Ah=null,t;return Dd&1&&t.tag!==0&&Ai(),i=t.pendingLanes,i&1?t===Mh?il++:(il=0,Mh=t):il=0,ga(),null}function Ai(){if(Hn!==null){var t=pj(Dd),s=$s.transition,r=He;try{if($s.transition=null,He=16>t?16:t,Hn===null)var n=!1;else{if(t=Hn,Hn=null,Dd=0,Fe&6)throw Error(ee(331));var a=Fe;for(Fe|=4,ce=t.current;ce!==null;){var i=ce,o=i.child;if(ce.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ce=d;ce!==null;){var f=ce;switch(f.tag){case 0:case 11:case 15:nl(8,f,i)}var m=f.child;if(m!==null)m.return=f,ce=m;else for(;ce!==null;){f=ce;var h=f.sibling,j=f.return;if(ky(f),f===d){ce=null;break}if(h!==null){h.return=j,ce=h;break}ce=j}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var N=g.sibling;g.sibling=null,g=N}while(g!==null)}}ce=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ce=o;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,ce=p;break e}ce=i.return}}var v=t.current;for(ce=v;ce!==null;){o=ce;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ce=x;else e:for(o=v;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:uu(9,l)}}catch(k){mt(l,l.return,k)}if(l===o){ce=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,ce=w;break e}ce=l.return}}if(Fe=a,ga(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(ru,t)}catch{}n=!0}return n}finally{He=r,$s.transition=s}}return!1}function Ug(t,s,r){s=ro(r,s),s=py(t,s,1),t=Qn(t,s,1),s=Qt(),t!==null&&(Ul(t,1,s),us(t,s))}function mt(t,s,r){if(t.tag===3)Ug(t,t,r);else for(;s!==null;){if(s.tag===3){Ug(s,t,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Jn===null||!Jn.has(n))){t=ro(r,t),t=gy(s,t,1),s=Qn(s,t,1),t=Qt(),s!==null&&(Ul(s,1,t),us(s,t));break}}s=s.return}}function l_(t,s,r){var n=t.pingCache;n!==null&&n.delete(s),s=Qt(),t.pingedLanes|=t.suspendedLanes&r,Pt===t&&(Mt&r)===r&&(Ct===4||Ct===3&&(Mt&130023424)===Mt&&500>ht()-yx?Oa(t,0):jx|=r),us(t,s)}function Oy(t,s){s===0&&(t.mode&1?(s=jc,jc<<=1,!(jc&130023424)&&(jc=4194304)):s=1);var r=Qt();t=fn(t,s),t!==null&&(Ul(t,s,r),us(t,r))}function c_(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),Oy(t,r)}function d_(t,s){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(s),Oy(t,r)}var Fy;Fy=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||cs.current)os=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return os=!1,Q4(t,s,r);os=!!(t.flags&131072)}else os=!1,st&&s.flags&1048576&&Bj(s,kd,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;Zc(t,s),t=s.pendingProps;var a=Zi(s,Ut.current);Ri(s,r),a=hx(null,s,n,t,a,r);var i=fx();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,ds(n)?(i=!0,Sd(s)):i=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,lx(s),a.updater=du,s.stateNode=a,a._reactInternals=s,bh(s,n,t,r),s=Ch(null,s,n,!0,i,r)):(s.tag=0,st&&i&&tx(s),Kt(null,s,a,r),s=s.child),s;case 16:n=s.elementType;e:{switch(Zc(t,s),t=s.pendingProps,a=n._init,n=a(n._payload),s.type=n,a=s.tag=m_(n),t=nr(n,t),a){case 0:s=wh(null,s,n,t,r);break e;case 1:s=Ig(null,s,n,t,r);break e;case 11:s=Ag(null,s,n,t,r);break e;case 14:s=Mg(null,s,n,nr(n.type,t),r);break e}throw Error(ee(306,n,""))}return s;case 0:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:nr(n,a),wh(t,s,n,a,r);case 1:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:nr(n,a),Ig(t,s,n,a,r);case 3:e:{if(by(s),t===null)throw Error(ee(387));n=s.pendingProps,i=s.memoizedState,a=i.element,Xj(t,s),Td(s,n,null,r);var o=s.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){a=ro(Error(ee(423)),s),s=Lg(t,s,n,r,a);break e}else if(n!==a){a=ro(Error(ee(424)),s),s=Lg(t,s,n,r,a);break e}else for(bs=Yn(s.stateNode.containerInfo.firstChild),Ns=s,st=!0,lr=null,r=Wj(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(eo(),n===a){s=xn(t,s,r);break e}Kt(t,s,n,r)}s=s.child}return s;case 5:return Kj(s),t===null&&vh(s),n=s.type,a=s.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,hh(n,a)?o=null:i!==null&&hh(n,i)&&(s.flags|=32),yy(t,s),Kt(t,s,o,r),s.child;case 6:return t===null&&vh(s),null;case 13:return Ny(t,s,r);case 4:return cx(s,s.stateNode.containerInfo),n=s.pendingProps,t===null?s.child=to(s,null,n,r):Kt(t,s,n,r),s.child;case 11:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:nr(n,a),Ag(t,s,n,a,r);case 7:return Kt(t,s,s.pendingProps,r),s.child;case 8:return Kt(t,s,s.pendingProps.children,r),s.child;case 12:return Kt(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,a=s.pendingProps,i=s.memoizedProps,o=a.value,Qe(Ed,n._currentValue),n._currentValue=o,i!==null)if(pr(i.value,o)){if(i.children===a.children&&!cs.current){s=xn(t,s,r);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=cn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),jh(i.return,r,s),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===s.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ee(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),jh(o,r,s),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===s){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Kt(t,s,a.children,r),s=s.child}return s;case 9:return a=s.type,n=s.pendingProps.children,Ri(s,r),a=Xs(a),n=n(a),s.flags|=1,Kt(t,s,n,r),s.child;case 14:return n=s.type,a=nr(n,s.pendingProps),a=nr(n.type,a),Mg(t,s,n,a,r);case 15:return vy(t,s,s.type,s.pendingProps,r);case 17:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:nr(n,a),Zc(t,s),s.tag=1,ds(n)?(t=!0,Sd(s)):t=!1,Ri(s,r),xy(s,n,a),bh(s,n,a,r),Ch(null,s,n,!0,t,r);case 19:return wy(t,s,r);case 22:return jy(t,s,r)}throw Error(ee(156,s.tag))};function zy(t,s){return mj(t,s)}function u_(t,s,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(t,s,r,n){return new u_(t,s,r,n)}function Cx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function m_(t){if(typeof t=="function")return Cx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vf)return 11;if(t===Uf)return 14}return 2}function ea(t,s){var r=t.alternate;return r===null?(r=Fs(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function sd(t,s,r,n,a,i){var o=2;if(n=t,typeof t=="function")Cx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xi:return Fa(r.children,a,i,s);case Bf:o=8,a|=8;break;case Hm:return t=Fs(12,r,s,a|2),t.elementType=Hm,t.lanes=i,t;case Wm:return t=Fs(13,r,s,a),t.elementType=Wm,t.lanes=i,t;case Gm:return t=Fs(19,r,s,a),t.elementType=Gm,t.lanes=i,t;case Kv:return hu(r,a,i,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gv:o=10;break e;case Xv:o=9;break e;case Vf:o=11;break e;case Uf:o=14;break e;case Rn:o=16,n=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return s=Fs(o,r,s,a),s.elementType=t,s.type=n,s.lanes=i,s}function Fa(t,s,r,n){return t=Fs(7,t,n,s),t.lanes=r,t}function hu(t,s,r,n){return t=Fs(22,t,n,s),t.elementType=Kv,t.lanes=r,t.stateNode={isHidden:!1},t}function bm(t,s,r){return t=Fs(6,t,null,s),t.lanes=r,t}function Nm(t,s,r){return s=Fs(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function h_(t,s,r,n,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sm(0),this.expirationTimes=sm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sm(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Sx(t,s,r,n,a,i,o,l,c){return t=new h_(t,s,r,l,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=Fs(3,null,null,s),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},lx(i),t}function f_(t,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:n==null?null:""+n,children:t,containerInfo:s,implementation:r}}function $y(t){if(!t)return na;t=t._reactInternals;e:{if(ti(t)!==t||t.tag!==1)throw Error(ee(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ds(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(ee(171))}if(t.tag===1){var r=t.type;if(ds(r))return $j(t,r,s)}return s}function qy(t,s,r,n,a,i,o,l,c){return t=Sx(r,n,!0,t,a,i,o,l,c),t.context=$y(null),r=t.current,n=Qt(),a=Zn(r),i=cn(n,a),i.callback=s??null,Qn(r,i,a),t.current.lanes=a,Ul(t,a,n),us(t,n),t}function fu(t,s,r,n){var a=s.current,i=Qt(),o=Zn(a);return r=$y(r),s.context===null?s.context=r:s.pendingContext=r,s=cn(i,o),s.payload={element:t},n=n===void 0?null:n,n!==null&&(s.callback=n),t=Qn(a,s,o),t!==null&&(hr(t,a,o,i),Yc(t,a,o)),o}function Fd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hg(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function _x(t,s){Hg(t,s),(t=t.alternate)&&Hg(t,s)}function x_(){return null}var By=typeof reportError=="function"?reportError:function(t){console.error(t)};function kx(t){this._internalRoot=t}xu.prototype.render=kx.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(ee(409));fu(t,s,null,null)};xu.prototype.unmount=kx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Va(function(){fu(null,t,null,null)}),s[hn]=null}};function xu(t){this._internalRoot=t}xu.prototype.unstable_scheduleHydration=function(t){if(t){var s=jj();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Mn.length&&s!==0&&s<Mn[r].priority;r++);Mn.splice(r,0,t),r===0&&bj(t)}};function Ex(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wg(){}function p_(t,s,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Fd(o);i.call(d)}}var o=qy(s,n,t,0,null,!1,!1,"",Wg);return t._reactRootContainer=o,t[hn]=o.current,jl(t.nodeType===8?t.parentNode:t),Va(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Fd(c);l.call(d)}}var c=Sx(t,0,!1,null,null,!1,!1,"",Wg);return t._reactRootContainer=c,t[hn]=c.current,jl(t.nodeType===8?t.parentNode:t),Va(function(){fu(s,c,r,n)}),c}function gu(t,s,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Fd(o);l.call(c)}}fu(s,o,t,a)}else o=p_(r,s,t,a,n);return Fd(o)}gj=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=Ho(s.pendingLanes);r!==0&&(Gf(s,r|1),us(s,ht()),!(Fe&6)&&(no=ht()+500,ga()))}break;case 13:Va(function(){var n=fn(t,1);if(n!==null){var a=Qt();hr(n,t,1,a)}}),_x(t,1)}};Xf=function(t){if(t.tag===13){var s=fn(t,134217728);if(s!==null){var r=Qt();hr(s,t,134217728,r)}_x(t,134217728)}};vj=function(t){if(t.tag===13){var s=Zn(t),r=fn(t,s);if(r!==null){var n=Qt();hr(r,t,s,n)}_x(t,s)}};jj=function(){return He};yj=function(t,s){var r=He;try{return He=t,s()}finally{He=r}};rh=function(t,s,r){switch(s){case"input":if(Ym(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==t&&n.form===t.form){var a=ou(n);if(!a)throw Error(ee(90));Qv(n),Ym(n,a)}}}break;case"textarea":Zv(t,r);break;case"select":s=r.value,s!=null&&ki(t,!!r.multiple,s,!1)}};ij=bx;oj=Va;var g_={usingClientEntryPoint:!1,Events:[Wl,ji,ou,nj,aj,bx]},Fo={findFiberByHostInstance:_a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v_={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dj(t),t===null?null:t.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||x_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{ru=Tc.inject(v_),zr=Tc}catch{}}Es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g_;Es.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ex(s))throw Error(ee(200));return f_(t,s,null,r)};Es.createRoot=function(t,s){if(!Ex(t))throw Error(ee(299));var r=!1,n="",a=By;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Sx(t,1,!1,null,null,r,!1,n,a),t[hn]=s.current,jl(t.nodeType===8?t.parentNode:t),new kx(s)};Es.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=dj(s),t=t===null?null:t.stateNode,t};Es.flushSync=function(t){return Va(t)};Es.hydrate=function(t,s,r){if(!pu(s))throw Error(ee(200));return gu(null,t,s,!0,r)};Es.hydrateRoot=function(t,s,r){if(!Ex(t))throw Error(ee(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=By;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),s=qy(s,null,t,1,r??null,a,!1,i,o),t[hn]=s.current,jl(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,a]:s.mutableSourceEagerHydrationData.push(r,a);return new xu(s)};Es.render=function(t,s,r){if(!pu(s))throw Error(ee(200));return gu(null,t,s,!1,r)};Es.unmountComponentAtNode=function(t){if(!pu(t))throw Error(ee(40));return t._reactRootContainer?(Va(function(){gu(null,null,t,!1,function(){t._reactRootContainer=null,t[hn]=null})}),!0):!1};Es.unstable_batchedUpdates=bx;Es.unstable_renderSubtreeIntoContainer=function(t,s,r,n){if(!pu(r))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return gu(t,s,r,!1,n)};Es.version="18.3.1-next-f1338f8080-20240426";function Vy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vy)}catch(t){console.error(t)}}Vy(),Vv.exports=Es;var si=Vv.exports;const Uy=Rv(si);var Hy,Gg=si;Hy=Gg.createRoot,Gg.hydrateRoot;const j_=1,y_=1e6;let wm=0;function b_(){return wm=(wm+1)%Number.MAX_SAFE_INTEGER,wm.toString()}const Cm=new Map,Xg=t=>{if(Cm.has(t))return;const s=setTimeout(()=>{Cm.delete(t),ol({type:"REMOVE_TOAST",toastId:t})},y_);Cm.set(t,s)},N_=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,j_)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===s.toast.id?{...r,...s.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=s;return r?Xg(r):t.toasts.forEach(n=>{Xg(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==s.toastId)}}},rd=[];let nd={toasts:[]};function ol(t){nd=N_(nd,t),rd.forEach(s=>{s(nd)})}function w_({...t}){const s=b_(),r=a=>ol({type:"UPDATE_TOAST",toast:{...a,id:s}}),n=()=>ol({type:"DISMISS_TOAST",toastId:s});return ol({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:a=>{a||n()}}}),{id:s,dismiss:n,update:r}}function Px(){const[t,s]=u.useState(nd);return u.useEffect(()=>(rd.push(s),()=>{const r=rd.indexOf(s);r>-1&&rd.splice(r,1)}),[t]),{...t,toast:w_,dismiss:r=>ol({type:"DISMISS_TOAST",toastId:r})}}function se(t,s,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function C_(t,s){typeof t=="function"?t(s):t!=null&&(t.current=s)}function vu(...t){return s=>t.forEach(r=>C_(r,s))}function Ce(...t){return u.useCallback(vu(...t),t)}function S_(t,s=[]){let r=[];function n(i,o){const l=u.createContext(o),c=r.length;r=[...r,o];function d(m){const{scope:h,children:j,...y}=m,g=(h==null?void 0:h[t][c])||l,N=u.useMemo(()=>y,Object.values(y));return e.jsx(g.Provider,{value:N,children:j})}function f(m,h){const j=(h==null?void 0:h[t][c])||l,y=u.useContext(j);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,f]}const a=()=>{const i=r.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return u.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,__(a,...s)]}function __(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return u.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return r.scopeName=s.scopeName,r}var aa=u.forwardRef((t,s)=>{const{children:r,...n}=t,a=u.Children.toArray(r),i=a.find(k_);if(i){const o=i.props.children,l=a.map(c=>c===i?u.Children.count(o)>1?u.Children.only(null):u.isValidElement(o)?o.props.children:null:c);return e.jsx(Dh,{...n,ref:s,children:u.isValidElement(o)?u.cloneElement(o,void 0,l):null})}return e.jsx(Dh,{...n,ref:s,children:r})});aa.displayName="Slot";var Dh=u.forwardRef((t,s)=>{const{children:r,...n}=t;if(u.isValidElement(r)){const a=P_(r);return u.cloneElement(r,{...E_(n,r.props),ref:s?vu(s,a):a})}return u.Children.count(r)>1?u.Children.only(null):null});Dh.displayName="SlotClone";var Wy=({children:t})=>e.jsx(e.Fragment,{children:t});function k_(t){return u.isValidElement(t)&&t.type===Wy}function E_(t,s){const r={...s};for(const n in s){const a=t[n],i=s[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function P_(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Xl(t){const s=t+"CollectionProvider",[r,n]=S_(s),[a,i]=r(s,{collectionRef:{current:null},itemMap:new Map}),o=j=>{const{scope:y,children:g}=j,N=re.useRef(null),p=re.useRef(new Map).current;return e.jsx(a,{scope:y,itemMap:p,collectionRef:N,children:g})};o.displayName=s;const l=t+"CollectionSlot",c=re.forwardRef((j,y)=>{const{scope:g,children:N}=j,p=i(l,g),v=Ce(y,p.collectionRef);return e.jsx(aa,{ref:v,children:N})});c.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=re.forwardRef((j,y)=>{const{scope:g,children:N,...p}=j,v=re.useRef(null),x=Ce(y,v),w=i(d,g);return re.useEffect(()=>(w.itemMap.set(v,{ref:v,...p}),()=>void w.itemMap.delete(v))),e.jsx(aa,{[f]:"",ref:x,children:N})});m.displayName=d;function h(j){const y=i(t+"CollectionConsumer",j);return re.useCallback(()=>{const N=y.collectionRef.current;if(!N)return[];const p=Array.from(N.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((w,k)=>p.indexOf(w.ref.current)-p.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},h,n]}function T_(t,s){const r=u.createContext(s),n=i=>{const{children:o,...l}=i,c=u.useMemo(()=>l,Object.values(l));return e.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function a(i){const o=u.useContext(r);if(o)return o;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function Wr(t,s=[]){let r=[];function n(i,o){const l=u.createContext(o),c=r.length;r=[...r,o];const d=m=>{var p;const{scope:h,children:j,...y}=m,g=((p=h==null?void 0:h[t])==null?void 0:p[c])||l,N=u.useMemo(()=>y,Object.values(y));return e.jsx(g.Provider,{value:N,children:j})};d.displayName=i+"Provider";function f(m,h){var g;const j=((g=h==null?void 0:h[t])==null?void 0:g[c])||l,y=u.useContext(j);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,f]}const a=()=>{const i=r.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return u.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,R_(a,...s)]}function R_(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return u.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return r.scopeName=s.scopeName,r}var A_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],me=A_.reduce((t,s)=>{const r=u.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?aa:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{});function Tx(t,s){t&&si.flushSync(()=>t.dispatchEvent(s))}function rt(t){const s=u.useRef(t);return u.useEffect(()=>{s.current=t}),u.useMemo(()=>(...r)=>{var n;return(n=s.current)==null?void 0:n.call(s,...r)},[])}function M_(t,s=globalThis==null?void 0:globalThis.document){const r=rt(t);u.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return s.addEventListener("keydown",n,{capture:!0}),()=>s.removeEventListener("keydown",n,{capture:!0})},[r,s])}var I_="DismissableLayer",Oh="dismissableLayer.update",L_="dismissableLayer.pointerDownOutside",D_="dismissableLayer.focusOutside",Kg,Gy=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xo=u.forwardRef((t,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=u.useContext(Gy),[f,m]=u.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,j]=u.useState({}),y=Ce(s,b=>m(b)),g=Array.from(d.layers),[N]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=g.indexOf(N),v=f?g.indexOf(f):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,w=v>=p,k=F_(b=>{const C=b.target,_=[...d.branches].some(P=>P.contains(C));!w||_||(a==null||a(b),o==null||o(b),b.defaultPrevented||l==null||l())},h),S=z_(b=>{const C=b.target;[...d.branches].some(P=>P.contains(C))||(i==null||i(b),o==null||o(b),b.defaultPrevented||l==null||l())},h);return M_(b=>{v===d.layers.size-1&&(n==null||n(b),!b.defaultPrevented&&l&&(b.preventDefault(),l()))},h),u.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Kg=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Yg(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Kg)}},[f,h,r,d]),u.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Yg())},[f,d]),u.useEffect(()=>{const b=()=>j({});return document.addEventListener(Oh,b),()=>document.removeEventListener(Oh,b)},[]),e.jsx(me.div,{...c,ref:y,style:{pointerEvents:x?w?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,S.onFocusCapture),onBlurCapture:se(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,k.onPointerDownCapture)})});xo.displayName=I_;var O_="DismissableLayerBranch",Xy=u.forwardRef((t,s)=>{const r=u.useContext(Gy),n=u.useRef(null),a=Ce(s,n);return u.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),e.jsx(me.div,{...t,ref:a})});Xy.displayName=O_;function F_(t,s=globalThis==null?void 0:globalThis.document){const r=rt(t),n=u.useRef(!1),a=u.useRef(()=>{});return u.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){Ky(L_,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=c,s.addEventListener("click",a.current,{once:!0})):c()}else s.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{s.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),s.removeEventListener("pointerdown",i),s.removeEventListener("click",a.current)}},[s,r]),{onPointerDownCapture:()=>n.current=!0}}function z_(t,s=globalThis==null?void 0:globalThis.document){const r=rt(t),n=u.useRef(!1);return u.useEffect(()=>{const a=i=>{i.target&&!n.current&&Ky(D_,r,{originalEvent:i},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Yg(){const t=new CustomEvent(Oh);document.dispatchEvent(t)}function Ky(t,s,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});s&&a.addEventListener(t,s,{once:!0}),n?Tx(a,i):a.dispatchEvent(i)}var $_=xo,q_=Xy,St=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},B_="Portal",Kl=u.forwardRef((t,s)=>{var l;const{container:r,...n}=t,[a,i]=u.useState(!1);St(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Uy.createPortal(e.jsx(me.div,{...n,ref:s}),o):null});Kl.displayName=B_;function V_(t,s){return u.useReducer((r,n)=>s[r][n]??r,t)}var ts=t=>{const{present:s,children:r}=t,n=U_(s),a=typeof r=="function"?r({present:n.isPresent}):u.Children.only(r),i=Ce(n.ref,H_(a));return typeof r=="function"||n.isPresent?u.cloneElement(a,{ref:i}):null};ts.displayName="Presence";function U_(t){const[s,r]=u.useState(),n=u.useRef({}),a=u.useRef(t),i=u.useRef("none"),o=t?"mounted":"unmounted",[l,c]=V_(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=Rc(n.current);i.current=l==="mounted"?d:"none"},[l]),St(()=>{const d=n.current,f=a.current;if(f!==t){const h=i.current,j=Rc(d);t?c("MOUNT"):j==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&h!==j?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),St(()=>{if(s){let d;const f=s.ownerDocument.defaultView??window,m=j=>{const g=Rc(n.current).includes(j.animationName);if(j.target===s&&g&&(c("ANIMATION_END"),!a.current)){const N=s.style.animationFillMode;s.style.animationFillMode="forwards",d=f.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=N)})}},h=j=>{j.target===s&&(i.current=Rc(n.current))};return s.addEventListener("animationstart",h),s.addEventListener("animationcancel",m),s.addEventListener("animationend",m),()=>{f.clearTimeout(d),s.removeEventListener("animationstart",h),s.removeEventListener("animationcancel",m),s.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Rc(t){return(t==null?void 0:t.animationName)||"none"}function H_(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ia({prop:t,defaultProp:s,onChange:r=()=>{}}){const[n,a]=W_({defaultProp:s,onChange:r}),i=t!==void 0,o=i?t:n,l=rt(r),c=u.useCallback(d=>{if(i){const m=typeof d=="function"?d(t):d;m!==t&&l(m)}else a(d)},[i,t,a,l]);return[o,c]}function W_({defaultProp:t,onChange:s}){const r=u.useState(t),[n]=r,a=u.useRef(n),i=rt(s);return u.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var G_="VisuallyHidden",Yl=u.forwardRef((t,s)=>e.jsx(me.span,{...t,ref:s,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Yl.displayName=G_;var X_=Yl,Rx="ToastProvider",[Ax,K_,Y_]=Xl("Toast"),[Yy]=Wr("Toast",[Y_]),[Q_,ju]=Yy(Rx),Qy=t=>{const{__scopeToast:s,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=t,[l,c]=u.useState(null),[d,f]=u.useState(0),m=u.useRef(!1),h=u.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Rx}\`. Expected non-empty \`string\`.`),e.jsx(Ax.Provider,{scope:s,children:e.jsx(Q_,{scope:s,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>f(j=>j+1),[]),onToastRemove:u.useCallback(()=>f(j=>j-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:o})})};Qy.displayName=Rx;var Jy="ToastViewport",J_=["F8"],Fh="toast.viewportPause",zh="toast.viewportResume",Zy=u.forwardRef((t,s)=>{const{__scopeToast:r,hotkey:n=J_,label:a="Notifications ({hotkey})",...i}=t,o=ju(Jy,r),l=K_(r),c=u.useRef(null),d=u.useRef(null),f=u.useRef(null),m=u.useRef(null),h=Ce(s,m,o.onViewportChange),j=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;u.useEffect(()=>{const N=p=>{var x;n.length!==0&&n.every(w=>p[w]||p.code===w)&&((x=m.current)==null||x.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[n]),u.useEffect(()=>{const N=c.current,p=m.current;if(y&&N&&p){const v=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Fh);p.dispatchEvent(S),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(zh);p.dispatchEvent(S),o.isClosePausedRef.current=!1}},w=S=>{!N.contains(S.relatedTarget)&&x()},k=()=>{N.contains(document.activeElement)||x()};return N.addEventListener("focusin",v),N.addEventListener("focusout",w),N.addEventListener("pointermove",v),N.addEventListener("pointerleave",k),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{N.removeEventListener("focusin",v),N.removeEventListener("focusout",w),N.removeEventListener("pointermove",v),N.removeEventListener("pointerleave",k),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[y,o.isClosePausedRef]);const g=u.useCallback(({tabbingDirection:N})=>{const v=l().map(x=>{const w=x.ref.current,k=[w,...uk(w)];return N==="forwards"?k:k.reverse()});return(N==="forwards"?v.reverse():v).flat()},[l]);return u.useEffect(()=>{const N=m.current;if(N){const p=v=>{var k,S,b;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const C=document.activeElement,_=v.shiftKey;if(v.target===N&&_){(k=d.current)==null||k.focus();return}const L=g({tabbingDirection:_?"backwards":"forwards"}),I=L.findIndex(O=>O===C);Sm(L.slice(I+1))?v.preventDefault():_?(S=d.current)==null||S.focus():(b=f.current)==null||b.focus()}};return N.addEventListener("keydown",p),()=>N.removeEventListener("keydown",p)}},[l,g]),e.jsxs(q_,{ref:c,role:"region","aria-label":a.replace("{hotkey}",j),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&e.jsx($h,{ref:d,onFocusFromOutsideViewport:()=>{const N=g({tabbingDirection:"forwards"});Sm(N)}}),e.jsx(Ax.Slot,{scope:r,children:e.jsx(me.ol,{tabIndex:-1,...i,ref:h})}),y&&e.jsx($h,{ref:f,onFocusFromOutsideViewport:()=>{const N=g({tabbingDirection:"backwards"});Sm(N)}})]})});Zy.displayName=Jy;var eb="ToastFocusProxy",$h=u.forwardRef((t,s)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,i=ju(eb,r);return e.jsx(Yl,{"aria-hidden":!0,tabIndex:0,...a,ref:s,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});$h.displayName=eb;var yu="Toast",Z_="toast.swipeStart",ek="toast.swipeMove",tk="toast.swipeCancel",sk="toast.swipeEnd",tb=u.forwardRef((t,s)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=t,[l=!0,c]=ia({prop:n,defaultProp:a,onChange:i});return e.jsx(ts,{present:r||l,children:e.jsx(ak,{open:l,...o,ref:s,onClose:()=>c(!1),onPause:rt(t.onPause),onResume:rt(t.onResume),onSwipeStart:se(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:se(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});tb.displayName=yu;var[rk,nk]=Yy(yu,{onClose(){}}),ak=u.forwardRef((t,s)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:j,...y}=t,g=ju(yu,r),[N,p]=u.useState(null),v=Ce(s,O=>p(O)),x=u.useRef(null),w=u.useRef(null),k=a||g.duration,S=u.useRef(0),b=u.useRef(k),C=u.useRef(0),{onToastAdd:_,onToastRemove:P}=g,T=rt(()=>{var X;(N==null?void 0:N.contains(document.activeElement))&&((X=g.viewport)==null||X.focus()),o()}),L=u.useCallback(O=>{!O||O===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(T,O))},[T]);u.useEffect(()=>{const O=g.viewport;if(O){const X=()=>{L(b.current),d==null||d()},A=()=>{const B=new Date().getTime()-S.current;b.current=b.current-B,window.clearTimeout(C.current),c==null||c()};return O.addEventListener(Fh,A),O.addEventListener(zh,X),()=>{O.removeEventListener(Fh,A),O.removeEventListener(zh,X)}}},[g.viewport,k,c,d,L]),u.useEffect(()=>{i&&!g.isClosePausedRef.current&&L(k)},[i,k,g.isClosePausedRef,L]),u.useEffect(()=>(_(),()=>P()),[_,P]);const I=u.useMemo(()=>N?lb(N):null,[N]);return g.viewport?e.jsxs(e.Fragment,{children:[I&&e.jsx(ik,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),e.jsx(rk,{scope:r,onClose:T,children:si.createPortal(e.jsx(Ax.ItemSlot,{scope:r,children:e.jsx($_,{asChild:!0,onEscapeKeyDown:se(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:se(t.onPointerDown,O=>{O.button===0&&(x.current={x:O.clientX,y:O.clientY})}),onPointerMove:se(t.onPointerMove,O=>{if(!x.current)return;const X=O.clientX-x.current.x,A=O.clientY-x.current.y,B=!!w.current,R=["left","right"].includes(g.swipeDirection),F=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,J=R?F(0,X):0,G=R?0:F(0,A),te=O.pointerType==="touch"?10:2,Q={x:J,y:G},ae={originalEvent:O,delta:Q};B?(w.current=Q,Ac(ek,m,ae,{discrete:!1})):Qg(Q,g.swipeDirection,te)?(w.current=Q,Ac(Z_,f,ae,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(X)>te||Math.abs(A)>te)&&(x.current=null)}),onPointerUp:se(t.onPointerUp,O=>{const X=w.current,A=O.target;if(A.hasPointerCapture(O.pointerId)&&A.releasePointerCapture(O.pointerId),w.current=null,x.current=null,X){const B=O.currentTarget,R={originalEvent:O,delta:X};Qg(X,g.swipeDirection,g.swipeThreshold)?Ac(sk,j,R,{discrete:!0}):Ac(tk,h,R,{discrete:!0}),B.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),ik=t=>{const{__scopeToast:s,children:r,...n}=t,a=ju(yu,s),[i,o]=u.useState(!1),[l,c]=u.useState(!1);return ck(()=>o(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:e.jsx(Kl,{asChild:!0,children:e.jsx(Yl,{...n,children:i&&e.jsxs(e.Fragment,{children:[a.label," ",r]})})})},ok="ToastTitle",sb=u.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t;return e.jsx(me.div,{...n,ref:s})});sb.displayName=ok;var lk="ToastDescription",rb=u.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t;return e.jsx(me.div,{...n,ref:s})});rb.displayName=lk;var nb="ToastAction",ab=u.forwardRef((t,s)=>{const{altText:r,...n}=t;return r.trim()?e.jsx(ob,{altText:r,asChild:!0,children:e.jsx(Mx,{...n,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${nb}\`. Expected non-empty \`string\`.`),null)});ab.displayName=nb;var ib="ToastClose",Mx=u.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t,a=nk(ib,r);return e.jsx(ob,{asChild:!0,children:e.jsx(me.button,{type:"button",...n,ref:s,onClick:se(t.onClick,a.onClose)})})});Mx.displayName=ib;var ob=u.forwardRef((t,s)=>{const{__scopeToast:r,altText:n,...a}=t;return e.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:s})});function lb(t){const s=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&s.push(n.textContent),dk(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&s.push(o)}else s.push(...lb(n))}}),s}function Ac(t,s,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});s&&a.addEventListener(t,s,{once:!0}),n?Tx(a,i):a.dispatchEvent(i)}var Qg=(t,s,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),i=n>a;return s==="left"||s==="right"?i&&n>r:!i&&a>r};function ck(t=()=>{}){const s=rt(t);St(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[s])}function dk(t){return t.nodeType===t.ELEMENT_NODE}function uk(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Sm(t){const s=document.activeElement;return t.some(r=>r===s?!0:(r.focus(),document.activeElement!==s))}var mk=Qy,cb=Zy,db=tb,ub=sb,mb=rb,hb=ab,fb=Mx;function xb(t){var s,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(s=0;s<a;s++)t[s]&&(r=xb(t[s]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function pb(){for(var t,s,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(s=xb(t))&&(n&&(n+=" "),n+=s);return n}const Jg=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Zg=pb,Ql=(t,s)=>r=>{var n;if((s==null?void 0:s.variants)==null)return Zg(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=s,o=Object.keys(a).map(d=>{const f=r==null?void 0:r[d],m=i==null?void 0:i[d];if(f===null)return null;const h=Jg(f)||Jg(m);return a[d][h]}),l=r&&Object.entries(r).reduce((d,f)=>{let[m,h]=f;return h===void 0||(d[m]=h),d},{}),c=s==null||(n=s.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:m,className:h,...j}=f;return Object.entries(j).every(y=>{let[g,N]=y;return Array.isArray(N)?N.includes({...i,...l}[g]):{...i,...l}[g]===N})?[...d,m,h]:d},[]);return Zg(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gb=(...t)=>t.filter((s,r,n)=>!!s&&s.trim()!==""&&n.indexOf(s)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=u.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>u.createElement("svg",{ref:c,...fk,width:s,height:s,stroke:t,strokeWidth:n?Number(r)*24/Number(s):r,className:gb("lucide",a),...l},[...o.map(([d,f])=>u.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(t,s)=>{const r=u.forwardRef(({className:n,...a},i)=>u.createElement(xk,{ref:i,iconNode:s,className:gb(`lucide-${hk(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Z("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=Z("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Z("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Z("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=Z("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=Z("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=Z("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=Z("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=Z("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=Z("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Z("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=Z("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=Z("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=Z("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Z("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=Z("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Z("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Z("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=Z("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Z("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=Z("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=Z("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Z("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Z("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Z("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=Z("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=Z("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=Z("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Z("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Z("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Z("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=Z("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=Z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=Z("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=Z("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=Z("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Z("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=Z("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Z("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=Z("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=Z("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=Z("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Z("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=Z("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=Z("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Z("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=Z("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Z("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=Z("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=Z("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Z("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=Z("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=Z("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=Z("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=Z("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=Z("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Lx="-",Fk=t=>{const s=$k(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(Lx);return l[0]===""&&l.length!==1&&l.shift(),_b(l,s)||zk(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},_b=(t,s)=>{var o;if(t.length===0)return s.classGroupId;const r=t[0],n=s.nextPart.get(r),a=n?_b(t.slice(1),n):void 0;if(a)return a;if(s.validators.length===0)return;const i=t.join(Lx);return(o=s.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},o0=/^\[(.+)\]$/,zk=t=>{if(o0.test(t)){const s=o0.exec(t)[1],r=s==null?void 0:s.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},$k=t=>{const{theme:s,prefix:r}=t,n={nextPart:new Map,validators:[]};return Bk(Object.entries(t.classGroups),r).forEach(([i,o])=>{Vh(o,n,i,s)}),n},Vh=(t,s,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?s:l0(s,a);i.classGroupId=r;return}if(typeof a=="function"){if(qk(a)){Vh(a(n),s,r,n);return}s.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Vh(o,l0(s,i),r,n)})})},l0=(t,s)=>{let r=t;return s.split(Lx).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},qk=t=>t.isThemeGetter,Bk=(t,s)=>s?t.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?s+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[s+o,l])):i);return[r,a]}):t,Vk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),s++,s>t&&(s=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},kb="!",Uk=t=>{const{separator:s,experimentalParseClassName:r}=t,n=s.length===1,a=s[0],i=s.length,o=l=>{const c=[];let d=0,f=0,m;for(let N=0;N<l.length;N++){let p=l[N];if(d===0){if(p===a&&(n||l.slice(N,N+i)===s)){c.push(l.slice(f,N)),f=N+i;continue}if(p==="/"){m=N;continue}}p==="["?d++:p==="]"&&d--}const h=c.length===0?l:l.substring(f),j=h.startsWith(kb),y=j?h.substring(1):h,g=m&&m>f?m-f:void 0;return{modifiers:c,hasImportantModifier:j,baseClassName:y,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},Hk=t=>{if(t.length<=1)return t;const s=[];let r=[];return t.forEach(n=>{n[0]==="["?(s.push(...r.sort(),n),r=[]):r.push(n)}),s.push(...r.sort()),s},Wk=t=>({cache:Vk(t.cacheSize),parseClassName:Uk(t),...Fk(t)}),Gk=/\s+/,Xk=(t,s)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=s,i=[],o=t.trim().split(Gk);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:j}=r(d);let y=!!j,g=n(y?h.substring(0,j):h);if(!g){if(!y){l=d+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=d+(l.length>0?" "+l:l);continue}y=!1}const N=Hk(f).join(":"),p=m?N+kb:N,v=p+g;if(i.includes(v))continue;i.push(v);const x=a(g,y);for(let w=0;w<x.length;++w){const k=x[w];i.push(p+k)}l=d+(l.length>0?" "+l:l)}return l};function Kk(){let t=0,s,r,n="";for(;t<arguments.length;)(s=arguments[t++])&&(r=Eb(s))&&(n&&(n+=" "),n+=r);return n}const Eb=t=>{if(typeof t=="string")return t;let s,r="";for(let n=0;n<t.length;n++)t[n]&&(s=Eb(t[n]))&&(r&&(r+=" "),r+=s);return r};function Yk(t,...s){let r,n,a,i=o;function o(c){const d=s.reduce((f,m)=>m(f),t());return r=Wk(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const f=Xk(c,r);return a(c,f),f}return function(){return i(Kk.apply(null,arguments))}}const Ze=t=>{const s=r=>r[t]||[];return s.isThemeGetter=!0,s},Pb=/^\[(?:([a-z-]+):)?(.+)\]$/i,Qk=/^\d+\/\d+$/,Jk=new Set(["px","full","screen"]),Zk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tn=t=>Ii(t)||Jk.has(t)||Qk.test(t),_n=t=>go(t,"length",uE),Ii=t=>!!t&&!Number.isNaN(Number(t)),_m=t=>go(t,"number",Ii),zo=t=>!!t&&Number.isInteger(Number(t)),nE=t=>t.endsWith("%")&&Ii(t.slice(0,-1)),_e=t=>Pb.test(t),kn=t=>Zk.test(t),aE=new Set(["length","size","percentage"]),iE=t=>go(t,aE,Tb),oE=t=>go(t,"position",Tb),lE=new Set(["image","url"]),cE=t=>go(t,lE,hE),dE=t=>go(t,"",mE),$o=()=>!0,go=(t,s,r)=>{const n=Pb.exec(t);return n?n[1]?typeof s=="string"?n[1]===s:s.has(n[1]):r(n[2]):!1},uE=t=>eE.test(t)&&!tE.test(t),Tb=()=>!1,mE=t=>sE.test(t),hE=t=>rE.test(t),fE=()=>{const t=Ze("colors"),s=Ze("spacing"),r=Ze("blur"),n=Ze("brightness"),a=Ze("borderColor"),i=Ze("borderRadius"),o=Ze("borderSpacing"),l=Ze("borderWidth"),c=Ze("contrast"),d=Ze("grayscale"),f=Ze("hueRotate"),m=Ze("invert"),h=Ze("gap"),j=Ze("gradientColorStops"),y=Ze("gradientColorStopPositions"),g=Ze("inset"),N=Ze("margin"),p=Ze("opacity"),v=Ze("padding"),x=Ze("saturate"),w=Ze("scale"),k=Ze("sepia"),S=Ze("skew"),b=Ze("space"),C=Ze("translate"),_=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",_e,s],L=()=>[_e,s],I=()=>["",tn,_n],O=()=>["auto",Ii,_e],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",_e],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Ii,_e];return{cacheSize:500,separator:":",theme:{colors:[$o],spacing:[tn,_n],blur:["none","",kn,_e],brightness:G(),borderColor:[t],borderRadius:["none","","full",kn,_e],borderSpacing:L(),borderWidth:I(),contrast:G(),grayscale:F(),hueRotate:G(),invert:F(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[nE,_n],inset:T(),margin:T(),opacity:G(),padding:L(),saturate:G(),scale:G(),sepia:F(),skew:G(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[kn]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),_e]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zo,_e]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",zo,_e]}],"grid-cols":[{"grid-cols":[$o]}],"col-start-end":[{col:["auto",{span:["full",zo,_e]},_e]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[$o]}],"row-start-end":[{row:["auto",{span:[zo,_e]},_e]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,s]}],"min-w":[{"min-w":[_e,s,"min","max","fit"]}],"max-w":[{"max-w":[_e,s,"none","full","min","max","fit","prose",{screen:[kn]},kn]}],h:[{h:[_e,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,s,"auto","min","max","fit"]}],"font-size":[{text:["base",kn,_n]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_m]}],"font-family":[{font:[$o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Ii,_m]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tn,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tn,_n]}],"underline-offset":[{"underline-offset":["auto",tn,_e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),oE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cE]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[j]}],"gradient-via":[{via:[j]}],"gradient-to":[{to:[j]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:A()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[tn,_e]}],"outline-w":[{outline:[tn,_n]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[tn,_n]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",kn,dE]}],"shadow-color":[{shadow:[$o]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",kn,_e]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[x]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[zo,_e]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tn,_n,_m]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xE=Yk(fE);function ie(...t){return xE(pb(t))}const pE=mk,Rb=u.forwardRef(({className:t,...s},r)=>e.jsx(cb,{ref:r,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));Rb.displayName=cb.displayName;const gE=Ql("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ab=u.forwardRef(({className:t,variant:s,...r},n)=>e.jsx(db,{ref:n,className:ie(gE({variant:s}),t),...r}));Ab.displayName=db.displayName;const vE=u.forwardRef(({className:t,...s},r)=>e.jsx(hb,{ref:r,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));vE.displayName=hb.displayName;const Mb=u.forwardRef(({className:t,...s},r)=>e.jsx(fb,{ref:r,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(Ae,{className:"h-4 w-4"})}));Mb.displayName=fb.displayName;const Ib=u.forwardRef(({className:t,...s},r)=>e.jsx(ub,{ref:r,className:ie("text-sm font-semibold",t),...s}));Ib.displayName=ub.displayName;const Lb=u.forwardRef(({className:t,...s},r)=>e.jsx(mb,{ref:r,className:ie("text-sm opacity-90",t),...s}));Lb.displayName=mb.displayName;function jE(){const{toasts:t}=Px();return e.jsxs(pE,{children:[t.map(function({id:s,title:r,description:n,action:a,...i}){return e.jsxs(Ab,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(Ib,{children:r}),n&&e.jsx(Lb,{children:n})]}),a,e.jsx(Mb,{})]},s)}),e.jsx(Rb,{})]})}var c0=["light","dark"],yE="(prefers-color-scheme: dark)",bE=u.createContext(void 0),NE={setTheme:t=>{},themes:[]},wE=()=>{var t;return(t=u.useContext(bE))!=null?t:NE};u.memo(({forcedTheme:t,storageKey:s,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=a?c0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,g=!1,N=!0)=>{let p=o?o[y]:y,v=g?y+"|| ''":`'${p}'`,x="";return a&&N&&!g&&c0.includes(y)&&(x+=`d.style.colorScheme = '${y}';`),r==="class"?g||p?x+=`c.add(${v})`:x+="null":p&&(x+=`d[s](n,${v})`),x},j=t?`!function(){${f}${h(t)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${s}');if('system'===e||(!e&&${d})){var t='${yE}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${d?"":"else{"+h(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${s}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${m}}catch(t){}}();`;return u.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:j}})});var CE=t=>{switch(t){case"success":return kE;case"info":return PE;case"warning":return EE;case"error":return TE;default:return null}},SE=Array(12).fill(0),_E=({visible:t})=>re.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},re.createElement("div",{className:"sonner-spinner"},SE.map((s,r)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),kE=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),EE=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),PE=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),TE=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),RE=()=>{let[t,s]=re.useState(document.hidden);return re.useEffect(()=>{let r=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Uh=1,AE=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;let{message:r,...n}=t,a=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:Uh++,i=this.toasts.find(l=>l.id===a),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...t,id:a,title:r}),{...l,...t,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=t=>(t||this.toasts.forEach(s=>{this.subscribers.forEach(r=>r({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:t,dismiss:!0})),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let r;s.loading!==void 0&&(r=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let n=t instanceof Promise?t:t(),a=r!==void 0;return n.then(async i=>{if(IE(i)&&!i.ok){a=!1;let o=typeof s.error=="function"?await s.error(`HTTP error! status: ${i.status}`):s.error,l=typeof s.description=="function"?await s.description(`HTTP error! status: ${i.status}`):s.description;this.create({id:r,type:"error",message:o,description:l})}else if(s.success!==void 0){a=!1;let o=typeof s.success=="function"?await s.success(i):s.success,l=typeof s.description=="function"?await s.description(i):s.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(s.error!==void 0){a=!1;let o=typeof s.error=="function"?await s.error(i):s.error,l=typeof s.description=="function"?await s.description(i):s.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;a&&(this.dismiss(r),r=void 0),(i=s.finally)==null||i.call(s)}),r},this.custom=(t,s)=>{let r=(s==null?void 0:s.id)||Uh++;return this.create({jsx:t(r),id:r,...s}),r},this.subscribers=[],this.toasts=[]}},gs=new AE,ME=(t,s)=>{let r=(s==null?void 0:s.id)||Uh++;return gs.addToast({title:t,...s,id:r}),r},IE=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",LE=ME,DE=()=>gs.toasts,M=Object.assign(LE,{success:gs.success,info:gs.info,warning:gs.warning,error:gs.error,custom:gs.custom,message:gs.message,promise:gs.promise,dismiss:gs.dismiss,loading:gs.loading},{getHistory:DE});function OE(t,{insertAt:s}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",s==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}OE(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Mc(t){return t.label!==void 0}var FE=3,zE="32px",$E=4e3,qE=356,BE=14,VE=20,UE=200;function HE(...t){return t.filter(Boolean).join(" ")}var WE=t=>{var s,r,n,a,i,o,l,c,d,f;let{invert:m,toast:h,unstyled:j,interacting:y,setHeights:g,visibleToasts:N,heights:p,index:v,toasts:x,expanded:w,removeToast:k,defaultRichColors:S,closeButton:b,style:C,cancelButtonStyle:_,actionButtonStyle:P,className:T="",descriptionClassName:L="",duration:I,position:O,gap:X,loadingIcon:A,expandByDefault:B,classNames:R,icons:F,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:G,cn:te}=t,[Q,ae]=re.useState(!1),[ue,de]=re.useState(!1),[V,ne]=re.useState(!1),[pe,oe]=re.useState(!1),[ve,ge]=re.useState(0),[_t,Ot]=re.useState(0),Zs=re.useRef(null),Wt=re.useRef(null),wr=v===0,oi=v+1<=N,pt=h.type,Jr=h.dismissible!==!1,cc=h.className||"",dc=h.descriptionClassName||"",Na=re.useMemo(()=>p.findIndex(Se=>Se.toastId===h.id)||0,[p,h.id]),uc=re.useMemo(()=>{var Se;return(Se=h.closeButton)!=null?Se:b},[h.closeButton,b]),Po=re.useMemo(()=>h.duration||I||$E,[h.duration,I]),li=re.useRef(0),Zr=re.useRef(0),To=re.useRef(0),ze=re.useRef(null),[gt,en]=O.split("-"),Dp=re.useMemo(()=>p.reduce((Se,Je,Xe)=>Xe>=Na?Se:Se+Je.height,0),[p,Na]),Op=RE(),UC=h.invert||m,Ku=pt==="loading";Zr.current=re.useMemo(()=>Na*X+Dp,[Na,Dp]),re.useEffect(()=>{ae(!0)},[]),re.useLayoutEffect(()=>{if(!Q)return;let Se=Wt.current,Je=Se.style.height;Se.style.height="auto";let Xe=Se.getBoundingClientRect().height;Se.style.height=Je,Ot(Xe),g(Cr=>Cr.find(Sr=>Sr.toastId===h.id)?Cr.map(Sr=>Sr.toastId===h.id?{...Sr,height:Xe}:Sr):[{toastId:h.id,height:Xe,position:h.position},...Cr])},[Q,h.title,h.description,g,h.id]);let Cn=re.useCallback(()=>{de(!0),ge(Zr.current),g(Se=>Se.filter(Je=>Je.toastId!==h.id)),setTimeout(()=>{k(h)},UE)},[h,k,g,Zr]);re.useEffect(()=>{if(h.promise&&pt==="loading"||h.duration===1/0||h.type==="loading")return;let Se,Je=Po;return w||y||G&&Op?(()=>{if(To.current<li.current){let Xe=new Date().getTime()-li.current;Je=Je-Xe}To.current=new Date().getTime()})():Je!==1/0&&(li.current=new Date().getTime(),Se=setTimeout(()=>{var Xe;(Xe=h.onAutoClose)==null||Xe.call(h,h),Cn()},Je)),()=>clearTimeout(Se)},[w,y,B,h,Po,Cn,h.promise,pt,G,Op]),re.useEffect(()=>{let Se=Wt.current;if(Se){let Je=Se.getBoundingClientRect().height;return Ot(Je),g(Xe=>[{toastId:h.id,height:Je,position:h.position},...Xe]),()=>g(Xe=>Xe.filter(Cr=>Cr.toastId!==h.id))}},[g,h.id]),re.useEffect(()=>{h.delete&&Cn()},[Cn,h.delete]);function HC(){return F!=null&&F.loading?re.createElement("div",{className:"sonner-loader","data-visible":pt==="loading"},F.loading):A?re.createElement("div",{className:"sonner-loader","data-visible":pt==="loading"},A):re.createElement(_E,{visible:pt==="loading"})}return re.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Wt,className:te(T,cc,R==null?void 0:R.toast,(s=h==null?void 0:h.classNames)==null?void 0:s.toast,R==null?void 0:R.default,R==null?void 0:R[pt],(r=h==null?void 0:h.classNames)==null?void 0:r[pt]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:S,"data-styled":!(h.jsx||h.unstyled||j),"data-mounted":Q,"data-promise":!!h.promise,"data-removed":ue,"data-visible":oi,"data-y-position":gt,"data-x-position":en,"data-index":v,"data-front":wr,"data-swiping":V,"data-dismissible":Jr,"data-type":pt,"data-invert":UC,"data-swipe-out":pe,"data-expanded":!!(w||B&&Q),style:{"--index":v,"--toasts-before":v,"--z-index":x.length-v,"--offset":`${ue?ve:Zr.current}px`,"--initial-height":B?"auto":`${_t}px`,...C,...h.style},onPointerDown:Se=>{Ku||!Jr||(Zs.current=new Date,ge(Zr.current),Se.target.setPointerCapture(Se.pointerId),Se.target.tagName!=="BUTTON"&&(ne(!0),ze.current={x:Se.clientX,y:Se.clientY}))},onPointerUp:()=>{var Se,Je,Xe,Cr;if(pe||!Jr)return;ze.current=null;let Sr=Number(((Se=Wt.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount").replace("px",""))||0),mc=new Date().getTime()-((Je=Zs.current)==null?void 0:Je.getTime()),WC=Math.abs(Sr)/mc;if(Math.abs(Sr)>=VE||WC>.11){ge(Zr.current),(Xe=h.onDismiss)==null||Xe.call(h,h),Cn(),oe(!0);return}(Cr=Wt.current)==null||Cr.style.setProperty("--swipe-amount","0px"),ne(!1)},onPointerMove:Se=>{var Je;if(!ze.current||!Jr)return;let Xe=Se.clientY-ze.current.y,Cr=Se.clientX-ze.current.x,Sr=(gt==="top"?Math.min:Math.max)(0,Xe),mc=Se.pointerType==="touch"?10:2;Math.abs(Sr)>mc?(Je=Wt.current)==null||Je.style.setProperty("--swipe-amount",`${Xe}px`):Math.abs(Cr)>mc&&(ze.current=null)}},uc&&!h.jsx?re.createElement("button",{"aria-label":J,"data-disabled":Ku,"data-close-button":!0,onClick:Ku||!Jr?()=>{}:()=>{var Se;Cn(),(Se=h.onDismiss)==null||Se.call(h,h)},className:te(R==null?void 0:R.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||re.isValidElement(h.title)?h.jsx||h.title:re.createElement(re.Fragment,null,pt||h.icon||h.promise?re.createElement("div",{"data-icon":"",className:te(R==null?void 0:R.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||HC():null,h.type!=="loading"?h.icon||(F==null?void 0:F[pt])||CE(pt):null):null,re.createElement("div",{"data-content":"",className:te(R==null?void 0:R.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},re.createElement("div",{"data-title":"",className:te(R==null?void 0:R.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?re.createElement("div",{"data-description":"",className:te(L,dc,R==null?void 0:R.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),re.isValidElement(h.cancel)?h.cancel:h.cancel&&Mc(h.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||_,onClick:Se=>{var Je,Xe;Mc(h.cancel)&&Jr&&((Xe=(Je=h.cancel).onClick)==null||Xe.call(Je,Se),Cn())},className:te(R==null?void 0:R.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,re.isValidElement(h.action)?h.action:h.action&&Mc(h.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:Se=>{var Je,Xe;Mc(h.action)&&(Se.defaultPrevented||((Xe=(Je=h.action).onClick)==null||Xe.call(Je,Se),Cn()))},className:te(R==null?void 0:R.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function d0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var GE=t=>{let{invert:s,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:f,style:m,visibleToasts:h=FE,toastOptions:j,dir:y=d0(),gap:g=BE,loadingIcon:N,icons:p,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:x,cn:w=HE}=t,[k,S]=re.useState([]),b=re.useMemo(()=>Array.from(new Set([r].concat(k.filter(G=>G.position).map(G=>G.position)))),[k,r]),[C,_]=re.useState([]),[P,T]=re.useState(!1),[L,I]=re.useState(!1),[O,X]=re.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),A=re.useRef(null),B=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=re.useRef(null),F=re.useRef(!1),J=re.useCallback(G=>{var te;(te=k.find(Q=>Q.id===G.id))!=null&&te.delete||gs.dismiss(G.id),S(Q=>Q.filter(({id:ae})=>ae!==G.id))},[k]);return re.useEffect(()=>gs.subscribe(G=>{if(G.dismiss){S(te=>te.map(Q=>Q.id===G.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{Uy.flushSync(()=>{S(te=>{let Q=te.findIndex(ae=>ae.id===G.id);return Q!==-1?[...te.slice(0,Q),{...te[Q],...G},...te.slice(Q+1)]:[G,...te]})})})}),[]),re.useEffect(()=>{if(c!=="system"){X(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{X(G?"dark":"light")})},[c]),re.useEffect(()=>{k.length<=1&&T(!1)},[k]),re.useEffect(()=>{let G=te=>{var Q,ae;n.every(ue=>te[ue]||te.code===ue)&&(T(!0),(Q=A.current)==null||Q.focus()),te.code==="Escape"&&(document.activeElement===A.current||(ae=A.current)!=null&&ae.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[n]),re.useEffect(()=>{if(A.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,F.current=!1)}},[A.current]),k.length?re.createElement("section",{"aria-label":`${v} ${B}`,tabIndex:-1},b.map((G,te)=>{var Q;let[ae,ue]=G.split("-");return re.createElement("ol",{key:G,dir:y==="auto"?d0():y,tabIndex:-1,ref:A,className:o,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":ae,"data-x-position":ue,style:{"--front-toast-height":`${((Q=C[0])==null?void 0:Q.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||zE,"--width":`${qE}px`,"--gap":`${g}px`,...m},onBlur:de=>{F.current&&!de.currentTarget.contains(de.relatedTarget)&&(F.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||F.current||(F.current=!0,R.current=de.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{L||T(!1)},onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},k.filter(de=>!de.position&&te===0||de.position===G).map((de,V)=>{var ne,pe;return re.createElement(WE,{key:de.id,icons:p,index:V,toast:de,defaultRichColors:d,duration:(ne=j==null?void 0:j.duration)!=null?ne:f,className:j==null?void 0:j.className,descriptionClassName:j==null?void 0:j.descriptionClassName,invert:s,visibleToasts:h,closeButton:(pe=j==null?void 0:j.closeButton)!=null?pe:i,interacting:L,position:G,style:j==null?void 0:j.style,unstyled:j==null?void 0:j.unstyled,classNames:j==null?void 0:j.classNames,cancelButtonStyle:j==null?void 0:j.cancelButtonStyle,actionButtonStyle:j==null?void 0:j.actionButtonStyle,removeToast:J,toasts:k.filter(oe=>oe.position==de.position),heights:C.filter(oe=>oe.position==de.position),setHeights:_,expandByDefault:a,gap:g,loadingIcon:N,expanded:P,pauseWhenPageIsHidden:x,cn:w})}))})):null};const XE=({...t})=>{const{theme:s="system"}=wE();return e.jsx(GE,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var KE=Ff.useId||(()=>{}),YE=0;function qr(t){const[s,r]=u.useState(KE());return St(()=>{r(n=>n??String(YE++))},[t]),s?`radix-${s}`:""}const QE=["top","right","bottom","left"],oa=Math.min,ys=Math.max,$d=Math.round,Ic=Math.floor,la=t=>({x:t,y:t}),JE={left:"right",right:"left",bottom:"top",top:"bottom"},ZE={start:"end",end:"start"};function Hh(t,s,r){return ys(t,oa(s,r))}function vn(t,s){return typeof t=="function"?t(s):t}function jn(t){return t.split("-")[0]}function vo(t){return t.split("-")[1]}function Dx(t){return t==="x"?"y":"x"}function Ox(t){return t==="y"?"height":"width"}function ca(t){return["top","bottom"].includes(jn(t))?"y":"x"}function Fx(t){return Dx(ca(t))}function e6(t,s,r){r===void 0&&(r=!1);const n=vo(t),a=Fx(t),i=Ox(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(o=qd(o)),[o,qd(o)]}function t6(t){const s=qd(t);return[Wh(t),s,Wh(s)]}function Wh(t){return t.replace(/start|end/g,s=>ZE[s])}function s6(t,s,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?s?a:n:s?n:a;case"left":case"right":return s?i:o;default:return[]}}function r6(t,s,r,n){const a=vo(t);let i=s6(jn(t),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),s&&(i=i.concat(i.map(Wh)))),i}function qd(t){return t.replace(/left|right|bottom|top/g,s=>JE[s])}function n6(t){return{top:0,right:0,bottom:0,left:0,...t}}function Db(t){return typeof t!="number"?n6(t):{top:t,right:t,bottom:t,left:t}}function Bd(t){const{x:s,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:s,right:s+n,bottom:r+a,x:s,y:r}}function u0(t,s,r){let{reference:n,floating:a}=t;const i=ca(s),o=Fx(s),l=Ox(o),c=jn(s),d=i==="y",f=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let j;switch(c){case"top":j={x:f,y:n.y-a.height};break;case"bottom":j={x:f,y:n.y+n.height};break;case"right":j={x:n.x+n.width,y:m};break;case"left":j={x:n.x-a.width,y:m};break;default:j={x:n.x,y:n.y}}switch(vo(s)){case"start":j[o]-=h*(r&&d?-1:1);break;case"end":j[o]+=h*(r&&d?-1:1);break}return j}const a6=async(t,s,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(s));let d=await o.getElementRects({reference:t,floating:s,strategy:a}),{x:f,y:m}=u0(d,n,c),h=n,j={},y=0;for(let g=0;g<l.length;g++){const{name:N,fn:p}=l[g],{x:v,y:x,data:w,reset:k}=await p({x:f,y:m,initialPlacement:n,placement:h,strategy:a,middlewareData:j,rects:d,platform:o,elements:{reference:t,floating:s}});f=v??f,m=x??m,j={...j,[N]:{...j[N],...w}},k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(d=k.rects===!0?await o.getElementRects({reference:t,floating:s,strategy:a}):k.rects),{x:f,y:m}=u0(d,h,c)),g=-1)}return{x:f,y:m,placement:h,strategy:a,middlewareData:j}};async function Pl(t,s){var r;s===void 0&&(s={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:h=!1,padding:j=0}=vn(s,t),y=Db(j),N=l[h?m==="floating"?"reference":"floating":m],p=Bd(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(N)))==null||r?N:N.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),v=m==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},k=Bd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:x,strategy:c}):v);return{top:(p.top-k.top+y.top)/w.y,bottom:(k.bottom-p.bottom+y.bottom)/w.y,left:(p.left-k.left+y.left)/w.x,right:(k.right-p.right+y.right)/w.x}}const i6=t=>({name:"arrow",options:t,async fn(s){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=s,{element:d,padding:f=0}=vn(t,s)||{};if(d==null)return{};const m=Db(f),h={x:r,y:n},j=Fx(a),y=Ox(j),g=await o.getDimensions(d),N=j==="y",p=N?"top":"left",v=N?"bottom":"right",x=N?"clientHeight":"clientWidth",w=i.reference[y]+i.reference[j]-h[j]-i.floating[y],k=h[j]-i.reference[j],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let b=S?S[x]:0;(!b||!await(o.isElement==null?void 0:o.isElement(S)))&&(b=l.floating[x]||i.floating[y]);const C=w/2-k/2,_=b/2-g[y]/2-1,P=oa(m[p],_),T=oa(m[v],_),L=P,I=b-g[y]-T,O=b/2-g[y]/2+C,X=Hh(L,O,I),A=!c.arrow&&vo(a)!=null&&O!==X&&i.reference[y]/2-(O<L?P:T)-g[y]/2<0,B=A?O<L?O-L:O-I:0;return{[j]:h[j]+B,data:{[j]:X,centerOffset:O-X-B,...A&&{alignmentOffset:B}},reset:A}}}),o6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=s,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...N}=vn(t,s);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const p=jn(a),v=ca(l),x=jn(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=h||(x||!g?[qd(l)]:t6(l)),S=y!=="none";!h&&S&&k.push(...r6(l,g,y,w));const b=[l,...k],C=await Pl(s,N),_=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&_.push(C[p]),m){const O=e6(a,o,w);_.push(C[O[0]],C[O[1]])}if(P=[...P,{placement:a,overflows:_}],!_.every(O=>O<=0)){var T,L;const O=(((T=i.flip)==null?void 0:T.index)||0)+1,X=b[O];if(X)return{data:{index:O,overflows:P},reset:{placement:X}};let A=(L=P.filter(B=>B.overflows[0]<=0).sort((B,R)=>B.overflows[1]-R.overflows[1])[0])==null?void 0:L.placement;if(!A)switch(j){case"bestFit":{var I;const B=(I=P.filter(R=>{if(S){const F=ca(R.placement);return F===v||F==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(F=>F>0).reduce((F,J)=>F+J,0)]).sort((R,F)=>R[1]-F[1])[0])==null?void 0:I[0];B&&(A=B);break}case"initialPlacement":A=l;break}if(a!==A)return{reset:{placement:A}}}return{}}}};function m0(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function h0(t){return QE.some(s=>t[s]>=0)}const l6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:r}=s,{strategy:n="referenceHidden",...a}=vn(t,s);switch(n){case"referenceHidden":{const i=await Pl(s,{...a,elementContext:"reference"}),o=m0(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:h0(o)}}}case"escaped":{const i=await Pl(s,{...a,altBoundary:!0}),o=m0(i,r.floating);return{data:{escapedOffsets:o,escaped:h0(o)}}}default:return{}}}}};async function c6(t,s){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=jn(r),l=vo(r),c=ca(r)==="y",d=["left","top"].includes(o)?-1:1,f=i&&c?-1:1,m=vn(s,t);let{mainAxis:h,crossAxis:j,alignmentAxis:y}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof y=="number"&&(j=l==="end"?y*-1:y),c?{x:j*f,y:h*d}:{x:h*d,y:j*f}}const d6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=s,c=await c6(s,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},u6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:r,y:n,placement:a}=s,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:N=>{let{x:p,y:v}=N;return{x:p,y:v}}},...c}=vn(t,s),d={x:r,y:n},f=await Pl(s,c),m=ca(jn(a)),h=Dx(m);let j=d[h],y=d[m];if(i){const N=h==="y"?"top":"left",p=h==="y"?"bottom":"right",v=j+f[N],x=j-f[p];j=Hh(v,j,x)}if(o){const N=m==="y"?"top":"left",p=m==="y"?"bottom":"right",v=y+f[N],x=y-f[p];y=Hh(v,y,x)}const g=l.fn({...s,[h]:j,[m]:y});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[m]:o}}}}}},m6=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=s,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=vn(t,s),f={x:r,y:n},m=ca(a),h=Dx(m);let j=f[h],y=f[m];const g=vn(l,s),N=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=h==="y"?"height":"width",w=i.reference[h]-i.floating[x]+N.mainAxis,k=i.reference[h]+i.reference[x]-N.mainAxis;j<w?j=w:j>k&&(j=k)}if(d){var p,v;const x=h==="y"?"width":"height",w=["top","left"].includes(jn(a)),k=i.reference[m]-i.floating[x]+(w&&((p=o.offset)==null?void 0:p[m])||0)+(w?0:N.crossAxis),S=i.reference[m]+i.reference[x]+(w?0:((v=o.offset)==null?void 0:v[m])||0)-(w?N.crossAxis:0);y<k?y=k:y>S&&(y=S)}return{[h]:j,[m]:y}}}},h6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var r,n;const{placement:a,rects:i,platform:o,elements:l}=s,{apply:c=()=>{},...d}=vn(t,s),f=await Pl(s,d),m=jn(a),h=vo(a),j=ca(a)==="y",{width:y,height:g}=i.floating;let N,p;m==="top"||m==="bottom"?(N=m,p=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(p=m,N=h==="end"?"top":"bottom");const v=g-f.top-f.bottom,x=y-f.left-f.right,w=oa(g-f[N],v),k=oa(y-f[p],x),S=!s.middlewareData.shift;let b=w,C=k;if((r=s.middlewareData.shift)!=null&&r.enabled.x&&(C=x),(n=s.middlewareData.shift)!=null&&n.enabled.y&&(b=v),S&&!h){const P=ys(f.left,0),T=ys(f.right,0),L=ys(f.top,0),I=ys(f.bottom,0);j?C=y-2*(P!==0||T!==0?P+T:ys(f.left,f.right)):b=g-2*(L!==0||I!==0?L+I:ys(f.top,f.bottom))}await c({...s,availableWidth:C,availableHeight:b});const _=await o.getDimensions(l.floating);return y!==_.width||g!==_.height?{reset:{rects:!0}}:{}}}};function Cu(){return typeof window<"u"}function jo(t){return Ob(t)?(t.nodeName||"").toLowerCase():"#document"}function Ss(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function Gr(t){var s;return(s=(Ob(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function Ob(t){return Cu()?t instanceof Node||t instanceof Ss(t).Node:!1}function jr(t){return Cu()?t instanceof Element||t instanceof Ss(t).Element:!1}function Ur(t){return Cu()?t instanceof HTMLElement||t instanceof Ss(t).HTMLElement:!1}function f0(t){return!Cu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ss(t).ShadowRoot}function Zl(t){const{overflow:s,overflowX:r,overflowY:n,display:a}=yr(t);return/auto|scroll|overlay|hidden|clip/.test(s+n+r)&&!["inline","contents"].includes(a)}function f6(t){return["table","td","th"].includes(jo(t))}function Su(t){return[":popover-open",":modal"].some(s=>{try{return t.matches(s)}catch{return!1}})}function zx(t){const s=$x(),r=jr(t)?yr(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!s&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!s&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function x6(t){let s=da(t);for(;Ur(s)&&!oo(s);){if(zx(s))return s;if(Su(s))return null;s=da(s)}return null}function $x(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oo(t){return["html","body","#document"].includes(jo(t))}function yr(t){return Ss(t).getComputedStyle(t)}function _u(t){return jr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function da(t){if(jo(t)==="html")return t;const s=t.assignedSlot||t.parentNode||f0(t)&&t.host||Gr(t);return f0(s)?s.host:s}function Fb(t){const s=da(t);return oo(s)?t.ownerDocument?t.ownerDocument.body:t.body:Ur(s)&&Zl(s)?s:Fb(s)}function Tl(t,s,r){var n;s===void 0&&(s=[]),r===void 0&&(r=!0);const a=Fb(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),o=Ss(a);if(i){const l=Gh(o);return s.concat(o,o.visualViewport||[],Zl(a)?a:[],l&&r?Tl(l):[])}return s.concat(a,Tl(a,[],r))}function Gh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function zb(t){const s=yr(t);let r=parseFloat(s.width)||0,n=parseFloat(s.height)||0;const a=Ur(t),i=a?t.offsetWidth:r,o=a?t.offsetHeight:n,l=$d(r)!==i||$d(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function qx(t){return jr(t)?t:t.contextElement}function Li(t){const s=qx(t);if(!Ur(s))return la(1);const r=s.getBoundingClientRect(),{width:n,height:a,$:i}=zb(s);let o=(i?$d(r.width):r.width)/n,l=(i?$d(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const p6=la(0);function $b(t){const s=Ss(t);return!$x()||!s.visualViewport?p6:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function g6(t,s,r){return s===void 0&&(s=!1),!r||s&&r!==Ss(t)?!1:s}function Ga(t,s,r,n){s===void 0&&(s=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=qx(t);let o=la(1);s&&(n?jr(n)&&(o=Li(n)):o=Li(t));const l=g6(i,r,n)?$b(i):la(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,f=a.width/o.x,m=a.height/o.y;if(i){const h=Ss(i),j=n&&jr(n)?Ss(n):n;let y=h,g=Gh(y);for(;g&&n&&j!==y;){const N=Li(g),p=g.getBoundingClientRect(),v=yr(g),x=p.left+(g.clientLeft+parseFloat(v.paddingLeft))*N.x,w=p.top+(g.clientTop+parseFloat(v.paddingTop))*N.y;c*=N.x,d*=N.y,f*=N.x,m*=N.y,c+=x,d+=w,y=Ss(g),g=Gh(y)}}return Bd({width:f,height:m,x:c,y:d})}function v6(t){let{elements:s,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",o=Gr(n),l=s?Su(s.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=la(1);const f=la(0),m=Ur(n);if((m||!m&&!i)&&((jo(n)!=="body"||Zl(o))&&(c=_u(n)),Ur(n))){const h=Ga(n);d=Li(n),f.x=h.x+n.clientLeft,f.y=h.y+n.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x,y:r.y*d.y-c.scrollTop*d.y+f.y}}function j6(t){return Array.from(t.getClientRects())}function Xh(t,s){const r=_u(t).scrollLeft;return s?s.left+r:Ga(Gr(t)).left+r}function y6(t){const s=Gr(t),r=_u(t),n=t.ownerDocument.body,a=ys(s.scrollWidth,s.clientWidth,n.scrollWidth,n.clientWidth),i=ys(s.scrollHeight,s.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Xh(t);const l=-r.scrollTop;return yr(n).direction==="rtl"&&(o+=ys(s.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function b6(t,s){const r=Ss(t),n=Gr(t),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=$x();(!d||d&&s==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function N6(t,s){const r=Ga(t,!0,s==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=Ur(t)?Li(t):la(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function x0(t,s,r){let n;if(s==="viewport")n=b6(t,r);else if(s==="document")n=y6(Gr(t));else if(jr(s))n=N6(s,r);else{const a=$b(t);n={...s,x:s.x-a.x,y:s.y-a.y}}return Bd(n)}function qb(t,s){const r=da(t);return r===s||!jr(r)||oo(r)?!1:yr(r).position==="fixed"||qb(r,s)}function w6(t,s){const r=s.get(t);if(r)return r;let n=Tl(t,[],!1).filter(l=>jr(l)&&jo(l)!=="body"),a=null;const i=yr(t).position==="fixed";let o=i?da(t):t;for(;jr(o)&&!oo(o);){const l=yr(o),c=zx(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Zl(o)&&!c&&qb(t,o))?n=n.filter(f=>f!==o):a=l,o=da(o)}return s.set(t,n),n}function C6(t){let{element:s,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?Su(s)?[]:w6(s,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,f)=>{const m=x0(s,f,a);return d.top=ys(m.top,d.top),d.right=oa(m.right,d.right),d.bottom=oa(m.bottom,d.bottom),d.left=ys(m.left,d.left),d},x0(s,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function S6(t){const{width:s,height:r}=zb(t);return{width:s,height:r}}function _6(t,s,r){const n=Ur(s),a=Gr(s),i=r==="fixed",o=Ga(t,!0,i,s);let l={scrollLeft:0,scrollTop:0};const c=la(0);if(n||!n&&!i)if((jo(s)!=="body"||Zl(a))&&(l=_u(s)),n){const j=Ga(s,!0,i,s);c.x=j.x+s.clientLeft,c.y=j.y+s.clientTop}else a&&(c.x=Xh(a));let d=0,f=0;if(a&&!n&&!i){const j=a.getBoundingClientRect();f=j.top+l.scrollTop,d=j.left+l.scrollLeft-Xh(a,j)}const m=o.left+l.scrollLeft-c.x-d,h=o.top+l.scrollTop-c.y-f;return{x:m,y:h,width:o.width,height:o.height}}function km(t){return yr(t).position==="static"}function p0(t,s){if(!Ur(t)||yr(t).position==="fixed")return null;if(s)return s(t);let r=t.offsetParent;return Gr(t)===r&&(r=r.ownerDocument.body),r}function Bb(t,s){const r=Ss(t);if(Su(t))return r;if(!Ur(t)){let a=da(t);for(;a&&!oo(a);){if(jr(a)&&!km(a))return a;a=da(a)}return r}let n=p0(t,s);for(;n&&f6(n)&&km(n);)n=p0(n,s);return n&&oo(n)&&km(n)&&!zx(n)?r:n||x6(t)||r}const k6=async function(t){const s=this.getOffsetParent||Bb,r=this.getDimensions,n=await r(t.floating);return{reference:_6(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function E6(t){return yr(t).direction==="rtl"}const P6={convertOffsetParentRelativeRectToViewportRelativeRect:v6,getDocumentElement:Gr,getClippingRect:C6,getOffsetParent:Bb,getElementRects:k6,getClientRects:j6,getDimensions:S6,getScale:Li,isElement:jr,isRTL:E6};function T6(t,s){let r=null,n;const a=Gr(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:f,width:m,height:h}=t.getBoundingClientRect();if(l||s(),!m||!h)return;const j=Ic(f),y=Ic(a.clientWidth-(d+m)),g=Ic(a.clientHeight-(f+h)),N=Ic(d),v={rootMargin:-j+"px "+-y+"px "+-g+"px "+-N+"px",threshold:ys(0,oa(1,c))||1};let x=!0;function w(k){const S=k[0].intersectionRatio;if(S!==c){if(!x)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{r=new IntersectionObserver(w,{...v,root:a.ownerDocument})}catch{r=new IntersectionObserver(w,v)}r.observe(t)}return o(!0),i}function R6(t,s,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=qx(t),f=a||i?[...d?Tl(d):[],...Tl(s)]:[];f.forEach(p=>{a&&p.addEventListener("scroll",r,{passive:!0}),i&&p.addEventListener("resize",r)});const m=d&&l?T6(d,r):null;let h=-1,j=null;o&&(j=new ResizeObserver(p=>{let[v]=p;v&&v.target===d&&j&&(j.unobserve(s),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=j)==null||x.observe(s)})),r()}),d&&!c&&j.observe(d),j.observe(s));let y,g=c?Ga(t):null;c&&N();function N(){const p=Ga(t);g&&(p.x!==g.x||p.y!==g.y||p.width!==g.width||p.height!==g.height)&&r(),g=p,y=requestAnimationFrame(N)}return r(),()=>{var p;f.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),m==null||m(),(p=j)==null||p.disconnect(),j=null,c&&cancelAnimationFrame(y)}}const A6=d6,M6=u6,I6=o6,L6=h6,D6=l6,g0=i6,O6=m6,F6=(t,s,r)=>{const n=new Map,a={platform:P6,...r},i={...a.platform,_c:n};return a6(t,s,{...a,platform:i})};var ad=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Vd(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let r,n,a;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==s.length)return!1;for(n=r;n--!==0;)if(!Vd(t[n],s[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(s).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(s,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!Vd(t[i],s[i]))return!1}return!0}return t!==t&&s!==s}function Vb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function v0(t,s){const r=Vb(t);return Math.round(s*r)/r}function Em(t){const s=u.useRef(t);return ad(()=>{s.current=t}),s}function z6(t){t===void 0&&(t={});const{placement:s="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,m]=u.useState({x:0,y:0,strategy:r,placement:s,middlewareData:{},isPositioned:!1}),[h,j]=u.useState(n);Vd(h,n)||j(n);const[y,g]=u.useState(null),[N,p]=u.useState(null),v=u.useCallback(R=>{R!==S.current&&(S.current=R,g(R))},[]),x=u.useCallback(R=>{R!==b.current&&(b.current=R,p(R))},[]),w=i||y,k=o||N,S=u.useRef(null),b=u.useRef(null),C=u.useRef(f),_=c!=null,P=Em(c),T=Em(a),L=Em(d),I=u.useCallback(()=>{if(!S.current||!b.current)return;const R={placement:s,strategy:r,middleware:h};T.current&&(R.platform=T.current),F6(S.current,b.current,R).then(F=>{const J={...F,isPositioned:L.current!==!1};O.current&&!Vd(C.current,J)&&(C.current=J,si.flushSync(()=>{m(J)}))})},[h,s,r,T,L]);ad(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,m(R=>({...R,isPositioned:!1})))},[d]);const O=u.useRef(!1);ad(()=>(O.current=!0,()=>{O.current=!1}),[]),ad(()=>{if(w&&(S.current=w),k&&(b.current=k),w&&k){if(P.current)return P.current(w,k,I);I()}},[w,k,I,P,_]);const X=u.useMemo(()=>({reference:S,floating:b,setReference:v,setFloating:x}),[v,x]),A=u.useMemo(()=>({reference:w,floating:k}),[w,k]),B=u.useMemo(()=>{const R={position:r,left:0,top:0};if(!A.floating)return R;const F=v0(A.floating,f.x),J=v0(A.floating,f.y);return l?{...R,transform:"translate("+F+"px, "+J+"px)",...Vb(A.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:J}},[r,l,A.floating,f.x,f.y]);return u.useMemo(()=>({...f,update:I,refs:X,elements:A,floatingStyles:B}),[f,I,X,A,B])}const $6=t=>{function s(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&s(n)?n.current!=null?g0({element:n.current,padding:a}).fn(r):{}:n?g0({element:n,padding:a}).fn(r):{}}}},q6=(t,s)=>({...A6(t),options:[t,s]}),B6=(t,s)=>({...M6(t),options:[t,s]}),V6=(t,s)=>({...O6(t),options:[t,s]}),U6=(t,s)=>({...I6(t),options:[t,s]}),H6=(t,s)=>({...L6(t),options:[t,s]}),W6=(t,s)=>({...D6(t),options:[t,s]}),G6=(t,s)=>({...$6(t),options:[t,s]});var X6="Arrow",Ub=u.forwardRef((t,s)=>{const{children:r,width:n=10,height:a=5,...i}=t;return e.jsx(me.svg,{...i,ref:s,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ub.displayName=X6;var K6=Ub;function Y6(t,s=[]){let r=[];function n(i,o){const l=u.createContext(o),c=r.length;r=[...r,o];function d(m){const{scope:h,children:j,...y}=m,g=(h==null?void 0:h[t][c])||l,N=u.useMemo(()=>y,Object.values(y));return e.jsx(g.Provider,{value:N,children:j})}function f(m,h){const j=(h==null?void 0:h[t][c])||l,y=u.useContext(j);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,f]}const a=()=>{const i=r.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return u.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,Q6(a,...s)]}function Q6(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return u.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return r.scopeName=s.scopeName,r}function Hb(t){const[s,r]=u.useState(void 0);return St(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),s}var Bx="Popper",[Wb,yo]=Y6(Bx),[J6,Gb]=Wb(Bx),Xb=t=>{const{__scopePopper:s,children:r}=t,[n,a]=u.useState(null);return e.jsx(J6,{scope:s,anchor:n,onAnchorChange:a,children:r})};Xb.displayName=Bx;var Kb="PopperAnchor",Yb=u.forwardRef((t,s)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=Gb(Kb,r),o=u.useRef(null),l=Ce(s,o);return u.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:e.jsx(me.div,{...a,ref:l})});Yb.displayName=Kb;var Vx="PopperContent",[Z6,e3]=Wb(Vx),Qb=u.forwardRef((t,s)=>{var V,ne,pe,oe,ve,ge;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:j="optimized",onPlaced:y,...g}=t,N=Gb(Vx,r),[p,v]=u.useState(null),x=Ce(s,_t=>v(_t)),[w,k]=u.useState(null),S=Hb(w),b=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,_=n+(i!=="center"?"-"+i:""),P=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},T=Array.isArray(d)?d:[d],L=T.length>0,I={padding:P,boundary:T.filter(s3),altBoundary:L},{refs:O,floatingStyles:X,placement:A,isPositioned:B,middlewareData:R}=z6({strategy:"fixed",placement:_,whileElementsMounted:(..._t)=>R6(..._t,{animationFrame:j==="always"}),elements:{reference:N.anchor},middleware:[q6({mainAxis:a+C,alignmentAxis:o}),c&&B6({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?V6():void 0,...I}),c&&U6({...I}),H6({...I,apply:({elements:_t,rects:Ot,availableWidth:Zs,availableHeight:Wt})=>{const{width:wr,height:oi}=Ot.reference,pt=_t.floating.style;pt.setProperty("--radix-popper-available-width",`${Zs}px`),pt.setProperty("--radix-popper-available-height",`${Wt}px`),pt.setProperty("--radix-popper-anchor-width",`${wr}px`),pt.setProperty("--radix-popper-anchor-height",`${oi}px`)}}),w&&G6({element:w,padding:l}),r3({arrowWidth:b,arrowHeight:C}),h&&W6({strategy:"referenceHidden",...I})]}),[F,J]=eN(A),G=rt(y);St(()=>{B&&(G==null||G())},[B,G]);const te=(V=R.arrow)==null?void 0:V.x,Q=(ne=R.arrow)==null?void 0:ne.y,ae=((pe=R.arrow)==null?void 0:pe.centerOffset)!==0,[ue,de]=u.useState();return St(()=>{p&&de(window.getComputedStyle(p).zIndex)},[p]),e.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:B?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(oe=R.transformOrigin)==null?void 0:oe.x,(ve=R.transformOrigin)==null?void 0:ve.y].join(" "),...((ge=R.hide)==null?void 0:ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(Z6,{scope:r,placedSide:F,onArrowChange:k,arrowX:te,arrowY:Q,shouldHideArrow:ae,children:e.jsx(me.div,{"data-side":F,"data-align":J,...g,ref:x,style:{...g.style,animation:B?void 0:"none"}})})})});Qb.displayName=Vx;var Jb="PopperArrow",t3={top:"bottom",right:"left",bottom:"top",left:"right"},Zb=u.forwardRef(function(s,r){const{__scopePopper:n,...a}=s,i=e3(Jb,n),o=t3[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(K6,{...a,ref:r,style:{...a.style,display:"block"}})})});Zb.displayName=Jb;function s3(t){return t!==null}var r3=t=>({name:"transformOrigin",options:t,fn(s){var N,p,v;const{placement:r,rects:n,middlewareData:a}=s,o=((N=a.arrow)==null?void 0:N.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=eN(r),m={start:"0%",center:"50%",end:"100%"}[f],h=(((p=a.arrow)==null?void 0:p.x)??0)+l/2,j=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let y="",g="";return d==="bottom"?(y=o?m:`${h}px`,g=`${-c}px`):d==="top"?(y=o?m:`${h}px`,g=`${n.floating.height+c}px`):d==="right"?(y=`${-c}px`,g=o?m:`${j}px`):d==="left"&&(y=`${n.floating.width+c}px`,g=o?m:`${j}px`),{data:{x:y,y:g}}}});function eN(t){const[s,r="center"]=t.split("-");return[s,r]}var tN=Xb,Ux=Yb,Hx=Qb,Wx=Zb,[ku]=Wr("Tooltip",[yo]),Gx=yo(),sN="TooltipProvider",n3=700,j0="tooltip.open",[a3,rN]=ku(sN),nN=t=>{const{__scopeTooltip:s,delayDuration:r=n3,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=t,[o,l]=u.useState(!0),c=u.useRef(!1),d=u.useRef(0);return u.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),e.jsx(a3,{scope:s,isOpenDelayed:o,delayDuration:r,onOpen:u.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:u.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:u.useCallback(f=>{c.current=f},[]),disableHoverableContent:a,children:i})};nN.displayName=sN;var aN="Tooltip",[OF,Eu]=ku(aN),Kh="TooltipTrigger",i3=u.forwardRef((t,s)=>{const{__scopeTooltip:r,...n}=t,a=Eu(Kh,r),i=rN(Kh,r),o=Gx(r),l=u.useRef(null),c=Ce(s,l,a.onTriggerChange),d=u.useRef(!1),f=u.useRef(!1),m=u.useCallback(()=>d.current=!1,[]);return u.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),e.jsx(Ux,{asChild:!0,...o,children:e.jsx(me.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:se(t.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:se(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:se(t.onFocus,()=>{d.current||a.onOpen()}),onBlur:se(t.onBlur,a.onClose),onClick:se(t.onClick,a.onClose)})})});i3.displayName=Kh;var o3="TooltipPortal",[FF,l3]=ku(o3,{forceMount:void 0}),lo="TooltipContent",iN=u.forwardRef((t,s)=>{const r=l3(lo,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=t,o=Eu(lo,t.__scopeTooltip);return e.jsx(ts,{present:n||o.open,children:o.disableHoverableContent?e.jsx(oN,{side:a,...i,ref:s}):e.jsx(c3,{side:a,...i,ref:s})})}),c3=u.forwardRef((t,s)=>{const r=Eu(lo,t.__scopeTooltip),n=rN(lo,t.__scopeTooltip),a=u.useRef(null),i=Ce(s,a),[o,l]=u.useState(null),{trigger:c,onClose:d}=r,f=a.current,{onPointerInTransitChange:m}=n,h=u.useCallback(()=>{l(null),m(!1)},[m]),j=u.useCallback((y,g)=>{const N=y.currentTarget,p={x:y.clientX,y:y.clientY},v=h3(p,N.getBoundingClientRect()),x=f3(p,v),w=x3(g.getBoundingClientRect()),k=g3([...x,...w]);l(k),m(!0)},[m]);return u.useEffect(()=>()=>h(),[h]),u.useEffect(()=>{if(c&&f){const y=N=>j(N,f),g=N=>j(N,c);return c.addEventListener("pointerleave",y),f.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",g)}}},[c,f,j,h]),u.useEffect(()=>{if(o){const y=g=>{const N=g.target,p={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(N))||(f==null?void 0:f.contains(N)),x=!p3(p,o);v?h():x&&(h(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,f,o,d,h]),e.jsx(oN,{...t,ref:i})}),[d3,u3]=ku(aN,{isInside:!1}),oN=u.forwardRef((t,s)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=Eu(lo,r),d=Gx(r),{onClose:f}=c;return u.useEffect(()=>(document.addEventListener(j0,f),()=>document.removeEventListener(j0,f)),[f]),u.useEffect(()=>{if(c.trigger){const m=h=>{const j=h.target;j!=null&&j.contains(c.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,f]),e.jsx(xo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:e.jsxs(Hx,{"data-state":c.stateAttribute,...d,...l,ref:s,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(Wy,{children:n}),e.jsx(d3,{scope:r,isInside:!0,children:e.jsx(X_,{id:c.contentId,role:"tooltip",children:a||n})})]})})});iN.displayName=lo;var lN="TooltipArrow",m3=u.forwardRef((t,s)=>{const{__scopeTooltip:r,...n}=t,a=Gx(r);return u3(lN,r).isInside?null:e.jsx(Wx,{...a,...n,ref:s})});m3.displayName=lN;function h3(t,s){const r=Math.abs(s.top-t.y),n=Math.abs(s.bottom-t.y),a=Math.abs(s.right-t.x),i=Math.abs(s.left-t.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function f3(t,s,r=5){const n=[];switch(s){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function x3(t){const{top:s,right:r,bottom:n,left:a}=t;return[{x:a,y:s},{x:r,y:s},{x:r,y:n},{x:a,y:n}]}function p3(t,s){const{x:r,y:n}=t;let a=!1;for(let i=0,o=s.length-1;i<s.length;o=i++){const l=s[i].x,c=s[i].y,d=s[o].x,f=s[o].y;c>n!=f>n&&r<(d-l)*(n-c)/(f-c)+l&&(a=!a)}return a}function g3(t){const s=t.slice();return s.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),v3(s)}function v3(t){if(t.length<=1)return t.slice();const s=[];for(let n=0;n<t.length;n++){const a=t[n];for(;s.length>=2;){const i=s[s.length-1],o=s[s.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))s.pop();else break}s.push(a)}s.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),s.length===1&&r.length===1&&s[0].x===r[0].x&&s[0].y===r[0].y?s:s.concat(r)}var j3=nN,cN=iN;const y3=j3,b3=u.forwardRef(({className:t,sideOffset:s=4,...r},n)=>e.jsx(cN,{ref:n,sideOffset:s,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));b3.displayName=cN.displayName;var bo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xa=typeof window>"u"||"Deno"in globalThis;function Rs(){}function N3(t,s){return typeof t=="function"?t(s):t}function Yh(t){return typeof t=="number"&&t>=0&&t!==1/0}function dN(t,s){return Math.max(t+(s||0)-Date.now(),0)}function Di(t,s){return typeof t=="function"?t(s):t}function cr(t,s){return typeof t=="function"?t(s):t}function y0(t,s){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=t;if(o){if(n){if(s.queryHash!==Xx(o,s.options))return!1}else if(!Rl(s.queryKey,o))return!1}if(r!=="all"){const c=s.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&s.isStale()!==l||a&&a!==s.state.fetchStatus||i&&!i(s))}function b0(t,s){const{exact:r,status:n,predicate:a,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(r){if(Ka(s.options.mutationKey)!==Ka(i))return!1}else if(!Rl(s.options.mutationKey,i))return!1}return!(n&&s.state.status!==n||a&&!a(s))}function Xx(t,s){return((s==null?void 0:s.queryKeyHashFn)||Ka)(t)}function Ka(t){return JSON.stringify(t,(s,r)=>Qh(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Rl(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?!Object.keys(s).some(r=>!Rl(t[r],s[r])):!1}function uN(t,s){if(t===s)return t;const r=N0(t)&&N0(s);if(r||Qh(t)&&Qh(s)){const n=r?t:Object.keys(t),a=n.length,i=r?s:Object.keys(s),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&n.includes(f)||r)&&t[f]===void 0&&s[f]===void 0?(l[f]=void 0,c++):(l[f]=uN(t[f],s[f]),l[f]===t[f]&&t[f]!==void 0&&c++)}return a===o&&c===a?t:l}return s}function Ud(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}function N0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Qh(t){if(!w0(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!w0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function w0(t){return Object.prototype.toString.call(t)==="[object Object]"}function w3(t){return new Promise(s=>{setTimeout(s,t)})}function Jh(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?uN(t,s):s}function C3(t,s,r=0){const n=[...t,s];return r&&n.length>r?n.slice(1):n}function S3(t,s,r=0){const n=[s,...t];return r&&n.length>r?n.slice(0,-1):n}var Kx=Symbol();function mN(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===Kx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ta,Ln,zi,bv,_3=(bv=class extends bo{constructor(){super();xe(this,Ta);xe(this,Ln);xe(this,zi);le(this,zi,s=>{if(!Xa&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,Ln)||this.setEventListener(z(this,zi))}onUnsubscribe(){var s;this.hasListeners()||((s=z(this,Ln))==null||s.call(this),le(this,Ln,void 0))}setEventListener(s){var r;le(this,zi,s),(r=z(this,Ln))==null||r.call(this),le(this,Ln,s(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(s){z(this,Ta)!==s&&(le(this,Ta,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof z(this,Ta)=="boolean"?z(this,Ta):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Ta=new WeakMap,Ln=new WeakMap,zi=new WeakMap,bv),Yx=new _3,$i,Dn,qi,Nv,k3=(Nv=class extends bo{constructor(){super();xe(this,$i,!0);xe(this,Dn);xe(this,qi);le(this,qi,s=>{if(!Xa&&window.addEventListener){const r=()=>s(!0),n=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){z(this,Dn)||this.setEventListener(z(this,qi))}onUnsubscribe(){var s;this.hasListeners()||((s=z(this,Dn))==null||s.call(this),le(this,Dn,void 0))}setEventListener(s){var r;le(this,qi,s),(r=z(this,Dn))==null||r.call(this),le(this,Dn,s(this.setOnline.bind(this)))}setOnline(s){z(this,$i)!==s&&(le(this,$i,s),this.listeners.forEach(n=>{n(s)}))}isOnline(){return z(this,$i)}},$i=new WeakMap,Dn=new WeakMap,qi=new WeakMap,Nv),Hd=new k3;function Zh(){let t,s;const r=new Promise((a,i)=>{t=a,s=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),s(a)},r}function E3(t){return Math.min(1e3*2**t,3e4)}function hN(t){return(t??"online")==="online"?Hd.isOnline():!0}var fN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Pm(t){return t instanceof fN}function xN(t){let s=!1,r=0,n=!1,a;const i=Zh(),o=g=>{var N;n||(h(new fN(g)),(N=t.abort)==null||N.call(t))},l=()=>{s=!0},c=()=>{s=!1},d=()=>Yx.isFocused()&&(t.networkMode==="always"||Hd.isOnline())&&t.canRun(),f=()=>hN(t.networkMode)&&t.canRun(),m=g=>{var N;n||(n=!0,(N=t.onSuccess)==null||N.call(t,g),a==null||a(),i.resolve(g))},h=g=>{var N;n||(n=!0,(N=t.onError)==null||N.call(t,g),a==null||a(),i.reject(g))},j=()=>new Promise(g=>{var N;a=p=>{(n||d())&&g(p)},(N=t.onPause)==null||N.call(t)}).then(()=>{var g;a=void 0,n||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(n)return;let g;const N=r===0?t.initialPromise:void 0;try{g=N??t.fn()}catch(p){g=Promise.reject(p)}Promise.resolve(g).then(m).catch(p=>{var S;if(n)return;const v=t.retry??(Xa?0:3),x=t.retryDelay??E3,w=typeof x=="function"?x(r,p):x,k=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,p);if(s||!k){h(p);return}r++,(S=t.onFail)==null||S.call(t,r,p),w3(w).then(()=>d()?void 0:j()).then(()=>{s?h(p):y()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?y():j().then(y),i)}}function P3(){let t=[],s=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{s?t.push(l):a(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;s++;try{c=l()}finally{s--,s||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Nt=P3(),Ra,wv,pN=(wv=class{constructor(){xe(this,Ra)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yh(this.gcTime)&&le(this,Ra,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xa?1/0:5*60*1e3))}clearGcTimeout(){z(this,Ra)&&(clearTimeout(z(this,Ra)),le(this,Ra,void 0))}},Ra=new WeakMap,wv),Bi,Vi,Ts,qt,zl,Aa,ar,sn,Cv,T3=(Cv=class extends pN{constructor(s){super();xe(this,ar);xe(this,Bi);xe(this,Vi);xe(this,Ts);xe(this,qt);xe(this,zl);xe(this,Aa);le(this,Aa,!1),le(this,zl,s.defaultOptions),this.setOptions(s.options),this.observers=[],le(this,Ts,s.cache),this.queryKey=s.queryKey,this.queryHash=s.queryHash,le(this,Bi,R3(this.options)),this.state=s.state??z(this,Bi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=z(this,qt))==null?void 0:s.promise}setOptions(s){this.options={...z(this,zl),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Ts).remove(this)}setData(s,r){const n=Jh(this.state.data,s,this.options);return Pe(this,ar,sn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(s,r){Pe(this,ar,sn).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var n,a;const r=(n=z(this,qt))==null?void 0:n.promise;return(a=z(this,qt))==null||a.cancel(s),r?r.then(Rs).catch(Rs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Bi))}isActive(){return this.observers.some(s=>cr(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Kx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(s=0){return this.state.isInvalidated||this.state.data===void 0||!dN(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(n=>n.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=z(this,qt))==null||r.continue()}onOnline(){var r;const s=this.observers.find(n=>n.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=z(this,qt))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),z(this,Ts).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(z(this,qt)&&(z(this,Aa)?z(this,qt).cancel({revert:!0}):z(this,qt).cancelRetry()),this.scheduleGc()),z(this,Ts).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pe(this,ar,sn).call(this,{type:"invalidate"})}fetch(s,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,qt))return z(this,qt).continueRetry(),z(this,qt).promise}if(s&&this.setOptions(s),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(le(this,Aa,!0),n.signal)})},i=()=>{const m=mN(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),le(this,Aa,!1),this.options.persister?this.options.persister(m,h,this):m(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),le(this,Vi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Pe(this,ar,sn).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=m=>{var h,j,y,g;Pm(m)&&m.silent||Pe(this,ar,sn).call(this,{type:"error",error:m}),Pm(m)||((j=(h=z(this,Ts).config).onError)==null||j.call(h,m,this),(g=(y=z(this,Ts).config).onSettled)==null||g.call(y,this.state.data,m,this)),this.scheduleGc()};return le(this,qt,xN({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var h,j,y,g;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(N){l(N);return}(j=(h=z(this,Ts).config).onSuccess)==null||j.call(h,m,this),(g=(y=z(this,Ts).config).onSettled)==null||g.call(y,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,h)=>{Pe(this,ar,sn).call(this,{type:"failed",failureCount:m,error:h})},onPause:()=>{Pe(this,ar,sn).call(this,{type:"pause"})},onContinue:()=>{Pe(this,ar,sn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),z(this,qt).start()}},Bi=new WeakMap,Vi=new WeakMap,Ts=new WeakMap,qt=new WeakMap,zl=new WeakMap,Aa=new WeakMap,ar=new WeakSet,sn=function(s){const r=n=>{switch(s.type){case"failed":return{...n,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...gN(n.data,this.options),fetchMeta:s.meta??null};case"success":return{...n,data:s.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=s.error;return Pm(a)&&a.revert&&z(this,Vi)?{...z(this,Vi),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...s.state}}};this.state=r(this.state),Nt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),z(this,Ts).notify({query:this,type:"updated",action:s})})},Cv);function gN(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hN(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function R3(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Pr,Sv,A3=(Sv=class extends bo{constructor(s={}){super();xe(this,Pr);this.config=s,le(this,Pr,new Map)}build(s,r,n){const a=r.queryKey,i=r.queryHash??Xx(a,r);let o=this.get(i);return o||(o=new T3({cache:this,queryKey:a,queryHash:i,options:s.defaultQueryOptions(r),state:n,defaultOptions:s.getQueryDefaults(a)}),this.add(o)),o}add(s){z(this,Pr).has(s.queryHash)||(z(this,Pr).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=z(this,Pr).get(s.queryHash);r&&(s.destroy(),r===s&&z(this,Pr).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Nt.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return z(this,Pr).get(s)}getAll(){return[...z(this,Pr).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(n=>y0(r,n))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(n=>y0(s,n)):r}notify(s){Nt.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){Nt.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Nt.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Pr=new WeakMap,Sv),Tr,Gt,Ma,Rr,Pn,_v,M3=(_v=class extends pN{constructor(s){super();xe(this,Rr);xe(this,Tr);xe(this,Gt);xe(this,Ma);this.mutationId=s.mutationId,le(this,Gt,s.mutationCache),le(this,Tr,[]),this.state=s.state||vN(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){z(this,Tr).includes(s)||(z(this,Tr).push(s),this.clearGcTimeout(),z(this,Gt).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){le(this,Tr,z(this,Tr).filter(r=>r!==s)),this.scheduleGc(),z(this,Gt).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){z(this,Tr).length||(this.state.status==="pending"?this.scheduleGc():z(this,Gt).remove(this))}continue(){var s;return((s=z(this,Ma))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var a,i,o,l,c,d,f,m,h,j,y,g,N,p,v,x,w,k,S,b;le(this,Ma,xN({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(C,_)=>{Pe(this,Rr,Pn).call(this,{type:"failed",failureCount:C,error:_})},onPause:()=>{Pe(this,Rr,Pn).call(this,{type:"pause"})},onContinue:()=>{Pe(this,Rr,Pn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Gt).canRun(this)}));const r=this.state.status==="pending",n=!z(this,Ma).canStart();try{if(!r){Pe(this,Rr,Pn).call(this,{type:"pending",variables:s,isPaused:n}),await((i=(a=z(this,Gt).config).onMutate)==null?void 0:i.call(a,s,this));const _=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,s));_!==this.state.context&&Pe(this,Rr,Pn).call(this,{type:"pending",context:_,variables:s,isPaused:n})}const C=await z(this,Ma).start();return await((d=(c=z(this,Gt).config).onSuccess)==null?void 0:d.call(c,C,s,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,C,s,this.state.context)),await((j=(h=z(this,Gt).config).onSettled)==null?void 0:j.call(h,C,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,C,null,s,this.state.context)),Pe(this,Rr,Pn).call(this,{type:"success",data:C}),C}catch(C){try{throw await((p=(N=z(this,Gt).config).onError)==null?void 0:p.call(N,C,s,this.state.context,this)),await((x=(v=this.options).onError)==null?void 0:x.call(v,C,s,this.state.context)),await((k=(w=z(this,Gt).config).onSettled)==null?void 0:k.call(w,void 0,C,this.state.variables,this.state.context,this)),await((b=(S=this.options).onSettled)==null?void 0:b.call(S,void 0,C,s,this.state.context)),C}finally{Pe(this,Rr,Pn).call(this,{type:"error",error:C})}}finally{z(this,Gt).runNext(this)}}},Tr=new WeakMap,Gt=new WeakMap,Ma=new WeakMap,Rr=new WeakSet,Pn=function(s){const r=n=>{switch(s.type){case"failed":return{...n,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...n,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:s.error,failureCount:n.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Nt.batch(()=>{z(this,Tr).forEach(n=>{n.onMutationUpdate(s)}),z(this,Gt).notify({mutation:this,type:"updated",action:s})})},_v);function vN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ps,$l,kv,I3=(kv=class extends bo{constructor(s={}){super();xe(this,ps);xe(this,$l);this.config=s,le(this,ps,new Map),le(this,$l,Date.now())}build(s,r,n){const a=new M3({mutationCache:this,mutationId:++hc(this,$l)._,options:s.defaultMutationOptions(r),state:n});return this.add(a),a}add(s){const r=Lc(s),n=z(this,ps).get(r)??[];n.push(s),z(this,ps).set(r,n),this.notify({type:"added",mutation:s})}remove(s){var n;const r=Lc(s);if(z(this,ps).has(r)){const a=(n=z(this,ps).get(r))==null?void 0:n.filter(i=>i!==s);a&&(a.length===0?z(this,ps).delete(r):z(this,ps).set(r,a))}this.notify({type:"removed",mutation:s})}canRun(s){var n;const r=(n=z(this,ps).get(Lc(s)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===s}runNext(s){var n;const r=(n=z(this,ps).get(Lc(s)))==null?void 0:n.find(a=>a!==s&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Nt.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}getAll(){return[...z(this,ps).values()].flat()}find(s){const r={exact:!0,...s};return this.getAll().find(n=>b0(r,n))}findAll(s={}){return this.getAll().filter(r=>b0(s,r))}notify(s){Nt.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return Nt.batch(()=>Promise.all(s.map(r=>r.continue().catch(Rs))))}},ps=new WeakMap,$l=new WeakMap,kv);function Lc(t){var s;return((s=t.options.scope)==null?void 0:s.id)??String(t.mutationId)}function C0(t){return{onFetch:(s,r)=>{var f,m,h,j,y;const n=s.options,a=(h=(m=(f=s.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((j=s.state.data)==null?void 0:j.pages)||[],o=((y=s.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const N=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(s.signal.aborted?g=!0:s.signal.addEventListener("abort",()=>{g=!0}),s.signal)})},p=mN(s.options,s.fetchOptions),v=async(x,w,k)=>{if(g)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const S={queryKey:s.queryKey,pageParam:w,direction:k?"backward":"forward",meta:s.options.meta};N(S);const b=await p(S),{maxPages:C}=s.options,_=k?S3:C3;return{pages:_(x.pages,b,C),pageParams:_(x.pageParams,w,C)}};if(a&&i.length){const x=a==="backward",w=x?L3:S0,k={pages:i,pageParams:o},S=w(n,k);l=await v(k,S,x)}else{const x=t??i.length;do{const w=c===0?o[0]??n.initialPageParam:S0(n,l);if(c>0&&w==null)break;l=await v(l,w),c++}while(c<x)}return l};s.options.persister?s.fetchFn=()=>{var g,N;return(N=(g=s.options).persister)==null?void 0:N.call(g,d,{queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=d}}}function S0(t,{pages:s,pageParams:r}){const n=s.length-1;return s.length>0?t.getNextPageParam(s[n],s,r[n],r):void 0}function L3(t,{pages:s,pageParams:r}){var n;return s.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,s[0],s,r[0],r):void 0}var ut,On,Fn,Ui,Hi,zn,Wi,Gi,Ev,D3=(Ev=class{constructor(t={}){xe(this,ut);xe(this,On);xe(this,Fn);xe(this,Ui);xe(this,Hi);xe(this,zn);xe(this,Wi);xe(this,Gi);le(this,ut,t.queryCache||new A3),le(this,On,t.mutationCache||new I3),le(this,Fn,t.defaultOptions||{}),le(this,Ui,new Map),le(this,Hi,new Map),le(this,zn,0)}mount(){hc(this,zn)._++,z(this,zn)===1&&(le(this,Wi,Yx.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,ut).onFocus())})),le(this,Gi,Hd.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,ut).onOnline())})))}unmount(){var t,s;hc(this,zn)._--,z(this,zn)===0&&((t=z(this,Wi))==null||t.call(this),le(this,Wi,void 0),(s=z(this,Gi))==null||s.call(this),le(this,Gi,void 0))}isFetching(t){return z(this,ut).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,On).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=z(this,ut).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const s=this.getQueryData(t.queryKey);if(s===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=z(this,ut).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Di(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(s)}}getQueriesData(t){return z(this,ut).findAll(t).map(({queryKey:s,state:r})=>{const n=r.data;return[s,n]})}setQueryData(t,s,r){const n=this.defaultQueryOptions({queryKey:t}),a=z(this,ut).get(n.queryHash),i=a==null?void 0:a.state.data,o=N3(s,i);if(o!==void 0)return z(this,ut).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,s,r){return Nt.batch(()=>z(this,ut).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,s,r)]))}getQueryState(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=z(this,ut).get(s.queryHash))==null?void 0:r.state}removeQueries(t){const s=z(this,ut);Nt.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=z(this,ut),n={type:"active",...t};return Nt.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries(n,s)))}cancelQueries(t={},s={}){const r={revert:!0,...s},n=Nt.batch(()=>z(this,ut).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(Rs).catch(Rs)}invalidateQueries(t={},s={}){return Nt.batch(()=>{if(z(this,ut).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,s)})}refetchQueries(t={},s){const r={...s,cancelRefetch:(s==null?void 0:s.cancelRefetch)??!0},n=Nt.batch(()=>z(this,ut).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Rs)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Rs)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=z(this,ut).build(this,s);return r.isStaleByTime(Di(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Rs).catch(Rs)}fetchInfiniteQuery(t){return t.behavior=C0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Rs).catch(Rs)}ensureInfiniteQueryData(t){return t.behavior=C0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Hd.isOnline()?z(this,On).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,ut)}getMutationCache(){return z(this,On)}getDefaultOptions(){return z(this,Fn)}setDefaultOptions(t){le(this,Fn,t)}setQueryDefaults(t,s){z(this,Ui).set(Ka(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...z(this,Ui).values()];let r={};return s.forEach(n=>{Rl(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,s){z(this,Hi).set(Ka(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...z(this,Hi).values()];let r={};return s.forEach(n=>{Rl(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...z(this,Fn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=Xx(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.enabled!==!0&&s.queryFn===Kx&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Fn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,ut).clear(),z(this,On).clear()}},ut=new WeakMap,On=new WeakMap,Fn=new WeakMap,Ui=new WeakMap,Hi=new WeakMap,zn=new WeakMap,Wi=new WeakMap,Gi=new WeakMap,Ev),rs,Ie,ql,Xt,Ia,Xi,$n,Ar,Bl,Ki,Yi,La,Da,qn,Qi,qe,Go,ef,tf,sf,rf,nf,af,of,jN,Pv,O3=(Pv=class extends bo{constructor(s,r){super();xe(this,qe);xe(this,rs);xe(this,Ie);xe(this,ql);xe(this,Xt);xe(this,Ia);xe(this,Xi);xe(this,$n);xe(this,Ar);xe(this,Bl);xe(this,Ki);xe(this,Yi);xe(this,La);xe(this,Da);xe(this,qn);xe(this,Qi,new Set);this.options=r,le(this,rs,s),le(this,Ar,null),le(this,$n,Zh()),this.options.experimental_prefetchInRender||z(this,$n).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,Ie).addObserver(this),_0(z(this,Ie),this.options)?Pe(this,qe,Go).call(this):this.updateResult(),Pe(this,qe,rf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return lf(z(this,Ie),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return lf(z(this,Ie),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pe(this,qe,nf).call(this),Pe(this,qe,af).call(this),z(this,Ie).removeObserver(this)}setOptions(s,r){const n=this.options,a=z(this,Ie);if(this.options=z(this,rs).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof cr(this.options.enabled,z(this,Ie))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pe(this,qe,of).call(this),z(this,Ie).setOptions(this.options),n._defaulted&&!Ud(this.options,n)&&z(this,rs).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,Ie),observer:this});const i=this.hasListeners();i&&k0(z(this,Ie),a,this.options,n)&&Pe(this,qe,Go).call(this),this.updateResult(r),i&&(z(this,Ie)!==a||cr(this.options.enabled,z(this,Ie))!==cr(n.enabled,z(this,Ie))||Di(this.options.staleTime,z(this,Ie))!==Di(n.staleTime,z(this,Ie)))&&Pe(this,qe,ef).call(this);const o=Pe(this,qe,tf).call(this);i&&(z(this,Ie)!==a||cr(this.options.enabled,z(this,Ie))!==cr(n.enabled,z(this,Ie))||o!==z(this,qn))&&Pe(this,qe,sf).call(this,o)}getOptimisticResult(s){const r=z(this,rs).getQueryCache().build(z(this,rs),s),n=this.createResult(r,s);return z3(this,n)&&(le(this,Xt,n),le(this,Xi,this.options),le(this,Ia,z(this,Ie).state)),n}getCurrentResult(){return z(this,Xt)}trackResult(s,r){const n={};return Object.keys(s).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),s[a])})}),n}trackProp(s){z(this,Qi).add(s)}getCurrentQuery(){return z(this,Ie)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=z(this,rs).defaultQueryOptions(s),n=z(this,rs).getQueryCache().build(z(this,rs),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(s){return Pe(this,qe,Go).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,Xt)))}createResult(s,r){var C;const n=z(this,Ie),a=this.options,i=z(this,Xt),o=z(this,Ia),l=z(this,Xi),d=s!==n?s.state:z(this,ql),{state:f}=s;let m={...f},h=!1,j;if(r._optimisticResults){const _=this.hasListeners(),P=!_&&_0(s,r),T=_&&k0(s,n,r,a);(P||T)&&(m={...m,...gN(f.data,s.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:N}=m;if(r.select&&m.data!==void 0)if(i&&m.data===(o==null?void 0:o.data)&&r.select===z(this,Bl))j=z(this,Ki);else try{le(this,Bl,r.select),j=r.select(m.data),j=Jh(i==null?void 0:i.data,j,r),le(this,Ki,j),le(this,Ar,null)}catch(_){le(this,Ar,_)}else j=m.data;if(r.placeholderData!==void 0&&j===void 0&&N==="pending"){let _;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))_=i.data;else if(_=typeof r.placeholderData=="function"?r.placeholderData((C=z(this,Yi))==null?void 0:C.state.data,z(this,Yi)):r.placeholderData,r.select&&_!==void 0)try{_=r.select(_),le(this,Ar,null)}catch(P){le(this,Ar,P)}_!==void 0&&(N="success",j=Jh(i==null?void 0:i.data,_,r),h=!0)}z(this,Ar)&&(y=z(this,Ar),j=z(this,Ki),g=Date.now(),N="error");const p=m.fetchStatus==="fetching",v=N==="pending",x=N==="error",w=v&&p,k=j!==void 0,b={status:N,fetchStatus:m.fetchStatus,isPending:v,isSuccess:N==="success",isError:x,isInitialLoading:w,isLoading:w,data:j,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:p,isRefetching:p&&!v,isLoadingError:x&&!k,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:x&&k,isStale:Qx(s,r),refetch:this.refetch,promise:z(this,$n)};if(this.options.experimental_prefetchInRender){const _=L=>{b.status==="error"?L.reject(b.error):b.data!==void 0&&L.resolve(b.data)},P=()=>{const L=le(this,$n,b.promise=Zh());_(L)},T=z(this,$n);switch(T.status){case"pending":s.queryHash===n.queryHash&&_(T);break;case"fulfilled":(b.status==="error"||b.data!==T.value)&&P();break;case"rejected":(b.status!=="error"||b.error!==T.reason)&&P();break}}return b}updateResult(s){const r=z(this,Xt),n=this.createResult(z(this,Ie),this.options);if(le(this,Ia,z(this,Ie).state),le(this,Xi,this.options),z(this,Ia).data!==void 0&&le(this,Yi,z(this,Ie)),Ud(n,r))return;le(this,Xt,n);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!z(this,Qi).size)return!0;const c=new Set(l??z(this,Qi));return this.options.throwOnError&&c.add("error"),Object.keys(z(this,Xt)).some(d=>{const f=d;return z(this,Xt)[f]!==r[f]&&c.has(f)})};(s==null?void 0:s.listeners)!==!1&&i()&&(a.listeners=!0),Pe(this,qe,jN).call(this,{...a,...s})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pe(this,qe,rf).call(this)}},rs=new WeakMap,Ie=new WeakMap,ql=new WeakMap,Xt=new WeakMap,Ia=new WeakMap,Xi=new WeakMap,$n=new WeakMap,Ar=new WeakMap,Bl=new WeakMap,Ki=new WeakMap,Yi=new WeakMap,La=new WeakMap,Da=new WeakMap,qn=new WeakMap,Qi=new WeakMap,qe=new WeakSet,Go=function(s){Pe(this,qe,of).call(this);let r=z(this,Ie).fetch(this.options,s);return s!=null&&s.throwOnError||(r=r.catch(Rs)),r},ef=function(){Pe(this,qe,nf).call(this);const s=Di(this.options.staleTime,z(this,Ie));if(Xa||z(this,Xt).isStale||!Yh(s))return;const n=dN(z(this,Xt).dataUpdatedAt,s)+1;le(this,La,setTimeout(()=>{z(this,Xt).isStale||this.updateResult()},n))},tf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,Ie)):this.options.refetchInterval)??!1},sf=function(s){Pe(this,qe,af).call(this),le(this,qn,s),!(Xa||cr(this.options.enabled,z(this,Ie))===!1||!Yh(z(this,qn))||z(this,qn)===0)&&le(this,Da,setInterval(()=>{(this.options.refetchIntervalInBackground||Yx.isFocused())&&Pe(this,qe,Go).call(this)},z(this,qn)))},rf=function(){Pe(this,qe,ef).call(this),Pe(this,qe,sf).call(this,Pe(this,qe,tf).call(this))},nf=function(){z(this,La)&&(clearTimeout(z(this,La)),le(this,La,void 0))},af=function(){z(this,Da)&&(clearInterval(z(this,Da)),le(this,Da,void 0))},of=function(){const s=z(this,rs).getQueryCache().build(z(this,rs),this.options);if(s===z(this,Ie))return;const r=z(this,Ie);le(this,Ie,s),le(this,ql,s.state),this.hasListeners()&&(r==null||r.removeObserver(this),s.addObserver(this))},jN=function(s){Nt.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(z(this,Xt))}),z(this,rs).getQueryCache().notify({query:z(this,Ie),type:"observerResultsUpdated"})})},Pv);function F3(t,s){return cr(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function _0(t,s){return F3(t,s)||t.state.data!==void 0&&lf(t,s,s.refetchOnMount)}function lf(t,s,r){if(cr(s.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Qx(t,s)}return!1}function k0(t,s,r,n){return(t!==s||cr(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Qx(t,r)}function Qx(t,s){return cr(s.enabled,t)!==!1&&t.isStaleByTime(Di(s.staleTime,t))}function z3(t,s){return!Ud(t.getCurrentResult(),s)}var Bn,Vn,ns,an,un,id,cf,Tv,$3=(Tv=class extends bo{constructor(r,n){super();xe(this,un);xe(this,Bn);xe(this,Vn);xe(this,ns);xe(this,an);le(this,Bn,r),this.setOptions(n),this.bindMethods(),Pe(this,un,id).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=z(this,Bn).defaultMutationOptions(r),Ud(this.options,n)||z(this,Bn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,ns),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ka(n.mutationKey)!==Ka(this.options.mutationKey)?this.reset():((a=z(this,ns))==null?void 0:a.state.status)==="pending"&&z(this,ns).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=z(this,ns))==null||r.removeObserver(this)}onMutationUpdate(r){Pe(this,un,id).call(this),Pe(this,un,cf).call(this,r)}getCurrentResult(){return z(this,Vn)}reset(){var r;(r=z(this,ns))==null||r.removeObserver(this),le(this,ns,void 0),Pe(this,un,id).call(this),Pe(this,un,cf).call(this)}mutate(r,n){var a;return le(this,an,n),(a=z(this,ns))==null||a.removeObserver(this),le(this,ns,z(this,Bn).getMutationCache().build(z(this,Bn),this.options)),z(this,ns).addObserver(this),z(this,ns).execute(r)}},Bn=new WeakMap,Vn=new WeakMap,ns=new WeakMap,an=new WeakMap,un=new WeakSet,id=function(){var n;const r=((n=z(this,ns))==null?void 0:n.state)??vN();le(this,Vn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},cf=function(r){Nt.batch(()=>{var n,a,i,o,l,c,d,f;if(z(this,an)&&this.hasListeners()){const m=z(this,Vn).variables,h=z(this,Vn).context;(r==null?void 0:r.type)==="success"?((a=(n=z(this,an)).onSuccess)==null||a.call(n,r.data,m,h),(o=(i=z(this,an)).onSettled)==null||o.call(i,r.data,null,m,h)):(r==null?void 0:r.type)==="error"&&((c=(l=z(this,an)).onError)==null||c.call(l,r.error,m,h),(f=(d=z(this,an)).onSettled)==null||f.call(d,void 0,r.error,m,h))}this.listeners.forEach(m=>{m(z(this,Vn))})})},Tv),yN=u.createContext(void 0),Jx=t=>{const s=u.useContext(yN);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},q3=({client:t,children:s})=>(u.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(yN.Provider,{value:t,children:s})),bN=u.createContext(!1),B3=()=>u.useContext(bN);bN.Provider;function V3(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var U3=u.createContext(V3()),H3=()=>u.useContext(U3);function NN(t,s){return typeof t=="function"?t(...s):!!t}function wN(){}var W3=(t,s)=>{(t.suspense||t.throwOnError)&&(s.isReset()||(t.retryOnMount=!1))},G3=t=>{u.useEffect(()=>{t.clearReset()},[t])},X3=({result:t,errorResetBoundary:s,throwOnError:r,query:n})=>t.isError&&!s.isReset()&&!t.isFetching&&n&&NN(r,[t.error,n]),K3=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Y3=(t,s)=>t.isLoading&&t.isFetching&&!s,Q3=(t,s)=>(t==null?void 0:t.suspense)&&s.isPending,E0=(t,s,r)=>s.fetchOptimistic(t).catch(()=>{r.clearReset()});function J3(t,s,r){var f,m,h,j,y;const n=Jx(),a=B3(),i=H3(),o=n.defaultQueryOptions(t);(m=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=a?"isRestoring":"optimistic",K3(o),W3(o,i),G3(i);const l=!n.getQueryCache().get(o.queryHash),[c]=u.useState(()=>new s(n,o)),d=c.getOptimisticResult(o);if(u.useSyncExternalStore(u.useCallback(g=>{const N=a?()=>{}:c.subscribe(Nt.batchCalls(g));return c.updateResult(),N},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),u.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Q3(o,d))throw E0(o,c,i);if(X3({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw d.error;if((j=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||j.call(h,o,d),o.experimental_prefetchInRender&&!Xa&&Y3(d,a)){const g=l?E0(o,c,i):(y=n.getQueryCache().get(o.queryHash))==null?void 0:y.promise;g==null||g.catch(wN).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Re(t,s){return J3(t,O3)}function Z3(t,s){const r=Jx(),[n]=u.useState(()=>new $3(r,t));u.useEffect(()=>{n.setOptions(t)},[n,t]);const a=u.useSyncExternalStore(u.useCallback(o=>n.subscribe(Nt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=u.useCallback((o,l)=>{n.mutate(o,l).catch(wN)},[n]);if(a.error&&NN(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Al.apply(this,arguments)}var Wn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wn||(Wn={}));const P0="popstate";function e5(t){t===void 0&&(t={});function s(n,a){let{pathname:i,search:o,hash:l}=n.location;return df("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Wd(a)}return s5(s,r,null,t)}function xt(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function CN(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function t5(){return Math.random().toString(36).substr(2,8)}function T0(t,s){return{usr:t.state,key:t.key,idx:s}}function df(t,s,r,n){return r===void 0&&(r=null),Al({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?No(s):s,{state:r,key:s&&s.key||n||t5()})}function Wd(t){let{pathname:s="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function No(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(s.search=t.substr(n),t=t.substr(0,n)),t&&(s.pathname=t)}return s}function s5(t,s,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Wn.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(Al({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=Wn.Pop;let N=f(),p=N==null?null:N-d;d=N,c&&c({action:l,location:g.location,delta:p})}function h(N,p){l=Wn.Push;let v=df(g.location,N,p);d=f()+1;let x=T0(v,d),w=g.createHref(v);try{o.pushState(x,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(w)}i&&c&&c({action:l,location:g.location,delta:1})}function j(N,p){l=Wn.Replace;let v=df(g.location,N,p);d=f();let x=T0(v,d),w=g.createHref(v);o.replaceState(x,"",w),i&&c&&c({action:l,location:g.location,delta:0})}function y(N){let p=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof N=="string"?N:Wd(N);return v=v.replace(/ $/,"%20"),xt(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let g={get action(){return l},get location(){return t(a,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(P0,m),c=N,()=>{a.removeEventListener(P0,m),c=null}},createHref(N){return s(a,N)},createURL:y,encodeLocation(N){let p=y(N);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:j,go(N){return o.go(N)}};return g}var R0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(R0||(R0={}));function r5(t,s,r){return r===void 0&&(r="/"),n5(t,s,r)}function n5(t,s,r,n){let a=typeof s=="string"?No(s):s,i=Zx(a.pathname||"/",r);if(i==null)return null;let o=SN(t);a5(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=g5(i);l=f5(o[c],d)}return l}function SN(t,s,r,n){s===void 0&&(s=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(xt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=ta([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(xt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),SN(i.children,s,f,d)),!(i.path==null&&!i.index)&&s.push({path:d,score:m5(d,i.index),routesMeta:f})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of _N(i.path))a(i,o,c)}),s}function _N(t){let s=t.split("/");if(s.length===0)return[];let[r,...n]=s,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=_N(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function a5(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:h5(s.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const i5=/^:[\w-]+$/,o5=3,l5=2,c5=1,d5=10,u5=-2,A0=t=>t==="*";function m5(t,s){let r=t.split("/"),n=r.length;return r.some(A0)&&(n+=u5),s&&(n+=l5),r.filter(a=>!A0(a)).reduce((a,i)=>a+(i5.test(i)?o5:i===""?c5:d5),n)}function h5(t,s){return t.length===s.length&&t.slice(0,-1).every((n,a)=>n===s[a])?t[t.length-1]-s[s.length-1]:0}function f5(t,s,r){let{routesMeta:n}=t,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,f=i==="/"?s:s.slice(i.length)||"/",m=x5({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),h=c.route;if(!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:ta([i,m.pathname]),pathnameBase:b5(ta([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=ta([i,m.pathnameBase]))}return o}function x5(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=p5(t.path,t.caseSensitive,t.end),a=s.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,f,m)=>{let{paramName:h,isOptional:j}=f;if(h==="*"){let g=l[m]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[m];return j&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function p5(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),CN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),n]}function g5(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return CN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Zx(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function v5(t,s){s===void 0&&(s="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?No(t):t;return{pathname:r?r.startsWith("/")?r:j5(r,s):s,search:N5(n),hash:w5(a)}}function j5(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Tm(t,s,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y5(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function ep(t,s){let r=y5(t);return s?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function tp(t,s,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=No(t):(a=Al({},t),xt(!a.pathname||!a.pathname.includes("?"),Tm("?","pathname","search",a)),xt(!a.pathname||!a.pathname.includes("#"),Tm("#","pathname","hash",a)),xt(!a.search||!a.search.includes("#"),Tm("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let m=s.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;a.pathname=h.join("/")}l=m>=0?s[m]:"/"}let c=v5(a,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const ta=t=>t.join("/").replace(/\/\/+/g,"/"),b5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,w5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function C5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kN=["post","put","patch","delete"];new Set(kN);const S5=["get",...kN];new Set(S5);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ml.apply(this,arguments)}const sp=u.createContext(null),_5=u.createContext(null),va=u.createContext(null),Pu=u.createContext(null),Nn=u.createContext({outlet:null,matches:[],isDataRoute:!1}),EN=u.createContext(null);function k5(t,s){let{relative:r}=s===void 0?{}:s;wo()||xt(!1);let{basename:n,navigator:a}=u.useContext(va),{hash:i,pathname:o,search:l}=TN(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ta([n,o])),a.createHref({pathname:c,search:l,hash:i})}function wo(){return u.useContext(Pu)!=null}function wn(){return wo()||xt(!1),u.useContext(Pu).location}function PN(t){u.useContext(va).static||u.useLayoutEffect(t)}function he(){let{isDataRoute:t}=u.useContext(Nn);return t?$5():E5()}function E5(){wo()||xt(!1);let t=u.useContext(sp),{basename:s,future:r,navigator:n}=u.useContext(va),{matches:a}=u.useContext(Nn),{pathname:i}=wn(),o=JSON.stringify(ep(a,r.v7_relativeSplatPath)),l=u.useRef(!1);return PN(()=>{l.current=!0}),u.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=tp(d,JSON.parse(o),i,f.relative==="path");t==null&&s!=="/"&&(m.pathname=m.pathname==="/"?s:ta([s,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[s,n,o,i,t])}function ri(){let{matches:t}=u.useContext(Nn),s=t[t.length-1];return s?s.params:{}}function TN(t,s){let{relative:r}=s===void 0?{}:s,{future:n}=u.useContext(va),{matches:a}=u.useContext(Nn),{pathname:i}=wn(),o=JSON.stringify(ep(a,n.v7_relativeSplatPath));return u.useMemo(()=>tp(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function P5(t,s){return T5(t,s)}function T5(t,s,r,n){wo()||xt(!1);let{navigator:a}=u.useContext(va),{matches:i}=u.useContext(Nn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=wn(),f;if(s){var m;let N=typeof s=="string"?No(s):s;c==="/"||(m=N.pathname)!=null&&m.startsWith(c)||xt(!1),f=N}else f=d;let h=f.pathname||"/",j=h;if(c!=="/"){let N=c.replace(/^\//,"").split("/");j="/"+h.replace(/^\//,"").split("/").slice(N.length).join("/")}let y=r5(t,{pathname:j}),g=L5(y&&y.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:ta([c,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:ta([c,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,r,n);return s&&g?u.createElement(Pu.Provider,{value:{location:Ml({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Wn.Pop}},g):g}function R5(){let t=z5(),s=C5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},s),r?u.createElement("pre",{style:a},r):null,null)}const A5=u.createElement(R5,null);class M5 extends u.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?u.createElement(Nn.Provider,{value:this.props.routeContext},u.createElement(EN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I5(t){let{routeContext:s,match:r,children:n}=t,a=u.useContext(sp);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(Nn.Provider,{value:s},n)}function L5(t,s,r,n){var a;if(s===void 0&&(s=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||xt(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:h,errors:j}=r,y=m.route.loader&&h[m.route.id]===void 0&&(!j||j[m.route.id]===void 0);if(m.route.lazy||y){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,m,h)=>{let j,y=!1,g=null,N=null;r&&(j=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||A5,c&&(d<0&&h===0?(q5("route-fallback"),y=!0,N=null):d===h&&(y=!0,N=m.route.hydrateFallbackElement||null)));let p=s.concat(o.slice(0,h+1)),v=()=>{let x;return j?x=g:y?x=N:m.route.Component?x=u.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=f,u.createElement(I5,{match:m,routeContext:{outlet:f,matches:p,isDataRoute:r!=null},children:x})};return r&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?u.createElement(M5,{location:r.location,revalidation:r.revalidation,component:g,error:j,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var RN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(RN||{}),AN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(AN||{});function D5(t){let s=u.useContext(sp);return s||xt(!1),s}function O5(t){let s=u.useContext(_5);return s||xt(!1),s}function F5(t){let s=u.useContext(Nn);return s||xt(!1),s}function MN(t){let s=F5(),r=s.matches[s.matches.length-1];return r.route.id||xt(!1),r.route.id}function z5(){var t;let s=u.useContext(EN),r=O5(),n=MN();return s!==void 0?s:(t=r.errors)==null?void 0:t[n]}function $5(){let{router:t}=D5(RN.UseNavigateStable),s=MN(AN.UseNavigateStable),r=u.useRef(!1);return PN(()=>{r.current=!0}),u.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Ml({fromRouteId:s},i)))},[t,s])}const M0={};function q5(t,s,r){M0[t]||(M0[t]=!0)}function Xo(t){let{to:s,replace:r,state:n,relative:a}=t;wo()||xt(!1);let{future:i,static:o}=u.useContext(va),{matches:l}=u.useContext(Nn),{pathname:c}=wn(),d=he(),f=tp(s,ep(l,i.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(f);return u.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:a}),[d,m,a,r,n]),null}function je(t){xt(!1)}function B5(t){let{basename:s="/",children:r=null,location:n,navigationType:a=Wn.Pop,navigator:i,static:o=!1,future:l}=t;wo()&&xt(!1);let c=s.replace(/^\/*/,"/"),d=u.useMemo(()=>({basename:c,navigator:i,static:o,future:Ml({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=No(n));let{pathname:f="/",search:m="",hash:h="",state:j=null,key:y="default"}=n,g=u.useMemo(()=>{let N=Zx(f,c);return N==null?null:{location:{pathname:N,search:m,hash:h,state:j,key:y},navigationType:a}},[c,f,m,h,j,y,a]);return g==null?null:u.createElement(va.Provider,{value:d},u.createElement(Pu.Provider,{children:r,value:g}))}function V5(t){let{children:s,location:r}=t;return P5(uf(s),r)}new Promise(()=>{});function uf(t,s){s===void 0&&(s=[]);let r=[];return u.Children.forEach(t,(n,a)=>{if(!u.isValidElement(n))return;let i=[...s,a];if(n.type===u.Fragment){r.push.apply(r,uf(n.props.children,i));return}n.type!==je&&xt(!1),!n.props.index||!n.props.children||xt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=uf(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mf.apply(this,arguments)}function U5(t,s){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(s.indexOf(a)>=0)&&(r[a]=t[a]);return r}function H5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W5(t,s){return t.button===0&&(!s||s==="_self")&&!H5(t)}function hf(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,r)=>{let n=t[r];return s.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function G5(t,s){let r=hf(t);return s&&s.forEach((n,a)=>{r.has(a)||s.getAll(a).forEach(i=>{r.append(a,i)})}),r}const X5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],K5="6";try{window.__reactRouterVersion=K5}catch{}const Y5="startTransition",I0=Ff[Y5];function Q5(t){let{basename:s,children:r,future:n,window:a}=t,i=u.useRef();i.current==null&&(i.current=e5({window:a,v5Compat:!0}));let o=i.current,[l,c]=u.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},f=u.useCallback(m=>{d&&I0?I0(()=>c(m)):c(m)},[c,d]);return u.useLayoutEffect(()=>o.listen(f),[o,f]),u.createElement(B5,{basename:s,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const J5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Br=u.forwardRef(function(s,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:f,viewTransition:m}=s,h=U5(s,X5),{basename:j}=u.useContext(va),y,g=!1;if(typeof d=="string"&&Z5.test(d)&&(y=d,J5))try{let x=new URL(window.location.href),w=d.startsWith("//")?new URL(x.protocol+d):new URL(d),k=Zx(w.pathname,j);w.origin===x.origin&&k!=null?d=k+w.search+w.hash:g=!0}catch{}let N=k5(d,{relative:a}),p=eP(d,{replace:o,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:m});function v(x){n&&n(x),x.defaultPrevented||p(x)}return u.createElement("a",mf({},h,{href:y||N,onClick:g||i?n:v,ref:r,target:c}))});var L0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(L0||(L0={}));var D0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(D0||(D0={}));function eP(t,s){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=s===void 0?{}:s,c=he(),d=wn(),f=TN(t,{relative:o});return u.useCallback(m=>{if(W5(m,r)){m.preventDefault();let h=n!==void 0?n:Wd(d)===Wd(f);c(t,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,f,n,a,r,t,i,o,l])}function ni(t){let s=u.useRef(hf(t)),r=u.useRef(!1),n=wn(),a=u.useMemo(()=>G5(n.search,r.current?null:s.current),[n.search]),i=he(),o=u.useCallback((l,c)=>{const d=hf(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}const tP=Ql("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ms=u.forwardRef(({className:t,variant:s,...r},n)=>e.jsx("div",{ref:n,role:"alert",className:ie(tP({variant:s}),t),...r}));ms.displayName="Alert";const sP=u.forwardRef(({className:t,...s},r)=>e.jsx("h5",{ref:r,className:ie("mb-1 font-medium leading-none tracking-tight",t),...s}));sP.displayName="AlertTitle";const hs=u.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ie("text-sm [&_p]:leading-relaxed",t),...s}));hs.displayName="AlertDescription";const rP="https://back-gabonmarquethub.onrender.com/api";class nP{constructor(s=rP){this.baseURL=s}getAuthHeaders(){const s=localStorage.getItem("authToken");return{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`}}}getAuthHeadersOnly(){const s=localStorage.getItem("authToken");return{...s&&{Authorization:`Bearer ${s}`}}}async request(s,r={}){const n=`${this.baseURL}${s}`,i={headers:r.body instanceof FormData?this.getAuthHeadersOnly():this.getAuthHeaders(),...r};try{const o=new AbortController,l=setTimeout(()=>o.abort(),1e4),c=await fetch(n,{...i,signal:o.signal});if(clearTimeout(l),c.status===401){const f=await c.json().catch(()=>({}));throw new Error(f.error||f.message||"Non autoris")}if(c.status===403){const f=await c.json().catch(()=>({}));if(f.error==="Token invalide"){if(tr.removeToken(),typeof window<"u"){const m=window.location.pathname;["/login","/register","/user-type","/"].includes(m)||(window.location.href="/login")}throw new Error("Token invalide, veuillez vous reconnecter")}throw new Error(f.error||f.message||"Accs refus")}if(!c.ok){let f={};try{const h=await c.text();console.error(` [ApiClient] Erreur ${c.status} pour ${n}:`,h),h&&(f=JSON.parse(h))}catch{f={message:`Erreur HTTP ${c.status}`}}const m=f.error||f.message||`Erreur HTTP ${c.status}`;throw console.error(" [ApiClient] Message d'erreur final:",m),new Error(m)}const d=await c.text();if(!d)return{};try{return JSON.parse(d)}catch{throw console.error("Erreur parsing JSON:",d),new Error("Rponse invalide du serveur (JSON invalide)")}}catch(o){if(console.error("API request failed:",o),o instanceof Error){if(o.name==="AbortError")throw new Error("Dlai d'attente dpass. Vrifiez votre connexion internet.");if(o.message.includes("Failed to fetch")||o.message.includes("NetworkError"))throw new Error("Erreur de connexion rseau. Vrifiez votre connexion internet.")}throw o}}async get(s){return this.request(s,{method:"GET"})}async post(s,r){return this.request(s,{method:"POST",body:r instanceof FormData?r:r?JSON.stringify(r):void 0})}async put(s,r){return this.request(s,{method:"PUT",body:r?JSON.stringify(r):void 0})}async patch(s,r){return this.request(s,{method:"PATCH",body:r?JSON.stringify(r):void 0})}async delete(s){return this.request(s,{method:"DELETE"})}}const H=new nP,tr={setToken:t=>{let s=(t==null?void 0:t.trim())||"";s.toLowerCase().startsWith("bearer ")&&(s=s.slice(7).trim()),localStorage.setItem("authToken",s)},getToken:()=>{const t=localStorage.getItem("authToken");if(!t)return null;let s=t.trim();return(s.startsWith('"')&&s.endsWith('"')||s.startsWith("'")&&s.endsWith("'"))&&(s=s.slice(1,-1).trim()),s.toLowerCase().startsWith("bearer ")&&(s=s.slice(7).trim()),s},removeToken:()=>{localStorage.removeItem("authToken")},isAuthenticated:()=>!!localStorage.getItem("authToken"),setUserType:t=>{const s=t===2?"supplier":t===3?"admin":"buyer";localStorage.setItem("user_type",s)},getUserType:()=>localStorage.getItem("user_type"),setUserData:t=>localStorage.setItem("user_data",JSON.stringify(t||{})),getUserData:()=>{try{const t=localStorage.getItem("user_data");return t?JSON.parse(t):null}catch{return null}},clearUserMeta:()=>{localStorage.removeItem("user_type"),localStorage.removeItem("user_data")}},aP=()=>{const[t,s]=u.useState(!0),[r,n]=u.useState("checking"),[a,i]=u.useState(null),[o,l]=u.useState(!1),[c,d]=u.useState(0);u.useEffect(()=>{l(!0)},[]);const f=async()=>{try{n("checking"),i(null),await H.get("/health"),n("online"),d(0)}catch(m){console.warn("Serveur non accessible:",m);const h=c+1;if(d(h),o&&h<3){n("checking");return}n("offline"),m instanceof Error?i(m.message):i("Erreur de connexion au serveur")}};return u.useEffect(()=>{const m=()=>s(!0),h=()=>s(!1);if(window.addEventListener("online",m),window.addEventListener("offline",h),s(navigator.onLine),o){setTimeout(f,2e3);const j=setInterval(f,12e4);return()=>{window.removeEventListener("online",m),window.removeEventListener("offline",h),clearInterval(j)}}else{f();const j=setInterval(f,3e4);return()=>{window.removeEventListener("online",m),window.removeEventListener("offline",h),clearInterval(j)}}},[o]),t&&r==="online"?null:e.jsxs("div",{className:"fixed top-4 right-4 z-50 max-w-sm",children:[!t&&e.jsxs(ms,{variant:"destructive",className:"mb-2",children:[e.jsx(Dk,{className:"h-4 w-4"}),e.jsxs(hs,{children:[e.jsx("strong",{children:"Pas de connexion internet"}),e.jsx("br",{}),"Vrifiez votre connexion rseau."]})]}),t&&r==="offline"&&e.jsxs(ms,{variant:"destructive",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsxs(hs,{children:[e.jsx("strong",{children:"Serveur backend inaccessible"}),e.jsx("br",{}),o?e.jsxs(e.Fragment,{children:["Le service est temporairement indisponible. Veuillez ressayer dans quelques instants.",a&&e.jsxs("span",{className:"text-sm block mt-1",children:["Erreur: ",a]}),e.jsx("div",{className:"text-xs mt-2 text-red-700",children:" Si le problme persiste, contactez l'administrateur du systme."})]}):e.jsxs(e.Fragment,{children:["Vrifiez que le serveur backend est dmarr sur le port 3001.",a&&e.jsxs("span",{className:"text-sm block mt-1",children:["Erreur: ",a]}),e.jsxs("div",{className:"text-xs mt-2 text-red-700",children:[" Solution: Dmarrez le serveur avec ",e.jsx("code",{children:"npm run dev"})," dans le dossier Backend_Ecommerce"]})]})]})]}),t&&r==="checking"&&e.jsxs(ms,{children:[e.jsx(Ok,{className:"h-4 w-4 animate-pulse"}),e.jsxs(hs,{children:[e.jsx("strong",{children:"Vrification du serveur..."}),e.jsx("br",{}),"Test de connexion en cours..."]})]})]})},iP=()=>{const[t]=ni(),s=he();return u.useEffect(()=>{const r=t.get("oauth"),n=t.get("token"),a=t.get("user");if(r==="success"&&n&&a)try{const i=JSON.parse(decodeURIComponent(a));localStorage.setItem("authToken",n),localStorage.setItem("user",JSON.stringify(i)),M.success(`Connexion OAuth russie avec ${i.email} !`),i.role_id===1?s("/dashboard"):i.role_id===2?s("/supplier/dashboard"):i.role_id===3?s("/admin/dashboard"):s("/")}catch(i){console.error("Erreur parsing OAuth data:",i),M.error("Erreur lors de la connexion OAuth")}else if(r==="error"){const i=t.get("error");M.error(`Erreur de connexion OAuth: ${i||"Erreur inconnue"}`)}},[t,s]),null},oP=Ql("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-semibold transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gradient-to-r from-green-600 to-green-700 text-white hover:shadow-lg hover:scale-105 active:scale-100",destructive:"bg-red-600 text-white hover:bg-red-700 hover:shadow-sm",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 hover:shadow-sm",secondary:"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:shadow-lg hover:scale-105 active:scale-100",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"text-green-600 underline-offset-4 hover:underline hover:text-green-700",accent:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-800 hover:shadow-lg hover:scale-105 active:scale-100",hero:"bg-gradient-to-r from-green-600 to-blue-600 text-white shadow-lg hover:shadow-xl hover:scale-105 active:scale-100"},size:{default:"h-11 px-6 py-3",sm:"h-9 rounded-md px-4 text-sm",lg:"h-14 rounded-lg px-8 text-lg",icon:"h-11 w-11"}},defaultVariants:{variant:"default",size:"default"}}),E=u.forwardRef(({className:t,variant:s,size:r,asChild:n=!1,...a},i)=>{const o=n?aa:"button";return e.jsx(o,{className:ie(oP({variant:s,size:r,className:t})),ref:i,...a})});E.displayName="Button";const D=u.forwardRef(({className:t,type:s,...r},n)=>e.jsx("input",{type:s,className:ie("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-gray-900 placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));D.displayName="Input";var lP=u.createContext(void 0);function Co(t){const s=u.useContext(lP);return t||s||"ltr"}var Rm=0;function rp(){u.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??O0()),document.body.insertAdjacentElement("beforeend",t[1]??O0()),Rm++,()=>{Rm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Rm--}},[])}function O0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Am="focusScope.autoFocusOnMount",Mm="focusScope.autoFocusOnUnmount",F0={bubbles:!1,cancelable:!0},cP="FocusScope",Tu=u.forwardRef((t,s)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[l,c]=u.useState(null),d=rt(a),f=rt(i),m=u.useRef(null),h=Ce(s,g=>c(g)),j=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(n){let g=function(x){if(j.paused||!l)return;const w=x.target;l.contains(w)?m.current=w:Tn(m.current,{select:!0})},N=function(x){if(j.paused||!l)return;const w=x.relatedTarget;w!==null&&(l.contains(w)||Tn(m.current,{select:!0}))},p=function(x){if(document.activeElement===document.body)for(const k of x)k.removedNodes.length>0&&Tn(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",N);const v=new MutationObserver(p);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",N),v.disconnect()}}},[n,l,j.paused]),u.useEffect(()=>{if(l){$0.add(j);const g=document.activeElement;if(!l.contains(g)){const p=new CustomEvent(Am,F0);l.addEventListener(Am,d),l.dispatchEvent(p),p.defaultPrevented||(dP(xP(IN(l)),{select:!0}),document.activeElement===g&&Tn(l))}return()=>{l.removeEventListener(Am,d),setTimeout(()=>{const p=new CustomEvent(Mm,F0);l.addEventListener(Mm,f),l.dispatchEvent(p),p.defaultPrevented||Tn(g??document.body,{select:!0}),l.removeEventListener(Mm,f),$0.remove(j)},0)}}},[l,d,f,j]);const y=u.useCallback(g=>{if(!r&&!n||j.paused)return;const N=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,p=document.activeElement;if(N&&p){const v=g.currentTarget,[x,w]=uP(v);x&&w?!g.shiftKey&&p===w?(g.preventDefault(),r&&Tn(x,{select:!0})):g.shiftKey&&p===x&&(g.preventDefault(),r&&Tn(w,{select:!0})):p===v&&g.preventDefault()}},[r,n,j.paused]);return e.jsx(me.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});Tu.displayName=cP;function dP(t,{select:s=!1}={}){const r=document.activeElement;for(const n of t)if(Tn(n,{select:s}),document.activeElement!==r)return}function uP(t){const s=IN(t),r=z0(s,t),n=z0(s.reverse(),t);return[r,n]}function IN(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function z0(t,s){for(const r of t)if(!mP(r,{upTo:s}))return r}function mP(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function hP(t){return t instanceof HTMLInputElement&&"select"in t}function Tn(t,{select:s=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&hP(t)&&s&&t.select()}}var $0=fP();function fP(){let t=[];return{add(s){const r=t[0];s!==r&&(r==null||r.pause()),t=q0(t,s),t.unshift(s)},remove(s){var r;t=q0(t,s),(r=t[0])==null||r.resume()}}}function q0(t,s){const r=[...t],n=r.indexOf(s);return n!==-1&&r.splice(n,1),r}function xP(t){return t.filter(s=>s.tagName!=="A")}function pP(t,s=[]){let r=[];function n(i,o){const l=u.createContext(o),c=r.length;r=[...r,o];function d(m){const{scope:h,children:j,...y}=m,g=(h==null?void 0:h[t][c])||l,N=u.useMemo(()=>y,Object.values(y));return e.jsx(g.Provider,{value:N,children:j})}function f(m,h){const j=(h==null?void 0:h[t][c])||l,y=u.useContext(j);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,f]}const a=()=>{const i=r.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return u.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,gP(a,...s)]}function gP(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return u.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return r.scopeName=s.scopeName,r}var Im="rovingFocusGroup.onEntryFocus",vP={bubbles:!1,cancelable:!0},Ru="RovingFocusGroup",[ff,LN,jP]=Xl(Ru),[yP,Au]=pP(Ru,[jP]),[bP,NP]=yP(Ru),DN=u.forwardRef((t,s)=>e.jsx(ff.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(ff.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(wP,{...t,ref:s})})}));DN.displayName=Ru;var wP=u.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=t,h=u.useRef(null),j=Ce(s,h),y=Co(i),[g=null,N]=ia({prop:o,defaultProp:l,onChange:c}),[p,v]=u.useState(!1),x=rt(d),w=LN(r),k=u.useRef(!1),[S,b]=u.useState(0);return u.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Im,x),()=>C.removeEventListener(Im,x)},[x]),e.jsx(bP,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:g,onItemFocus:u.useCallback(C=>N(C),[N]),onItemShiftTab:u.useCallback(()=>v(!0),[]),onFocusableItemAdd:u.useCallback(()=>b(C=>C+1),[]),onFocusableItemRemove:u.useCallback(()=>b(C=>C-1),[]),children:e.jsx(me.div,{tabIndex:p||S===0?-1:0,"data-orientation":n,...m,ref:j,style:{outline:"none",...t.style},onMouseDown:se(t.onMouseDown,()=>{k.current=!0}),onFocus:se(t.onFocus,C=>{const _=!k.current;if(C.target===C.currentTarget&&_&&!p){const P=new CustomEvent(Im,vP);if(C.currentTarget.dispatchEvent(P),!P.defaultPrevented){const T=w().filter(A=>A.focusable),L=T.find(A=>A.active),I=T.find(A=>A.id===g),X=[L,I,...T].filter(Boolean).map(A=>A.ref.current);zN(X,f)}}k.current=!1}),onBlur:se(t.onBlur,()=>v(!1))})})}),ON="RovingFocusGroupItem",FN=u.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...o}=t,l=qr(),c=i||l,d=NP(ON,r),f=d.currentTabStopId===c,m=LN(r),{onFocusableItemAdd:h,onFocusableItemRemove:j}=d;return u.useEffect(()=>{if(n)return h(),()=>j()},[n,h,j]),e.jsx(ff.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:e.jsx(me.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:s,onMouseDown:se(t.onMouseDown,y=>{n?d.onItemFocus(c):y.preventDefault()}),onFocus:se(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:se(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=_P(y,d.orientation,d.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let p=m().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")p.reverse();else if(g==="prev"||g==="next"){g==="prev"&&p.reverse();const v=p.indexOf(y.currentTarget);p=d.loop?kP(p,v+1):p.slice(v+1)}setTimeout(()=>zN(p))}})})})});FN.displayName=ON;var CP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function SP(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function _P(t,s,r){const n=SP(t.key,r);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return CP[n]}function zN(t,s=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:s}),document.activeElement!==r))return}function kP(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var $N=DN,qN=FN,EP=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},di=new WeakMap,Dc=new WeakMap,Oc={},Lm=0,BN=function(t){return t&&(t.host||BN(t.parentNode))},PP=function(t,s){return s.map(function(r){if(t.contains(r))return r;var n=BN(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},TP=function(t,s,r,n){var a=PP(s,Array.isArray(t)?t:[t]);Oc[r]||(Oc[r]=new WeakMap);var i=Oc[r],o=[],l=new Set,c=new Set(a),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};a.forEach(d);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(l.has(h))f(h);else try{var j=h.getAttribute(n),y=j!==null&&j!=="false",g=(di.get(h)||0)+1,N=(i.get(h)||0)+1;di.set(h,g),i.set(h,N),o.push(h),g===1&&y&&Dc.set(h,!0),N===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(p){console.error("aria-hidden: cannot operate on ",h,p)}})};return f(s),l.clear(),Lm++,function(){o.forEach(function(m){var h=di.get(m)-1,j=i.get(m)-1;di.set(m,h),i.set(m,j),h||(Dc.has(m)||m.removeAttribute(n),Dc.delete(m)),j||m.removeAttribute(r)}),Lm--,Lm||(di=new WeakMap,di=new WeakMap,Dc=new WeakMap,Oc={})}},np=function(t,s,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=EP(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),TP(n,a,r,"aria-hidden")):function(){return null}},Ir=function(){return Ir=Object.assign||function(s){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},Ir.apply(this,arguments)};function VN(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function RP(t,s,r){if(r||arguments.length===2)for(var n=0,a=s.length,i;n<a;n++)(i||!(n in s))&&(i||(i=Array.prototype.slice.call(s,0,n)),i[n]=s[n]);return t.concat(i||Array.prototype.slice.call(s))}var od="right-scroll-bar-position",ld="width-before-scroll-bar",AP="with-scroll-bars-hidden",MP="--removed-body-scroll-bar-size";function Dm(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function IP(t,s){var r=u.useState(function(){return{value:t,callback:s,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=s,r.facade}var LP=typeof window<"u"?u.useLayoutEffect:u.useEffect,B0=new WeakMap;function DP(t,s){var r=IP(null,function(n){return t.forEach(function(a){return Dm(a,n)})});return LP(function(){var n=B0.get(r);if(n){var a=new Set(n),i=new Set(t),o=r.current;a.forEach(function(l){i.has(l)||Dm(l,null)}),i.forEach(function(l){a.has(l)||Dm(l,o)})}B0.set(r,t)},[t]),r}function OP(t){return t}function FP(t,s){s===void 0&&(s=OP);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=s(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return a}function zP(t){t===void 0&&(t={});var s=FP(null);return s.options=Ir({async:!0,ssr:!1},t),s}var UN=function(t){var s=t.sideCar,r=VN(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=s.read();if(!n)throw new Error("Sidecar medium not found");return u.createElement(n,Ir({},r))};UN.isSideCarExport=!0;function $P(t,s){return t.useMedium(s),UN}var HN=zP(),Om=function(){},Mu=u.forwardRef(function(t,s){var r=u.useRef(null),n=u.useState({onScrollCapture:Om,onWheelCapture:Om,onTouchMoveCapture:Om}),a=n[0],i=n[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,m=t.shards,h=t.sideCar,j=t.noIsolation,y=t.inert,g=t.allowPinchZoom,N=t.as,p=N===void 0?"div":N,v=t.gapMode,x=VN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,k=DP([r,s]),S=Ir(Ir({},x),a);return u.createElement(u.Fragment,null,f&&u.createElement(w,{sideCar:HN,removeScrollBar:d,shards:m,noIsolation:j,inert:y,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:v}),o?u.cloneElement(u.Children.only(l),Ir(Ir({},S),{ref:k})):u.createElement(p,Ir({},S,{className:c,ref:k}),l))});Mu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mu.classNames={fullWidth:ld,zeroRight:od};var qP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BP(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=qP();return s&&t.setAttribute("nonce",s),t}function VP(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function UP(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var HP=function(){var t=0,s=null;return{add:function(r){t==0&&(s=BP())&&(VP(s,r),UP(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},WP=function(){var t=HP();return function(s,r){u.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&r])}},WN=function(){var t=WP(),s=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return s},GP={left:0,top:0,right:0,gap:0},Fm=function(t){return parseInt(t||"",10)||0},XP=function(t){var s=window.getComputedStyle(document.body),r=s[t==="padding"?"paddingLeft":"marginLeft"],n=s[t==="padding"?"paddingTop":"marginTop"],a=s[t==="padding"?"paddingRight":"marginRight"];return[Fm(r),Fm(n),Fm(a)]},KP=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return GP;var s=XP(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,n-r+s[2]-s[0])}},YP=WN(),Oi="data-scroll-locked",QP=function(t,s,r,n){var a=t.left,i=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(AP,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Oi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(od,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ld,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(od," .").concat(od,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ld," .").concat(ld,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Oi,`] {
    `).concat(MP,": ").concat(l,`px;
  }
`)},V0=function(){var t=parseInt(document.body.getAttribute(Oi)||"0",10);return isFinite(t)?t:0},JP=function(){u.useEffect(function(){return document.body.setAttribute(Oi,(V0()+1).toString()),function(){var t=V0()-1;t<=0?document.body.removeAttribute(Oi):document.body.setAttribute(Oi,t.toString())}},[])},ZP=function(t){var s=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;JP();var i=u.useMemo(function(){return KP(a)},[a]);return u.createElement(YP,{styles:QP(i,!s,a,r?"":"!important")})},xf=!1;if(typeof window<"u")try{var Fc=Object.defineProperty({},"passive",{get:function(){return xf=!0,!0}});window.addEventListener("test",Fc,Fc),window.removeEventListener("test",Fc,Fc)}catch{xf=!1}var ui=xf?{passive:!1}:!1,eT=function(t){return t.tagName==="TEXTAREA"},GN=function(t,s){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!eT(t)&&r[s]==="visible")},tT=function(t){return GN(t,"overflowY")},sT=function(t){return GN(t,"overflowX")},U0=function(t,s){var r=s.ownerDocument,n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=XN(t,n);if(a){var i=KN(t,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},rT=function(t){var s=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[s,r,n]},nT=function(t){var s=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[s,r,n]},XN=function(t,s){return t==="v"?tT(s):sT(s)},KN=function(t,s){return t==="v"?rT(s):nT(s)},aT=function(t,s){return t==="h"&&s==="rtl"?-1:1},iT=function(t,s,r,n,a){var i=aT(t,window.getComputedStyle(s).direction),o=i*n,l=r.target,c=s.contains(l),d=!1,f=o>0,m=0,h=0;do{var j=KN(t,l),y=j[0],g=j[1],N=j[2],p=g-N-i*y;(y||p)&&XN(t,l)&&(m+=p,h+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(s.contains(l)||s===l));return(f&&Math.abs(m)<1||!f&&Math.abs(h)<1)&&(d=!0),d},zc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},H0=function(t){return[t.deltaX,t.deltaY]},W0=function(t){return t&&"current"in t?t.current:t},oT=function(t,s){return t[0]===s[0]&&t[1]===s[1]},lT=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},cT=0,mi=[];function dT(t){var s=u.useRef([]),r=u.useRef([0,0]),n=u.useRef(),a=u.useState(cT++)[0],i=u.useState(WN)[0],o=u.useRef(t);u.useEffect(function(){o.current=t},[t]),u.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var g=RP([t.lockRef.current],(t.shards||[]).map(W0),!0).filter(Boolean);return g.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=u.useCallback(function(g,N){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var p=zc(g),v=r.current,x="deltaX"in g?g.deltaX:v[0]-p[0],w="deltaY"in g?g.deltaY:v[1]-p[1],k,S=g.target,b=Math.abs(x)>Math.abs(w)?"h":"v";if("touches"in g&&b==="h"&&S.type==="range")return!1;var C=U0(b,S);if(!C)return!0;if(C?k=b:(k=b==="v"?"h":"v",C=U0(b,S)),!C)return!1;if(!n.current&&"changedTouches"in g&&(x||w)&&(n.current=k),!k)return!0;var _=n.current||k;return iT(_,N,g,_==="h"?x:w)},[]),c=u.useCallback(function(g){var N=g;if(!(!mi.length||mi[mi.length-1]!==i)){var p="deltaY"in N?H0(N):zc(N),v=s.current.filter(function(k){return k.name===N.type&&(k.target===N.target||N.target===k.shadowParent)&&oT(k.delta,p)})[0];if(v&&v.should){N.cancelable&&N.preventDefault();return}if(!v){var x=(o.current.shards||[]).map(W0).filter(Boolean).filter(function(k){return k.contains(N.target)}),w=x.length>0?l(N,x[0]):!o.current.noIsolation;w&&N.cancelable&&N.preventDefault()}}},[]),d=u.useCallback(function(g,N,p,v){var x={name:g,delta:N,target:p,should:v,shadowParent:uT(p)};s.current.push(x),setTimeout(function(){s.current=s.current.filter(function(w){return w!==x})},1)},[]),f=u.useCallback(function(g){r.current=zc(g),n.current=void 0},[]),m=u.useCallback(function(g){d(g.type,H0(g),g.target,l(g,t.lockRef.current))},[]),h=u.useCallback(function(g){d(g.type,zc(g),g.target,l(g,t.lockRef.current))},[]);u.useEffect(function(){return mi.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ui),document.addEventListener("touchmove",c,ui),document.addEventListener("touchstart",f,ui),function(){mi=mi.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,ui),document.removeEventListener("touchmove",c,ui),document.removeEventListener("touchstart",f,ui)}},[]);var j=t.removeScrollBar,y=t.inert;return u.createElement(u.Fragment,null,y?u.createElement(i,{styles:lT(a)}):null,j?u.createElement(ZP,{gapMode:t.gapMode}):null)}function uT(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const mT=$P(HN,dT);var Iu=u.forwardRef(function(t,s){return u.createElement(Mu,Ir({},t,{ref:s,sideCar:mT}))});Iu.classNames=Mu.classNames;var pf=["Enter"," "],hT=["ArrowDown","PageUp","Home"],YN=["ArrowUp","PageDown","End"],fT=[...hT,...YN],xT={ltr:[...pf,"ArrowRight"],rtl:[...pf,"ArrowLeft"]},pT={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ec="Menu",[Il,gT,vT]=Xl(ec),[ai,QN]=Wr(ec,[vT,yo,Au]),Lu=yo(),JN=Au(),[jT,ii]=ai(ec),[yT,tc]=ai(ec),ZN=t=>{const{__scopeMenu:s,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=t,l=Lu(s),[c,d]=u.useState(null),f=u.useRef(!1),m=rt(i),h=Co(a);return u.useEffect(()=>{const j=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",j,{capture:!0}),()=>{document.removeEventListener("keydown",j,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),e.jsx(tN,{...l,children:e.jsx(jT,{scope:s,open:r,onOpenChange:m,content:c,onContentChange:d,children:e.jsx(yT,{scope:s,onClose:u.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:h,modal:o,children:n})})})};ZN.displayName=ec;var bT="MenuAnchor",ap=u.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t,a=Lu(r);return e.jsx(Ux,{...a,...n,ref:s})});ap.displayName=bT;var ip="MenuPortal",[NT,ew]=ai(ip,{forceMount:void 0}),tw=t=>{const{__scopeMenu:s,forceMount:r,children:n,container:a}=t,i=ii(ip,s);return e.jsx(NT,{scope:s,forceMount:r,children:e.jsx(ts,{present:r||i.open,children:e.jsx(Kl,{asChild:!0,container:a,children:n})})})};tw.displayName=ip;var Hs="MenuContent",[wT,op]=ai(Hs),sw=u.forwardRef((t,s)=>{const r=ew(Hs,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=ii(Hs,t.__scopeMenu),o=tc(Hs,t.__scopeMenu);return e.jsx(Il.Provider,{scope:t.__scopeMenu,children:e.jsx(ts,{present:n||i.open,children:e.jsx(Il.Slot,{scope:t.__scopeMenu,children:o.modal?e.jsx(CT,{...a,ref:s}):e.jsx(ST,{...a,ref:s})})})})}),CT=u.forwardRef((t,s)=>{const r=ii(Hs,t.__scopeMenu),n=u.useRef(null),a=Ce(s,n);return u.useEffect(()=>{const i=n.current;if(i)return np(i)},[]),e.jsx(lp,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ST=u.forwardRef((t,s)=>{const r=ii(Hs,t.__scopeMenu);return e.jsx(lp,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),lp=u.forwardRef((t,s)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:h,onDismiss:j,disableOutsideScroll:y,...g}=t,N=ii(Hs,r),p=tc(Hs,r),v=Lu(r),x=JN(r),w=gT(r),[k,S]=u.useState(null),b=u.useRef(null),C=Ce(s,b,N.onContentChange),_=u.useRef(0),P=u.useRef(""),T=u.useRef(0),L=u.useRef(null),I=u.useRef("right"),O=u.useRef(0),X=y?Iu:u.Fragment,A=y?{as:aa,allowPinchZoom:!0}:void 0,B=F=>{var V,ne;const J=P.current+F,G=w().filter(pe=>!pe.disabled),te=document.activeElement,Q=(V=G.find(pe=>pe.ref.current===te))==null?void 0:V.textValue,ae=G.map(pe=>pe.textValue),ue=OT(ae,J,Q),de=(ne=G.find(pe=>pe.textValue===ue))==null?void 0:ne.ref.current;(function pe(oe){P.current=oe,window.clearTimeout(_.current),oe!==""&&(_.current=window.setTimeout(()=>pe(""),1e3))})(J),de&&setTimeout(()=>de.focus())};u.useEffect(()=>()=>window.clearTimeout(_.current),[]),rp();const R=u.useCallback(F=>{var G,te;return I.current===((G=L.current)==null?void 0:G.side)&&zT(F,(te=L.current)==null?void 0:te.area)},[]);return e.jsx(wT,{scope:r,searchRef:P,onItemEnter:u.useCallback(F=>{R(F)&&F.preventDefault()},[R]),onItemLeave:u.useCallback(F=>{var J;R(F)||((J=b.current)==null||J.focus(),S(null))},[R]),onTriggerLeave:u.useCallback(F=>{R(F)&&F.preventDefault()},[R]),pointerGraceTimerRef:T,onPointerGraceIntentChange:u.useCallback(F=>{L.current=F},[]),children:e.jsx(X,{...A,children:e.jsx(Tu,{asChild:!0,trapped:a,onMountAutoFocus:se(i,F=>{var J;F.preventDefault(),(J=b.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:e.jsx(xo,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:h,onDismiss:j,children:e.jsx($N,{asChild:!0,...x,dir:p.dir,orientation:"vertical",loop:n,currentTabStopId:k,onCurrentTabStopIdChange:S,onEntryFocus:se(c,F=>{p.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Hx,{role:"menu","aria-orientation":"vertical","data-state":vw(N.open),"data-radix-menu-content":"",dir:p.dir,...v,...g,ref:C,style:{outline:"none",...g.style},onKeyDown:se(g.onKeyDown,F=>{const G=F.target.closest("[data-radix-menu-content]")===F.currentTarget,te=F.ctrlKey||F.altKey||F.metaKey,Q=F.key.length===1;G&&(F.key==="Tab"&&F.preventDefault(),!te&&Q&&B(F.key));const ae=b.current;if(F.target!==ae||!fT.includes(F.key))return;F.preventDefault();const de=w().filter(V=>!V.disabled).map(V=>V.ref.current);YN.includes(F.key)&&de.reverse(),LT(de)}),onBlur:se(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(_.current),P.current="")}),onPointerMove:se(t.onPointerMove,Ll(F=>{const J=F.target,G=O.current!==F.clientX;if(F.currentTarget.contains(J)&&G){const te=F.clientX>O.current?"right":"left";I.current=te,O.current=F.clientX}}))})})})})})})});sw.displayName=Hs;var _T="MenuGroup",cp=u.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(me.div,{role:"group",...n,ref:s})});cp.displayName=_T;var kT="MenuLabel",rw=u.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(me.div,{...n,ref:s})});rw.displayName=kT;var Gd="MenuItem",G0="menu.itemSelect",Du=u.forwardRef((t,s)=>{const{disabled:r=!1,onSelect:n,...a}=t,i=u.useRef(null),o=tc(Gd,t.__scopeMenu),l=op(Gd,t.__scopeMenu),c=Ce(s,i),d=u.useRef(!1),f=()=>{const m=i.current;if(!r&&m){const h=new CustomEvent(G0,{bubbles:!0,cancelable:!0});m.addEventListener(G0,j=>n==null?void 0:n(j),{once:!0}),Tx(m,h),h.defaultPrevented?d.current=!1:o.onClose()}};return e.jsx(nw,{...a,ref:c,disabled:r,onClick:se(t.onClick,f),onPointerDown:m=>{var h;(h=t.onPointerDown)==null||h.call(t,m),d.current=!0},onPointerUp:se(t.onPointerUp,m=>{var h;d.current||(h=m.currentTarget)==null||h.click()}),onKeyDown:se(t.onKeyDown,m=>{const h=l.searchRef.current!=="";r||h&&m.key===" "||pf.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Du.displayName=Gd;var nw=u.forwardRef((t,s)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=t,o=op(Gd,r),l=JN(r),c=u.useRef(null),d=Ce(s,c),[f,m]=u.useState(!1),[h,j]=u.useState("");return u.useEffect(()=>{const y=c.current;y&&j((y.textContent??"").trim())},[i.children]),e.jsx(Il.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:e.jsx(qN,{asChild:!0,...l,focusable:!n,children:e.jsx(me.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:se(t.onPointerMove,Ll(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(t.onPointerLeave,Ll(y=>o.onItemLeave(y))),onFocus:se(t.onFocus,()=>m(!0)),onBlur:se(t.onBlur,()=>m(!1))})})})}),ET="MenuCheckboxItem",aw=u.forwardRef((t,s)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return e.jsx(dw,{scope:t.__scopeMenu,checked:r,children:e.jsx(Du,{role:"menuitemcheckbox","aria-checked":Xd(r)?"mixed":r,...a,ref:s,"data-state":up(r),onSelect:se(a.onSelect,()=>n==null?void 0:n(Xd(r)?!0:!r),{checkForDefaultPrevented:!1})})})});aw.displayName=ET;var iw="MenuRadioGroup",[PT,TT]=ai(iw,{value:void 0,onValueChange:()=>{}}),ow=u.forwardRef((t,s)=>{const{value:r,onValueChange:n,...a}=t,i=rt(n);return e.jsx(PT,{scope:t.__scopeMenu,value:r,onValueChange:i,children:e.jsx(cp,{...a,ref:s})})});ow.displayName=iw;var lw="MenuRadioItem",cw=u.forwardRef((t,s)=>{const{value:r,...n}=t,a=TT(lw,t.__scopeMenu),i=r===a.value;return e.jsx(dw,{scope:t.__scopeMenu,checked:i,children:e.jsx(Du,{role:"menuitemradio","aria-checked":i,...n,ref:s,"data-state":up(i),onSelect:se(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});cw.displayName=lw;var dp="MenuItemIndicator",[dw,RT]=ai(dp,{checked:!1}),uw=u.forwardRef((t,s)=>{const{__scopeMenu:r,forceMount:n,...a}=t,i=RT(dp,r);return e.jsx(ts,{present:n||Xd(i.checked)||i.checked===!0,children:e.jsx(me.span,{...a,ref:s,"data-state":up(i.checked)})})});uw.displayName=dp;var AT="MenuSeparator",mw=u.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:s})});mw.displayName=AT;var MT="MenuArrow",hw=u.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t,a=Lu(r);return e.jsx(Wx,{...a,...n,ref:s})});hw.displayName=MT;var IT="MenuSub",[$F,fw]=ai(IT),Ko="MenuSubTrigger",xw=u.forwardRef((t,s)=>{const r=ii(Ko,t.__scopeMenu),n=tc(Ko,t.__scopeMenu),a=fw(Ko,t.__scopeMenu),i=op(Ko,t.__scopeMenu),o=u.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},f=u.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return u.useEffect(()=>f,[f]),u.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),e.jsx(ap,{asChild:!0,...d,children:e.jsx(nw,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":vw(r.open),...t,ref:vu(s,a.onTriggerChange),onClick:m=>{var h;(h=t.onClick)==null||h.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:se(t.onPointerMove,Ll(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:se(t.onPointerLeave,Ll(m=>{var j,y;f();const h=(j=r.content)==null?void 0:j.getBoundingClientRect();if(h){const g=(y=r.content)==null?void 0:y.dataset.side,N=g==="right",p=N?-5:5,v=h[N?"left":"right"],x=h[N?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+p,y:m.clientY},{x:v,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:v,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:se(t.onKeyDown,m=>{var j;const h=i.searchRef.current!=="";t.disabled||h&&m.key===" "||xT[n.dir].includes(m.key)&&(r.onOpenChange(!0),(j=r.content)==null||j.focus(),m.preventDefault())})})})});xw.displayName=Ko;var pw="MenuSubContent",gw=u.forwardRef((t,s)=>{const r=ew(Hs,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=ii(Hs,t.__scopeMenu),o=tc(Hs,t.__scopeMenu),l=fw(pw,t.__scopeMenu),c=u.useRef(null),d=Ce(s,c);return e.jsx(Il.Provider,{scope:t.__scopeMenu,children:e.jsx(ts,{present:n||i.open,children:e.jsx(Il.Slot,{scope:t.__scopeMenu,children:e.jsx(lp,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:se(t.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:se(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:se(t.onKeyDown,f=>{var j;const m=f.currentTarget.contains(f.target),h=pT[o.dir].includes(f.key);m&&h&&(i.onOpenChange(!1),(j=l.trigger)==null||j.focus(),f.preventDefault())})})})})})});gw.displayName=pw;function vw(t){return t?"open":"closed"}function Xd(t){return t==="indeterminate"}function up(t){return Xd(t)?"indeterminate":t?"checked":"unchecked"}function LT(t){const s=document.activeElement;for(const r of t)if(r===s||(r.focus(),document.activeElement!==s))return}function DT(t,s){return t.map((r,n)=>t[(s+n)%t.length])}function OT(t,s,r){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,i=r?t.indexOf(r):-1;let o=DT(t,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function FT(t,s){const{x:r,y:n}=t;let a=!1;for(let i=0,o=s.length-1;i<s.length;o=i++){const l=s[i].x,c=s[i].y,d=s[o].x,f=s[o].y;c>n!=f>n&&r<(d-l)*(n-c)/(f-c)+l&&(a=!a)}return a}function zT(t,s){if(!s)return!1;const r={x:t.clientX,y:t.clientY};return FT(r,s)}function Ll(t){return s=>s.pointerType==="mouse"?t(s):void 0}var $T=ZN,qT=ap,BT=tw,VT=sw,UT=cp,HT=rw,WT=Du,GT=aw,XT=ow,KT=cw,YT=uw,QT=mw,JT=hw,ZT=xw,eR=gw,mp="DropdownMenu",[tR]=Wr(mp,[QN]),ss=QN(),[sR,jw]=tR(mp),yw=t=>{const{__scopeDropdownMenu:s,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,c=ss(s),d=u.useRef(null),[f=!1,m]=ia({prop:a,defaultProp:i,onChange:o});return e.jsx(sR,{scope:s,triggerId:qr(),triggerRef:d,contentId:qr(),open:f,onOpenChange:m,onOpenToggle:u.useCallback(()=>m(h=>!h),[m]),modal:l,children:e.jsx($T,{...c,open:f,onOpenChange:m,dir:n,modal:l,children:r})})};yw.displayName=mp;var bw="DropdownMenuTrigger",Nw=u.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,i=jw(bw,r),o=ss(r);return e.jsx(qT,{asChild:!0,...o,children:e.jsx(me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:vu(s,i.triggerRef),onPointerDown:se(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:se(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Nw.displayName=bw;var rR="DropdownMenuPortal",ww=t=>{const{__scopeDropdownMenu:s,...r}=t,n=ss(s);return e.jsx(BT,{...n,...r})};ww.displayName=rR;var Cw="DropdownMenuContent",Sw=u.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=jw(Cw,r),i=ss(r),o=u.useRef(!1);return e.jsx(VT,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:s,onCloseAutoFocus:se(t.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:se(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!a.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Sw.displayName=Cw;var nR="DropdownMenuGroup",aR=u.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=ss(r);return e.jsx(UT,{...a,...n,ref:s})});aR.displayName=nR;var iR="DropdownMenuLabel",_w=u.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=ss(r);return e.jsx(HT,{...a,...n,ref:s})});_w.displayName=iR;var oR="DropdownMenuItem",kw=u.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=ss(r);return e.jsx(WT,{...a,...n,ref:s})});kw.displayName=oR;var lR="DropdownMenuCheckboxItem",Ew=u.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=ss(r);return e.jsx(GT,{...a,...n,ref:s})});Ew.displayName=lR;var cR="DropdownMenuRadioGroup",dR=u.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=ss(r);return e.jsx(XT,{...a,...n,ref:s})});dR.displayName=cR;var uR="DropdownMenuRadioItem",Pw=u.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=ss(r);return e.jsx(KT,{...a,...n,ref:s})});Pw.displayName=uR;var mR="DropdownMenuItemIndicator",Tw=u.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=ss(r);return e.jsx(YT,{...a,...n,ref:s})});Tw.displayName=mR;var hR="DropdownMenuSeparator",Rw=u.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=ss(r);return e.jsx(QT,{...a,...n,ref:s})});Rw.displayName=hR;var fR="DropdownMenuArrow",xR=u.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=ss(r);return e.jsx(JT,{...a,...n,ref:s})});xR.displayName=fR;var pR="DropdownMenuSubTrigger",Aw=u.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=ss(r);return e.jsx(ZT,{...a,...n,ref:s})});Aw.displayName=pR;var gR="DropdownMenuSubContent",Mw=u.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=ss(r);return e.jsx(eR,{...a,...n,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Mw.displayName=gR;var vR=yw,jR=Nw,yR=ww,Iw=Sw,Lw=_w,Dw=kw,Ow=Ew,Fw=Pw,zw=Tw,$w=Rw,qw=Aw,Bw=Mw;const fr=vR,xr=jR,bR=u.forwardRef(({className:t,inset:s,children:r,...n},a)=>e.jsxs(qw,{ref:a,className:ie("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...n,children:[r,e.jsx(qs,{className:"ml-auto h-4 w-4"})]}));bR.displayName=qw.displayName;const NR=u.forwardRef(({className:t,...s},r)=>e.jsx(Bw,{ref:r,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));NR.displayName=Bw.displayName;const Ws=u.forwardRef(({className:t,sideOffset:s=4,...r},n)=>e.jsx(yR,{children:e.jsx(Iw,{ref:n,sideOffset:s,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Ws.displayName=Iw.displayName;const Ne=u.forwardRef(({className:t,inset:s,...r},n)=>e.jsx(Dw,{ref:n,className:ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...r}));Ne.displayName=Dw.displayName;const wR=u.forwardRef(({className:t,children:s,checked:r,...n},a)=>e.jsxs(Ow,{ref:a,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(zw,{children:e.jsx(js,{className:"h-4 w-4"})})}),s]}));wR.displayName=Ow.displayName;const CR=u.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(Fw,{ref:n,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(zw,{children:e.jsx(bk,{className:"h-2 w-2 fill-current"})})}),s]}));CR.displayName=Fw.displayName;const SR=u.forwardRef(({className:t,inset:s,...r},n)=>e.jsx(Lw,{ref:n,className:ie("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...r}));SR.displayName=Lw.displayName;const sc=u.forwardRef(({className:t,...s},r)=>e.jsx($w,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",t),...s}));sc.displayName=$w.displayName;const hp=()=>{const[t,s]=u.useState(0),[r,n]=u.useState(!0),[a,i]=u.useState(null),o=u.useCallback(async(l=0)=>{try{if(n(!0),i(null),!localStorage.getItem("authToken")){s(0),n(!1);return}const d=await H.get("/conversations"),m=((d==null?void 0:d.data)||d||[]).reduce((h,j)=>h+(j.messages_non_lus_acheteur||0)+(j.messages_non_lus_fournisseur||0),0);s(m)}catch(c){const d=c instanceof Error?c.message:"Erreur inconnue";if(console.error("Erreur rcupration compteur messages:",d),l<2&&(d.includes("connexion")||d.includes("timeout")||d.includes("rseau"))){console.log(`Tentative de reconnexion ${l+1}/2...`),setTimeout(()=>o(l+1),2e3);return}i(d),s(0)}finally{n(!1)}},[]);return u.useEffect(()=>{o();const l=setInterval(o,3e4);return()=>clearInterval(l)},[o]),{count:t,isLoading:r,error:a,refetch:o}},Ou="https://back-gabonmarquethub.onrender.com/api",_R="https://back-gabonmarquethub.onrender.com",Dt=t=>t?t.startsWith("http://")||t.startsWith("https://")?t:`${_R}${t.startsWith("/")?"":"/"}${t}`:"",Fu=t=>{try{const s=t.split(".");return s.length!==3?null:JSON.parse(atob(s[1]))}catch(s){return console.error("Erreur dcodage token:",s),null}},Vw=t=>{const s=Fu(t);if(!s||!s.exp)return!0;const r=Math.floor(Date.now()/1e3);return s.exp<r},kR=t=>{const s=Fu(t);if(!s||!s.exp)return 0;const r=Math.floor(Date.now()/1e3);return Math.max(0,s.exp-r)},ER=t=>!t||typeof t!="string"||!Fu(t)?!1:!Vw(t),PR=t=>{const s=Fu(t);return s?{userId:s.id,email:s.email,roleId:s.role_id,issuedAt:new Date(s.iat*1e3),expiresAt:new Date(s.exp*1e3),isExpired:Vw(t),timeRemaining:kR(t)}:null};let Lr={user:null,isAuthenticated:!1,isLoading:!0,token:null};const Dl=new Set,TR=()=>{Dl.forEach(t=>t())},sr=t=>{Lr={...Lr,...t},TR()},dt=()=>{const[t,s]=u.useState(Lr.user),[r,n]=u.useState(Lr.isLoading),[a,i]=u.useState(null);u.useEffect(()=>{const l=()=>{s(Lr.user),n(Lr.isLoading)};return Dl.add(l),()=>{Dl.delete(l)}},[]);const o=u.useCallback(async()=>{try{sr({isLoading:!0}),i(null);const l=localStorage.getItem("authToken");if(!l){sr({user:null,isAuthenticated:!1,isLoading:!1});return}const c=await fetch(`${Ou}/auth/me`,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(!c.ok){if(c.status===401){console.warn(" Token invalide dtect, suppression du localStorage"),localStorage.removeItem("authToken"),sr({user:null,isAuthenticated:!1,isLoading:!1});return}console.warn(` Erreur ${c.status} lors de la vrification utilisateur:`,c.statusText),sr({isLoading:!1});return}const d=await c.json();if(d&&d.id)sr({user:d,isAuthenticated:!0,isLoading:!1});else throw new Error("Donnes utilisateur invalides")}catch(l){const c=l instanceof Error?l.message:"Erreur inconnue";console.error("Erreur rcupration utilisateur:",c),i(c),c.includes("fetch")||c.includes("network")||c.includes("Failed to fetch")?(console.warn(" Erreur rseau - token conserv"),sr({isLoading:!1})):sr({user:null,isAuthenticated:!1,isLoading:!1})}},[]);return u.useEffect(()=>{const l=localStorage.getItem("authToken");if(l){if(!ER(l)){console.warn(" Token expir dtect ct client, suppression"),localStorage.removeItem("authToken"),sr({user:null,isAuthenticated:!1,isLoading:!1});return}const c=PR(l);console.log(" Token trouv, expire dans:",Math.floor((c==null?void 0:c.timeRemaining)||0/60),"minutes"),Lr.user||o()}else console.log(" Aucun token trouv"),sr({user:null,isAuthenticated:!1,isLoading:!1})},[o]),u.useEffect(()=>{const l=()=>{o()};return window.addEventListener("tokenChanged",l),window.addEventListener("storage",c=>{c.key==="authToken"&&o()}),()=>{window.removeEventListener("tokenChanged",l),window.removeEventListener("storage",l)}},[o]),{data:t,isLoading:r,error:a,refetch:o}},zu=()=>{const{data:t,isLoading:s,error:r,refetch:n}=dt(),[a,i]=u.useState(null),o=u.useCallback(async c=>{try{i(null);const d=await fetch(`${Ou}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),f=await d.json();if(!d.ok)throw new Error(f.error||f.message||"Erreur de connexion");return f.token&&(localStorage.setItem("authToken",f.token),f.user&&sr({user:f.user,isAuthenticated:!0,isLoading:!1,token:f.token}),window.dispatchEvent(new Event("tokenChanged")),setTimeout(()=>n(),100)),{success:!0,data:{user:f.user,token:f.token,expires_in:24*60*60},message:f.message}}catch(d){const f=d instanceof Error?d.message:"Erreur de connexion";throw i(f),d}},[n]),l=u.useCallback(()=>{localStorage.removeItem("authToken"),i(null),sr({user:null,isAuthenticated:!1,isLoading:!1,token:null}),window.dispatchEvent(new Event("tokenChanged"))},[]);return{user:t,isAuthenticated:Lr.isAuthenticated,isLoading:s,error:r||a,login:o,logout:l,refetchUser:n}},Qs=()=>{const[t,s]=u.useState(Lr.isAuthenticated);return u.useEffect(()=>{const r=()=>{s(Lr.isAuthenticated)};return Dl.add(r),()=>{Dl.delete(r)}},[]),t},Xr=()=>{const{logout:t}=zu();return t},fp=()=>{const{login:t}=zu();return t},RR=()=>({register:u.useCallback(async s=>{try{const r=await fetch(`${Ou}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Erreur lors de l'inscription");return n}catch(r){throw console.error("Erreur inscription:",r),r}},[])}),AR=()=>{const{refetchUser:t}=zu();return{updateProfile:u.useCallback(async r=>{try{const n=localStorage.getItem("authToken"),a=await fetch(`${Ou}/auth/profile`,{method:"PUT",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(r)}),i=await a.json();if(!a.ok||!i.success)throw new Error(i.error||"Erreur lors de la mise  jour du profil");return await t(),i}catch(n){throw console.error("Erreur mise  jour profil:",n),n}},[t])}},ja=t=>{const[s,r]=u.useState(null),[n,a]=u.useState(!0),[i,o]=u.useState(null),l=async()=>{try{a(!0),o(null);const c=localStorage.getItem("authToken");if(!c){r(null),a(!1);return}const d=t?`https://back-gabonmarquethub.onrender.com/api/profile-photo/${t}`:"https://back-gabonmarquethub.onrender.com/api/profile-photo",f=await fetch(d,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}}),m=await f.json();if(!f.ok)throw new Error(m.error||"Erreur lors de la rcupration");r(m.data)}catch(c){c instanceof Error&&!c.message.includes("Token d'authentification manquant")&&console.error("Erreur rcupration photo profil:",c),o(c instanceof Error?c.message:"Erreur lors de la rcupration")}finally{a(!1)}};return u.useEffect(()=>{l()},[t]),{photoData:s,isLoading:n,error:i,refetch:l}},MR={xs:"w-6 h-6",sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-20 h-20"},IR={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-10 h-10"},So=({photoUrl:t,name:s,size:r="md",className:n="",showFallback:a=!0})=>{const i=MR[r],o=IR[r],l=c=>c?c.split(" ").map(d=>d.charAt(0)).join("").toUpperCase().slice(0,2):"U";return e.jsxs("div",{className:`${i} rounded-full overflow-hidden bg-gray-100 flex items-center justify-center ${n}`,children:[t?e.jsx("img",{src:Dt(t),alt:s?`Photo de ${s}`:"Photo de profil",className:"w-full h-full object-cover",onError:c=>{var d;a&&(c.currentTarget.style.display="none",(d=c.currentTarget.nextElementSibling)==null||d.classList.remove("hidden"))}}):null,a&&e.jsx("div",{className:`${t?"hidden":""} flex items-center justify-center w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 text-white font-semibold`,children:s?e.jsx("span",{className:"text-xs font-bold",children:l(s)}):e.jsx(we,{className:o})})]})},LR=Ql("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-green-600 text-white hover:bg-green-700",secondary:"border-transparent bg-blue-600 text-white hover:bg-blue-700",destructive:"border-transparent bg-red-600 text-white hover:bg-red-700",outline:"text-gray-900 border-gray-300"}},defaultVariants:{variant:"default"}});function U({className:t,variant:s,...r}){return e.jsx("div",{className:ie(LR({variant:s}),t),...r})}const $=u.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));$.displayName="Card";const K=u.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ie("flex flex-col space-y-1.5 p-6",t),...s}));K.displayName="CardHeader";const Y=u.forwardRef(({className:t,...s},r)=>e.jsx("h3",{ref:r,className:ie("text-2xl font-semibold leading-none tracking-tight",t),...s}));Y.displayName="CardTitle";const Uw=u.forwardRef(({className:t,...s},r)=>e.jsx("p",{ref:r,className:ie("text-sm text-muted-foreground",t),...s}));Uw.displayName="CardDescription";const q=u.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ie("p-6 pt-0",t),...s}));q.displayName="CardContent";const DR=u.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:ie("flex items-center p-6 pt-0",t),...s}));DR.displayName="CardFooter";var xp="Tabs",[OR]=Wr(xp,[Au]),Hw=Au(),[FR,pp]=OR(xp),Ww=u.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,f=Co(l),[m,h]=ia({prop:n,onChange:a,defaultProp:i});return e.jsx(FR,{scope:r,baseId:qr(),value:m,onValueChange:h,orientation:o,dir:f,activationMode:c,children:e.jsx(me.div,{dir:f,"data-orientation":o,...d,ref:s})})});Ww.displayName=xp;var Gw="TabsList",Xw=u.forwardRef((t,s)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=pp(Gw,r),o=Hw(r);return e.jsx($N,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:e.jsx(me.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});Xw.displayName=Gw;var Kw="TabsTrigger",Yw=u.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,o=pp(Kw,r),l=Hw(r),c=Zw(o.baseId,n),d=e1(o.baseId,n),f=n===o.value;return e.jsx(qN,{asChild:!0,...l,focusable:!a,active:f,children:e.jsx(me.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:s,onMouseDown:se(t.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:se(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:se(t.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!a&&m&&o.onValueChange(n)})})})});Yw.displayName=Kw;var Qw="TabsContent",Jw=u.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=t,l=pp(Qw,r),c=Zw(l.baseId,n),d=e1(l.baseId,n),f=n===l.value,m=u.useRef(f);return u.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),e.jsx(ts,{present:a||f,children:({present:h})=>e.jsx(me.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:s,style:{...t.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});Jw.displayName=Qw;function Zw(t,s){return`${t}-trigger-${s}`}function e1(t,s){return`${t}-content-${s}`}var zR=Ww,t1=Xw,s1=Yw,r1=Jw;const Kr=zR,br=u.forwardRef(({className:t,...s},r)=>e.jsx(t1,{ref:r,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));br.displayName=t1.displayName;const ke=u.forwardRef(({className:t,...s},r)=>e.jsx(s1,{ref:r,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));ke.displayName=s1.displayName;const Ee=u.forwardRef(({className:t,...s},r)=>e.jsx(r1,{ref:r,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));Ee.displayName=r1.displayName;class $R{constructor(){this.listeners=[],this.pollingInterval=null}async getNotifications(s={}){try{console.log(" [UserNotificationService] Rcupration des notifications");const r=await H.get("/notifications",{params:s});return r.data||r}catch(r){return console.error(" [UserNotificationService] Erreur rcupration notifications:",r),{notifications:[],total:0,page:1,limit:50,totalPages:0}}}async getNotificationCounts(){try{console.log(" [UserNotificationService] Rcupration des compteurs");const s=await H.get("/notifications/counts");return s.data||s}catch(s){return console.error(" [UserNotificationService] Erreur rcupration compteurs:",s),{total:0,unread:0,urgent:0,high:0,messages:0,products:0,system:0}}}async markAsRead(s){try{await H.patch(`/notifications/${s}/read`),console.log(" [UserNotificationService] Notification marque comme lue:",s)}catch(r){throw console.error(" [UserNotificationService] Erreur marquage notification:",r),r}}async markAllAsRead(){try{await H.patch("/notifications/mark-all-read"),console.log(" [UserNotificationService] Toutes les notifications marques comme lues")}catch(s){throw console.error(" [UserNotificationService] Erreur marquage toutes notifications:",s),s}}async deleteNotification(s){try{await H.delete(`/notifications/${s}`),console.log(" [UserNotificationService] Notification supprime:",s)}catch(r){throw console.error(" [UserNotificationService] Erreur suppression notification:",r),r}}async deleteAllRead(){try{await H.delete("/notifications/delete-read"),console.log(" [UserNotificationService] Notifications lues supprimes")}catch(s){throw console.error(" [UserNotificationService] Erreur suppression notifications lues:",s),s}}async createTestNotifications(s,r=5){try{await H.post("/notifications/test",{type:s,count:r}),console.log(" [UserNotificationService] Notifications de test cres")}catch(n){throw console.error(" [UserNotificationService] Erreur cration notifications test:",n),n}}addListener(s){this.listeners.push(s)}removeListener(s){this.listeners=this.listeners.filter(r=>r!==s)}notifyListeners(s){this.listeners.forEach(r=>r(s))}startPolling(s=3e4){this.pollingInterval&&clearInterval(this.pollingInterval),this.pollingInterval=setInterval(async()=>{try{const r=await this.getNotificationCounts();this.notifyListeners(r)}catch(r){console.error(" [UserNotificationService] Erreur polling:",r)}},s),console.log(" [UserNotificationService] Polling dmarr")}stopPolling(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null,console.log(" [UserNotificationService] Polling arrt"))}getNotificationIcon(s,r){switch(s){case"message":return"";case"produit":return"";case"commande":return"";case"promotion":return"";case"systeme":return"";default:return""}}getPriorityColor(s){switch(s){case"urgent":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"medium":return"text-blue-600 bg-blue-50";case"low":return"text-gray-600 bg-gray-50";default:return"text-gray-600 bg-gray-50"}}getTypeLabel(s){switch(s){case"message":return"Message";case"produit":return"Produit";case"commande":return"Commande";case"promotion":return"Promotion";case"systeme":return"Systme";default:return"Autre"}}getCategoryLabel(s){switch(s){case"new_message":return"Nouveau message";case"conversation_created":return"Conversation cre";case"new_product":return"Nouveau produit";case"price_change":return"Prix modifi";case"out_of_stock":return"Rupture de stock";case"contact_request":return"Demande de contact";case"product_approved":return"Produit approuv";case"product_rejected":return"Produit rejet";case"modification_request":return"Modification demande";case"pending_moderation":return"En attente de modration";case"system_message":return"Message systme";case"maintenance":return"Maintenance";case"important_update":return"Mise  jour importante";default:return"Gnral"}}}const Ke=new $R,Kd=()=>{const[t,s]=u.useState([]),[r,n]=u.useState({total:0,unread:0,urgent:0,high:0,messages:0,products:0,system:0}),[a,i]=u.useState(!1),[o,l]=u.useState(!1),[c,d]=u.useState(""),[f,m]=u.useState("all"),[h,j]=u.useState("all"),y=async()=>{try{l(!0);const[b,C]=await Promise.all([Ke.getNotifications(),Ke.getNotificationCounts()]);s(b.notifications||[]),n(C)}catch(b){console.error("Erreur chargement notifications:",b),M.error("Erreur lors du chargement des notifications")}finally{l(!1)}},g=async b=>{try{await Ke.markAsRead(b),await y(),M.success("Notification marque comme lue")}catch(C){console.error("Erreur marquage notification:",C),M.error("Erreur lors du marquage de la notification")}},N=async()=>{try{await Ke.markAllAsRead(),await y(),M.success("Toutes les notifications marques comme lues")}catch(b){console.error("Erreur marquage toutes notifications:",b),M.error("Erreur lors du marquage des notifications")}},p=async b=>{try{await Ke.deleteNotification(b),await y(),M.success("Notification supprime")}catch(C){console.error("Erreur suppression notification:",C),M.error("Erreur lors de la suppression de la notification")}},v=async()=>{try{await Ke.deleteAllRead(),await y(),M.success("Notifications lues supprimes")}catch(b){console.error("Erreur suppression notifications lues:",b),M.error("Erreur lors de la suppression des notifications")}},x=async()=>{try{await Ke.createTestNotifications("all",3),await y(),M.success("Notifications de test cres")}catch(b){console.error("Erreur cration notifications test:",b),M.error("Erreur lors de la cration des notifications de test")}};u.useEffect(()=>{y(),Ke.startPolling(3e4);const b=C=>{n(C)};return Ke.addListener(b),()=>{Ke.removeListener(b),Ke.stopPolling()}},[]);const w=(Array.isArray(t)?t:[]).filter(b=>{const C=!c||b.titre.toLowerCase().includes(c.toLowerCase())||b.message.toLowerCase().includes(c.toLowerCase()),_=f==="all"||b.type===f,P=h==="all"||b.priority===h;return C&&_&&P});w.reduce((b,C)=>(b[C.type]||(b[C.type]=[]),b[C.type].push(C),b),{});const k=b=>{switch(b){case"message":return e.jsx(Te,{className:"w-4 h-4"});case"produit":return e.jsx(fe,{className:"w-4 h-4"});case"commande":return e.jsx(zs,{className:"w-4 h-4"});case"promotion":return e.jsx(Mi,{className:"w-4 h-4"});case"systeme":return e.jsx(Yt,{className:"w-4 h-4"});default:return e.jsx(Jt,{className:"w-4 h-4"})}},S=b=>{const C=new Date(b),P=Math.floor((new Date().getTime()-C.getTime())/(1e3*60*60));return P<1?" l'instant":P<24?`Il y a ${P}h`:C.toLocaleDateString("fr-FR")};return e.jsxs("div",{className:"relative",children:[e.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>i(!a),className:"relative",children:[e.jsx(Jt,{className:"w-5 h-5"}),r.unread>0&&e.jsx(U,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:r.unread>99?"99+":r.unread})]}),a&&e.jsxs($,{className:"absolute right-0 top-12 w-96 max-h-[600px] z-50 shadow-lg",children:[e.jsxs(K,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Y,{className:"text-lg",children:"Notifications"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(E,{variant:"ghost",size:"sm",onClick:N,disabled:r.unread===0,children:[e.jsx(js,{className:"w-4 h-4 mr-1"}),"Tout marquer"]}),e.jsxs(E,{variant:"ghost",size:"sm",onClick:v,disabled:(Array.isArray(t)?t:[]).filter(b=>b.lu).length===0,children:[e.jsx(Cs,{className:"w-4 h-4 mr-1"}),"Nettoyer"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{placeholder:"Rechercher...",value:c,onChange:b=>d(b.target.value),className:"h-8"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(fr,{children:[e.jsx(xr,{asChild:!0,children:e.jsxs(E,{variant:"outline",size:"sm",className:"h-8",children:[e.jsx(xs,{className:"w-3 h-3 mr-1"}),f==="all"?"Tous les types":Ke.getTypeLabel(f)]})}),e.jsxs(Ws,{children:[e.jsx(Ne,{onClick:()=>m("all"),children:"Tous les types"}),e.jsx(Ne,{onClick:()=>m("message"),children:"Messages"}),e.jsx(Ne,{onClick:()=>m("produit"),children:"Produits"}),e.jsx(Ne,{onClick:()=>m("commande"),children:"Commandes"}),e.jsx(Ne,{onClick:()=>m("systeme"),children:"Systme"})]})]}),e.jsxs(fr,{children:[e.jsx(xr,{asChild:!0,children:e.jsxs(E,{variant:"outline",size:"sm",className:"h-8",children:[e.jsx(xs,{className:"w-3 h-3 mr-1"}),h==="all"?"Toutes priorits":h]})}),e.jsxs(Ws,{children:[e.jsx(Ne,{onClick:()=>j("all"),children:"Toutes priorits"}),e.jsx(Ne,{onClick:()=>j("urgent"),children:"Urgent"}),e.jsx(Ne,{onClick:()=>j("high"),children:"leve"}),e.jsx(Ne,{onClick:()=>j("medium"),children:"Moyenne"}),e.jsx(Ne,{onClick:()=>j("low"),children:"Faible"})]})]})]})]})]}),e.jsx(q,{className:"p-0",children:o?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):w.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(Jt,{className:"w-12 h-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"Aucune notification"}),e.jsx(E,{variant:"outline",size:"sm",onClick:x,children:"Crer des notifications de test"})]}):e.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:e.jsxs(Kr,{defaultValue:"all",className:"w-full",children:[e.jsxs(br,{className:"grid w-full grid-cols-4",children:[e.jsxs(ke,{value:"all",children:["Toutes (",w.length,")"]}),e.jsxs(ke,{value:"messages",children:["Messages (",r.messages,")"]}),e.jsxs(ke,{value:"products",children:["Produits (",r.products,")"]}),e.jsxs(ke,{value:"system",children:["Systme (",r.system,")"]})]}),e.jsx(Ee,{value:"all",className:"space-y-2 p-2",children:w.map(b=>e.jsx("div",{className:`p-3 rounded-lg border ${b.lu?"bg-gray-50":"bg-blue-50 border-blue-200"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:k(b.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:b.titre}),!b.lu&&e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:b.message}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{variant:"outline",className:`text-xs ${Ke.getPriorityColor(b.priority)}`,children:b.priority}),e.jsx("span",{className:"text-xs text-gray-500",children:S(b.date_creation)})]})]})]}),e.jsxs(fr,{children:[e.jsx(xr,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:e.jsx(Ix,{className:"w-3 h-3"})})}),e.jsxs(Ws,{align:"end",children:[!b.lu&&e.jsxs(Ne,{onClick:()=>g(b.id),children:[e.jsx(js,{className:"w-3 h-3 mr-2"}),"Marquer comme lu"]}),e.jsxs(Ne,{onClick:()=>p(b.id),className:"text-red-600",children:[e.jsx(Cs,{className:"w-3 h-3 mr-2"}),"Supprimer"]})]})]})]})},b.id))}),e.jsx(Ee,{value:"messages",className:"space-y-2 p-2",children:w.filter(b=>b.type==="message").map(b=>e.jsx("div",{className:`p-3 rounded-lg border ${b.lu?"bg-gray-50":"bg-blue-50 border-blue-200"}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(Te,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.titre}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:b.message}),e.jsx("span",{className:"text-xs text-gray-500",children:S(b.date_creation)})]})]})})},b.id))}),e.jsx(Ee,{value:"products",className:"space-y-2 p-2",children:w.filter(b=>b.type==="produit").map(b=>e.jsx("div",{className:`p-3 rounded-lg border ${b.lu?"bg-gray-50":"bg-green-50 border-green-200"}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(fe,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.titre}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:b.message}),e.jsx("span",{className:"text-xs text-gray-500",children:S(b.date_creation)})]})]})})},b.id))}),e.jsx(Ee,{value:"system",className:"space-y-2 p-2",children:w.filter(b=>b.type==="systeme").map(b=>e.jsx("div",{className:`p-3 rounded-lg border ${b.lu?"bg-gray-50":"bg-purple-50 border-purple-200"}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(Yt,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.titre}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:b.message}),e.jsx("span",{className:"text-xs text-gray-500",children:S(b.date_creation)})]})]})})},b.id))})]})})})]})]})},Yr=({size:t="md",className:s,onClick:r,showText:n=!0,text:a="GabMarketHub"})=>{const i={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-20 h-20"},o={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl"};return e.jsxs("div",{className:ie("flex items-center space-x-2",r&&"cursor-pointer",s),onClick:r,children:[e.jsx("img",{src:"/images/logo.png",alt:"GabMarketHub Logo",className:ie(i[t],"object-contain")}),n&&e.jsx("span",{className:ie(o[t],"font-bold text-gray-900"),children:a})]})},Bt={container:"w-full mx-auto px-4 sm:px-6 lg:px-8",spacing:{section:"py-8 sm:py-12 lg:py-16"},text:{h1:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl",h2:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl",body:"text-sm sm:text-base lg:text-lg",large:"text-base sm:text-lg lg:text-xl"}},n1=()=>{const[t,s]=u.useState("xs");return u.useEffect(()=>{const r=()=>{const n=window.innerWidth;n>=1536?s("2xl"):n>=1280?s("xl"):n>=1024?s("lg"):n>=768?s("md"):n>=640?s("sm"):s("xs")};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t},qR=({isOpen:t,onClose:s,className:r})=>{const n=he(),a=n1(),i=Qs(),{data:o}=dt(),l=Xr(),{count:c=0}=hp(),{photoData:d}=ja(),[f,m]=u.useState(!1),[h,j]=u.useState([]);u.useEffect(()=>{(a==="lg"||a==="xl"||a==="2xl")&&s()},[a,s]);const y=x=>{n(x),s()},g=async()=>{try{m(!0),l(),s()}catch(x){console.error("Erreur lors de la dconnexion:",x)}finally{m(!1)}},N=[{label:"Accueil",path:"/",icon:Ha,description:"Retour  l'accueil"},{label:"Produits",path:"/products",icon:fe,description:"Catalogue des produits"},{label:"Recherche",path:"/search",icon:Ve,description:"Recherche avance"},{label:"Fournisseurs",path:"/suppliers",icon:at,description:"Liste des fournisseurs"}],p=[{label:"Tableau de bord",path:"/dashboard",icon:we,description:"Votre espace personnel"},{label:"Messages",path:"/messages",icon:Te,description:"Vos conversations",badge:c>0?c:void 0},{label:"Favoris",path:"/favorites",icon:wt,description:"Vos produits favoris"},{label:"Commandes",path:"/orders",icon:zs,description:"Historique des commandes"},{label:"Profil",path:"/profile",icon:we,description:"Grer votre profil"},{label:"Paramtres",path:"/settings",icon:Yt,description:"Prfrences du compte"}],v=[{label:"Centre d'aide",path:"/help",icon:yk,description:"FAQ et support"},{label:"Blog",path:"/blog",icon:We,description:"Articles et actualits"},{label:"Contact",path:"/contact",icon:Te,description:"Nous contacter"}];return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:s}),e.jsxs("div",{className:ie("fixed inset-y-0 left-0 z-50 w-80 max-w-[85vw] bg-white shadow-xl transform transition-transform duration-300 ease-in-out lg:hidden",t?"translate-x-0":"-translate-x-full",r),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Menu"}),e.jsx(E,{variant:"ghost",size:"icon",onClick:s,className:"h-8 w-8",children:e.jsx(Ae,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex flex-col h-full overflow-y-auto",children:[i&&o&&e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(So,{photoUrl:d==null?void 0:d.photo_profil,name:`${o==null?void 0:o.nom} ${o==null?void 0:o.prenom}`,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[o==null?void 0:o.nom," ",o==null?void 0:o.prenom]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:o==null?void 0:o.email})]}),e.jsx(Kd,{})]})}),e.jsxs("div",{className:"flex-1 p-4 space-y-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Navigation"}),N.map(x=>e.jsxs(E,{variant:"ghost",className:"w-full justify-start h-12 px-3 text-left",onClick:()=>y(x.path),children:[e.jsx(x.icon,{className:"h-5 w-5 mr-3 text-gray-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.label}),e.jsx("div",{className:"text-xs text-gray-500",children:x.description})]})]},x.path))]}),i&&e.jsxs("div",{className:"space-y-1 pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Mon compte"}),p.map(x=>e.jsxs(E,{variant:"ghost",className:"w-full justify-start h-12 px-3 text-left",onClick:()=>y(x.path),children:[e.jsx(x.icon,{className:"h-5 w-5 mr-3 text-gray-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.label}),x.badge&&e.jsx(U,{variant:"secondary",className:"ml-2",children:x.badge>9?"9+":x.badge})]}),e.jsx("div",{className:"text-xs text-gray-500",children:x.description})]})]},x.path))]}),e.jsxs("div",{className:"space-y-1 pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Support"}),v.map(x=>e.jsxs(E,{variant:"ghost",className:"w-full justify-start h-12 px-3 text-left",onClick:()=>y(x.path),children:[e.jsx(x.icon,{className:"h-5 w-5 mr-3 text-gray-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.label}),e.jsx("div",{className:"text-xs text-gray-500",children:x.description})]})]},x.path))]})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 space-y-2",children:i?e.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:g,disabled:f,children:[e.jsx(gn,{className:"h-4 w-4 mr-2"}),f?"Dconnexion...":"Se dconnecter"]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"outline",className:"w-full",onClick:()=>y("/login"),children:"Se connecter"}),e.jsx(E,{className:"w-full",onClick:()=>y("/user-type"),children:"S'inscrire"})]})})]})]})]}):null},BR=()=>{const[t,s]=u.useState(!1),[r,n]=u.useState(!1),[a,i]=u.useState(!1),o=n1(),l=Qs(),{data:c}=dt(),d=Xr(),f=he(),{count:m=0}=hp(),[h,j]=u.useState(!1),{photoData:y}=ja();u.useEffect(()=>{const N=()=>{i(window.scrollY>10)};return window.addEventListener("scroll",N),()=>window.removeEventListener("scroll",N)},[]),u.useEffect(()=>{(o==="lg"||o==="xl"||o==="2xl")&&(s(!1),n(!1))},[o]);const g=async()=>{try{j(!0),d(),M.success("Dconnexion russie"),setTimeout(()=>{f("/"),j(!1),s(!1)},100)}catch{M.error("Erreur lors de la dconnexion"),j(!1)}};return e.jsxs("header",{className:`bg-white border-b border-gray-200 shadow-sm sticky top-0 z-50 transition-all duration-200 ${a?"shadow-lg":"shadow-sm"}`,children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white py-2 px-4 text-center text-sm hidden sm:block",children:e.jsx("span",{className:"font-medium",children:" GabMarketHub - Premire plateforme B2B du Gabon"})}),e.jsxs("div",{className:Bt.container,children:[e.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16 lg:h-20",children:[e.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4",children:e.jsx(Yr,{size:o==="xs"?"sm":"md",onClick:()=>{f("/"),s(!1)}})}),e.jsxs("nav",{className:"hidden lg:flex items-center space-x-6 xl:space-x-8",children:[e.jsx("button",{onClick:()=>f("/"),className:"text-gray-900 hover:text-green-600 transition-colors font-medium text-sm xl:text-base",children:"Accueil"}),e.jsx("button",{onClick:()=>f("/products"),className:"text-gray-900 hover:text-green-600 transition-colors font-medium text-sm xl:text-base",children:"Produits"}),e.jsx("button",{onClick:()=>f("/search"),className:"text-gray-900 hover:text-green-600 transition-colors font-medium text-sm xl:text-base",children:"Recherche"}),e.jsx("button",{onClick:()=>f("/suppliers"),className:"text-gray-900 hover:text-green-600 transition-colors font-medium text-sm xl:text-base",children:"Fournisseurs"})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-3 xl:space-x-4",children:[l&&e.jsxs(E,{variant:"ghost",size:"icon",className:"relative",onClick:()=>f("/messages"),children:[e.jsx(Te,{className:"w-5 h-5"}),m>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-green-600 text-white rounded-full text-xs flex items-center justify-center",children:m>9?"9+":m})]}),l&&e.jsx(Kd,{}),l?e.jsxs(fr,{children:[e.jsx(xr,{asChild:!0,children:e.jsxs(E,{variant:"ghost",className:"flex items-center space-x-2",children:[e.jsx(So,{photoUrl:y==null?void 0:y.photo_profil,name:`${c==null?void 0:c.nom} ${c==null?void 0:c.prenom}`,size:"sm"}),e.jsx("span",{className:"hidden xl:inline",children:(c==null?void 0:c.nom)||(c==null?void 0:c.prenom)||"Mon compte"}),e.jsx(Jl,{className:"w-4 h-4 hidden xl:inline"})]})}),e.jsxs(Ws,{align:"end",className:"w-48",children:[e.jsxs(Ne,{onClick:()=>f("/dashboard"),children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Tableau de bord"]}),e.jsxs(Ne,{onClick:()=>f("/profile"),children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Mon profil"]}),e.jsxs(Ne,{onClick:()=>f("/favorites"),children:[e.jsx(wt,{className:"w-4 h-4 mr-2"}),"Favoris"]}),e.jsxs(Ne,{onClick:()=>f("/settings"),children:[e.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Paramtres"]}),e.jsx(sc,{}),e.jsxs(Ne,{onClick:g,disabled:h,className:"text-red-600",children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),h?"Dconnexion...":"Se dconnecter"]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>f("/login"),children:"Se connecter"}),e.jsx(E,{variant:"default",size:"sm",onClick:()=>f("/user-type"),children:"S'inscrire"})]})]}),e.jsxs("div",{className:"flex lg:hidden items-center space-x-2",children:[e.jsx(E,{variant:"ghost",size:"icon",onClick:()=>n(!r),children:e.jsx(Ve,{className:"w-5 h-5"})}),l&&e.jsxs(E,{variant:"ghost",size:"icon",className:"relative",onClick:()=>f("/messages"),children:[e.jsx(Te,{className:"w-5 h-5"}),m>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-600 text-white rounded-full text-xs flex items-center justify-center",children:m>9?"9+":m})]}),l&&e.jsx(Kd,{}),e.jsx(E,{variant:"ghost",size:"icon",onClick:()=>s(!t),children:t?e.jsx(Ae,{className:"w-6 h-6"}):e.jsx(Nu,{className:"w-6 h-6"})})]})]}),r&&e.jsx("div",{className:"lg:hidden pb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-4 h-4"}),e.jsx(D,{placeholder:"Rechercher produits, fournisseurs...",className:"pl-10 pr-4 h-10 text-sm",onKeyPress:N=>{if(N.key==="Enter"){const p=N.target.value;p.trim()&&(f(`/products?search=${encodeURIComponent(p.trim())}`),n(!1))}},autoFocus:!0})]})}),e.jsx(qR,{isOpen:t,onClose:()=>s(!1)})]})]})},VR=()=>{const t=new Date().getFullYear(),s=[{title:"Entreprise",links:[{label:" propos",href:"/about"},{label:"Notre quipe",href:"/team"},{label:"Carrires",href:"/careers"},{label:"Presse",href:"/press"}]},{title:"Services",links:[{label:"Pour les acheteurs",href:"/buyers"},{label:"Pour les fournisseurs",href:"/suppliers"},{label:"API",href:"/api"},{label:"Intgrations",href:"/integrations"}]},{title:"Support",links:[{label:"Centre d'aide",href:"/help"},{label:"Documentation",href:"/docs"},{label:"Contact",href:"/contact"},{label:"Statut",href:"/status"}]},{title:"Lgal",links:[{label:"Conditions d'utilisation",href:"/terms"},{label:"Politique de confidentialit",href:"/privacy"},{label:"Cookies",href:"/cookies"},{label:"Mentions lgales",href:"/legal"}]}],r=[{icon:bb,href:"#",label:"Facebook"},{icon:Sb,href:"#",label:"Twitter"},{icon:Nb,href:"#",label:"Instagram"}],n=[{icon:Rt,text:"contact@gabonmarkethub.com",href:"mailto:contact@gabonmarkethub.com"},{icon:ws,text:"+241 01 23 45 67",href:"tel:+24101234567"},{icon:Ht,text:"Libreville, Gabon",href:"#"}];return e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:Bt.container,children:[e.jsxs("div",{className:`${Bt.footer.grid} ${Bt.footer.container}`,children:[e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx(Yr,{size:"lg",className:"text-white"}),e.jsx("p",{className:`${Bt.footer.text} text-gray-300 leading-relaxed`,children:"GabMarketHub est la premire plateforme B2B du Gabon, connectant les acheteurs et fournisseurs pour faciliter le commerce local et rgional."}),e.jsx("div",{className:"space-y-2",children:n.map((a,i)=>e.jsxs("a",{href:a.href,className:"flex items-center space-x-3 text-gray-300 hover:text-white transition-colors text-sm",children:[e.jsx(a.icon,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:a.text})]},i))})]}),s.map((a,i)=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:a.title}),e.jsx("ul",{className:"space-y-2",children:a.links.map((o,l)=>e.jsx("li",{children:e.jsx("a",{href:o.href,className:`${Bt.footer.text} text-gray-300 hover:text-white transition-colors`,children:o.label})},l))})]},i))]}),e.jsx("div",{className:"border-t border-gray-800 py-8 sm:py-12",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-semibold mb-2",children:"Restez inform"}),e.jsx("p",{className:`${Bt.footer.text} text-gray-300 mb-6`,children:"Recevez nos dernires actualits et offres spciales"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[e.jsx("input",{type:"email",placeholder:"Votre adresse email",className:"flex-1 px-4 py-3 rounded-lg border border-gray-700 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),e.jsx("button",{className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors whitespace-nowrap",children:"S'abonner"})]})]})}),e.jsx("div",{className:"border-t border-gray-800 py-6 sm:py-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[e.jsx("div",{className:"text-center sm:text-left",children:e.jsxs("p",{className:`${Bt.footer.text} text-gray-400`,children:[" ",t," GabMarketHub. Tous droits rservs."]})}),e.jsx("div",{className:"flex items-center space-x-4",children:r.map((a,i)=>e.jsx("a",{href:a.href,className:"text-gray-400 hover:text-white transition-colors","aria-label":a.label,children:e.jsx(a.icon,{className:"w-5 h-5"})},i))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Vs,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{className:"bg-gray-800 border border-gray-700 rounded px-3 py-1 text-sm text-white focus:outline-none focus:ring-2 focus:ring-green-500",children:[e.jsx("option",{value:"fr",children:"Franais"}),e.jsx("option",{value:"en",children:"English"})]})]})]})})]})})},yn=({children:t,showHeader:s=!0,showFooter:r=!0,className:n=""})=>e.jsxs("div",{className:`min-h-screen flex flex-col ${n}`,children:[s&&e.jsx(BR,{}),e.jsx("main",{className:"flex-1",children:t}),r&&e.jsx(VR,{})]}),UR="/assets/hero-bg-C4fmBnIk.jpg",HR=()=>{const{data:t}=Re({queryKey:["hero-stats"],queryFn:async()=>{var r;try{const n=await H.get("/products/public?limit=1"),a=((r=n.pagination)==null?void 0:r.total)||n.total||500,i=await H.get("/categories"),l=(i.categories||i.data||[]).length;return{products:a,categories:l,suppliers:Math.floor(a/3)+50,exchanges:Math.floor(a*150)}}catch(n){return console.error("Erreur lors du chargement des statistiques:",n),{products:500,categories:50,suppliers:150,exchanges:1e6}}},staleTime:6e5}),s=r=>r>=1e6?`${(r/1e6).toFixed(1)}M`:r>=1e3?`${Math.floor(r/1e3)}k`:r.toString();return e.jsxs("section",{className:"relative bg-gradient-to-r from-green-600 to-blue-600 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`url(${UR})`,backgroundSize:"cover",backgroundPosition:"center"}}),e.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-yellow-400/20 rounded-full blur-xl"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-green-400/20 rounded-full blur-xl"}),e.jsx("div",{className:`relative ${Bt.container} py-12 sm:py-16 lg:py-20 xl:py-32`,children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("h1",{className:`${Bt.text.h1} font-bold mb-6 opacity-0 animate-[fadeIn_0.5s_ease-in-out_forwards]`,children:["Connecter l'",e.jsx("span",{className:"bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent",children:"Italie"})," et le",e.jsx("span",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 bg-clip-text text-transparent",children:"Gabon"})]}),e.jsx("p",{className:`${Bt.text.large} mb-8 text-white/90 opacity-0 animate-[slideUp_0.3s_ease-out_0.2s_forwards]`,children:"Plateforme ddie aux changes commerciaux entre entreprises italiennes et artisans gabonais. Dcouvrez des produits authentiques, ngociez directement et dveloppez vos partenariats."}),e.jsx("div",{className:"max-w-2xl mx-auto mb-12 opacity-0 animate-[slideUp_0.3s_ease-out_0.4s_forwards]",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"absolute left-6 top-1/2 transform -translate-y-1/2 text-gray-500 w-6 h-6"}),e.jsx(D,{placeholder:"Rechercher des produits (ex: masques traditionnels, lectronique, vtements...)",className:"pl-16 pr-6 h-16 text-lg border-2 border-green-400/30 bg-white/10 backdrop-blur-sm text-gray-900 placeholder:text-gray-500 focus:border-yellow-400",onKeyDown:r=>{if(r.key==="Enter"){const n=r.target.value;n.trim()?window.location.href=`/products?search=${encodeURIComponent(n.trim())}`:window.location.href="/products"}}}),e.jsx(E,{variant:"accent",size:"lg",className:"absolute right-3 top-1/2 transform -translate-y-1/2",onClick:()=>{const r=document.querySelector('input[placeholder*="masques traditionnels"]'),n=r==null?void 0:r.value;n!=null&&n.trim()?window.location.href=`/products?search=${encodeURIComponent(n.trim())}`:window.location.href="/products"},children:"Rechercher"})]})}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-16",children:[e.jsx(E,{variant:"outline",size:"lg",className:"bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20",onClick:()=>window.location.href="/register?userType=2&origin=italian-company",children:"Entreprise italienne"}),e.jsx(E,{variant:"outline",size:"lg",className:"bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20",onClick:()=>window.location.href="/supplier/login",children:"Fournisseur gabonais"}),e.jsx(E,{variant:"outline",size:"lg",className:"bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20",onClick:()=>window.location.href="/products",children:"Dcouvrir les produits"})]}),e.jsx("div",{className:"max-w-2xl mx-auto mb-16"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center animate-[bounceSoft_1s_ease-in-out_infinite]",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-yellow-400/20 rounded-full mx-auto mb-3",children:e.jsx(fe,{className:"w-8 h-8 text-yellow-400"})}),e.jsxs("div",{className:"text-3xl font-bold mb-1",children:[t?s(t.products):"500","+"]}),e.jsx("div",{className:"text-sm text-white/80",children:"Produits"})]}),e.jsxs("div",{className:"text-center animate-[bounceSoft_1s_ease-in-out_infinite] [animation-delay:0.1s]",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-yellow-400/20 rounded-full mx-auto mb-3",children:e.jsx(at,{className:"w-8 h-8 text-yellow-400"})}),e.jsxs("div",{className:"text-3xl font-bold mb-1",children:[t?s(t.suppliers):"150","+"]}),e.jsx("div",{className:"text-sm text-white/80",children:"Partenaires"})]}),e.jsxs("div",{className:"text-center animate-[bounceSoft_1s_ease-in-out_infinite] [animation-delay:0.2s]",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-yellow-400/20 rounded-full mx-auto mb-3",children:e.jsx(nt,{className:"w-8 h-8 text-yellow-400"})}),e.jsxs("div",{className:"text-3xl font-bold mb-1",children:[t?t.categories:"50","+"]}),e.jsx("div",{className:"text-sm text-white/80",children:"Catgories"})]}),e.jsxs("div",{className:"text-center animate-[bounceSoft_1s_ease-in-out_infinite] [animation-delay:0.3s]",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-yellow-400/20 rounded-full mx-auto mb-3",children:e.jsx(fe,{className:"w-8 h-8 text-yellow-400"})}),e.jsxs("div",{className:"text-3xl font-bold mb-1",children:[t?s(t.exchanges):"1M","+"]}),e.jsx("div",{className:"text-sm text-white/80",children:" d'changes"})]})]})]})})]})},WR=()=>{const{data:t}=dt();if(!t)return{isBuyer:!1,isSupplier:!1,canInitiateConversation:!1,canRespondToConversation:!1,roleId:null,roleName:"Non connect"};const s=t.role_id===1,r=t.role_id===2;return{isBuyer:s,isSupplier:r,canInitiateConversation:s,canRespondToConversation:!0,roleId:t.role_id,roleName:s?"Acheteur":r?"Fournisseur":"Utilisateur"}},a1=()=>{const{canInitiateConversation:t,isBuyer:s}=WR();return{canContact:t,reason:t?null:"Seuls les acheteurs peuvent initier des conversations avec les fournisseurs",suggestedAction:s?null:"Crer un compte acheteur pour contacter les fournisseurs"}},GR=[{id:1,name:"TechnoElite Gabon",logo:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=100&h=100&fit=crop",country:"Gabon",city:"Libreville",rating:4.9,reviews:1247,yearsActive:8,employees:"50-100",productsCount:2543,verified:!0,goldSupplier:!0,certifications:["ISO 9001","CE","RoHS"],specialties:["lectronique","Tlcommunications","Informatique"],description:"Leader en quipements lectroniques et solutions IT pour l'Afrique centrale"},{id:2,name:"AfricaTextile Pro",logo:"https://images.unsplash.com/photo-1556742502-ec7c0e9f34b1?w=100&h=100&fit=crop",country:"Cameroun",city:"Douala",rating:4.8,reviews:856,yearsActive:12,employees:"100-200",productsCount:1892,verified:!0,goldSupplier:!0,certifications:["OEKO-TEX","GOTS","ISO 14001"],specialties:["Textile","Mode","Artisanat"],description:"Fabricant de textiles cologiques et vtements personnaliss"},{id:3,name:"SolarTech Solutions",logo:"https://images.unsplash.com/photo-1497435334941-8c899ee9e8e9?w=100&h=100&fit=crop",country:"Sngal",city:"Dakar",rating:4.7,reviews:634,yearsActive:6,employees:"20-50",productsCount:687,verified:!0,goldSupplier:!1,certifications:["IEC 61215","TUV","ISO 9001"],specialties:["nergie solaire","clairage LED","Batteries"],description:"Solutions nergtiques durables pour l'Afrique de l'Ouest"},{id:4,name:"EquipHotel Afrique",logo:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=100&h=100&fit=crop",country:"Cte d'Ivoire",city:"Abidjan",rating:4.6,reviews:423,yearsActive:15,employees:"200-500",productsCount:1234,verified:!0,goldSupplier:!0,certifications:["CE","NSF","ISO 22000"],specialties:["quipement htelier","Restauration","Cuisine professionnelle"],description:"quipements professionnels pour l'htellerie et la restauration"}],XR=()=>{const t=he(),s=Qs(),{canContact:r,reason:n,suggestedAction:a}=a1(),[i,o]=u.useState("all"),{data:l}=Re({queryKey:["home-suppliers"],queryFn:async()=>{try{let h;try{h=await H.get("/entreprises?limit=4&verified=true")}catch{console.log("Premier endpoint chou, essai avec /suppliers");try{h=await H.get("/suppliers?limit=4&verified=true")}catch{console.log("Deuxime endpoint chou, essai avec /users?role=supplier"),h=await H.get("/users?role=supplier&limit=4")}}return h.entreprises||h.suppliers||h.data||h.users||[]}catch(h){return console.error("Erreur lors de la rcupration des fournisseurs:",h),[]}},retry:!1,staleTime:5*60*1e3}),c=[...(l||[]).map(h=>({id:`real-${h.id}`,name:h.nom_entreprise,logo:h.logo||"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=100&h=100&fit=crop",country:h.pays||"Gabon",city:h.ville||"Libreville",rating:Number(h.note_moyenne)||4.5,reviews:h.nombre_avis||0,yearsActive:h.annee_creation?new Date().getFullYear()-new Date(h.annee_creation).getFullYear():5,employees:h.taille_entreprise||"10-50",productsCount:h.nombre_produits||0,verified:h.statut_verification==="verifie",goldSupplier:h.statut_verification==="verifie"&&h.note_moyenne>=4.5,certifications:h.certifications?h.certifications.split(","):["Certifi B2B"],specialties:h.secteur_activite?[h.secteur_activite]:["Commerce gnral"],description:h.description||"Fournisseur professionnel spcialis",realSupplierId:h.id,utilisateur_id:h.utilisateur_id||h.user_id})),...((l==null?void 0:l.length)||0)<4?GR.slice(0,4-((l==null?void 0:l.length)||0)):[]],d=i==="all"?c:c.filter(h=>h.country===i),f=h=>{if(!s){M.error("Veuillez vous connecter pour voir le profil du fournisseur"),t("/login");return}h.realSupplierId?t(`/suppliers/${h.realSupplierId}`):t("/suppliers")},m=async h=>{if(console.log("Tentative de contact avec le fournisseur:",h),!s){M.error("Veuillez vous connecter pour contacter un fournisseur"),t("/login");return}if(!r){M.error(n||"Vous n'tes pas autoris  contacter les fournisseurs"),a&&(M.info(a),t("/register?role=buyer"));return}if(h.realSupplierId){if(!h.utilisateur_id){console.warn("Pas d'utilisateur_id trouv pour le fournisseur:",h),M.error("Impossible de contacter ce fournisseur (pas d'utilisateur associ)");return}const y=new URLSearchParams({supplier:h.realSupplierId,supplierName:h.name});t(`/messages?${y.toString()}`),M.success(`Redirection vers le chat avec ${h.name}`)}else M.info("Dcouvrez nos fournisseurs vrifis"),t("/suppliers")};return e.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Fournisseurs vrifis"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Dcouvrez nos partenaires de confiance. Tous nos fournisseurs sont vrifis et certifis pour garantir la qualit et la fiabilit de vos achats."})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"flex gap-2 bg-white rounded-lg p-1 shadow-sm border",children:[e.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${i==="all"?"bg-green-600 text-white":"text-gray-600 hover:text-gray-900"}`,children:"Tous"}),e.jsx("button",{onClick:()=>o("Gabon"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${i==="Gabon"?"bg-green-600 text-white":"text-gray-600 hover:text-gray-900"}`,children:" Gabon"}),e.jsx("button",{onClick:()=>o("Italie"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${i==="Italie"?"bg-green-600 text-white":"text-gray-600 hover:text-gray-900"}`,children:" Italie"})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-16",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(ye,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"100% Vrifis"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Documents lgaux valids"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(ot,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Notes leves"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Moyenne 4.7/5 toiles"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(fe,{className:"w-8 h-8 text-yellow-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Livraison sre"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Garantie de livraison"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(at,{className:"w-8 h-8 text-green-500"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Support 24/7"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Assistance ddie"})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:d.map((h,j)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 p-6 group opacity-0 animate-[fadeIn_0.5s_ease-in-out_forwards]",style:{animationDelay:`${j*.1}s`},children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h.logo,alt:h.name,className:"w-16 h-16 rounded-lg object-cover"}),h.verified&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-600 rounded-full flex items-center justify-center",children:e.jsx(ye,{className:"w-4 h-4 text-white"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-green-600 transition-colors",children:h.name}),h.goldSupplier&&e.jsx(U,{className:"bg-yellow-400 text-gray-800 text-xs",children:" Gold"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[e.jsx(Ht,{className:"w-4 h-4"}),e.jsxs("span",{children:[h.city,", ",h.country]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((y,g)=>e.jsx(ot,{className:`w-4 h-4 ${g<Math.floor(h.rating)?"text-yellow-400 fill-current":"text-gray-400"}`},g))}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:h.rating}),e.jsxs("span",{className:"text-xs text-gray-600",children:["(",h.reviews," avis)"]})]})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:h.description}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:h.specialties.map((y,g)=>e.jsx(U,{variant:"outline",className:"text-xs",children:y},g))}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:h.yearsActive}),e.jsx("div",{className:"text-xs text-gray-600",children:"Annes"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:h.productsCount.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-600",children:"Produits"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:h.employees}),e.jsx("div",{className:"text-xs text-gray-600",children:"Employs"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:h.certifications.map((y,g)=>e.jsx(U,{variant:"secondary",className:"text-xs bg-blue-100",children:y},g))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>f(h),children:"Voir profil"}),e.jsxs(E,{variant:"default",size:"sm",className:`flex-1 ${r?"bg-green-600 hover:bg-green-700":"bg-gray-400 hover:bg-gray-500"}`,onClick:()=>m(h),disabled:!s,title:s?r?"Contacter ce fournisseur":"Seuls les acheteurs peuvent contacter les fournisseurs":"Connectez-vous pour contacter",children:[!r&&s?e.jsx(ft,{className:"w-4 h-4 mr-1"}):e.jsx(Te,{className:"w-4 h-4 mr-1"}),!r&&s?"Acheteurs uniquement":"Contacter"]})]}),s&&!r&&e.jsx("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ft,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-amber-700",children:[e.jsx("p",{className:"font-medium",children:"Acheteurs uniquement"}),e.jsx("p",{children:"Seuls les acheteurs peuvent initier des conversations avec les fournisseurs."}),e.jsx("button",{onClick:()=>t("/register?role=buyer"),className:"text-amber-800 underline hover:no-underline mt-1",children:"Crer un compte acheteur"})]})]})})]},h.id))}),e.jsx("div",{className:"text-center",children:e.jsx(E,{variant:"secondary",size:"lg",onClick:()=>t("/suppliers"),children:"Voir tous les fournisseurs"})})]})})},KR=({maxOffers:t=6,showCountdown:s=!0,title:r="Offres du Moment",subtitle:n="Dcouvrez nos meilleures promotions limites dans le temps"})=>{const a=he(),[i,o]=u.useState({}),[l,c]=u.useState(0),{data:d=[],isLoading:f}=Re({queryKey:["special-offers"],queryFn:async()=>{try{const w=new URLSearchParams({limit:t.toString(),sort:"created_at_desc"}),k=await H.get(`/products/public?${w}`);return(k.products||k.data||k||[]).filter(b=>b.prix_reduit&&b.prix_reduit<b.prix&&new Date(b.date_fin_offre||b.created_at)>new Date)}catch(w){return console.error("Erreur lors du chargement des offres spciales:",w),[]}},staleTime:2*60*1e3,refetchInterval:60*1e3});u.useEffect(()=>{const w=S=>{const b=new Date().getTime(),_=new Date(S).getTime()-b;return _>0?{days:Math.floor(_/864e5),hours:Math.floor(_%864e5/36e5),minutes:Math.floor(_%36e5/6e4),seconds:Math.floor(_%6e4/1e3)}:{days:0,hours:0,minutes:0,seconds:0}},k=()=>{const S={};d.forEach(b=>{S[b.id]=w(b.date_fin_promo)}),o(S)};if(d.length>0){k();const S=setInterval(k,1e3);return()=>clearInterval(S)}},[d.length]),re.useMemo(()=>{const w={flash_sale:[],reduction:[],bundle:[],clearance:[]};return d.forEach(k=>{w[k.type_offre]&&w[k.type_offre].push(k)}),w},[d]);const m=3,h=Math.ceil(d.length/m),j=()=>{c(w=>(w+1)%h)},y=()=>{c(w=>(w-1+h)%h)},g=w=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XAF",minimumFractionDigits:0}).format(w),N=w=>{switch(w){case"flash_sale":return{label:"Flash Sale",icon:e.jsx(io,{className:"w-4 h-4"}),color:"bg-red-500",bgColor:"bg-red-50",textColor:"text-red-700"};case"bundle":return{label:"Pack",icon:e.jsx(Mi,{className:"w-4 h-4"}),color:"bg-purple-500",bgColor:"bg-purple-50",textColor:"text-purple-700"};case"clearance":return{label:"Liquidation",icon:e.jsx(ft,{className:"w-4 h-4"}),color:"bg-orange-500",bgColor:"bg-orange-50",textColor:"text-orange-700"};default:return{label:"Rduction",icon:e.jsx(Tk,{className:"w-4 h-4"}),color:"bg-green-500",bgColor:"bg-green-50",textColor:"text-green-700"}}},p=w=>new Date(w).getTime()<=new Date().getTime(),v=w=>{const k=w.days*24+w.hours;return k<=2?"critical":k<=24?"high":k<=72?"medium":"low"};if(f)return e.jsx("div",{className:"py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des offres spciales..."})]})});return e.jsx("section",{className:"py-16 bg-gradient-to-br from-red-50 to-orange-50",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(io,{className:"w-8 h-8 text-red-600 mr-3"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:r})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-8",children:n}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Offres actives"})]})}),e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Math.max(...d.map(w=>w.pourcentage_reduction)),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Plus forte rduction"})]})}),e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.filter(w=>w.type_offre==="flash_sale").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Flash Sales"})]})}),e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:d.reduce((w,k)=>w+k.ventes_30j,0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Ventes (30j)"})]})})]})]}),d.length>0?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${l*100}%)`},children:Array.from({length:h}).map((w,k)=>e.jsx("div",{className:"w-full flex-shrink-0",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.slice(k*m,(k+1)*m).map(S=>e.jsx(x,{offer:S},S.id))})},k))})}),h>1&&e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"outline",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white shadow-lg",onClick:y,children:""}),e.jsx(E,{variant:"outline",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white shadow-lg",onClick:j,children:""})]}),h>1&&e.jsx("div",{className:"flex justify-center mt-6 gap-2",children:Array.from({length:h}).map((w,k)=>e.jsx("button",{className:ie("w-2 h-2 rounded-full transition-colors",k===l?"bg-red-600":"bg-gray-300"),onClick:()=>c(k)},k))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Mi,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune offre spciale pour le moment"}),e.jsx("p",{className:"text-gray-600",children:"Revenez bientt pour dcouvrir nos prochaines promotions !"})]}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(E,{size:"lg",onClick:()=>a("/products?offers=true"),className:"bg-red-600 hover:bg-red-700",children:["Voir toutes les offres",e.jsx(It,{className:"w-5 h-5 ml-2"})]})})]})});function x({offer:w}){const k=N(w.type_offre),S=i[w.id],b=S?v(S):"low",C=p(w.date_fin_promo);return e.jsx($,{className:ie("group hover:shadow-xl transition-all duration-300 cursor-pointer relative overflow-hidden",C?"opacity-60":"",b==="critical"?"ring-2 ring-red-500":""),children:e.jsxs(q,{className:"p-0",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[w.image_principale?e.jsx("img",{src:Dt(w.image_principale),alt:w.nom,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:_=>{const P=_.target;P.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Mi,{className:"w-16 h-16 text-gray-400"})}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[e.jsxs(U,{className:ie("text-xs flex items-center gap-1",k.color),children:[k.icon,k.label]}),e.jsxs(U,{variant:"destructive",className:"text-xs font-bold",children:["-",w.pourcentage_reduction,"%"]})]}),b==="critical"&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(U,{variant:"destructive",className:"text-xs animate-pulse",children:"URGENT"})}),C&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx(U,{variant:"secondary",className:"text-lg",children:"Offre expire"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:w.nom}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:w.fournisseur_nom})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xl font-bold text-green-600",children:g(w.prix_promo)}),e.jsx("span",{className:"text-sm text-gray-500 line-through ml-2",children:g(w.prix_unitaire)})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-sm font-medium text-red-600",children:["conomisez ",g(w.prix_unitaire-w.prix_promo)]})})]}),s&&S&&!C&&e.jsxs("div",{className:ie("p-3 rounded-lg mb-3 text-center",b==="critical"?"bg-red-100":b==="high"?"bg-orange-100":b==="medium"?"bg-yellow-100":"bg-green-100"),children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(Mk,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:b==="critical"?"Dernire chance !":b==="high"?"Bientt termin":b==="medium"?"Temps limit":"Offre limite"})]}),e.jsxs("div",{className:"flex justify-center gap-2 text-sm",children:[S.days>0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:S.days}),e.jsx("div",{className:"text-xs",children:"j"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:S.hours}),e.jsx("div",{className:"text-xs",children:"h"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:S.minutes}),e.jsx("div",{className:"text-xs",children:"m"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:S.seconds}),e.jsx("div",{className:"text-xs",children:"s"})]})]})]}),w.quantite_offre&&w.quantite_offre<=10&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-orange-600 font-medium",children:"Stock limit"}),e.jsxs("span",{className:"text-gray-600",children:[w.quantite_offre," restants"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${w.quantite_offre/10*100}%`}})})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((_,P)=>e.jsx(ot,{className:ie("w-4 h-4",P<Math.floor(w.note_moyenne)?"text-yellow-400 fill-current":"text-gray-300")},P))}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",w.nombre_avis,")  ",w.vues_30j," vues"]})]}),e.jsx(E,{className:ie("w-full",C?"opacity-50 cursor-not-allowed":""),disabled:C,onClick:()=>!C&&a(`/products/${w.id}`),children:C?"Offre expire":"Voir l'offre"})]})]})})}},YR=({maxEvents:t=4,showUpcoming:s=!0,title:r="vnements Commerciaux",subtitle:n="Dcouvrez les vnements qui faonnent l'avenir du commerce au Gabon"})=>{const a=he(),[i,o]=u.useState({}),[l,c]=u.useState(0),[d,f]=u.useState("all"),{data:m=[],isLoading:h}=Re({queryKey:["commercial-events",d],queryFn:async()=>{try{const C=new URLSearchParams({limit:t.toString(),upcoming_only:s.toString(),type:d!=="all"?d:"",status:"programme,en_cours"}),_=await H.get(`/events/commercial?${C}`);return _.events||_.data||_||[]}catch(C){return console.error("Erreur lors du chargement des vnements:",C),[]}},staleTime:5*60*1e3}),j=u.useMemo(()=>m,[m]);u.useEffect(()=>{const C=P=>{const T=new Date().getTime(),I=new Date(P).getTime()-T;return I>0?{days:Math.floor(I/864e5),hours:Math.floor(I%864e5/36e5),minutes:Math.floor(I%36e5/6e4),seconds:Math.floor(I%6e4/1e3)}:{days:0,hours:0,minutes:0,seconds:0}},_=()=>{const P={};j.forEach(T=>{P[T.id]=C(T.date_debut)}),o(P)};if(j.length>0){_();const P=setInterval(_,1e3);return()=>clearInterval(P)}},[j.length]),re.useMemo(()=>{const C={salon:[],conference:[],webinar:[],promotion:[],lancement:[],flash_sale:[],partenariat:[]};return j.forEach(_=>{C[_.type]&&C[_.type].push(_)}),C},[j]);const y=2,g=Math.ceil(j.length/y),N=()=>{c(C=>(C+1)%g)},p=()=>{c(C=>(C-1+g)%g)},v=C=>C===0?"Gratuit":new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XAF",minimumFractionDigits:0}).format(C),x=C=>{switch(C){case"salon":return{label:"Salon",icon:e.jsx(dn,{className:"w-4 h-4"}),color:"bg-blue-500",bgColor:"bg-blue-50",textColor:"text-blue-700"};case"conference":return{label:"Confrence",icon:e.jsx(Ek,{className:"w-4 h-4"}),color:"bg-purple-500",bgColor:"bg-purple-50",textColor:"text-purple-700"};case"webinar":return{label:"Webinaire",icon:e.jsx(a0,{className:"w-4 h-4"}),color:"bg-green-500",bgColor:"bg-green-50",textColor:"text-green-700"};case"promotion":return{label:"Promotion",icon:e.jsx(Mi,{className:"w-4 h-4"}),color:"bg-orange-500",bgColor:"bg-orange-50",textColor:"text-orange-700"};case"lancement":return{label:"Lancement",icon:e.jsx(io,{className:"w-4 h-4"}),color:"bg-yellow-500",bgColor:"bg-yellow-50",textColor:"text-yellow-700"};case"flash_sale":return{label:"Flash Sale",icon:e.jsx(io,{className:"w-4 h-4"}),color:"bg-red-500",bgColor:"bg-red-50",textColor:"text-red-700"};case"partenariat":return{label:"Partenariat",icon:e.jsx(at,{className:"w-4 h-4"}),color:"bg-indigo-500",bgColor:"bg-indigo-50",textColor:"text-indigo-700"};default:return{label:"vnement",icon:e.jsx(Os,{className:"w-4 h-4"}),color:"bg-gray-500",bgColor:"bg-gray-50",textColor:"text-gray-700"}}},w=C=>{const _=new Date,P=new Date(C.date_debut),T=C.date_fin?new Date(C.date_fin):null;return C.statut==="annule"?{label:"Annul",color:"bg-red-500"}:C.statut==="termine"?{label:"Termin",color:"bg-gray-500"}:_>=P&&(!T||_<=T)?{label:"En cours",color:"bg-green-500"}:_<P?{label:" venir",color:"bg-blue-500"}:{label:"Programm",color:"bg-yellow-500"}},k=C=>{const _=C.days*24+C.hours;return _<=24?"critical":_<=72?"high":_<=168?"medium":"low"},S=[{value:"all",label:"Tous"},{value:"salon",label:"Salons"},{value:"conference",label:"Confrences"},{value:"webinar",label:"Webinaires"},{value:"promotion",label:"Promotions"},{value:"lancement",label:"Lancements"},{value:"flash_sale",label:"Flash Sales"},{value:"partenariat",label:"Partenariats"}];if(h)return e.jsx("div",{className:"py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des vnements..."})]})});return e.jsx("section",{className:"py-16 bg-gradient-to-br from-blue-50 to-purple-50",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(Os,{className:"w-8 h-8 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:r})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-8",children:n}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:S.map(C=>e.jsx(E,{variant:d===C.value?"default":"outline",size:"sm",onClick:()=>f(C.value),children:C.label},C.value))}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"vnements"})]})}),e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.filter(C=>C.est_gratuit).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Gratuits"})]})}),e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:j.reduce((C,_)=>C+(_.participants_inscrits||0),0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Participants"})]})}),e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:j.filter(C=>C.est_en_ligne).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"En ligne"})]})})]})]}),j.length>0?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${l*100}%)`},children:Array.from({length:g}).map((C,_)=>e.jsx("div",{className:"w-full flex-shrink-0",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:j.slice(_*y,(_+1)*y).map(P=>e.jsx(b,{event:P},P.id))})},_))})}),g>1&&e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"outline",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white shadow-lg",onClick:p,children:""}),e.jsx(E,{variant:"outline",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white shadow-lg",onClick:N,children:""})]}),g>1&&e.jsx("div",{className:"flex justify-center mt-6 gap-2",children:Array.from({length:g}).map((C,_)=>e.jsx("button",{className:ie("w-2 h-2 rounded-full transition-colors",_===l?"bg-blue-600":"bg-gray-300"),onClick:()=>c(_)},_))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Os,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun vnement programm"}),e.jsx("p",{className:"text-gray-600",children:"Revenez bientt pour dcouvrir nos prochains vnements !"})]}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(E,{size:"lg",onClick:()=>a("/events"),className:"bg-blue-600 hover:bg-blue-700",children:["Voir tous les vnements",e.jsx(It,{className:"w-5 h-5 ml-2"})]})})]})});function b({event:C}){const _=x(C.type),P=w(C),T=i[C.id],L=T?k(T):"low",I=new Date(C.date_debut)>new Date;return e.jsx($,{className:"group hover:shadow-xl transition-all duration-300 cursor-pointer relative overflow-hidden",children:e.jsxs(q,{className:"p-0",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[C.image_principale?e.jsx("img",{src:Dt(C.image_principale),alt:C.titre,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:O=>{const X=O.target;X.src="https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=500&h=300&fit=crop"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Os,{className:"w-16 h-16 text-gray-400"})}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[e.jsxs(U,{className:ie("text-xs flex items-center gap-1",_.color),children:[_.icon,_.label]}),e.jsx(U,{className:ie("text-xs",P.color),children:P.label}),C.est_populaire&&e.jsxs(U,{variant:"secondary",className:"text-xs",children:[e.jsx(ot,{className:"w-3 h-3 mr-1"}),"Populaire"]})]}),I&&L==="critical"&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(U,{variant:"destructive",className:"text-xs animate-pulse",children:"Bientt !"})}),C.est_en_ligne&&e.jsx("div",{className:"absolute bottom-2 right-2",children:e.jsxs(U,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[e.jsx(Vs,{className:"w-3 h-3"}),"En ligne"]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:C.titre}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:C.description_courte}),e.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Organis par ",e.jsx("span",{className:"font-medium",children:C.organisateur_nom})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Os,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(C.date_debut).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),!C.est_en_ligne&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ht,{className:"w-4 h-4"}),e.jsx("span",{children:C.lieu})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(at,{className:"w-4 h-4"}),e.jsxs("span",{children:[C.participants_inscrits||0," participants",C.nombre_max_participants&&` / ${C.nombre_max_participants} max`]})]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:e.jsx("span",{className:"font-medium",children:v(C.prix_participation)})})]}),I&&T&&e.jsxs("div",{className:ie("p-3 rounded-lg mb-4 text-center",L==="critical"?"bg-red-100":L==="high"?"bg-orange-100":L==="medium"?"bg-yellow-100":"bg-green-100"),children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(Tt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:L==="critical"?"Dmarre bientt !":L==="high"?"Dans moins de 3 jours":L==="medium"?"Dans moins d'une semaine":"vnement  venir"})]}),e.jsxs("div",{className:"flex justify-center gap-2 text-sm",children:[T.days>0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:T.days}),e.jsx("div",{className:"text-xs",children:"j"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:T.hours}),e.jsx("div",{className:"text-xs",children:"h"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:T.minutes}),e.jsx("div",{className:"text-xs",children:"m"})]})]})]}),C.tags&&C.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[C.tags.slice(0,3).map((O,X)=>e.jsx(U,{variant:"outline",className:"text-xs",children:O},X)),C.tags.length>3&&e.jsxs(U,{variant:"outline",className:"text-xs",children:["+",C.tags.length-3]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{className:"flex-1",onClick:()=>a(`/events/${C.id}`),children:"Voir dtails"}),C.est_en_ligne&&C.lien_webinaire&&e.jsx(E,{variant:"outline",onClick:()=>window.open(C.lien_webinaire,"_blank"),children:e.jsx(a0,{className:"w-4 h-4"})})]})]})]})})}},QR=()=>{const t=he(),{data:s=[],isLoading:r}=Re({queryKey:["popular-categories"],queryFn:async()=>{try{const l=await H.get("/categories");console.log(" Rponse API reue:",l);let c=[];if(l&&typeof l=="object"){const m=l;c=m.categories||m.data||m||[],console.log(" Catgories extraites:",c.length)}if(!Array.isArray(c))return console.warn(" Rponse API inattendue:",l),[];const d=new Map,f=[];return c.forEach(m=>{d.set(m.id,{...m,children:[]})}),c.forEach(m=>{const h=d.get(m.id);if(m.parent_id){const j=d.get(m.parent_id);j&&j.children.push(h)}else f.push(h)}),f.sort((m,h)=>m.ordre-h.ordre)}catch(l){return console.error("Erreur lors du chargement des catgories:",l),[]}},staleTime:5*60*1e3}),n=[{id:1,nom:"lectronique",slug:"electronique",description:"Smartphones, ordinateurs, quipements tech",ordre:1,icon:Bh,productCount:1250,supplierCount:45,image:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400&h=300&fit=crop",color:"text-blue-600",bgColor:"bg-blue-50",trending:!0,growth:"+15%"},{id:2,nom:"Vtements",slug:"vetements",description:"Mode professionnelle, uniformes, textiles",ordre:2,icon:r0,productCount:890,supplierCount:32,image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop",color:"text-purple-600",bgColor:"bg-purple-50",growth:"+8%"},{id:3,nom:"Maison & Jardin",slug:"maison-jardin",description:"Mobilier, dcoration, quipements extrieurs",ordre:3,icon:Ha,productCount:675,supplierCount:28,image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=300&fit=crop",color:"text-green-600",bgColor:"bg-green-50",trending:!0,growth:"+12%"},{id:4,nom:"Fournitures Industrielles",slug:"fournitures-industrielles",description:"Outils, machines, quipements professionnels",ordre:4,icon:i0,productCount:1100,supplierCount:38,image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=400&h=300&fit=crop",color:"text-orange-600",bgColor:"bg-orange-50",growth:"+20%"},{id:5,nom:"Automobile",slug:"automobile",description:"Pices dtaches, accessoires, quipements",ordre:5,icon:s0,productCount:520,supplierCount:22,image:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=400&h=300&fit=crop",color:"text-red-600",bgColor:"bg-red-50",growth:"+5%"},{id:6,nom:"Alimentation",slug:"alimentation",description:"Produits alimentaires, boissons, quipements",ordre:6,icon:n0,productCount:780,supplierCount:35,image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=400&h=300&fit=crop",color:"text-yellow-600",bgColor:"bg-yellow-50",trending:!0,growth:"+18%"},{id:7,nom:"Bureau & Papeterie",slug:"bureau-papeterie",description:"Fournitures de bureau, mobilier professionnel",ordre:7,icon:t0,productCount:450,supplierCount:18,image:"https://images.unsplash.com/photo-1497032628192-86f99bcd76bc?w=400&h=300&fit=crop",color:"text-indigo-600",bgColor:"bg-indigo-50",growth:"+7%"},{id:8,nom:"nergie & lectricit",slug:"energie-electricite",description:"quipements lectriques, solutions nergtiques",ordre:8,icon:io,productCount:320,supplierCount:15,image:"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?w=400&h=300&fit=crop",color:"text-cyan-600",bgColor:"bg-cyan-50",growth:"+25%"}],a=(l,c)=>{const d=[{icon:Bh,color:"text-blue-600",bgColor:"bg-blue-50",image:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400&h=300&fit=crop"},{icon:r0,color:"text-purple-600",bgColor:"bg-purple-50",image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop"},{icon:Ha,color:"text-green-600",bgColor:"bg-green-50",image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=300&fit=crop"},{icon:i0,color:"text-orange-600",bgColor:"bg-orange-50",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=400&h=300&fit=crop"},{icon:s0,color:"text-red-600",bgColor:"bg-red-50",image:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=400&h=300&fit=crop"},{icon:n0,color:"text-yellow-600",bgColor:"bg-yellow-50",image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=400&h=300&fit=crop"},{icon:t0,color:"text-indigo-600",bgColor:"bg-indigo-50",image:"https://images.unsplash.com/photo-1497032628192-86f99bcd76bc?w=400&h=300&fit=crop"},{icon:io,color:"text-cyan-600",bgColor:"bg-cyan-50",image:"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?w=400&h=300&fit=crop"}];return l.toLowerCase().includes("lectron")||l.toLowerCase().includes("tech")?d[0]:l.toLowerCase().includes("vt")||l.toLowerCase().includes("textile")?d[1]:l.toLowerCase().includes("maison")||l.toLowerCase().includes("jardin")?d[2]:l.toLowerCase().includes("outil")||l.toLowerCase().includes("industri")?d[3]:l.toLowerCase().includes("auto")||l.toLowerCase().includes("vhicule")?d[4]:l.toLowerCase().includes("aliment")||l.toLowerCase().includes("boisson")?d[5]:l.toLowerCase().includes("bureau")||l.toLowerCase().includes("papeterie")?d[6]:d[c%d.length]},i=u.useMemo(()=>s.length>0?s.slice(0,8).map((l,c)=>{const d=a(l.nom,c),f=(c+1)*150,m=(c+1)*8,h=5+c*2;return{...l,icon:d.icon,productCount:l.productCount||f,supplierCount:m,image:d.image,color:d.color,bgColor:d.bgColor,trending:c<3,growth:`+${h}%`}}):n,[s]),o=l=>{l.children&&l.children.length>0?t(`/categories/${l.slug}`):t(`/products?category=${l.slug}`)};return e.jsx("section",{className:`${Bt.spacing.section} bg-white`,children:e.jsxs("div",{className:Bt.container,children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:`${Bt.text.h2} font-bold text-gray-900 mb-4`,children:"Catgories Populaires"}),e.jsx("p",{className:`${Bt.text.body} text-gray-600 max-w-2xl mx-auto`,children:"Explorez nos catgories les plus demandes par les professionnels gabonais"})]}),r&&e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(vr,{className:"w-8 h-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Chargement des catgories..."})]}),!r&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:i.map(l=>(l.icon,e.jsxs($,{className:"group cursor-pointer hover:shadow-xl transition-all duration-300 border-0 shadow-md overflow-hidden",onClick:()=>o(l),children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"h-32 overflow-hidden",children:[e.jsx("img",{src:l.image,alt:l.nom,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/30 transition-colors"})]}),l.trending&&e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs(U,{className:"bg-red-500 text-white font-bold px-2 py-1 text-xs animate-pulse",children:[e.jsx(nt,{className:"w-3 h-3 mr-1"}),"Tendance"]})})]}),e.jsxs(q,{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:l.nom}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:l.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.jsxs("span",{children:[(l.productCount||0).toLocaleString()," produits"]}),e.jsxs("span",{children:[l.supplierCount," fournisseurs"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-green-600 text-sm font-medium",children:[e.jsx(nt,{className:"w-3 h-3 mr-1"}),l.growth]}),e.jsx(It,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]})]})]},l.id)))}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(E,{size:"lg",onClick:()=>t("/categories"),className:"bg-blue-600 hover:bg-blue-700 text-white px-8",children:["Voir toutes les catgories",e.jsx(It,{className:"w-4 h-4 ml-2"})]})})]})})},JR=()=>{const t=he(),{data:s=[],isLoading:r}=Re({queryKey:["trending-products"],queryFn:async()=>{try{const o=await H.get("/products/public?sort=trending&limit=6");return o.products||o.data||o||[]}catch(o){return console.error("Erreur lors du chargement des produits tendances:",o),[]}},staleTime:5*60*1e3}),n=u.useMemo(()=>s.length>0?s.map((o,l)=>({id:o.id,name:o.nom||"Produit sans nom",description:o.description||"Description non disponible",price:o.prix_unitaire||0,originalPrice:o.prix_promo?o.prix_unitaire:void 0,image:o.image_principale?Dt(o.image_principale):"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=400&fit=crop",supplier:o.nom_entreprise||o.fournisseur||"Fournisseur non spcifi",category:o.categorie||"Non catgoris",rating:o.note_moyenne||4+l*.1,reviewCount:o.nombre_avis||Math.floor(Math.random()*100)+10,views:o.nombre_vues||Math.floor(Math.random()*2e3)+500,sales:Math.floor(Math.random()*200)+10,trend:l<2?"hot":l<4?"up":"new",trendPercentage:10+l*3,inStock:o.stock_disponible>0,minOrder:o.quantite_minimale||1,unit:o.unite||"unit"})):[],[s]),a=o=>{switch(o){case"hot":return{color:"bg-red-500 text-white",label:" Hot",icon:nt};case"up":return{color:"bg-green-500 text-white",label:" Tendance",icon:nt};case"new":return{color:"bg-blue-500 text-white",label:" Nouveau",icon:ot};default:return{color:"bg-gray-500 text-white",label:"Tendance",icon:nt}}},i=o=>{t(`/products/${o}`)};return e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx(nt,{className:"w-8 h-8 text-green-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Produits Tendance"})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Dcouvrez les produits les plus populaires et les mieux nots par nos clients professionnels"})]}),r&&e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(vr,{className:"w-8 h-8 animate-spin text-green-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Chargement des produits tendances..."})]}),!r&&n.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(nt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Aucun produit tendance disponible"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Les produits tendances seront bientt disponibles."}),e.jsx(E,{onClick:()=>t("/products"),variant:"outline",children:"Voir tous les produits"})]}),!r&&n.length>0&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:n.map(o=>{const l=a(o.trend),c=o.originalPrice&&o.originalPrice>o.price,d=c?Math.round((o.originalPrice-o.price)/o.originalPrice*100):0;return e.jsxs($,{className:"group cursor-pointer hover:shadow-xl transition-all duration-300 overflow-hidden border-0 shadow-md",onClick:()=>i(o.id),children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-64 overflow-hidden",children:e.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.jsx(U,{className:`${l.color} font-bold px-3 py-1`,children:l.label}),c&&e.jsxs(U,{className:"bg-red-600 text-white font-bold px-3 py-1",children:["-",d,"%"]}),!o.inStock&&e.jsx(U,{className:"bg-gray-500 text-white font-bold px-3 py-1",children:"Rupture"})]}),e.jsxs("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:["+",o.trendPercentage,"%"]}),e.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(E,{size:"sm",variant:"secondary",className:"p-2",children:e.jsx(wt,{className:"w-4 h-4"})}),e.jsx(E,{size:"sm",variant:"secondary",className:"p-2",children:e.jsx(Oe,{className:"w-4 h-4"})})]})]}),e.jsxs(q,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(U,{variant:"outline",className:"text-xs",children:o.category}),e.jsxs("span",{className:"text-xs text-gray-500",children:["par ",o.supplier]})]}),e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 group-hover:text-blue-600 transition-colors line-clamp-2",children:o.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:o.description}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ot,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"font-medium",children:o.rating}),e.jsxs("span",{className:"text-gray-500",children:["(",o.reviewCount,")"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(Oe,{className:"w-4 h-4"}),e.jsx("span",{children:o.views.toLocaleString()})]}),e.jsxs("div",{className:"text-green-600 font-medium",children:[o.sales," vendus"]})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[o.price.toLocaleString()," FCFA"]}),c&&e.jsxs("span",{className:"text-lg text-gray-400 line-through",children:[o.originalPrice.toLocaleString()," FCFA"]})]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Commande minimum: ",o.minOrder," ",o.unit,o.minOrder>1&&"s"]}),e.jsxs(E,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold group/btn",disabled:!o.inStock,children:[e.jsx(zs,{className:"w-4 h-4 mr-2"}),o.inStock?"Ajouter au panier":"Rupture de stock",e.jsx(It,{className:"w-4 h-4 ml-2 group-hover/btn:translate-x-1 transition-transform"})]})]})]},o.id)})}),e.jsx("div",{className:"text-center",children:e.jsxs(E,{size:"lg",onClick:()=>t("/products?trending=true"),className:"bg-green-600 hover:bg-green-700 text-white px-8",children:["Voir tous les produits tendance",e.jsx(It,{className:"w-4 h-4 ml-2"})]})})]})})},ZR=()=>{const[t,s]=u.useState(""),[r,n]=u.useState(!1),[a,i]=u.useState(!1),o=async l=>{if(l.preventDefault(),!t){M.error("Veuillez saisir votre adresse email");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){M.error("Veuillez saisir une adresse email valide");return}i(!0);try{await new Promise(c=>setTimeout(c,1500)),n(!0),M.success("Inscription russie ! Vous recevrez nos dernires offres par email."),s("")}catch{M.error("Erreur lors de l'inscription. Veuillez ressayer.")}finally{i(!1)}};return r?e.jsx("section",{className:"py-16 bg-gradient-to-r from-green-600 to-blue-600",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:e.jsx(ye,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Merci pour votre inscription ! "}),e.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Vous recevrez bientt nos meilleures offres et actualits business directement dans votre bote mail."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(E,{size:"lg",className:"bg-white text-green-600 hover:bg-gray-100",onClick:()=>window.location.href="/products",children:"Dcouvrir nos produits"}),e.jsx(E,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-green-600",onClick:()=>n(!1),children:"S'inscrire avec un autre email"})]})]})})}):e.jsx("section",{className:"py-16 bg-gradient-to-r from-green-600 to-blue-600",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"text-white",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Rt,{className:"w-8 h-8"}),e.jsx("h2",{className:"text-3xl font-bold",children:"Restez Inform"})]}),e.jsx("p",{className:"text-xl text-white/90 mb-6",children:"Recevez en exclusivit nos meilleures offres, nouveauts produits et actualits business du Gabon"}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-white/20 rounded-full p-2",children:e.jsx(Mi,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-white/90",children:"Offres exclusives et promotions en avant-premire"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-white/20 rounded-full p-2",children:e.jsx(Jt,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-white/90",children:"Alertes sur les nouveaux produits et fournisseurs"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-white/20 rounded-full p-2",children:e.jsx(nt,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-white/90",children:"Tendances du march B2B gabonais"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"5,000+"}),e.jsx("div",{className:"text-sm text-white/70",children:"Abonns"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"2x/sem"}),e.jsx("div",{className:"text-sm text-white/70",children:"Newsletters"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"95%"}),e.jsx("div",{className:"text-sm text-white/70",children:"Satisfaction"})]})]})]}),e.jsx("div",{children:e.jsx($,{className:"border-0 shadow-2xl",children:e.jsxs(q,{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Inscription Newsletter"}),e.jsx("p",{className:"text-gray-600",children:"Rejoignez notre communaut de professionnels"})]}),e.jsxs("form",{onSubmit:o,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newsletter-email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email professionnelle"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{id:"newsletter-email",type:"email",placeholder:"votre@entreprise.com",value:t,onChange:l=>s(l.target.value),className:"pl-10 h-12 text-lg",disabled:a})]})]}),e.jsx(E,{type:"submit",size:"lg",className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-semibold h-12 text-lg",disabled:a,children:a?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Inscription en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx(wb,{className:"w-5 h-5 mr-2"}),"S'abonner gratuitement"]})}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"En vous inscrivant, vous acceptez de recevoir nos emails marketing. Vous pouvez vous dsabonner  tout moment."})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ye,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Gratuit"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ye,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Sans spam"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ye,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Dsabonnement facile"})]})]})})]})})})]})})})})},eA=({maxProducts:t=8,showByCategory:s=!0,title:r="Produits Populaires",subtitle:n="Dcouvrez les produits les plus apprcis par notre communaut"})=>{const a=he(),[i,o]=u.useState("all"),[l,c]=u.useState("carousel"),[d,f]=u.useState(0),{data:m=[],isLoading:h}=Re({queryKey:["popular-products",i],queryFn:async()=>{try{const S=new URLSearchParams({limit:t.toString(),category:i}),b=await H.get(`/products/featured?${S}`);return b.products||b.data||b||[]}catch(S){return console.error("Erreur lors du chargement des produits populaires:",S),[]}},staleTime:5*60*1e3}),{data:j=[]}=Re({queryKey:["categories-for-popular"],queryFn:async()=>{try{const S=await H.get("/categories?limit=6");return S.categories||S.data||S||[]}catch{return[]}}});re.useMemo(()=>{if(!s)return{all:m};const S={all:m};return m.forEach(b=>{const C=b.categorie_nom||"Autres";S[C]||(S[C]=[]),S[C].push(b)}),S},[m,s]);const y=4,g=Math.ceil(m.length/y),N=()=>{f(S=>(S+1)%g)},p=()=>{f(S=>(S-1+g)%g)},v=S=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XAF",minimumFractionDigits:0}).format(S),x=S=>{const b=new Date(S),_=Math.floor((new Date().getTime()-b.getTime())/(1e3*60*60));return _<1?" l'instant":_<24?`Il y a ${_}h`:_<168?`Il y a ${Math.floor(_/24)}j`:`Il y a ${Math.floor(_/168)} sem`},w=S=>S>=100?{text:" Trs populaire",color:"bg-red-500"}:S>=50?{text:" Populaire",color:"bg-orange-500"}:S>=20?{text:" En hausse",color:"bg-green-500"}:{text:" Nouveau",color:"bg-blue-500"};if(h)return e.jsx("div",{className:"py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des produits populaires..."})]})});return e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(nt,{className:"w-8 h-8 text-green-600 mr-3"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:r})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-8",children:n}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-8",children:[s&&j.length>0&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsx(E,{variant:i==="all"?"default":"outline",size:"sm",onClick:()=>o("all"),children:"Toutes les catgories"}),j.slice(0,5).map(S=>e.jsx(E,{variant:i===S.slug?"default":"outline",size:"sm",onClick:()=>o(S.slug),children:S.nom},S.id))]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{variant:l==="carousel"?"default":"outline",size:"sm",onClick:()=>c("carousel"),children:"Carousel"}),e.jsx(E,{variant:l==="grid"?"default":"outline",size:"sm",onClick:()=>c("grid"),children:"Grille"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Produits populaires"})]})}),e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:m.reduce((S,b)=>S+b.vues_30j,0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Vues (30j)"})]})}),e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:m.reduce((S,b)=>S+b.ventes_30j,0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Ventes (30j)"})]})}),e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Math.round(m.reduce((S,b)=>S+b.note_moyenne,0)/m.length*10)/10}),e.jsx("div",{className:"text-sm text-gray-600",children:"Note moyenne"})]})})]}),l==="carousel"?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${d*100}%)`},children:Array.from({length:g}).map((S,b)=>e.jsx("div",{className:"w-full flex-shrink-0",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.slice(b*y,(b+1)*y).map(C=>e.jsx(k,{product:C},C.id))})},b))})}),g>1&&e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"outline",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white shadow-lg",onClick:p,children:""}),e.jsx(E,{variant:"outline",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white shadow-lg",onClick:N,children:""})]}),g>1&&e.jsx("div",{className:"flex justify-center mt-6 gap-2",children:Array.from({length:g}).map((S,b)=>e.jsx("button",{className:ie("w-2 h-2 rounded-full transition-colors",b===d?"bg-green-600":"bg-gray-300"),onClick:()=>f(b)},b))})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map(S=>e.jsx(k,{product:S},S.id))}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(E,{size:"lg",onClick:()=>a("/products?sort=popularity"),className:"bg-green-600 hover:bg-green-700",children:["Voir tous les produits populaires",e.jsx(It,{className:"w-5 h-5 ml-2"})]})})]})});function k({product:S}){const b=w(S.score_popularite),C=S.est_en_offre&&S.prix_promo?S.prix_promo:S.prix_unitaire,_=S.est_en_offre&&S.prix_promo&&S.prix_promo<S.prix_unitaire;return e.jsx($,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer",children:e.jsxs(q,{className:"p-0",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[S.image_principale?e.jsx("img",{src:Dt(S.image_principale),alt:S.nom,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:P=>{const T=P.target;T.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(fe,{className:"w-16 h-16 text-gray-400"})}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[e.jsx(U,{className:ie("text-xs",b.color),children:b.text}),_&&e.jsxs(U,{variant:"destructive",className:"text-xs",children:["-",S.pourcentage_reduction,"%"]})]}),e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(E,{variant:"secondary",size:"sm",onClick:P=>{P.stopPropagation(),a(`/products/${S.id}`)},children:e.jsx(Oe,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:S.nom}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:S.fournisseur_nom})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((P,T)=>e.jsx(ot,{className:ie("w-4 h-4",T<Math.floor(S.note_moyenne)?"text-yellow-400 fill-current":"text-gray-300")},T))}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",S.nombre_avis,")"]})]}),e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-lg font-bold text-green-600",children:v(C)}),_&&e.jsx("span",{className:"text-sm text-gray-500 line-through ml-2",children:v(S.prix_unitaire)})]})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Oe,{className:"w-3 h-3"}),S.vues_30j]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(at,{className:"w-3 h-3"}),S.ventes_30j]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Os,{className:"w-3 h-3"}),x(S.derniere_activite)]})]}),e.jsx(E,{className:"w-full",onClick:()=>a(`/products/${S.id}`),children:"Voir le produit"})]})]})})}},tA=()=>{const t=[{label:"Fournisseurs vrifis",value:"500+",icon:at,color:"text-blue-600"},{label:"Produits disponibles",value:"10,000+",icon:Vs,color:"text-green-600"},{label:"Commandes traites",value:"25,000+",icon:nt,color:"text-purple-600"},{label:"Clients satisfaits",value:"98%",icon:ot,color:"text-yellow-600"}],s=[{icon:$e,title:"Scurit garantie",description:"Tous nos fournisseurs sont vrifis et certifis pour garantir la qualit de vos achats professionnels."},{icon:at,title:"Rseau tendu",description:"Accdez au plus grand rseau de fournisseurs B2B du Gabon, couvrant tous les secteurs d'activit."},{icon:Vs,title:"Plateforme moderne",description:"Interface intuitive et outils avancs pour faciliter vos achats et optimiser votre gestion des commandes."},{icon:pn,title:"Service premium",description:"Support client ddi, livraison rapide et garantie satisfaction pour tous vos achats professionnels."}],r=["Certifi ISO 27001","Agr Chambre de Commerce","Partenaire officiel ANPME","Membre CGECI"];return e.jsx("section",{className:"py-16 bg-gradient-to-br from-gray-50 to-blue-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-600 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(Vs,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:" propos de GabMarketHub"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"La premire plateforme B2B du Gabon, connectant entreprises locales et fournisseurs pour dvelopper l'conomie gabonaise"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-16",children:t.map((n,a)=>{const i=n.icon;return e.jsx($,{className:"text-center border-0 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs(q,{className:"p-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-50 flex items-center justify-center mx-auto mb-4",children:e.jsx(i,{className:`w-6 h-6 ${n.color}`})}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:n.value}),e.jsx("div",{className:"text-sm text-gray-600",children:n.label})]})},a)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-16",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Votre partenaire de confiance pour le commerce B2B au Gabon"}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"GabMarketHub rvolutionne le commerce B2B au Gabon en connectant directement les entreprises locales avec un rseau de fournisseurs vrifis et de qualit."}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Notre mission est de faciliter les changes commerciaux, rduire les cots d'approvisionnement et stimuler la croissance conomique du pays en digitalisant les processus d'achat professionnel."})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Nos certifications et partenariats"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.map((n,a)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:n})]},a))})]}),e.jsxs(E,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["En savoir plus sur notre entreprise",e.jsx(It,{className:"w-4 h-4 ml-2"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=600&h=400&fit=crop",alt:"quipe GabMarketHub",className:"rounded-2xl shadow-2xl"}),e.jsx("div",{className:"absolute -bottom-6 -left-6 bg-white p-4 rounded-xl shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(pn,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900",children:"Leader B2B"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Gabon 2024"})]})]})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:s.map((n,a)=>{const i=n.icon;return e.jsx($,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 group",children:e.jsxs(q,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-50 to-green-50 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:e.jsx(i,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-3",children:n.title}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n.description})]})},a)})}),e.jsx("div",{className:"text-center mt-16",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Rejoignez la rvolution du commerce B2B gabonais"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Que vous soyez acheteur ou fournisseur, GabMarketHub vous offre les outils pour dvelopper votre activit et optimiser vos changes commerciaux."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(E,{size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:["Devenir fournisseur",e.jsx(It,{className:"w-4 h-4 ml-2"})]}),e.jsxs(E,{size:"lg",variant:"outline",className:"border-green-600 text-green-600 hover:bg-green-600 hover:text-white",children:["Crer un compte acheteur",e.jsx(It,{className:"w-4 h-4 ml-2"})]})]})]})})]})})},$c=t=>({Conseils:"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?w=800&h=400&fit=crop",Tendances:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop",Actualits:"https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800&h=400&fit=crop",Technologie:"https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=800&h=400&fit=crop",Business:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=400&fit=crop",Marketing:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=400&fit=crop",Finance:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&h=400&fit=crop",Dveloppement:"https://images.unsplash.com/photo-1555066931-4365d14bab8c?w=800&h=400&fit=crop"})[t]||"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=400&fit=crop",sA=({maxArticles:t=6,showFeatured:s=!0,title:r="Blog & Conseils",subtitle:n="Dcouvrez nos articles, guides et conseils pour russir dans le commerce B2B"})=>{const a=he(),[i,o]=u.useState("all"),[l,c]=u.useState("featured"),{data:d=[],isLoading:f}=Re({queryKey:["featured-articles"],queryFn:async()=>{try{const x=new URLSearchParams({limit:"2",featured:"true",published:"true"}),w=await H.get(`/blog/featured?${x}`);return w.articles||w.data||w||[]}catch(x){return console.error("Erreur lors du chargement des articles  la une:",x),[]}},staleTime:10*60*1e3}),{data:m=[],isLoading:h}=Re({queryKey:["recent-articles",i],queryFn:async()=>{try{const x=new URLSearchParams({limit:t.toString(),category:i!=="all"?i:"",published:"true",sort:"date_desc"}),w=await H.get(`/blog/recent?${x}`);return w.articles||w.data||w||[]}catch(x){return console.error("Erreur lors du chargement des articles rcents:",x),[]}},staleTime:5*60*1e3}),{data:j=[]}=Re({queryKey:["blog-categories"],queryFn:async()=>{try{const x=await H.get("/blog/categories");return x.categories||x.data||x||[]}catch{return[]}}}),y=x=>{const w=new Date(x),S=Math.floor((new Date().getTime()-w.getTime())/(1e3*60*60*24));return S===0?"Aujourd'hui":S===1?"Hier":S<7?`Il y a ${S} jours`:S<30?`Il y a ${Math.floor(S/7)} semaines`:`Il y a ${Math.floor(S/30)} mois`},g=x=>({Conseils:"bg-blue-500",Tendances:"bg-purple-500",Guide:"bg-green-500",Actualits:"bg-orange-500",Technologie:"bg-indigo-500",Marketing:"bg-pink-500",Finance:"bg-yellow-500",Ressources:"bg-gray-500"})[x]||"bg-gray-500";if(f||h)return e.jsx("div",{className:"py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des articles..."})]})});return e.jsx("section",{className:"py-16 bg-gradient-to-br from-green-50 to-blue-50",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(qh,{className:"w-8 h-8 text-green-600 mr-3"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:r})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-8",children:n}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(E,{variant:l==="featured"?"default":"outline",size:"sm",onClick:()=>c("featured"),children:[e.jsx(nt,{className:"w-4 h-4 mr-2"})," la une"]}),e.jsxs(E,{variant:l==="recent"?"default":"outline",size:"sm",onClick:()=>c("recent"),children:[e.jsx(Os,{className:"w-4 h-4 mr-2"}),"Rcents"]})]}),l==="recent"&&j.length>0&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsx(E,{variant:i==="all"?"default":"outline",size:"sm",onClick:()=>o("all"),children:"Toutes"}),j.slice(0,5).map(x=>e.jsx(E,{variant:i===x?"default":"outline",size:"sm",onClick:()=>o(x),children:x},x))]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:((d==null?void 0:d.length)||0)+((m==null?void 0:m.length)||0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Articles"})]})}),e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(j==null?void 0:j.length)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Catgories"})]})}),e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:[...d||[],...m||[]].reduce((x,w)=>x+(w.nombre_vues||0),0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Vues totales"})]})}),e.jsx($,{className:"text-center",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:[...d||[],...m||[]].reduce((x,w)=>x+(w.nombre_likes||0),0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Likes"})]})})]})]}),l==="featured"?e.jsxs("div",{className:"space-y-8",children:[d.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:d.map(x=>e.jsx(p,{article:x},x.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(qh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun article  la une"}),e.jsx("p",{className:"text-gray-600",children:"Revenez bientt pour dcouvrir nos prochains articles !"})]}),m.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Articles rcents"}),e.jsxs(E,{variant:"outline",size:"sm",onClick:()=>c("recent"),children:["Voir tout",e.jsx(It,{className:"w-4 h-4 ml-2"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.slice(0,3).map(x=>e.jsx(v,{article:x},x.id))})]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(x=>e.jsx(v,{article:x},x.id))}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(E,{size:"lg",onClick:()=>a("/blog"),className:"bg-green-600 hover:bg-green-700",children:["Voir tout le blog",e.jsx(It,{className:"w-5 h-5 ml-2"})]})})]})});function p({article:x}){return e.jsx($,{className:"group hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden",children:e.jsxs(q,{className:"p-0",children:[e.jsxs("div",{className:"relative h-64 bg-gray-100 overflow-hidden",children:[e.jsx("img",{src:x.image_principale?Dt(x.image_principale):$c(x.categorie),alt:x.titre,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:w=>{const k=w.target;k.src=$c(x.categorie)}}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.jsx(U,{className:ie("text-xs",g(x.categorie)),children:x.categorie}),e.jsxs(U,{variant:"secondary",className:"text-xs",children:[e.jsx(nt,{className:"w-3 h-3 mr-1"})," la une"]})]}),e.jsxs("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[e.jsx(E,{variant:"secondary",size:"sm",children:e.jsx(wt,{className:"w-4 h-4"})}),e.jsx(E,{variant:"secondary",size:"sm",children:e.jsx(ao,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3 line-clamp-2",children:x.titre}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:x.extrait})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(we,{className:"w-4 h-4"}),x.auteur_nom]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Tt,{className:"w-4 h-4"}),x.temps_lecture_estime," min"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Oe,{className:"w-4 h-4"}),x.nombre_vues]})]}),x.tags&&Array.isArray(x.tags)&&x.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[x.tags.slice(0,3).map((w,k)=>e.jsxs(U,{variant:"outline",className:"text-xs",children:[e.jsx(Cb,{className:"w-3 h-3 mr-1"}),w]},k)),x.tags.length>3&&e.jsxs(U,{variant:"outline",className:"text-xs",children:["+",x.tags.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:y(x.date_publication)}),e.jsx(E,{onClick:()=>a(`/blog/${x.slug}`),className:"bg-green-600 hover:bg-green-700",children:"Lire l'article"})]})]})]})})}function v({article:x}){return e.jsx($,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer",children:e.jsxs(q,{className:"p-0",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[e.jsx("img",{src:x.image_principale?Dt(x.image_principale):$c(x.categorie),alt:x.titre,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:w=>{const k=w.target;k.src=$c(x.categorie)}}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx(U,{className:ie("text-xs",g(x.categorie)),children:x.categorie})}),e.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[e.jsx(E,{variant:"secondary",size:"sm",className:"h-6 w-6 p-0",children:e.jsx(wt,{className:"w-3 h-3"})}),e.jsx(E,{variant:"secondary",size:"sm",className:"h-6 w-6 p-0",children:e.jsx(ao,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:x.titre}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:x.extrait})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(we,{className:"w-3 h-3"}),x.auteur_nom]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Tt,{className:"w-3 h-3"}),x.temps_lecture_estime," min"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Oe,{className:"w-3 h-3"}),x.nombre_vues]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:y(x.date_publication)}),e.jsx(E,{size:"sm",onClick:()=>a(`/blog/${x.slug}`),className:"bg-green-600 hover:bg-green-700",children:"Lire"})]})]})]})})}},ll=({category:t,onClick:s,variant:r="default",showProductCount:n=!1})=>{const a=()=>e.jsx(fe,{className:"w-6 h-6"});return r==="compact"?e.jsx("button",{onClick:()=>s(t),className:"w-full p-3 bg-white rounded-lg border border-gray-200 hover:border-green-300 hover:shadow-md transition-all duration-200 text-left group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-green-600 group-hover:text-green-700",children:a()}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 group-hover:text-green-600 transition-colors",children:t.nom}),n&&t.productCount&&e.jsxs("p",{className:"text-xs text-gray-500",children:[t.productCount," produits"]})]})]}),e.jsx(qs,{className:"w-4 h-4 text-gray-400 group-hover:text-green-600 transition-colors"})]})}):r==="featured"?e.jsx($,{className:"hover:shadow-xl transition-all duration-300 cursor-pointer group overflow-hidden",children:e.jsxs(q,{className:"p-0",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 p-6 group-hover:from-green-100 group-hover:to-blue-100 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-green-600 group-hover:text-green-700 transition-colors",children:a()}),e.jsx(qs,{className:"w-5 h-5 text-gray-400 group-hover:text-green-600 transition-colors"})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-green-600 transition-colors mb-2",children:t.nom}),t.description&&e.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-4",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[t.children&&t.children.length>0&&e.jsxs(U,{variant:"secondary",className:"text-xs",children:[e.jsx(Cb,{className:"w-3 h-3 mr-1"}),t.children.length," sous-catgories"]}),n&&t.productCount&&e.jsxs(U,{variant:"outline",className:"text-xs",children:[t.productCount," produits"]})]})]}),t.children&&t.children.length>0&&e.jsxs("div",{className:"p-4 bg-white border-t border-gray-100",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"Sous-catgories populaires :"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.children.slice(0,3).map(i=>e.jsx("button",{onClick:o=>{o.stopPropagation(),s(i)},className:"text-xs bg-gray-100 hover:bg-green-100 text-gray-600 hover:text-green-700 px-2 py-1 rounded-full transition-colors",children:i.nom},i.id)),t.children.length>3&&e.jsxs("span",{className:"text-xs text-green-600 px-2 py-1 font-medium",children:["+",t.children.length-3," autres"]})]})]})]})}):e.jsx($,{className:"hover:shadow-lg transition-shadow cursor-pointer group",children:e.jsxs(q,{className:"p-6",onClick:()=>s(t),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"text-green-600 group-hover:text-green-700 transition-colors mt-1",children:a()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-green-600 transition-colors mb-2",children:t.nom}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.description})]})]}),e.jsx(qs,{className:"w-5 h-5 text-gray-400 group-hover:text-green-600 transition-colors flex-shrink-0 ml-2"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[t.children&&t.children.length>0&&e.jsxs(U,{variant:"outline",className:"text-xs",children:[t.children.length," sous-catgories"]}),n&&t.productCount&&e.jsxs(U,{variant:"secondary",className:"text-xs",children:[t.productCount," produits"]})]}),t.children&&t.children.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"Sous-catgories :"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.children.slice(0,4).map(i=>e.jsx("button",{onClick:o=>{o.stopPropagation(),s(i)},className:"text-xs bg-gray-100 hover:bg-green-100 text-gray-600 hover:text-green-700 px-2 py-1 rounded transition-colors",children:i.nom},i.id)),t.children.length>4&&e.jsxs("span",{className:"text-xs text-green-600 px-2 py-1 font-medium",children:["+",t.children.length-4," autres"]})]})]})]})})},rA=({title:t="Catgories populaires",subtitle:s="Dcouvrez nos catgories les plus demandes",maxCategories:r=8,showViewAll:n=!0})=>{const a=he(),{data:i=[],isLoading:o}=Re({queryKey:["featured-categories"],queryFn:async()=>{const c=await H.get("/categories"),d=c.categories||c.data||c||[],f=new Map,m=[];return d.forEach(h=>{f.set(h.id,{...h,children:[]})}),d.forEach(h=>{const j=f.get(h.id);if(h.parent_id){const y=f.get(h.parent_id);y&&y.children.push(j)}else m.push(j)}),m.sort((h,j)=>{var y,g;return(((y=j.children)==null?void 0:y.length)||0)-(((g=h.children)==null?void 0:g.length)||0)}).slice(0,r)},staleTime:5*60*1e3}),l=c=>{c.children&&c.children.length>0?a(`/categories/${c.slug}`):a(`/products?category=${c.slug}`)};return o?e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-64 mx-auto mb-4 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-96 mx-auto animate-pulse"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map((c,d)=>e.jsxs("div",{className:"bg-white rounded-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})]},d))})]})}):i.length===0?null:e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(nt,{className:"w-6 h-6 text-green-600 mr-3"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:t})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:s})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:i.slice(0,4).map(c=>e.jsx(ll,{category:c,onClick:l,variant:"featured",showProductCount:!0},c.id))}),i.length>4&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:i.slice(4,r).map(c=>e.jsx(ll,{category:c,onClick:l,variant:"compact",showProductCount:!0},c.id))}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-8",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[i.length,"+"]}),e.jsx("div",{className:"text-gray-600",children:"Catgories principales"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[i.reduce((c,d)=>{var f;return c+(((f=d.children)==null?void 0:f.length)||0)},0),"+"]}),e.jsx("div",{className:"text-gray-600",children:"Sous-catgories"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:i.reduce((c,d)=>c+(d.productCount||0),0)||"1000+"}),e.jsx("div",{className:"text-gray-600",children:"Produits disponibles"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"100%"}),e.jsx("div",{className:"text-gray-600",children:"March gabonais"})]})]})}),n&&e.jsxs("div",{className:"text-center",children:[e.jsxs(E,{size:"lg",onClick:()=>a("/categories"),className:"group",children:["Voir toutes les catgories",e.jsx(It,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Explorez notre catalogue complet de produits B2B"})]})]})})},nA=()=>e.jsxs(yn,{children:[e.jsx(HR,{}),e.jsx(QR,{}),e.jsx(eA,{title:"Produits Populaires",subtitle:"Dcouvrez les produits les plus apprcis par notre communaut B2B",maxProducts:8,showByCategory:!0}),e.jsx(rA,{title:"Explorez nos catgories",subtitle:"Dcouvrez notre gamme complte de produits organiss par secteurs d'activit",maxCategories:6,showViewAll:!0}),e.jsx(KR,{title:"Offres du Moment",subtitle:"Dcouvrez nos meilleures promotions limites dans le temps",maxOffers:6,showCountdown:!0}),e.jsx(JR,{}),e.jsx(YR,{title:"vnements Commerciaux",subtitle:"Dcouvrez les vnements qui faonnent l'avenir du commerce au Gabon",maxEvents:4,showUpcoming:!0}),e.jsx(XR,{}),e.jsx(tA,{}),e.jsx(sA,{title:"Blog & Conseils",subtitle:"Dcouvrez nos articles, guides et conseils pour russir dans le commerce B2B",maxArticles:6,showFeatured:!0}),e.jsx(ZR,{})]}),rc=({label:t="Retour",fallbackPath:s="/",className:r=""})=>{const n=he(),a=()=>{window.history.length>1?window.history.back():n(s)};return e.jsxs(E,{variant:"ghost",onClick:a,className:`flex items-center gap-2 text-gray-600 hover:text-gray-900 ${r}`,children:[e.jsx(Ys,{className:"w-4 h-4"}),t]})},aA=({className:t="",onCategorySelect:s,currentCategory:r="",showSearch:n=!0})=>{var j;const[a,i]=u.useState(""),[o,l]=u.useState(!0),{data:c=[],isLoading:d}=Re({queryKey:["categories-simple"],queryFn:async()=>{try{const y=await H.get("/categories");return(y.categories||y.data||y||[]).filter(p=>!p.parent_id).sort((p,v)=>p.ordre-v.ordre)}catch(y){return console.error("Erreur lors du chargement des catgories:",y),[]}},staleTime:5*60*1e3}),f=c.filter(y=>y.nom.toLowerCase().includes(a.toLowerCase())),m=y=>{s&&s(y)},h=()=>{i(""),s&&s("")};return d?e.jsx("div",{className:`bg-white rounded-lg shadow-sm p-4 ${t}`,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse"}),[...Array(6)].map((y,g)=>e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"},g))]})}):o?e.jsxs("div",{className:`bg-white rounded-lg shadow-sm ${t}`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center",children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Catgories"]}),e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:e.jsx(Ae,{className:"w-4 h-4"})})]}),n&&e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(D,{placeholder:"Rechercher une catgorie...",value:a,onChange:y=>i(y.target.value),className:"pl-10 text-sm"})]})]}),e.jsxs("div",{className:"p-4",children:[r&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Filtre actuel:"}),e.jsx(E,{variant:"ghost",size:"sm",onClick:h,className:"text-red-600 hover:text-red-700 h-auto p-1",children:e.jsx(Ae,{className:"w-3 h-3"})})]}),e.jsx(U,{variant:"secondary",className:"text-xs",children:((j=c.find(y=>y.slug===r))==null?void 0:j.nom)||r}),e.jsx("div",{className:"border-t border-gray-200 mt-3 mb-3"})]}),e.jsx("button",{onClick:()=>m(""),className:`w-full text-left py-2 px-3 rounded-md transition-colors text-sm mb-2 ${r?"text-gray-700 hover:text-green-600 hover:bg-gray-50":"bg-green-100 text-green-700 font-medium"}`,children:"Toutes les catgories"}),e.jsx("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:f.length>0?f.map(y=>e.jsxs("button",{onClick:()=>m(y.slug),className:`w-full text-left py-2 px-3 rounded-md transition-colors text-sm flex items-center justify-between group ${r===y.slug?"bg-green-100 text-green-700 font-medium":"text-gray-700 hover:text-green-600 hover:bg-gray-50"}`,children:[e.jsx("span",{children:y.nom}),e.jsx(qs,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity"})]},y.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(fe,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Aucune catgorie trouve"}),a&&e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>i(""),className:"mt-2 text-xs",children:"Effacer la recherche"})]})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[f.length," catgorie",f.length>1?"s":""," disponible",f.length>1?"s":""]})})]})]}):e.jsx("div",{className:`bg-white rounded-lg shadow-sm p-4 ${t}`,children:e.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>l(!0),className:"w-full",children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Afficher les filtres"]})})};class iA extends u.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("CategorySidebar Error:",s,r)}render(){return this.state.hasError?e.jsx("div",{className:`bg-white rounded-lg shadow-sm p-6 ${this.props.className}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(ft,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Erreur de chargement"}),e.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Impossible de charger les filtres de catgories"}),e.jsxs(E,{variant:"outline",size:"sm",onClick:()=>{this.setState({hasError:!1,error:void 0}),window.location.reload()},className:"flex items-center",children:[e.jsx(Us,{className:"w-4 h-4 mr-2"}),"Ressayer"]})]})}):this.props.children}}const oA=t=>e.jsx(iA,{...t,children:e.jsx(aA,{...t})}),lA=()=>{const t=he(),s=Qs(),[r,n]=ni(),[a,i]=u.useState(r.get("search")||""),[o,l]=u.useState(r.get("category")||""),[c,d]=u.useState("grid"),[f,m]=u.useState(!0),[h,j]=u.useState(""),[y,g]=u.useState(""),[N,p]=u.useState(1);u.useEffect(()=>{const I=r.get("category"),O=r.get("search");I&&l(I),O&&i(O)},[r]);const v=I=>{l(I),p(1);const O=new URLSearchParams(r);I?O.set("category",I):O.delete("category"),n(O)},{data:x,isLoading:w,error:k}=Re({queryKey:["public-products",a,o,h,y,N],queryFn:async()=>{const I=new URLSearchParams;a.trim()&&(I.append("search",a.trim()),console.log(" Recherche avec terme:",a.trim())),o&&I.append("categorie",o),h&&!isNaN(parseFloat(h))&&I.append("prix_min",h),y&&!isNaN(parseFloat(y))&&I.append("prix_max",y),I.append("page",N.toString()),I.append("limit","20");const O=`/products/public?${I.toString()}`;console.log(" URL de recherche:",O);const X=await H.get(O);return console.log(" Rponse API:",X),X},staleTime:3e4}),S=I=>{i(I),p(1);const O=new URLSearchParams(r);I.trim()?O.set("search",I.trim()):O.delete("search"),n(O)},b=()=>{i(""),l(""),j(""),g(""),p(1),n(new URLSearchParams)},C=(x==null?void 0:x.products)||(x==null?void 0:x.data)||[],_=x==null?void 0:x.pagination,P=async I=>{var O,X;try{if(!s){M.error("Veuillez vous connecter pour ajouter au panier"),t("/login");return}const A={produit_id:I.id,quantite:I.moq||1,prix_unitaire:I.prix_unitaire};await H.post("/cart/add",A),M.success(`${I.nom} ajout au panier`)}catch(A){console.error("Erreur ajout panier:",A),M.error(((X=(O=A.response)==null?void 0:O.data)==null?void 0:X.error)||"Erreur lors de l'ajout au panier")}},T=async I=>{var O,X,A;try{if(!s){M.error("Veuillez vous connecter pour ajouter aux favoris"),t("/login");return}const B=await H.post("/users/favorites",{produit_id:I});M.success("Produit ajout aux favoris")}catch(B){console.error("Erreur favoris:",B),((O=B.response)==null?void 0:O.status)===401?(M.error("Veuillez vous connecter"),t("/login")):M.error(((A=(X=B.response)==null?void 0:X.data)==null?void 0:A.error)||"Erreur lors de l'ajout aux favoris")}},L=I=>{t(`/products/${I}`)};return k?e.jsx(yn,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(fe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Erreur de chargement"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Impossible de charger les produits"}),e.jsx(E,{onClick:()=>window.location.reload(),children:"Ressayer"})]})})}):e.jsx(yn,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx(rc,{fallbackPath:"/",className:"mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Catalogue Produits"}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),e.jsx(D,{placeholder:"Rechercher des produits...",value:a,onChange:I=>S(I.target.value),className:"pl-10",onKeyPress:I=>{I.key==="Enter"&&S(a)}})]}),e.jsxs(E,{variant:"outline",onClick:()=>m(!f),className:"flex items-center gap-2",children:[e.jsx(xs,{className:"w-4 h-4"}),f?"Masquer filtres":"Afficher filtres"]})]}),(o||a||h||y)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a&&e.jsxs(U,{variant:"secondary",className:"flex items-center gap-1",children:['Recherche: "',a,'"',e.jsx("button",{onClick:()=>S(""),className:"ml-1 hover:text-red-600",children:e.jsx(Ae,{className:"w-3 h-3"})})]}),o&&e.jsxs(U,{variant:"secondary",className:"flex items-center gap-1",children:["Catgorie: ",o,e.jsx("button",{onClick:()=>v(""),className:"ml-1 hover:text-red-600",children:e.jsx(Ae,{className:"w-3 h-3"})})]}),(h||y)&&e.jsxs(U,{variant:"secondary",className:"flex items-center gap-1",children:["Prix: ",h||"0"," - ",y||"","",e.jsx("button",{onClick:()=>{j(""),g("")},className:"ml-1 hover:text-red-600",children:e.jsx(Ae,{className:"w-3 h-3"})})]}),e.jsx(E,{variant:"ghost",size:"sm",onClick:b,className:"text-red-600 hover:text-red-700",children:"Effacer tout"})]})]})}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex gap-6",children:[f&&e.jsxs("div",{className:"w-80 space-y-6",children:[e.jsx(oA,{onCategorySelect:v,currentCategory:o,showSearch:!0,className:"sticky top-4"}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Filtres de prix"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix ()"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{placeholder:"Min",type:"number",value:h,onChange:I=>j(I.target.value),className:"text-sm"}),e.jsx(D,{placeholder:"Max",type:"number",value:y,onChange:I=>g(I.target.value),className:"text-sm"})]})]}),e.jsx(E,{className:"w-full bg-gabon-green hover:bg-gabon-green/90",size:"sm",onClick:()=>p(1),children:"Appliquer les filtres"})]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("p",{className:"text-gray-600",children:w?"Chargement...":`${(_==null?void 0:_.total)||C.length} produits trouvs`}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{variant:c==="grid"?"default":"outline",size:"sm",onClick:()=>d("grid"),children:e.jsx(Ua,{className:"w-4 h-4"})}),e.jsx(E,{variant:c==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),children:e.jsx(bu,{className:"w-4 h-4"})})]})]}),w?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((I,O)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 animate-pulse",children:[e.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-lg mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded flex-1"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded flex-1"})]})]},O))}):C&&Array.isArray(C)&&C.length>0?e.jsx("div",{className:c==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:C.filter(I=>I&&I.id).map(I=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-lg transition-shadow p-4",children:[I.featured&&e.jsx(U,{className:"mb-2 bg-yellow-400 text-gray-800",children:"Vedette"}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg mb-4 cursor-pointer overflow-hidden",onClick:()=>L(I.id),children:[I.image_principale?e.jsx("img",{src:Dt(I.image_principale),alt:I.nom,className:"w-full h-full object-cover",onError:O=>{const X=O.target;X.style.display="none";const A=X.nextElementSibling;A&&(A.style.display="flex")}}):null,e.jsx("div",{className:`absolute inset-0 w-full h-full flex items-center justify-center ${I.image_principale?"hidden":""}`,children:e.jsx(fe,{className:"w-16 h-16 text-gray-400"})})]})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 cursor-pointer hover:text-gabon-green",onClick:()=>L(I.id),children:I.nom||"Produit sans nom"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:I.nom_entreprise||I.fournisseur||"Fournisseur non spcifi"}),e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((O,X)=>e.jsx(ot,{className:`w-4 h-4 ${X<Math.floor(I.note_moyenne||0)?"text-yellow-400 fill-current":"text-gray-300"}`},X))}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",I.nombre_avis||0,")"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[I.prix_unitaire||0,""]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["/",I.unite||"unit"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xs text-gray-600",children:["MOQ: ",I.moq||1]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Stock: ",I.stock_disponible??"N/A"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(E,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>T(I.id),children:[e.jsx(wt,{className:"w-4 h-4 mr-1"}),"Favoris"]}),e.jsxs(E,{size:"sm",className:"flex-1 bg-gabon-green hover:bg-gabon-green/90",onClick:()=>P(I),disabled:I.stock_disponible===0,children:[e.jsx(zs,{className:"w-4 h-4 mr-1"}),"Ajouter"]})]})]},I.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(fe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucun produit trouv"}),e.jsx("p",{className:"text-gray-600 mb-4",children:a||o||h||y?"Essayez de modifier vos critres de recherche":"Aucun produit disponible pour le moment"}),(a||o||h||y)&&e.jsx(E,{variant:"outline",onClick:b,children:"Effacer tous les filtres"})]}),_&&_.pages>1&&e.jsxs("div",{className:"flex justify-center mt-8 gap-2",children:[e.jsx(E,{variant:"outline",onClick:()=>p(N-1),disabled:N===1,children:"Prcdent"}),[...Array(Math.min(5,_.pages))].map((I,O)=>{const X=O+1;return e.jsx(E,{variant:N===X?"default":"outline",onClick:()=>p(X),className:N===X?"bg-gabon-green hover:bg-gabon-green/90":"",children:X},X)}),e.jsx(E,{variant:"outline",onClick:()=>p(N+1),disabled:N===_.pages,children:"Suivant"})]})]})]})})]})})},nc=({rating:t,onRatingChange:s,readonly:r=!1,size:n="md"})=>{const[a,i]=u.useState(0),o={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},l=c=>{!r&&s&&s(c)};return e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(c=>e.jsx("button",{type:"button",disabled:r,onClick:()=>l(c),onMouseEnter:()=>!r&&i(c),onMouseLeave:()=>!r&&i(0),className:`${r?"cursor-default":"cursor-pointer hover:scale-110"} transition-transform`,children:e.jsx(ot,{className:`${o[n]} ${c<=(a||t)?"text-yellow-400 fill-current":"text-gray-300"}`})},c))})},De=({children:t,showHeader:s=!0,showFooter:r=!0,className:n})=>e.jsx(yn,{showHeader:s,showFooter:r,className:n,children:t}),cA=()=>{const t=he(),[s,r]=u.useState(""),n=Qs(),[a,i]=u.useState(""),{data:o,isLoading:l,error:c}=Re({queryKey:["suppliers",s,a],queryFn:async()=>{try{const h=new URLSearchParams;s&&h.append("search",s),a&&h.append("category",a);const j=await H.get(`/entreprises?${h.toString()}`);return j.entreprises||j.data||[]}catch(h){return console.error("Erreur lors de la rcupration des fournisseurs:",h),M.error("Erreur lors de la rcupration des fournisseurs"),[]}}}),{data:d}=Re({queryKey:["categories"],queryFn:async()=>{try{return await H.get("/categories")}catch(h){return console.error("Erreur lors de la rcupration des catgories:",h),{categories:[]}}}}),f=(d==null?void 0:d.categories)||(d==null?void 0:d.data)||[],m=async h=>{if(!n){M.error("Veuillez vous connecter pour contacter un fournisseur"),t("/login");return}if(!h.utilisateur_id){M.error("Impossible de contacter ce fournisseur");return}if(!(h.utilisateur_id||h.user_id)){console.warn("Pas d'utilisateur_id trouv pour le fournisseur:",h),M.error("Impossible de contacter ce fournisseur (pas d'utilisateur associ)");return}const y=new URLSearchParams({supplier:h.id.toString(),supplierName:h.nom_entreprise});t(`/messages?${y.toString()}`),M.success(`Redirection vers le chat avec ${h.nom_entreprise}`)};return l?e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{children:"Chargement des fournisseurs..."})]})})}):e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Fournisseurs vrifis"}),e.jsx("p",{className:"text-gray-600",children:"Dcouvrez nos partenaires de confiance"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{placeholder:"Rechercher un fournisseur...",value:s,onChange:h=>r(h.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"md:w-64",children:e.jsxs("select",{value:a,onChange:h=>i(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[e.jsx("option",{value:"",children:"Toutes catgories"}),Array.isArray(f)&&f.map(h=>e.jsx("option",{value:h.slug,children:h.nom},h.id))]})}),e.jsxs(E,{variant:"outline",children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Filtres"]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o==null?void 0:o.map(h=>e.jsx($,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(q,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Ue,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-1",children:h.nom_entreprise}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(nc,{rating:Number(h.note_moyenne)||0,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["(",h.nombre_avis||0,")"]})]})]})]}),h.statut_verification==="verifie"&&e.jsxs(U,{className:"bg-green-100 text-green-800",children:[e.jsx($e,{className:"w-3 h-3 mr-1"}),"Vrifi"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:h.description||"Fournisseur professionnel spcialis"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-gray-600",children:[h.nombre_produits||0," produits"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Tt,{className:"w-4 h-4 text-orange-600"}),e.jsxs("span",{className:"text-gray-600",children:[h.delai_traitement||7,"j traitement"]})]}),h.ville&&e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx(Ht,{className:"w-4 h-4 text-red-600"}),e.jsxs("span",{className:"text-gray-600",children:[h.ville,", ",h.pays||"Gabon"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[h.statut_verification==="verifie"&&e.jsxs(U,{variant:"outline",className:"text-xs",children:[e.jsx(pn,{className:"w-3 h-3 mr-1"}),"Certifi"]}),e.jsx(U,{variant:"outline",className:"text-xs",children:"B2B Vrifi"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>t(`/suppliers/${h.id}`),children:"Voir profil"}),e.jsxs(E,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>m(h),children:[e.jsx(Te,{className:"w-4 h-4 mr-1"}),"Contacter"]})]})]})},h.id))}),(o==null?void 0:o.length)===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ue,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun fournisseur trouv"}),e.jsx("p",{className:"text-gray-600",children:"Essayez de modifier vos critres de recherche"})]})]})})})},gp=({items:t})=>{const s=he();return e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[e.jsx("button",{onClick:()=>s("/"),className:"flex items-center hover:text-green-600 transition-colors",children:e.jsx(Ha,{className:"w-4 h-4"})}),t.map((r,n)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qs,{className:"w-4 h-4 text-gray-400"}),r.href?e.jsx("button",{onClick:()=>s(r.href),className:"hover:text-green-600 transition-colors",children:r.label}):e.jsx("span",{className:"text-gray-900 font-medium",children:r.label})]},n))]})},dA=()=>{const{id:t}=ri(),s=he(),r=Qs(),{canContact:n,reason:a,suggestedAction:i}=a1(),{data:o,isLoading:l,error:c}=Re({queryKey:["supplier",t],queryFn:async()=>{try{let m;try{m=await H.get(`/entreprises/${t}?include=stats,products,certifications`)}catch{m=await H.get(`/entreprises/${t}`)}const h=m.entreprise||m.data||m;if(console.log("Donnes fournisseur rcupres:",h),h&&!h.nombre_produits)try{const j=await H.get(`/entreprises/${t}/stats`),y=j.stats||j.data||{};console.log("Statistiques rcupres:",y),Object.assign(h,y)}catch(j){console.log("Impossible de rcuprer les statistiques:",j)}return h}catch(m){throw console.error("Erreur lors de la rcupration du fournisseur:",m),M.error("Fournisseur non trouv"),m}},enabled:!!t}),{data:d}=Re({queryKey:["supplier-products",t],queryFn:async()=>{try{const m=[`/products?supplier_id=${t}`,`/products?fournisseur_id=${t}`,`/products?entreprise_id=${t}`,`/entreprises/${t}/produits`,`/produits?entreprise_id=${t}`,`/produits?fournisseur_id=${t}`];let h=[];for(const j of m)try{console.log(`Tentative de rcupration des produits via: ${j}`);const y=await H.get(j);if(Array.isArray(y)){h=y;break}else if(y.produits&&Array.isArray(y.produits)){h=y.produits;break}else if(y.data&&Array.isArray(y.data)){h=y.data;break}else if(y.products&&Array.isArray(y.products)){h=y.products;break}}catch(y){console.log(`chec pour ${j}:`,y);continue}return console.log("Produits rcuprs:",h),h}catch(m){return console.error("Erreur lors de la rcupration des produits:",m),[]}},enabled:!!t}),f=async()=>{if(console.log("Tentative de contact avec le fournisseur:",o),!r){M.error("Veuillez vous connecter pour contacter un fournisseur"),s("/login");return}if(!n){M.error(a||"Vous n'tes pas autoris  contacter les fournisseurs"),i&&(M.info(i),s("/register?role=buyer"));return}if(!(o!=null&&o.id)){M.error("Impossible de contacter ce fournisseur");return}if(!(o.utilisateur_id||o.user_id)){console.warn("Pas d'utilisateur_id trouv pour le fournisseur:",o),M.error("Impossible de contacter ce fournisseur (pas d'utilisateur associ)");return}const h=new URLSearchParams({supplier:o.id.toString(),supplierName:o.nom_entreprise});s(`/messages?${h.toString()}`),M.success(`Redirection vers le chat avec ${o.nom_entreprise}`)};return l?e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{children:"Chargement du profil..."})]})})}):c||!o?(console.log("Erreur ou fournisseur non trouv:",{error:c,supplier:o}),e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Fournisseur non trouv"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Ce fournisseur n'existe pas ou n'est plus disponible"}),e.jsx(E,{onClick:()=>s("/suppliers"),children:"Retour aux fournisseurs"})]})})})):(console.log("Fournisseur affich:",o),console.log("Produits affichs:",d),e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(rc,{fallbackPath:"/suppliers",className:"mb-4"}),e.jsx(gp,{items:[{label:"Fournisseurs",href:"/suppliers"},{label:o.nom_entreprise}]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.logo?e.jsx("img",{src:o.logo,alt:o.nom_entreprise,className:"w-full h-full rounded-full object-cover"}):e.jsx(Ue,{className:"w-10 h-10 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:o.nom_entreprise}),o.statut_verification==="verifie"&&e.jsxs(U,{className:"bg-green-100 text-green-800",children:[e.jsx($e,{className:"w-4 h-4 mr-1"}),"Vrifi"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(nc,{rating:Number(o.note_moyenne)||0,readonly:!0}),e.jsxs("span",{className:"text-gray-600",children:["(",o.nombre_avis||0," avis)"]})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:o.description||"Fournisseur professionnel spcialis"}),o.ville&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Ht,{className:"w-4 h-4"}),e.jsxs("span",{children:[o.ville,", ",o.pays||"Gabon"]})]})]})]})}),e.jsx("div",{className:"lg:w-80",children:e.jsx($,{children:e.jsxs(q,{className:"p-6",children:[e.jsxs(E,{className:`w-full mb-4 ${n?"bg-green-600 hover:bg-green-700":"bg-gray-400 hover:bg-gray-500"}`,onClick:f,disabled:!r,title:r?n?"Contacter ce fournisseur":"Seuls les acheteurs peuvent contacter les fournisseurs":"Connectez-vous pour contacter",children:[!n&&r?e.jsx(ft,{className:"w-4 h-4 mr-2"}):e.jsx(Te,{className:"w-4 h-4 mr-2"}),!n&&r?"Acheteurs uniquement":"Contacter le fournisseur"]}),r&&!n&&e.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ft,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-amber-700",children:[e.jsx("p",{className:"font-medium",children:"Acheteurs uniquement"}),e.jsx("p",{children:"Seuls les acheteurs peuvent initier des conversations avec les fournisseurs."}),e.jsx("button",{onClick:()=>s("/register?role=buyer"),className:"text-amber-800 underline hover:no-underline mt-1",children:"Crer un compte acheteur"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-lg text-gray-900",children:o.nombre_produits||(d==null?void 0:d.length)||0}),e.jsx("div",{className:"text-gray-600",children:"Produits"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-semibold text-lg text-gray-900",children:[o.delai_traitement||o.delai_livraison||7,"j"]}),e.jsx("div",{className:"text-gray-600",children:"Traitement"})]})]})]})})})]})}),e.jsxs(Kr,{defaultValue:"overview",className:"space-y-8",children:[e.jsxs(br,{className:"grid w-full grid-cols-4",children:[e.jsx(ke,{value:"overview",children:"Aperu"}),e.jsx(ke,{value:"products",children:"Produits"}),e.jsx(ke,{value:"company",children:"Entreprise"}),e.jsx(ke,{value:"contact",children:"Contact"})]}),e.jsx(Ee,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(nt,{className:"w-5 h-5"}),"Statistiques"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Produits actifs"}),e.jsx("span",{className:"font-semibold",children:o.nombre_produits||(d==null?void 0:d.length)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Note moyenne"}),e.jsxs("span",{className:"font-semibold",children:[Number(o.note_moyenne||0).toFixed(1),"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Avis clients"}),e.jsx("span",{className:"font-semibold",children:o.nombre_avis||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Commandes traites"}),e.jsx("span",{className:"font-semibold",children:o.nombre_commandes||0})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(pn,{className:"w-5 h-5"}),"Certifications"]})}),e.jsxs(q,{className:"space-y-3",children:[o.statut_verification==="verifie"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:"Entreprise vrifie"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm",children:"Partenaire B2B"})]}),o.certifications&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm",children:o.certifications})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Tt,{className:"w-5 h-5"}),"Informations"]})}),e.jsxs(q,{className:"space-y-3",children:[o.annee_creation&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Cre en"}),e.jsx("span",{className:"font-semibold",children:o.annee_creation})]}),(o.nombre_employes||o.taille_entreprise)&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Employs"}),e.jsx("span",{className:"font-semibold",children:o.nombre_employes||o.taille_entreprise})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Membre depuis"}),e.jsx("span",{className:"font-semibold",children:o.created_at?new Date(o.created_at).getFullYear():"N/A"})]}),o.statut_verification&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Statut"}),e.jsx("span",{className:"font-semibold capitalize",children:o.statut_verification})]})]})]})]})}),e.jsx(Ee,{value:"products",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{children:["Produits (",(d==null?void 0:d.length)||0,")"]})}),e.jsx(q,{children:d&&d.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.slice(0,6).map(m=>e.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 overflow-hidden",children:[m.image_principale?e.jsx("img",{src:Dt(m.image_principale),alt:m.nom||m.name,className:"w-full h-full object-cover",onError:h=>{var y;const j=h.target;j.style.display="none",(y=j.nextElementSibling)==null||y.classList.remove("hidden")}}):null,e.jsx("div",{className:`w-full h-full flex items-center justify-center ${m.image_principale?"hidden":""}`,children:e.jsx(fe,{className:"w-12 h-12 text-gray-400"})})]}),e.jsx("h4",{className:"font-semibold mb-2 line-clamp-2",children:m.nom||m.name}),e.jsxs("p",{className:"text-green-600 font-bold",children:[m.prix||m.price," ",m.devise||"FCFA"]}),m.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:m.description}),e.jsx(E,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>s(`/products/${m.id}`),children:"Voir dtails"})]},m.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(fe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Aucun produit disponible"})]})})]})}),e.jsx(Ee,{value:"company",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{children:"Informations gnrales"})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Secteur d'activit"}),e.jsx("p",{className:"mt-1",children:o.secteur_nom||o.secteur_activite||"Non spcifi"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Type d'entreprise"}),e.jsx("p",{className:"mt-1",children:o.type_nom||o.type_entreprise||"Non spcifi"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Taille de l'entreprise"}),e.jsx("p",{className:"mt-1",children:o.taille_entreprise||o.nombre_employes||"Non spcifi"})]}),o.capacite_production&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Capacit de production"}),e.jsx("p",{className:"mt-1",children:o.capacite_production})]}),o.siret&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"SIRET"}),e.jsx("p",{className:"mt-1",children:o.siret})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{children:"Adresse"})}),e.jsxs(q,{className:"space-y-2",children:[o.adresse_ligne1&&e.jsx("p",{children:o.adresse_ligne1}),o.adresse_ligne2&&e.jsx("p",{children:o.adresse_ligne2}),e.jsxs("p",{children:[o.ville," ",o.code_postal]}),e.jsx("p",{children:o.pays||"Gabon"})]})]})]})}),e.jsx(Ee,{value:"contact",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{children:"Informations de contact"})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.telephone_professionnel&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ws,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tlphone professionnel"}),e.jsx("p",{className:"font-semibold",children:o.telephone_professionnel})]})]}),o.site_web&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Vs,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Site web"}),e.jsx("a",{href:o.site_web,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-600 hover:underline",children:o.site_web})]})]})]}),e.jsxs("div",{className:"pt-6 border-t",children:[e.jsxs(E,{className:`${n?"bg-green-600 hover:bg-green-700":"bg-gray-400 hover:bg-gray-500"}`,onClick:f,disabled:!r||!n,title:r?n?"Envoyer un message":"Seuls les acheteurs peuvent contacter les fournisseurs":"Connectez-vous pour contacter",children:[!n&&r?e.jsx(ft,{className:"w-4 h-4 mr-2"}):e.jsx(Te,{className:"w-4 h-4 mr-2"}),!n&&r?"Acheteurs uniquement":"Envoyer un message"]}),r&&!n&&e.jsx("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ft,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-amber-700",children:[e.jsx("p",{className:"font-medium",children:"Restriction d'accs"}),e.jsx("p",{children:"Seuls les acheteurs peuvent initier des conversations avec les fournisseurs."}),e.jsx("button",{onClick:()=>s("/register?role=buyer"),className:"text-amber-800 underline hover:no-underline mt-1",children:"Crer un compte acheteur"})]})]})})]})]})]})})]})]})})}))},X0=[{value:"name",label:"Nom (A-Z)"},{value:"name-desc",label:"Nom (Z-A)"},{value:"subcategories",label:"Plus de sous-catgories"},{value:"products",label:"Plus de produits"}],uA=({searchTerm:t,onSearchChange:s,sortBy:r,onSortChange:n,selectedFilters:a,onFilterChange:i,availableFilters:o=[],totalResults:l})=>{const[c,d]=u.useState(!1),[f,m]=u.useState(!1),h=g=>{const N=a.includes(g)?a.filter(p=>p!==g):[...a,g];i(N)},j=()=>{i([]),s("")},y=()=>{var g;return((g=X0.find(N=>N.value===r))==null?void 0:g.label)||"Trier par"};return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(D,{placeholder:"Rechercher une catgorie...",value:t,onChange:g=>s(g.target.value),className:"w-full"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(E,{variant:"outline",size:"sm",onClick:()=>d(!c),className:"flex items-center",children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Filtres",a.length>0&&e.jsx(U,{variant:"secondary",className:"ml-2 text-xs",children:a.length})]}),e.jsxs("div",{className:"relative",children:[e.jsxs(E,{variant:"outline",size:"sm",onClick:()=>m(!f),className:"flex items-center",children:[y(),e.jsx(Jl,{className:"w-4 h-4 ml-2"})]}),f&&e.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:X0.map(g=>e.jsx("button",{onClick:()=>{n(g.value),m(!1)},className:`w-full text-left px-4 py-2 hover:bg-gray-50 transition-colors ${r===g.value?"bg-green-50 text-green-600":""}`,children:g.label},g.value))})]})]})]}),c&&e.jsx("div",{className:"border-t border-gray-200 pt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Type de catgorie"}),e.jsx("div",{className:"space-y-2",children:[{id:"with-subcategories",label:"Avec sous-catgories"},{id:"leaf-categories",label:"Catgories finales"},{id:"popular",label:"Populaires"}].map(g=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.includes(g.id),onChange:()=>h(g.id),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:g.label})]},g.id))})]}),o.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Secteurs"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:o.map(g=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.includes(g.id),onChange:()=>h(g.id),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 flex-1",children:g.label}),g.count&&e.jsxs("span",{className:"text-xs text-gray-500",children:["(",g.count,")"]})]},g.id))})]}),e.jsxs("div",{className:"flex flex-col justify-end",children:[e.jsxs(E,{variant:"outline",size:"sm",onClick:j,className:"mb-2",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Effacer tout"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[l," rsultat",l>1?"s":""," trouv",l>1?"s":""]})]})]})}),(a.length>0||t)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-gray-200",children:[t&&e.jsxs(U,{variant:"secondary",className:"flex items-center",children:['Recherche: "',t,'"',e.jsx("button",{onClick:()=>s(""),className:"ml-2 hover:text-red-600",children:e.jsx(Ae,{className:"w-3 h-3"})})]}),a.map(g=>{const N=o.find(p=>p.id===g)||{label:g};return e.jsxs(U,{variant:"secondary",className:"flex items-center",children:[N.label,e.jsx("button",{onClick:()=>h(g),className:"ml-2 hover:text-red-600",children:e.jsx(Ae,{className:"w-3 h-3"})})]},g)})]})]})},mA=({category:t,onClick:s,showProductCount:r=!0,maxSubcategories:n=8,variant:a="collapsed"})=>{const[i,o]=u.useState(a==="expanded"),l=t.children&&t.children.length>0,c=()=>{s(t)},d=(m,h)=>{h.stopPropagation(),s(m)},f=m=>{m.stopPropagation(),o(!i)};return e.jsx($,{className:"hover:shadow-lg transition-all duration-300 overflow-hidden",children:e.jsxs(q,{className:"p-0",children:[e.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors",onClick:c,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"text-green-600 mt-1",children:e.jsx(fe,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 hover:text-green-600 transition-colors",children:t.nom}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r&&t.productCount&&e.jsxs(U,{variant:"secondary",className:"text-sm",children:[t.productCount," produits"]}),l&&e.jsxs(U,{variant:"outline",className:"text-sm",children:[t.children.length," sous-catgories"]})]})]}),t.description&&e.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(E,{variant:"outline",size:"sm",onClick:c,className:"group",children:["Voir tous les produits",e.jsx(It,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]}),l&&e.jsx(E,{variant:"ghost",size:"sm",onClick:f,className:"flex items-center",children:i?e.jsxs(e.Fragment,{children:[e.jsx(Jl,{className:"w-4 h-4 mr-1"}),"Masquer sous-catgories"]}):e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-1"}),"Voir sous-catgories"]})})]})]})]})})}),l&&i&&e.jsx("div",{className:"border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h4",{className:"font-medium text-gray-900 flex items-center",children:[e.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Sous-catgories (",t.children.length,")"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.children.slice(0,n).map(m=>e.jsx("button",{onClick:h=>d(m,h),className:"p-3 bg-white rounded-lg border border-gray-200 hover:border-green-300 hover:shadow-sm transition-all duration-200 text-left group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-gray-900 group-hover:text-green-600 transition-colors mb-1",children:m.nom}),m.description&&e.jsx("p",{className:"text-xs text-gray-600 line-clamp-1",children:m.description}),r&&m.productCount&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[m.productCount," produits"]})]}),e.jsx(qs,{className:"w-4 h-4 text-gray-400 group-hover:text-green-600 transition-colors flex-shrink-0 ml-2"})]})},m.id))}),t.children.length>n&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs(E,{variant:"outline",size:"sm",onClick:c,children:["Voir toutes les ",t.children.length," sous-catgories"]})})]})}),l&&!i&&e.jsx("div",{className:"border-t border-gray-200 bg-gray-50 p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.children.slice(0,6).map(m=>e.jsx("button",{onClick:h=>d(m,h),className:"text-xs bg-white hover:bg-green-50 text-gray-600 hover:text-green-700 px-3 py-1 rounded-full border border-gray-200 hover:border-green-300 transition-colors",children:m.nom},m.id)),t.children.length>6&&e.jsxs("button",{onClick:f,className:"text-xs text-green-600 hover:text-green-700 px-3 py-1 font-medium",children:["+",t.children.length-6," autres"]})]})})]})})},hA=()=>{const t=he(),[s,r]=u.useState(""),[n,a]=u.useState("grid"),[i,o]=u.useState("name"),[l,c]=u.useState([]),[d,f]=u.useState(!0),[m,h]=u.useState(!1),{data:j=[],isLoading:y}=Re({queryKey:["all-categories"],queryFn:async()=>{const x=await H.get("/categories"),w=x.categories||x.data||x||[],k=new Map,S=[];return w.forEach(b=>{k.set(b.id,{...b,children:[]})}),w.forEach(b=>{const C=k.get(b.id);if(b.parent_id){const _=k.get(b.parent_id);_&&_.children.push(C)}else S.push(C)}),S.sort((b,C)=>b.ordre-C.ordre),S.forEach(b=>{b.children&&b.children.sort((C,_)=>C.ordre-_.ordre)}),S}}),g=u.useMemo(()=>{let x=j.filter(w=>{var k;if(s){const S=w.nom.toLowerCase().includes(s.toLowerCase()),b=(k=w.children)==null?void 0:k.some(C=>C.nom.toLowerCase().includes(s.toLowerCase()));if(!S&&!b)return!1}return!(l.includes("with-subcategories")&&(!w.children||w.children.length===0)||l.includes("leaf-categories")&&w.children&&w.children.length>0)});return x.sort((w,k)=>{var S,b;switch(i){case"name-desc":return k.nom.localeCompare(w.nom);case"subcategories":return(((S=k.children)==null?void 0:S.length)||0)-(((b=w.children)==null?void 0:b.length)||0);case"products":return(k.productCount||0)-(w.productCount||0);default:return w.nom.localeCompare(k.nom)}}),x},[j,s,l,i]),N=u.useMemo(()=>j.filter(x=>x.children&&x.children.length>=3).sort((x,w)=>{var k,S;return(((k=w.children)==null?void 0:k.length)||0)-(((S=x.children)==null?void 0:S.length)||0)}).slice(0,6),[j]),p=x=>{x.children&&x.children.length>0?t(`/categories/${x.slug}`):t(`/products?category=${x.slug}`)},v=()=>j.reduce((x,w)=>{var k;return x+(((k=w.children)==null?void 0:k.length)||0)},0);return y?e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{children:"Chargement des catgories..."})]})})}):e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8 max-w-7xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Toutes les catgories"}),e.jsxs("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:["Explorez notre catalogue complet de ",j.length," catgories principales et ",v()," sous-catgories"]})]}),e.jsx(uA,{searchTerm:s,onSearchChange:r,sortBy:i,onSortChange:o,selectedFilters:l,onFilterChange:c,totalResults:g.length}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[e.jsxs(E,{variant:d?"default":"outline",size:"sm",onClick:()=>f(!d),className:"text-xs sm:text-sm",children:[e.jsx(ot,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"En vedette"}),e.jsx("span",{className:"sm:hidden",children:"Vedette"})]}),e.jsxs(E,{variant:m?"default":"outline",size:"sm",onClick:()=>h(!m),className:"text-xs sm:text-sm",children:[e.jsx(fe,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Avec sous-catgories"}),e.jsx("span",{className:"sm:hidden",children:"Sous-cat."})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsxs(E,{variant:n==="grid"?"default":"outline",size:"sm",onClick:()=>a("grid"),className:"text-xs sm:text-sm",children:[e.jsx(Ua,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Grille"})]}),e.jsxs(E,{variant:n==="list"?"default":"outline",size:"sm",onClick:()=>a("list"),className:"text-xs sm:text-sm",children:[e.jsx(bu,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Liste"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[e.jsx($,{className:"hover:shadow-md transition-shadow",children:e.jsxs(q,{className:"p-3 sm:p-4 text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:j.length}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Catgories principales"})]})}),e.jsx($,{className:"hover:shadow-md transition-shadow",children:e.jsxs(q,{className:"p-3 sm:p-4 text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:v()}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Sous-catgories"})]})}),e.jsx($,{className:"hover:shadow-md transition-shadow",children:e.jsxs(q,{className:"p-3 sm:p-4 text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:g.length}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Rsultats affichs"})]})}),e.jsx($,{className:"hover:shadow-md transition-shadow",children:e.jsxs(q,{className:"p-3 sm:p-4 text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:"100%"}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Couverture march"})]})})]}),d&&N.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(nt,{className:"w-6 h-6 text-green-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Catgories en vedette"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(x=>e.jsx(ll,{category:x,onClick:p,variant:"featured",showProductCount:!0},x.id))})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:[d?"Toutes les catgories":"Catgories",e.jsxs("span",{className:"text-lg font-normal text-gray-600 ml-2",children:["(",g.length,")"]})]}),m?e.jsx("div",{className:"space-y-6",children:g.map(x=>e.jsx(mA,{category:x,onClick:p,showProductCount:!0,variant:"collapsed"},x.id))}):n==="grid"?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:g.map(x=>e.jsx(ll,{category:x,onClick:p,showProductCount:!0},x.id))}):e.jsx("div",{className:"space-y-3 sm:space-y-4",children:g.map(x=>e.jsx(ll,{category:x,onClick:p,variant:"compact",showProductCount:!0},x.id))}),g.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(fe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune catgorie trouve"}),e.jsx("p",{className:"text-gray-600 mb-4",children:s||l.length>0?"Essayez de modifier vos critres de recherche":"Aucune catgorie disponible pour le moment"}),(s||l.length>0)&&e.jsx(E,{variant:"outline",onClick:()=>{r(""),c([])},children:"Effacer les filtres"})]})]})]})})})},fA=()=>e.jsx(hA,{}),xA=({items:t})=>e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-6",children:[e.jsxs(Br,{to:"/",className:"flex items-center hover:text-green-600 transition-colors",children:[e.jsx(Ha,{className:"w-4 h-4 mr-1"}),"Accueil"]}),t.map((s,r)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(qs,{className:"w-4 h-4 mx-2 text-gray-400"}),r===t.length-1?e.jsx("span",{className:"text-gray-900 font-medium",children:s.label}):e.jsx(Br,{to:s.href,className:"hover:text-green-600 transition-colors",children:s.label})]},r))]}),pA=()=>{var N;const{slug:t}=ri(),s=he(),[r,n]=u.useState(""),[a,i]=u.useState("grid"),{data:o,isLoading:l,error:c}=Re({queryKey:["category-detail",t],queryFn:async()=>{var p;try{const v=await H.get(`/categories/${t}`);return v.data||v}catch(v){if(console.error(`Erreur lors de la rcupration de la catgorie ${t}:`,v),((p=v.response)==null?void 0:p.status)===404)try{const x=await H.get("/categories"),k=(x.categories||x.data||[]).find(S=>S.slug===t);if(k)return{category:k}}catch(x){console.error("Erreur fallback:",x)}throw v}},enabled:!!t,retry:1}),{data:d=[]}=Re({queryKey:["all-categories-for-breadcrumb"],queryFn:async()=>{const p=await H.get("/categories");return p.categories||p.data||p||[]}}),f=(o==null?void 0:o.category)||o,m=(f==null?void 0:f.children)||[],h=m.filter(p=>p.nom.toLowerCase().includes(r.toLowerCase())),j=()=>{if(!f||!d.length)return[];const p=[];let v=f;for(;v&&(p.unshift({label:v.nom,href:`/categories/${v.slug}`}),v.parent_id);)v=d.find(x=>x.id===v.parent_id);return p.unshift({label:"Toutes les catgories",href:"/categories"}),p},y=p=>{p.children&&p.children.length>0?s(`/categories/${p.slug}`):s(`/products?category=${p.slug}`)},g=()=>{s(`/products?category=${f.slug}`)};return l?e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{children:"Chargement de la catgorie..."})]})})}):c?e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(fe,{className:"w-16 h-16 text-red-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Erreur de chargement"}),e.jsx("p",{className:"text-gray-600 mb-4",children:((N=c.response)==null?void 0:N.status)===404?`La catgorie "${t}" n'existe pas ou a t supprime.`:"Une erreur est survenue lors du chargement de la catgorie."}),e.jsxs("div",{className:"space-x-4",children:[e.jsx(E,{onClick:()=>s("/categories"),children:"Voir toutes les catgories"}),e.jsx(E,{variant:"outline",onClick:()=>window.location.reload(),children:"Ressayer"})]})]})})}):f?e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(xA,{items:j()}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-8",children:[e.jsx("div",{className:"flex items-start justify-between mb-6",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>s(-1),className:"mr-4",children:[e.jsx(Ys,{className:"w-4 h-4 mr-2"}),"Retour"]})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:f.nom}),f.description&&e.jsx("p",{className:"text-lg text-gray-600 mb-6 max-w-3xl",children:f.description}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[m.length>0&&e.jsxs(U,{variant:"outline",className:"text-sm",children:[m.length," sous-catgories"]}),f.productCount&&e.jsxs(U,{variant:"secondary",className:"text-sm",children:[f.productCount," produits"]})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(E,{onClick:g,className:"flex items-center",children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"Voir tous les produits"]}),m.length>0&&e.jsx(E,{variant:"outline",children:"Explorer les sous-catgories"})]})]}),m.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["Sous-catgories (",m.length,")"]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(D,{placeholder:"Rechercher...",value:r,onChange:p=>n(p.target.value),className:"pl-10 w-64"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{variant:a==="grid"?"default":"outline",size:"sm",onClick:()=>i("grid"),children:e.jsx(Ua,{className:"w-4 h-4"})}),e.jsx(E,{variant:a==="list"?"default":"outline",size:"sm",onClick:()=>i("list"),children:e.jsx(bu,{className:"w-4 h-4"})})]})]})]}),a==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:h.map(p=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 hover:border-green-300 hover:shadow-md transition-all duration-200 p-4 group cursor-pointer",children:e.jsxs("button",{onClick:()=>y(p),className:"w-full text-left",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-green-600 group-hover:text-green-700",children:e.jsx(fe,{className:"w-6 h-6"})}),e.jsx(qs,{className:"w-4 h-4 text-gray-400 group-hover:text-green-600 transition-colors"})]}),e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-green-600 transition-colors mb-2",children:p.nom}),p.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:p.description}),p.productCount&&e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(U,{variant:"secondary",className:"text-xs",children:[p.productCount," produits"]})})]})},p.id))}):e.jsx("div",{className:"space-y-3",children:h.map(p=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 hover:border-green-300 hover:shadow-sm transition-all duration-200 p-4 group cursor-pointer",children:e.jsx("button",{onClick:()=>y(p),className:"w-full text-left",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"text-green-600 group-hover:text-green-700",children:e.jsx(fe,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-green-600 transition-colors",children:p.nom}),p.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-1",children:p.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[p.productCount&&e.jsxs(U,{variant:"secondary",className:"text-xs",children:[p.productCount," produits"]}),e.jsx(qs,{className:"w-4 h-4 text-gray-400 group-hover:text-green-600 transition-colors"})]})]})})},p.id))}),h.length===0&&r&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(fe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune sous-catgorie trouve"}),e.jsxs("p",{className:"text-gray-600",children:["Essayez avec d'autres mots-cls ou",e.jsx("button",{onClick:()=>n(""),className:"text-green-600 hover:text-green-700 ml-1",children:"effacez la recherche"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Catgories similaires"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Dcouvrez d'autres catgories qui pourraient vous intresser"}),e.jsx(E,{variant:"outline",onClick:()=>s("/categories"),children:"Parcourir toutes les catgories"})]})]})})}):e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(fe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Catgorie non trouve"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Cette catgorie n'existe pas ou a t supprime."}),e.jsx(E,{onClick:()=>s("/categories"),children:"Voir toutes les catgories"})]})})})},gA=()=>{const t=he(),[s,r]=u.useState(""),[n,a]=u.useState(""),{data:i=[],isLoading:o}=Re({queryKey:["blog-articles",s,n],queryFn:async()=>{try{const y=new URLSearchParams;s&&y.append("search",s),n&&y.append("category",n);const g=await H.get(`/blog/recent?${y}`);return g.articles||g.data||[]}catch(y){return console.error("Erreur lors du chargement des articles:",y),[]}},staleTime:5*60*1e3}),{data:l=[]}=Re({queryKey:["blog-categories"],queryFn:async()=>{try{const y=await H.get("/blog/categories");return(y.categories||y.data||[]).map((N,p)=>({id:p+1,name:N,slug:N.toLowerCase().replace(/\s+/g,"-"),articleCount:Math.floor(Math.random()*20)+5}))}catch(y){return console.error("Erreur lors du chargement des catgories:",y),[]}},staleTime:10*60*1e3}),c=[{id:1,title:"Guide Complet du Commerce B2B au Gabon",slug:"guide-commerce-b2b-gabon",excerpt:"Dcouvrez les meilleures pratiques pour russir dans le commerce B2B au Gabon. Conseils d'experts et stratgies prouves.",content:"Contenu complet de l'article...",author:"quipe Gabon Market Hub",publishedAt:"2025-09-15",category:"Conseils",image:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=400&fit=crop",views:1250,readTime:8,featured:!0},{id:2,title:"Comment Choisir le Bon Fournisseur B2B",slug:"choisir-fournisseur-b2b",excerpt:"Les critres essentiels pour slectionner des fournisseurs fiables et performants pour votre entreprise.",content:"Contenu complet de l'article...",author:"Marie Nguema",publishedAt:"2025-09-14",category:"Conseils",image:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=400&fit=crop",views:890,readTime:6,featured:!1},{id:3,title:"Tendances du E-commerce en Afrique Centrale",slug:"tendances-ecommerce-afrique-centrale",excerpt:"Analyse des dernires tendances du commerce lectronique dans la rgion et opportunits pour les entreprises gabonaises.",content:"Contenu complet de l'article...",author:"Dr. Jean-Baptiste",publishedAt:"2025-09-13",category:"Actualits",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop",views:2100,readTime:10,featured:!0}],d=[{id:1,name:"Conseils",slug:"conseils",articleCount:15},{id:2,name:"Actualits",slug:"actualites",articleCount:8},{id:3,name:"Tendances",slug:"tendances",articleCount:12},{id:4,name:"Technologie",slug:"technologie",articleCount:6}],f=i.length>0?i:c,m=l.length>0?l:d,h=y=>{t(`/blog/${y}`)},j=y=>new Date(y).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return e.jsx(De,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Blog & Conseils"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Dcouvrez nos articles, guides et conseils pour russir dans le commerce B2B au Gabon"})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"lg:w-1/4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Rechercher"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(D,{placeholder:"Rechercher un article...",value:s,onChange:y=>r(y.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Catgories"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>a(""),className:`w-full text-left px-3 py-2 rounded-md transition-colors ${n===""?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:"Toutes les catgories"}),m.map((y,g)=>e.jsxs("button",{onClick:()=>a(y.slug),className:`w-full text-left px-3 py-2 rounded-md transition-colors flex justify-between items-center ${n===y.slug?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:[e.jsx("span",{children:y.name}),e.jsx(U,{variant:"secondary",className:"text-xs",children:y.articleCount})]},`category-${y.slug}-${g}`))]})]})]}),e.jsx("div",{className:"lg:w-3/4",children:o?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Chargement des articles..."})]}):e.jsxs("div",{className:"space-y-6",children:[f.map(y=>e.jsx($,{className:"group cursor-pointer hover:shadow-lg transition-all duration-300",onClick:()=>h(y.slug),children:e.jsx(q,{className:"p-0",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"md:w-1/3 h-48 md:h-auto",children:e.jsx("img",{src:y.image,alt:y.title,className:"w-full h-full object-cover rounded-t-lg md:rounded-l-lg md:rounded-t-none"})}),e.jsxs("div",{className:"md:w-2/3 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(U,{variant:y.featured?"default":"secondary",children:y.category}),y.featured&&e.jsx(U,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:" la une"})]}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:y.title}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:y.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:y.author})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Os,{className:"w-4 h-4"}),e.jsx("span",{children:j(y.publishedAt)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Oe,{className:"w-4 h-4"}),e.jsxs("span",{children:[y.views," vues"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{children:[y.readTime," min de lecture"]}),e.jsx(It,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})]})})},y.id)),f.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Aucun article trouv"}),e.jsx("p",{className:"text-gray-500",children:"Essayez de modifier vos critres de recherche"})]})]})})]})})]})})},vA=t=>{if(!t)return"";let s=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,"").replace(/<object\b[^<]*(?:(?!<\/object>)<[^<]*)*<\/object>/gi,"").replace(/<embed\b[^<]*(?:(?!<\/embed>)<[^<]*)*<\/embed>/gi,"").replace(/<form\b[^<]*(?:(?!<\/form>)<[^<]*)*<\/form>/gi,"").replace(/<input\b[^>]*>/gi,"").replace(/<textarea\b[^<]*(?:(?!<\/textarea>)<[^<]*)*<\/textarea>/gi,"").replace(/<select\b[^<]*(?:(?!<\/select>)<[^<]*)*<\/select>/gi,"").replace(/<button\b[^<]*(?:(?!<\/button>)<[^<]*)*<\/button>/gi,"").replace(/on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:/gi,"").replace(/data:/gi,"").replace(/vbscript:/gi,"");return s=s.replace(/<(\w+)([^>]*?)>/gi,(r,n,a)=>{const i=a.replace(/\s+on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/\s+javascript:/gi,"").replace(/\s+data:/gi,"").replace(/\s+vbscript:/gi,"");return`<${n}${i}>`}),s},jA=t=>t?![/<script\b/i,/<iframe\b/i,/<object\b/i,/<embed\b/i,/<form\b/i,/on\w+\s*=/i,/javascript:/i,/vbscript:/i].some(r=>r.test(t)):!0,yA=t=>{const s=vA(t),r=jA(s);return{html:s,isSafe:r,shouldRender:r&&s.length>0}},bA=({html:t,className:s="",fallback:r=e.jsx("p",{className:"text-gray-500 italic",children:"Contenu non disponible"}),onError:n})=>{const a=u.useMemo(()=>{try{return yA(t)}catch(i){return console.warn("Erreur lors de la sanitisation HTML:",i),n==null||n(i),{html:"",isSafe:!1,shouldRender:!1}}},[t,n]);return a.shouldRender?e.jsx("div",{className:s,dangerouslySetInnerHTML:{__html:a.html}}):e.jsx(e.Fragment,{children:r})},NA=()=>{const{slug:t}=ri(),s=he(),{data:r,isLoading:n}=Re({queryKey:["blog-article",t],queryFn:async()=>{try{const c=await H.get(`/blog/article/${t}`);return c.article||c.data}catch(c){return console.error("Erreur lors du chargement de l'article:",c),null}},staleTime:10*60*1e3}),i=r||{"guide-commerce-b2b-gabon":{id:1,title:"Guide Complet du Commerce B2B au Gabon",slug:"guide-commerce-b2b-gabon",excerpt:"Dcouvrez les meilleures pratiques pour russir dans le commerce B2B au Gabon. Conseils d'experts et stratgies prouves.",content:`
        <h2>Introduction au Commerce B2B au Gabon</h2>
        <p>Le commerce B2B au Gabon connat une transformation digitale importante. Avec l'mergence de plateformes comme Gabon Market Hub, les entreprises gabonaises ont accs  de nouveaux outils pour dvelopper leurs activits commerciales.</p>
        
        <h3>Les Dfis du Commerce B2B</h3>
        <p>Les entreprises gabonaises font face  plusieurs dfis :</p>
        <ul>
          <li>La digitalisation des processus commerciaux</li>
          <li>La recherche de partenaires fiables</li>
          <li>La gestion des chanes d'approvisionnement</li>
          <li>L'adaptation aux nouvelles technologies</li>
        </ul>
        
        <h3>Stratgies de Succs</h3>
        <p>Pour russir dans le commerce B2B au Gabon, il est essentiel de :</p>
        <ol>
          <li>Dvelopper une prsence digitale forte</li>
          <li>Construire des relations de confiance</li>
          <li>Adapter son offre aux besoins locaux</li>
          <li>Investir dans la formation des quipes</li>
        </ol>
        
        <h3>Conclusion</h3>
        <p>Le commerce B2B au Gabon offre de nombreuses opportunits pour les entreprises qui savent s'adapter aux nouvelles technologies et aux besoins du march local.</p>
      `,author:"quipe Gabon Market Hub",publishedAt:"2025-09-15",category:"Conseils",image:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=400&fit=crop",views:1250,readTime:8,featured:!0,tags:["B2B","Commerce","Gabon","Stratgie"]},"choisir-fournisseur-b2b":{id:2,title:"Comment Choisir le Bon Fournisseur B2B",slug:"choisir-fournisseur-b2b",excerpt:"Les critres essentiels pour slectionner des fournisseurs fiables et performants pour votre entreprise.",content:`
        <h2>L'Importance du Choix du Fournisseur</h2>
        <p>Choisir le bon fournisseur B2B est crucial pour la russite de votre entreprise. Un mauvais choix peut impacter votre rputation, vos cots et la satisfaction de vos clients.</p>
        
        <h3>Critres de Slection</h3>
        <p>Voici les critres essentiels  considrer :</p>
        <ul>
          <li><strong>Fiabilit :</strong> Respect des dlais et des engagements</li>
          <li><strong>Qualit :</strong> Conformit aux standards de qualit</li>
          <li><strong>Prix :</strong> Comptitivit et transparence tarifaire</li>
          <li><strong>Service :</strong> Support client et ractivit</li>
          <li><strong>Innovation :</strong> Capacit d'adaptation et d'volution</li>
        </ul>
        
        <h3>Processus de Slection</h3>
        <p>Un processus structur vous aidera  faire le bon choix :</p>
        <ol>
          <li>Dfinir vos besoins prcis</li>
          <li>Rechercher des fournisseurs qualifis</li>
          <li>valuer les propositions</li>
          <li>Effectuer des tests pilotes</li>
          <li>Ngocier les conditions</li>
        </ol>
      `,author:"Marie Nguema",publishedAt:"2025-09-14",category:"Conseils",image:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=400&fit=crop",views:890,readTime:6,featured:!1,tags:["Fournisseur","Slection","B2B","Qualit"]},"tendances-ecommerce-afrique-centrale":{id:3,title:"Tendances du E-commerce en Afrique Centrale",slug:"tendances-ecommerce-afrique-centrale",excerpt:"Analyse des dernires tendances du commerce lectronique dans la rgion et opportunits pour les entreprises gabonaises.",content:`
        <h2>L'volution du E-commerce en Afrique Centrale</h2>
        <p>Le e-commerce connat une croissance exponentielle en Afrique Centrale, port par l'augmentation de la connectivit et l'adoption des technologies mobiles.</p>
        
        <h3>Tendances Cls</h3>
        <p>Plusieurs tendances marquent le paysage du e-commerce :</p>
        <ul>
          <li>L'essor du mobile commerce</li>
          <li>L'importance des paiements digitaux</li>
          <li>La personnalisation de l'exprience client</li>
          <li>L'intgration des rseaux sociaux</li>
        </ul>
        
        <h3>Opportunits pour le Gabon</h3>
        <p>Le Gabon dispose d'atouts uniques pour dvelopper le e-commerce :</p>
        <ul>
          <li>Une population jeune et connecte</li>
          <li>Un environnement politique stable</li>
          <li>Des infrastructures en dveloppement</li>
          <li>Un potentiel d'innovation important</li>
        </ul>
      `,author:"Dr. Jean-Baptiste",publishedAt:"2025-09-13",category:"Actualits",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop",views:2100,readTime:10,featured:!0,tags:["E-commerce","Afrique","Tendances","Innovation"]}}[t||""],o=c=>new Date(c).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),l=()=>{navigator.share?navigator.share({title:i==null?void 0:i.title,text:i==null?void 0:i.excerpt,url:window.location.href}):navigator.clipboard.writeText(window.location.href)};return n?e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement de l'article..."})]})})}):i?e.jsx(De,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs(E,{variant:"ghost",onClick:()=>s("/blog"),className:"mb-4",children:[e.jsx(Ys,{className:"w-4 h-4 mr-2"}),"Retour au blog"]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(U,{variant:"secondary",children:i.category}),i.featured&&e.jsx(U,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:" la une"})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:i.title}),e.jsx("p",{className:"text-xl text-gray-600 mb-6",children:i.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:i.author})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"w-4 h-4"}),e.jsx("span",{children:o(i.publishedAt)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"w-4 h-4"}),e.jsxs("span",{children:[i.views," vues"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qh,{className:"w-4 h-4"}),e.jsxs("span",{children:[i.readTime," min de lecture"]})]})]}),e.jsxs(E,{variant:"outline",size:"sm",onClick:l,children:[e.jsx(ao,{className:"w-4 h-4 mr-2"}),"Partager"]})]})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx($,{children:e.jsxs(q,{className:"p-0",children:[e.jsx("div",{className:"h-64 md:h-96 overflow-hidden rounded-t-lg",children:e.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-8",children:[e.jsx(bA,{html:i.content,className:"prose prose-lg max-w-none",fallback:e.jsx("p",{className:"text-gray-500 italic",children:"Aucun contenu disponible"})}),i.tags&&i.tags.length>0&&e.jsxs("div",{className:"mt-8 pt-6 border-t",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.tags.map((c,d)=>e.jsx(U,{variant:"outline",children:c},d))})]})]})]})})})})]})}):e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Article non trouv"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"L'article que vous recherchez n'existe pas."}),e.jsx(E,{onClick:()=>s("/blog"),children:"Retour au blog"})]})})})};class wA{async login(s){const r=await H.post("/auth/login",s);return r.token&&tr.setToken(r.token),r.user&&(tr.setUserType(r.user.role_id),tr.setUserData(r.user)),{message:r.message,data:{user:r.user,token:r.token}}}async register(s){const r=await H.post("/auth/register",s);return r.token&&tr.setToken(r.token),r.user&&(tr.setUserType(r.user.role_id),tr.setUserData(r.user)),{message:r.message,data:{user:r.user,token:r.token}}}async logout(){try{await H.post("/auth/logout")}catch{}finally{tr.removeToken(),tr.clearUserMeta()}}async getCurrentUser(){const s=await H.get("/auth/me");return s.data||s}async updateProfile(s){return(await H.put("/users/profile",s)).data}isAuthenticated(){return tr.isAuthenticated()}getToken(){return tr.getToken()}}const i1=new wA,CA=()=>{const[t,s]=u.useState(!1),[r,n]=u.useState({email:"",mot_de_passe:""}),a=he();wn();const[i]=ni(),o=fp(),[l,c]=u.useState(!1),[d,f]=u.useState(!1);u.useEffect(()=>{i.get("message")==="account_created"&&(f(!0),M.success("Compte cr avec succs ! Vous pouvez maintenant vous connecter."))},[i]),u.useEffect(()=>{const j=i.get("oauth"),y=i.get("token"),g=i.get("user");if(j==="success"&&y&&g)try{const N=JSON.parse(decodeURIComponent(g));localStorage.setItem("authToken",y),localStorage.setItem("user",JSON.stringify(N)),M.success(`Connexion russie avec ${N.email} !`),N.role_id===1?a("/dashboard"):N.role_id===2?a("/supplier/dashboard"):N.role_id===3?a("/admin/dashboard"):a("/")}catch(N){console.error("Erreur parsing OAuth data:",N),M.error("Erreur lors de la connexion OAuth")}else if(j==="error"){const N=i.get("error");M.error(`Erreur de connexion OAuth: ${N||"Erreur inconnue"}`)}},[i,a]);const m=async j=>{var y;if(j.preventDefault(),!r.email||!r.mot_de_passe){M.error("Veuillez remplir tous les champs");return}c(!0);try{const g={email:r.email,mot_de_passe:r.mot_de_passe},N=await o(g);try{const p=await i1.getCurrentUser();((p==null?void 0:p.role_id)??((y=N==null?void 0:N.user)==null?void 0:y.role_id))===2?window.location.href="/supplier/dashboard":window.location.href="/buyer/dashboard"}catch{M.error("Impossible de valider la session. Veuillez ressayer.")}}catch(g){M.error(g.message||"Erreur lors de la connexion")}finally{c(!1)}},h=j=>{n({...r,[j.target.name]:j.target.value})};return e.jsx(yn,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx(Yr,{size:"lg",onClick:()=>a("/")})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Connexion  votre compte"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Ou"," ",e.jsx("button",{onClick:()=>a("/user-type"),className:"font-medium text-green-600 hover:text-green-500 underline",children:"crez un nouveau compte"})]})]}),d&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ye,{className:"w-5 h-5 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Compte cr avec succs !"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Votre compte a t cr. Vous pouvez maintenant vous connecter avec vos identifiants."})]})]})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,placeholder:"votre@email.com",value:r.email,onChange:h,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"mot_de_passe",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{id:"mot_de_passe",name:"mot_de_passe",type:t?"text":"password",autoComplete:"current-password",required:!0,placeholder:"Votre mot de passe",value:r.mot_de_passe,onChange:h,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>s(!t),children:t?e.jsx(Bs,{className:"w-5 h-5"}):e.jsx(Oe,{className:"w-5 h-5"})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Se souvenir de moi"})]}),e.jsx("div",{className:"text-sm",children:e.jsx("button",{onClick:()=>a("/forgot-password"),className:"font-medium text-green-600 hover:text-green-500 underline",children:"Mot de passe oubli ?"})})]}),e.jsx("div",{children:e.jsx(E,{type:"submit",size:"lg",className:"w-full",disabled:l,children:l?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Connexion en cours..."]}):"Se connecter"})}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Ou continuer avec"})})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[e.jsxs(E,{type:"button",variant:"outline",className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",onClick:()=>window.location.href="https://back-gabonmarquethub.onrender.com/api/auth/google",children:[e.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs(E,{type:"button",variant:"outline",className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",onClick:()=>window.location.href="https://back-gabonmarquethub.onrender.com/api/auth/facebook",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"#1877F2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["En vous connectant, vous acceptez nos"," ",e.jsx("button",{onClick:()=>a("/terms"),className:"text-green-600 hover:text-green-500 underline",children:"Conditions d'utilisation"})," ","et notre"," ",e.jsx("button",{onClick:()=>a("/privacy"),className:"text-green-600 hover:text-green-500 underline",children:"Politique de confidentialit"})]})})]})})})},Ye=u.forwardRef(({className:t,...s},r)=>e.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s}));Ye.displayName="Textarea";const fs=({value:t,onValueChange:s,placeholder:r="Slectionner...",options:n=[],disabled:a=!1,className:i=""})=>{const o=(t==null?void 0:t.toString())||"",l=re.useMemo(()=>n.filter(d=>d&&d.id!==null&&d.id!==void 0&&d.nom&&typeof d.nom=="string"),[n]),c=d=>{const f=d.target.value;f!==o&&s(f)};return e.jsx("div",{className:"relative",children:e.jsxs("select",{value:o,onChange:c,disabled:a,className:`
          h-10 w-full appearance-none rounded-md border border-input 
          bg-background px-3 py-2 text-sm 
          focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 
          disabled:cursor-not-allowed disabled:opacity-50
          ${i}
        `,style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[!o&&e.jsx("option",{value:"",disabled:!0,children:r}),l.length===0?e.jsx("option",{value:"",disabled:!0,children:"Aucune option disponible"}):l.map(d=>e.jsx("option",{value:d.id.toString(),children:d.nom},`simple-${d.id}`))]})})},SA=({email:t,onVerificationSuccess:s,onBack:r,onResendCode:n,isResending:a=!1})=>{const[i,o]=u.useState(""),[l,c]=u.useState(!1),[d,f]=u.useState(600),[m,h]=u.useState(!1),j=u.useRef([]);u.useEffect(()=>{if(d>0){const x=setTimeout(()=>f(d-1),1e3);return()=>clearTimeout(x)}else h(!0)},[d]);const y=x=>{const w=Math.floor(x/60),k=x%60;return`${w}:${k.toString().padStart(2,"0")}`},g=(x,w)=>{var b;if(w.length>1)return;const k=i.split("");k[x]=w;const S=k.join("");o(S),w&&x<5&&((b=j.current[x+1])==null||b.focus())},N=(x,w)=>{var k;w.key==="Backspace"&&!i[x]&&x>0&&((k=j.current[x-1])==null||k.focus())},p=async x=>{var w,k;if(x.preventDefault(),i.length!==6){M.error("Veuillez saisir le code complet  6 chiffres");return}if(m){M.error("Le code a expir. Veuillez en demander un nouveau");return}c(!0);try{const S=JSON.parse(localStorage.getItem("registrationData")||"{}"),b=await H.post("/auth/register/verify-code",{email:t,verification_code:i,...S});localStorage.removeItem("registrationData"),M.success("Compte cr avec succs !"),s(b.user)}catch(S){console.error("Erreur vrification:",S),M.error(((k=(w=S.response)==null?void 0:w.data)==null?void 0:k.error)||"Erreur lors de la vrification du code")}finally{c(!1)}},v=async()=>{var x;try{await n(),f(600),h(!1),o(""),(x=j.current[0])==null||x.focus(),M.success("Nouveau code envoy !")}catch{M.error("Erreur lors du renvoi du code")}};return e.jsxs($,{className:"w-full max-w-md",children:[e.jsxs(K,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Rt,{className:"w-8 h-8 text-green-600"})}),e.jsx(Y,{className:"text-2xl font-bold text-gray-900",children:"Vrification Email"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Nous avons envoy un code  6 chiffres "}),e.jsx("p",{className:"text-gabon-green font-semibold",children:t})]}),e.jsx(q,{children:e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Code de vrification"}),e.jsx("div",{className:"flex justify-center space-x-2",children:[0,1,2,3,4,5].map(x=>e.jsx(D,{ref:w=>j.current[x]=w,type:"text",inputMode:"numeric",pattern:"[0-9]",maxLength:1,value:i[x]||"",onChange:w=>g(x,w.target.value),onKeyDown:w=>N(x,w),className:"w-12 h-12 text-center text-xl font-bold border-2 focus:border-gabon-green focus:ring-gabon-green",disabled:l||m},x))})]}),e.jsx("div",{className:"text-center",children:m?e.jsx("div",{className:"text-red-600 text-sm font-medium",children:" Code expir"}):e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-600",children:[e.jsx(Tt,{className:"w-4 h-4"}),e.jsx("span",{children:"Code valide pendant :"}),e.jsx("span",{className:"font-mono font-bold text-gabon-green",children:y(d)})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(E,{type:"submit",disabled:l||i.length!==6||m,className:"w-full",children:l?e.jsxs(e.Fragment,{children:[e.jsx(Us,{className:"w-4 h-4 mr-2 animate-spin"}),"Vrification..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-4 h-4 mr-2"}),"Crer le compte"]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(E,{type:"button",variant:"outline",onClick:r,className:"flex-1",disabled:l,children:[e.jsx(Ys,{className:"w-4 h-4 mr-2"}),"Retour"]}),e.jsxs(E,{type:"button",variant:"outline",onClick:v,disabled:a||l,className:"flex-1",children:[a?e.jsx(Us,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(Us,{className:"w-4 h-4 mr-2"}),"Renvoyer"]})]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-500",children:[e.jsx("p",{children:"Vous n'avez pas reu le code ?"}),e.jsx("p",{children:"Vrifiez vos spams ou demandez un nouveau code"})]})]})})]})},o1=()=>{const[t]=ni(),s=he(),r=t.get("type")||"acheteur",[n,a]=u.useState(!1),[i,o]=u.useState(!1),[l,c]=u.useState(!1),[d,f]=u.useState(!1),[m,h]=u.useState("form"),[j,y]=u.useState({email:"",mot_de_passe:"",confirm_password:"",nom:"",prenom:"",telephone:"",acceptTerms:!1}),g=k=>{const{name:S,value:b,type:C,checked:_}=k.target;y(P=>({...P,[S]:C==="checkbox"?_:b}))},N=()=>!j.email||!j.mot_de_passe||!j.nom?(M.error("Veuillez remplir tous les champs obligatoires"),!1):j.mot_de_passe!==j.confirm_password?(M.error("Les mots de passe ne correspondent pas"),!1):j.mot_de_passe.length<6?(M.error("Le mot de passe doit contenir au moins 6 caractres"),!1):j.acceptTerms?!0:(M.error("Vous devez accepter les conditions d'utilisation"),!1),p=async()=>{var k,S;if(N()){c(!0);try{await H.post("/auth/register/send-verification",{email:j.email}),localStorage.setItem("registrationData",JSON.stringify({mot_de_passe:j.mot_de_passe,nom:j.nom,prenom:j.prenom,telephone:j.telephone,role_id:r==="fournisseur"?2:1})),h("verification"),M.success("Code de vrification envoy par email !")}catch(b){console.error("Erreur envoi vrification:",b),M.error(((S=(k=b.response)==null?void 0:k.data)==null?void 0:S.error)||"Erreur lors de l'envoi du code de vrification")}finally{c(!1)}}},v=async()=>{f(!0);try{await H.post("/auth/register/send-verification",{email:j.email})}catch(k){throw console.error("Erreur renvoi code:",k),M.error("Erreur lors du renvoi du code"),k}finally{f(!1)}},x=k=>{localStorage.removeItem("registrationData"),s("/login?message=account_created")},w=()=>{h("form"),localStorage.removeItem("registrationData")};return m==="verification"?e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:e.jsx(SA,{email:j.email,onVerificationSuccess:x,onBack:w,onResendCode:v,isResending:d})})}):e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs($,{children:[e.jsxs(K,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(we,{className:"w-8 h-8 text-green-600"})}),e.jsxs(Y,{className:"text-2xl font-bold text-gray-900",children:["Crer un compte ",r==="fournisseur"?"Fournisseur":"Acheteur"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Commencez par vrifier votre adresse email"})]}),e.jsx(q,{children:e.jsxs("form",{onSubmit:k=>{k.preventDefault(),p()},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"email",type:"email",required:!0,placeholder:"votre@email.com",value:j.email,onChange:g,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom *"}),e.jsx(D,{name:"nom",type:"text",required:!0,placeholder:"Votre nom",value:j.nom,onChange:g})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prnom"}),e.jsx(D,{name:"prenom",type:"text",placeholder:"Votre prnom",value:j.prenom,onChange:g})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),e.jsx(D,{name:"telephone",type:"tel",placeholder:"+241 XX XX XX XX",value:j.telephone,onChange:g})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"mot_de_passe",type:n?"text":"password",required:!0,placeholder:"Votre mot de passe",value:j.mot_de_passe,onChange:g,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>a(!n),children:n?e.jsx(Bs,{className:"w-5 h-5"}):e.jsx(Oe,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"confirm_password",type:i?"text":"password",required:!0,placeholder:"Confirmez votre mot de passe",value:j.confirm_password,onChange:g,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>o(!i),children:i?e.jsx(Bs,{className:"w-5 h-5"}):e.jsx(Oe,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("input",{id:"acceptTerms",name:"acceptTerms",type:"checkbox",checked:j.acceptTerms,onChange:g,className:"mt-1 h-4 w-4 text-gabon-green focus:ring-gabon-green border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"acceptTerms",className:"text-sm text-gray-600",children:["J'accepte les"," ",e.jsx("a",{href:"/terms",className:"text-gabon-green hover:underline",children:"conditions d'utilisation"})," ","et la"," ",e.jsx("a",{href:"/privacy",className:"text-gabon-green hover:underline",children:"politique de confidentialit"})]})]}),e.jsx(E,{type:"submit",disabled:l,className:"w-full",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Envoi en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx(It,{className:"w-4 h-4 mr-2"}),"Vrifier le mail"]})}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez dj un compte ?"," ",e.jsx("a",{href:r==="fournisseur"?"/supplier/login":"/login",className:"font-medium text-gabon-green hover:text-gabon-green/80",children:"Connectez-vous"})]})})]})})]})})})})},_A=()=>{const[t,s]=u.useState(!1),[r,n]=u.useState(!1),[a,i]=u.useState("acheteur"),[o,l]=u.useState(1),[c]=ni(),[d,f]=u.useState(!1),[m,h]=u.useState([]),[j,y]=u.useState([]),[g,N]=u.useState(!1),[p,v]=u.useState(""),[x,w]=u.useState(!1),[k,S]=u.useState(600),[b,C]=u.useState({email:"",mot_de_passe:"",confirm_password:"",nom:"",prenom:"",telephone:"",entreprise:{nom_entreprise:"",nom_contact:"",prenom_contact:"",telephone_professionnel:"",site_web:"",description:"",secteur_activite_id:"",type_entreprise_id:"",annee_creation:"",nombre_employes:"",adresse_ligne1:"",adresse_ligne2:"",ville:"",code_postal:"",pays:"",numero_siret:"",numero_registre_commerce:"",numero_tva:"",capacite_production:"",certifications:""},acceptTerms:!1}),_=he(),{register:P}=RR();u.useEffect(()=>{const Q=c.get("type");(Q==="fournisseur"||Q==="acheteur")&&i(Q)},[c]),u.useEffect(()=>{a==="fournisseur"&&(T(),L())},[a]),u.useEffect(()=>{if(g&&k>0){const Q=setTimeout(()=>S(k-1),1e3);return()=>clearTimeout(Q)}},[g,k]);const T=async()=>{try{console.log(" Chargement des secteurs...");const Q=await H.get("/supplier/secteurs");console.log(" Rponse complte secteurs:",Q),console.log(" Data secteurs:",Q.data);let ae=[];Q.data&&Q.data.secteurs?ae=Q.data.secteurs:Array.isArray(Q.data)?ae=Q.data:Q.secteurs&&(ae=Q.secteurs),ae=ae.filter(ue=>ue&&ue.id!==null&&ue.id!==void 0&&ue.nom),console.log(" Secteurs traits:",ae),h(ae)}catch(Q){console.error(" Erreur chargement secteurs:",Q),M.error("Erreur lors du chargement des secteurs d'activit"),h([])}},L=async()=>{try{console.log(" Chargement des types d'entreprise...");const Q=await H.get("/supplier/types-entreprise");console.log(" Rponse complte types:",Q),console.log(" Data types:",Q.data);let ae=[];Q.data&&Q.data.types?ae=Q.data.types:Array.isArray(Q.data)?ae=Q.data:Q.types&&(ae=Q.types),ae=ae.filter(ue=>ue&&ue.id!==null&&ue.id!==void 0&&ue.nom),console.log(" Types traits:",ae),y(ae)}catch(Q){console.error(" Erreur chargement types entreprise:",Q),M.error("Erreur lors du chargement des types d'entreprise"),y([])}},I=async()=>{var Q,ae;w(!0);try{await H.post("/auth/register/send-verification",{email:b.email}),M.success("Nouveau code envoy par email !"),v(""),S(600)}catch(ue){console.error("Erreur renvoi code:",ue),M.error(((ae=(Q=ue.response)==null?void 0:Q.data)==null?void 0:ae.error)||"Erreur lors du renvoi du code")}finally{w(!1)}};if(a==="acheteur")return e.jsx(o1,{});const O=Q=>{const{name:ae,value:ue,type:de,checked:V}=Q.target;if(ae.startsWith("entreprise.")){const ne=ae.replace("entreprise.","");C(pe=>({...pe,entreprise:{...pe.entreprise,[ne]:ue}}))}else C(ne=>({...ne,[ae]:de==="checkbox"?V:ue}))},X=(Q,ae)=>{if(Q.startsWith("entreprise.")){const ue=Q.replace("entreprise.","");C(de=>({...de,entreprise:{...de.entreprise,[ue]:ae}}))}else C(ue=>({...ue,[Q]:ae}))},A=Q=>{if(a==="acheteur")return!0;switch(Q){case 1:return!b.email||!b.mot_de_passe||!b.confirm_password?(M.error("Veuillez remplir tous les champs obligatoires"),!1):b.mot_de_passe!==b.confirm_password?(M.error("Les mots de passe ne correspondent pas"),!1):b.mot_de_passe.length<6?(M.error("Le mot de passe doit contenir au moins 6 caractres"),!1):!0;case 2:const{nom_entreprise:ae,telephone_professionnel:ue,secteur_activite_id:de,type_entreprise_id:V}=b.entreprise;return!ae||!ue||!de||!V?(M.error("Veuillez remplir tous les champs obligatoires de l'entreprise"),!1):!0;case 3:return b.acceptTerms?!0:(M.error("Vous devez accepter les conditions d'utilisation"),!1);default:return!0}},B=()=>{A(o)&&l(Q=>Math.min(Q+1,4))},R=()=>{l(Q=>Math.max(Q-1,1))},F=async Q=>{var ae,ue,de,V,ne,pe;if(Q.preventDefault(),!b.acceptTerms){M.error("Vous devez accepter les conditions d'utilisation");return}if(a==="acheteur"){if(b.mot_de_passe!==b.confirm_password){M.error("Les mots de passe ne correspondent pas");return}if(!b.email||!b.mot_de_passe||!b.nom){M.error("Veuillez remplir tous les champs obligatoires");return}try{const oe={email:b.email,mot_de_passe:b.mot_de_passe,nom:b.nom,prenom:b.prenom,telephone:b.telephone,role_id:1};await P(oe),M.success("Inscription russie ! Bienvenue sur GabMarketHub"),_("/dashboard")}catch(oe){M.error(oe.message||"Erreur lors de l'inscription")}return}if(A(o)){console.log(" Donnes formulaire avant envoi:",b),console.log(" Donnes lgales formulaire:",{numero_siret:b.entreprise.numero_siret,numero_registre_commerce:b.entreprise.numero_registre_commerce,numero_tva:b.entreprise.numero_tva});try{f(!0);const oe={email:b.email,mot_de_passe:b.mot_de_passe,nom:b.nom,prenom:b.prenom,telephone:b.telephone,role_id:2,entreprise:{nom_entreprise:b.entreprise.nom_entreprise,description:b.entreprise.description,site_web:b.entreprise.site_web,telephone_professionnel:b.entreprise.telephone_professionnel,adresse_ligne1:b.entreprise.adresse_ligne1,adresse_ligne2:b.entreprise.adresse_ligne2,ville:b.entreprise.ville,code_postal:b.entreprise.code_postal,pays:b.entreprise.pays,secteur_activite_id:parseInt(b.entreprise.secteur_activite_id)||null,type_entreprise_id:parseInt(b.entreprise.type_entreprise_id)||null,numero_siret:b.entreprise.numero_siret,numero_registre_commerce:b.entreprise.numero_registre_commerce,numero_tva:b.entreprise.numero_tva,annee_creation:b.entreprise.annee_creation?parseInt(b.entreprise.annee_creation):null,nombre_employes:b.entreprise.nombre_employes?parseInt(b.entreprise.nombre_employes):null,capacite_production:b.entreprise.capacite_production,certifications:b.entreprise.certifications}};if(console.log(" Envoi donnes inscription fournisseur (formates):",oe),console.log(" Donnes lgales envoyes:",{numero_siret:oe.entreprise.numero_siret,numero_registre_commerce:oe.entreprise.numero_registre_commerce,numero_tva:oe.entreprise.numero_tva}),console.log(" Donnes compltes entreprise:",oe.entreprise),!g)try{try{await H.get(`/auth/check-email/${encodeURIComponent(oe.email)}`)}catch(ve){if(ve.message.includes("Email dj utilis")){M.error("Cet email est dj utilis. Veuillez vous connecter ou utiliser un autre email.",{action:{label:"Se connecter",onClick:()=>_("/login")}});return}}await H.post("/auth/register/send-verification",{email:oe.email}),localStorage.setItem("supplierRegistrationData",JSON.stringify(oe)),N(!0),S(600),M.success("Code de vrification envoy par email !");return}catch(ve){console.error("Erreur envoi vrification:",ve);const ge=((ue=(ae=ve.response)==null?void 0:ae.data)==null?void 0:ue.error)||"Erreur lors de l'envoi du code de vrification";ge.includes("dj utilis et vrifi")?M.error("Cet email est dj utilis. Veuillez vous connecter ou utiliser un autre email.",{action:{label:"Se connecter",onClick:()=>_("/login")}}):M.error(ge);return}if(g)try{const ve=JSON.parse(localStorage.getItem("supplierRegistrationData")||"{}"),ge=await H.post("/auth/register/verify-code",{email:ve.email,verification_code:p,...ve});console.log(" Rponse inscription:",ge),console.log(" Type de response:",typeof ge),console.log(" Keys de response:",Object.keys(ge)),console.log(" Token prsent?",!!ge.token),console.log(" User prsent?",!!ge.user),ge.token?(localStorage.removeItem("supplierRegistrationData"),localStorage.setItem("authToken",ge.token),localStorage.setItem("user",JSON.stringify(ge.user)),M.success("Compte cr avec succs !"),_("/login?message=account_created")):M.error("Erreur lors de l'inscription")}catch(ve){console.error(" Erreur vrification:",ve);const ge=((V=(de=ve.response)==null?void 0:de.data)==null?void 0:V.error)||ve.message||"Erreur lors de la vrification";M.error(ge)}finally{f(!1)}}catch(oe){console.error(" Erreur inscription:",oe);const ve=((pe=(ne=oe.response)==null?void 0:ne.data)==null?void 0:pe.error)||oe.message||"Erreur lors de l'inscription";M.error(ve)}finally{f(!1)}}},J=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informations de connexion"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Crez votre compte fournisseur"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prnom"}),e.jsx(D,{name:"prenom",placeholder:"Votre prnom",value:b.prenom,onChange:O})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom *"}),e.jsx(D,{name:"nom",required:!0,placeholder:"Votre nom",value:b.nom,onChange:O})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email professionnel *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"email",type:"email",required:!0,placeholder:"contact@votre-entreprise.com",value:b.email,onChange:O,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"telephone",placeholder:"+241 XX XX XX XX",value:b.telephone,onChange:O,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"mot_de_passe",type:t?"text":"password",required:!0,placeholder:"Minimum 6 caractres",value:b.mot_de_passe,onChange:O,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>s(!t),children:t?e.jsx(Bs,{className:"w-5 h-5"}):e.jsx(Oe,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"confirm_password",type:"password",required:!0,placeholder:"Confirmez votre mot de passe",value:b.confirm_password,onChange:O,className:"pl-10"})]})]})]}),G=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informations de l'entreprise"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Prsentez votre entreprise"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'entreprise *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"entreprise.nom_entreprise",required:!0,placeholder:"Nom de votre entreprise",value:b.entreprise.nom_entreprise,onChange:O,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone professionnel *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"entreprise.telephone_professionnel",required:!0,placeholder:"+241 XX XX XX XX",value:b.entreprise.telephone_professionnel,onChange:O,className:"pl-10"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secteur d'activit *"}),e.jsx(fs,{value:b.entreprise.secteur_activite_id,onValueChange:Q=>X("entreprise.secteur_activite_id",Q),placeholder:"Slectionnez un secteur",options:m})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type d'entreprise *"}),e.jsx(fs,{value:b.entreprise.type_entreprise_id,onValueChange:Q=>X("entreprise.type_entreprise_id",Q),placeholder:"Slectionnez un type",options:j})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site web"}),e.jsxs("div",{className:"relative",children:[e.jsx(Vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"entreprise.site_web",placeholder:"https://www.votre-site.com",value:b.entreprise.site_web,onChange:O,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description de l'entreprise"}),e.jsx(Ye,{name:"entreprise.description",placeholder:"Dcrivez votre entreprise, vos produits et services...",value:b.entreprise.description,onChange:O,rows:4})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anne de cration"}),e.jsx(D,{name:"entreprise.annee_creation",type:"number",placeholder:"2020",value:b.entreprise.annee_creation,onChange:O})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre d'employs"}),e.jsx(D,{name:"entreprise.nombre_employes",type:"number",placeholder:"10",value:b.entreprise.nombre_employes,onChange:O})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacit de production"}),e.jsx(D,{name:"entreprise.capacite_production",placeholder:"Ex: 1000 units/mois",value:b.entreprise.capacite_production,onChange:O})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certifications"}),e.jsx(Ye,{name:"entreprise.certifications",placeholder:"Listez vos certifications (ISO, etc.)",value:b.entreprise.certifications,onChange:O,rows:3})]})]}),te=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Adresse et informations lgales"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Informations de localisation et lgales"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 1 *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"entreprise.adresse_ligne1",required:!0,placeholder:"Numro et nom de rue",value:b.entreprise.adresse_ligne1,onChange:O,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 2"}),e.jsx(D,{name:"entreprise.adresse_ligne2",placeholder:"Complment d'adresse (optionnel)",value:b.entreprise.adresse_ligne2,onChange:O})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville *"}),e.jsx(D,{name:"entreprise.ville",required:!0,placeholder:"Libreville",value:b.entreprise.ville,onChange:O})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code postal *"}),e.jsx(D,{name:"entreprise.code_postal",required:!0,placeholder:"BP 1234",value:b.entreprise.code_postal,onChange:O})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pays *"}),e.jsxs("select",{name:"entreprise.pays",value:b.entreprise.pays,onChange:O,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Slectionnez votre pays"}),e.jsx("option",{value:"Gabon",children:"Gabon"}),e.jsx("option",{value:"Italie",children:"Italie"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro SIRET *"}),e.jsxs("div",{className:"relative",children:[e.jsx(We,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"entreprise.numero_siret",required:!0,placeholder:"Numro d'identification SIRET",value:b.entreprise.numero_siret,onChange:O,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registre de commerce"}),e.jsx(D,{name:"entreprise.numero_registre_commerce",placeholder:"Numro registre commerce",value:b.entreprise.numero_registre_commerce,onChange:O})]})]})]});return e.jsx(yn,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-2xl w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx(Yr,{size:"lg",onClick:()=>_("/")})}),e.jsxs("h2",{className:"text-3xl font-bold text-gray-900",children:["Crer votre compte ",a==="fournisseur"?"Fournisseur":"Acheteur"]}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Ou"," ",e.jsx("a",{href:"/login",className:"font-medium text-green-600 hover:text-green-500",children:"connectez-vous  votre compte existant"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(E,{type:"button",variant:a==="acheteur"?"default":"outline",onClick:()=>{i("acheteur"),l(1)},className:"flex items-center justify-center gap-2",children:[e.jsx(we,{className:"w-4 h-4"}),"Acheteur"]}),e.jsxs(E,{type:"button",variant:a==="fournisseur"?"default":"outline",onClick:()=>{i("fournisseur"),l(1),T(),L()},className:"flex items-center justify-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4"}),"Fournisseur"]})]}),a==="fournisseur"&&e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between",children:[1,2,3].map(Q=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${Q<=o?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:Q}),Q<3&&e.jsx("div",{className:`w-16 h-1 mx-2 ${Q<o?"bg-green-600":"bg-gray-200"}`})]},Q))}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:[e.jsx("span",{children:"Compte"}),e.jsx("span",{children:"Entreprise"}),e.jsx("span",{children:"Adresse"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:F,children:[a==="acheteur"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prnom"}),e.jsx(D,{name:"prenom",placeholder:"Votre prnom",value:b.prenom,onChange:O})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom *"}),e.jsx(D,{name:"nom",required:!0,placeholder:"Votre nom",value:b.nom,onChange:O})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"email",type:"email",required:!0,placeholder:"votre@email.com",value:b.email,onChange:O,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"telephone",placeholder:"+241 XX XX XX XX",value:b.telephone,onChange:O,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"mot_de_passe",type:t?"text":"password",required:!0,placeholder:"Votre mot de passe",value:b.mot_de_passe,onChange:O,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>s(!t),children:t?e.jsx(Bs,{className:"w-5 h-5"}):e.jsx(Oe,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"confirm_password",type:r?"text":"password",required:!0,placeholder:"Confirmez votre mot de passe",value:b.confirm_password,onChange:O,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>n(!r),children:r?e.jsx(Bs,{className:"w-5 h-5"}):e.jsx(Oe,{className:"w-5 h-5"})})]})]})]}):e.jsxs("div",{children:[o===1&&J(),o===2&&G(),o===3&&te()]}),a==="fournisseur"&&g&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Vrification Email"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Nous avons envoy un code  6 chiffres  ",e.jsx("strong",{children:b.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code de vrification"}),e.jsx("input",{type:"text",value:p,onChange:Q=>v(Q.target.value),placeholder:"Entrez le code  6 chiffres",maxLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-center text-lg tracking-widest"})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-sm text-gray-600",children:["Code valide pendant :"," ",e.jsxs("span",{className:"font-mono font-bold text-green-600",children:[Math.floor(k/60),":",(k%60).toString().padStart(2,"0")]})]})}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:I,disabled:x,className:"text-sm text-green-600 hover:text-green-500 underline disabled:opacity-50 disabled:cursor-not-allowed",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-3 w-3 border-b-2 border-green-600 mr-1"}),"Envoi en cours..."]}):"Vous n'avez pas reu le code ? Renvoyer"})})]}),a==="fournisseur"&&o===3||a==="acheteur"?e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"acceptTerms",name:"acceptTerms",type:"checkbox",required:!0,checked:b.acceptTerms,onChange:O,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"acceptTerms",className:"ml-2 block text-sm text-gray-900",children:["J'accepte les"," ",e.jsx("a",{href:"/terms",className:"text-green-600 hover:text-green-500",children:"conditions d'utilisation"})," ","et la"," ",e.jsx("a",{href:"/privacy",className:"text-green-600 hover:text-green-500",children:"politique de confidentialit"})]})]}):null,a==="fournisseur"?e.jsxs("div",{className:"flex justify-between",children:[(o>1||g)&&e.jsx(E,{type:"button",variant:"outline",onClick:()=>{g?(N(!1),v(""),localStorage.removeItem("supplierRegistrationData")):R()},children:g?"Retour":"Prcdent"}),e.jsx("div",{className:"ml-auto",children:o<3?e.jsx(E,{type:"button",onClick:B,children:"Suivant"}):e.jsx(E,{type:"submit",disabled:d,className:"bg-green-600 hover:bg-green-700",children:d?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),g?"Vrification...":"Envoi..."]}):g?"Crer le compte":"Vrifier le mail"})})]}):e.jsx("div",{children:e.jsx(E,{type:"submit",size:"lg",className:"w-full",disabled:d,children:d?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cration en cours..."]}):"Crer mon compte acheteur"})})]})]})})})},kA=()=>{const[t,s]=u.useState(null),[r,n]=u.useState(!0),[a,i]=u.useState(null),o=u.useCallback(async()=>{try{n(!0),i(null);const l=localStorage.getItem("authToken"),c=await fetch("https://back-gabonmarquethub.onrender.com/api/users/dashboard/stats",{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(!c.ok)throw new Error(`Erreur ${c.status}: ${c.statusText}`);const d=await c.json();if(d.success&&d.data)s(d.data);else throw new Error(d.error||"Erreur lors de la rcupration des statistiques")}catch(l){const c=l instanceof Error?l.message:"Erreur inconnue";console.error("Erreur rcupration stats:",c),i(c)}finally{n(!1)}},[]);return u.useEffect(()=>{o()},[o]),{stats:t,isLoading:r,error:a,refetch:o}},EA=(t=5)=>{const[s,r]=u.useState([]),[n,a]=u.useState(!0),[i,o]=u.useState(null),l=u.useCallback(async()=>{try{a(!0),o(null);const c=localStorage.getItem("authToken"),d=await fetch(`https://back-gabonmarquethub.onrender.com/api/orders/recent?limit=${t}`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!d.ok)throw new Error(`Erreur ${d.status}: ${d.statusText}`);const f=await d.json();if(f.success&&f.data)r(f.data);else throw new Error(f.error||"Erreur lors de la rcupration des commandes")}catch(c){const d=c instanceof Error?c.message:"Erreur inconnue";console.error("Erreur rcupration commandes:",d),o(d),r([])}finally{a(!1)}},[t]);return u.useEffect(()=>{l()},[l]),{orders:s,isLoading:n,error:i,refetch:l}},PA=(t=6)=>{const[s,r]=u.useState([]),[n,a]=u.useState(!0),[i,o]=u.useState(null),l=u.useCallback(async()=>{try{a(!0),o(null);const c=localStorage.getItem("authToken"),d=await fetch(`https://back-gabonmarquethub.onrender.com/api/users/favorites?limit=${t}`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!d.ok)throw new Error(`Erreur ${d.status}: ${d.statusText}`);const f=await d.json();if(f.success&&f.data)r(f.data);else throw new Error(f.error||"Erreur lors de la rcupration des favoris")}catch(c){const d=c instanceof Error?c.message:"Erreur inconnue";console.error("Erreur rcupration favoris:",d),o(d),r([])}finally{a(!1)}},[t]);return u.useEffect(()=>{l()},[l]),{products:s,isLoading:n,error:i,refetch:l}},l1=(t=10)=>{const[s,r]=u.useState([]),[n,a]=u.useState(!0),[i,o]=u.useState(null),[l,c]=u.useState(0),d=u.useCallback(async()=>{try{a(!0),o(null);const h=localStorage.getItem("authToken"),j=await fetch(`https://back-gabonmarquethub.onrender.com/api/notifications?limit=${t}`,{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(!j.ok)throw new Error(`Erreur ${j.status}: ${j.statusText}`);const y=await j.json();if(y.notifications&&Array.isArray(y.notifications)){r(y.notifications);const g=y.notifications.filter(N=>!N.lu).length;c(g)}else if(y.success&&y.data){r(y.data);const g=y.data.filter(N=>!N.lu).length;c(g)}else throw new Error(y.error||"Erreur lors de la rcupration des notifications")}catch(h){const j=h instanceof Error?h.message:"Erreur inconnue";console.error("Erreur rcupration notifications:",j),o(j),r([]),c(0)}finally{a(!1)}},[t]),f=u.useCallback(async h=>{try{const j=localStorage.getItem("authToken");(await fetch(`https://back-gabonmarquethub.onrender.com/api/notifications/${h}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}})).ok&&(r(g=>g.map(N=>N.id===h?{...N,lu:!0}:N)),c(g=>Math.max(0,g-1)))}catch(j){console.error("Erreur marquage notification:",j)}},[]),m=u.useCallback(async()=>{try{const h=localStorage.getItem("authToken");(await fetch("https://back-gabonmarquethub.onrender.com/api/notifications/read-all",{method:"PATCH",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}})).ok&&(r(y=>y.map(g=>({...g,lu:!0}))),c(0))}catch(h){console.error("Erreur marquage toutes notifications:",h)}},[]);return u.useEffect(()=>{d()},[d]),{notifications:s,unreadCount:l,isLoading:n,error:i,refetch:d,markAsRead:f,markAllAsRead:m}},TA=()=>{const[t,s]=u.useState(""),[r,n]=u.useState("all"),a=he(),{data:i}=dt();if(u.useEffect(()=>{(i==null?void 0:i.role_id)===2&&a("/supplier/dashboard",{replace:!0})},[i==null?void 0:i.role_id,a]),(i==null?void 0:i.role_id)===2)return null;const{data:o}=kA(),{data:l}=EA(),{data:c}=PA(),d=Xr(),f=[{id:"all",name:"Toutes catgories",icon:Ua},{id:"electronics",name:"lectronique",icon:fe},{id:"textile",name:"Textile",icon:fe},{id:"food",name:"Agroalimentaire",icon:fe},{id:"construction",name:"Construction",icon:fe}],m=[{id:1,name:"Smartphone Samsung",price:25e4,image:"/api/placeholder/200/200",supplier:"TechGabon",rating:4.5,moq:10},{id:2,name:"Tissu Wax Premium",price:15e3,image:"/api/placeholder/200/200",supplier:"TextileAfrica",rating:4.8,moq:50},{id:3,name:"Caf Arabica Bio",price:8e3,image:"/api/placeholder/200/200",supplier:"CafGabon",rating:4.6,moq:25}],h=()=>{d.mutate()},j=g=>{g.preventDefault(),t.trim()&&a(`/products?search=${encodeURIComponent(t)}`)},y=g=>{n(g),g!=="all"&&a(`/products?category=${g}`)};return e.jsx(yn,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:Bt.container,children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 mb-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Bienvenue, ",i==null?void 0:i.nom," "]}),e.jsx("p",{className:"text-gray-600",children:"Dcouvrez et commandez des produits de qualit auprs de fournisseurs gabonais"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(E,{variant:"outline",onClick:()=>a("/profile"),children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Mon profil"]}),e.jsx(E,{variant:"outline",onClick:h,children:"Dconnexion"})]})]}),e.jsx("form",{onSubmit:j,className:"mt-6",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{type:"text",placeholder:"Rechercher des produits, fournisseurs...",value:t,onChange:g=>s(g.target.value),className:"pl-10"})]}),e.jsxs(E,{type:"submit",children:[e.jsx(Ve,{className:"w-4 h-4 mr-2"}),"Rechercher"]}),e.jsxs(E,{variant:"outline",onClick:()=>a("/products"),children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Filtres"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ua,{className:"w-5 h-5 mr-2"}),"Catgories"]}),e.jsx("div",{className:"space-y-2",children:f.map(g=>e.jsx("button",{onClick:()=>y(g.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${r===g.id?"bg-green-100 text-green-700":"hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g.icon,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:g.name})]})},g.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Navigation rapide"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{variant:"ghost",className:"w-full justify-start",onClick:()=>a("/orders"),children:[e.jsx(zs,{className:"w-4 h-4 mr-2"}),"Mes commandes"]}),e.jsxs(E,{variant:"ghost",className:"w-full justify-start",onClick:()=>a("/favorites"),children:[e.jsx(wt,{className:"w-4 h-4 mr-2"}),"Mes favoris"]}),e.jsxs(E,{variant:"ghost",className:"w-full justify-start",onClick:()=>a("/messages"),children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),"Messages"]}),e.jsxs(E,{variant:"ghost",className:"w-full justify-start",onClick:()=>a("/invoices"),children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),"Factures"]})]})]})]}),e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx($,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>a("/orders"),children:e.jsxs(q,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(zs,{className:"w-5 h-5 text-blue-600"}),e.jsx(U,{variant:"secondary",children:(o==null?void 0:o.commandes)||0})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Mes commandes"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Commandes passes"})]})}),e.jsx($,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>a("/favorites"),children:e.jsxs(q,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(wt,{className:"w-5 h-5 text-red-600"}),e.jsx(U,{variant:"secondary",children:(o==null?void 0:o.favoris)||0})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Favoris"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Produits sauvegards"})]})}),e.jsx($,{className:"cursor-pointer hover:shadow-md transition-shadow",children:e.jsxs(q,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(fe,{className:"w-5 h-5 text-green-600"}),e.jsx(U,{variant:"secondary",children:(o==null?void 0:o.fournisseurs)||0})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Fournisseurs"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Partenaires actifs"})]})}),e.jsx($,{className:"cursor-pointer hover:shadow-md transition-shadow",children:e.jsxs(q,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(nt,{className:"w-5 h-5 text-yellow-600"}),e.jsxs(U,{variant:"secondary",children:[(o==null?void 0:o.economies)||0,""]})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"conomies"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Ce mois-ci"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(nt,{className:"w-5 h-5 mr-2"}),"Produits en vedette"]}),e.jsx(E,{variant:"outline",onClick:()=>a("/products"),children:"Voir tout"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(g=>e.jsx($,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg mb-4 flex items-center justify-center",children:e.jsx(fe,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:g.name}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Par ",g.supplier]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-semibold text-green-600",children:[g.price.toLocaleString()," FCFA"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ot,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm text-gray-600 ml-1",children:g.rating})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["MOQ: ",g.moq," units"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{size:"sm",className:"flex-1",children:"Voir dtails"}),e.jsx(E,{size:"sm",variant:"outline",children:e.jsx(wt,{className:"w-4 h-4"})}),e.jsx(E,{size:"sm",variant:"outline",children:e.jsx(Te,{className:"w-4 h-4"})})]})]})},g.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(zs,{className:"w-5 h-5 mr-2"}),"Mes commandes rcentes"]}),e.jsx(E,{variant:"outline",onClick:()=>a("/orders"),children:"Voir toutes"})]}),l&&l.length>0?e.jsx("div",{className:"space-y-4",children:l.slice(0,3).map(g=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:["#",g.id]}),e.jsx(U,{className:"bg-green-100 text-green-800",children:g.statut})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[g.produit," - ",g.fournisseur]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(g.date).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[g.montant.toLocaleString()," FCFA"]}),e.jsx(E,{variant:"outline",size:"sm",className:"mt-2",children:"Dtails"})]})]},g.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(zs,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"Aucune commande rcente"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Commencez  explorer nos produits"}),e.jsx(E,{onClick:()=>a("/products"),children:"Dcouvrir les produits"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(wt,{className:"w-5 h-5 mr-2"}),"Mes favoris"]}),e.jsx(E,{variant:"outline",onClick:()=>a("/favorites"),children:"Voir tous"})]}),c&&c.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.slice(0,3).map(g=>e.jsx($,{className:"hover:shadow-md transition-shadow",children:e.jsxs(q,{className:"p-4",children:[e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center",children:e.jsx(fe,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:g.nom}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.fournisseur}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-semibold text-green-600",children:[g.prix_unitaire.toLocaleString()," FCFA"]}),e.jsx(E,{size:"sm",variant:"outline",children:"Voir"})]})]})},g.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(wt,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"Aucun produit favori"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Ajoutez des produits  vos favoris pour les retrouver facilement"}),e.jsx(E,{onClick:()=>a("/products"),children:"Dcouvrir des produits"})]})]})]})]})]})})})},RA=({images:t,isOpen:s,onClose:r,initialIndex:n=0})=>{const[a,i]=u.useState(n);if(u.useEffect(()=>{s&&i(n)},[s,n]),!s||!t.length)return null;const o=()=>{i(c=>(c+1)%t.length)},l=()=>{i(c=>(c-1+t.length)%t.length)};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:e.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full mx-4",children:[e.jsx(E,{variant:"outline",size:"sm",className:"absolute top-4 right-4 z-10 bg-white/80 hover:bg-white",onClick:r,children:e.jsx(Ae,{className:"w-4 h-4"})}),t.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"outline",size:"sm",className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10 bg-white/80 hover:bg-white",onClick:l,children:e.jsx(gk,{className:"w-4 h-4"})}),e.jsx(E,{variant:"outline",size:"sm",className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-10 bg-white/80 hover:bg-white",onClick:o,children:e.jsx(qs,{className:"w-4 h-4"})})]}),e.jsx("img",{src:t[a],alt:`Image ${a+1}`,className:"w-full h-full object-contain rounded-lg",crossOrigin:"anonymous",onError:c=>{c.currentTarget.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop"}}),t.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:t.map((c,d)=>e.jsx("button",{className:`w-3 h-3 rounded-full ${d===a?"bg-white":"bg-white/50"}`,onClick:()=>i(d)},d))})]})})};class AA{async getProductReviews(s,r=1,n=10,a="recent"){try{const i=new URLSearchParams({page:r.toString(),limit:n.toString(),sort:a});return await H.get(`/reviews/product/${s}?${i.toString()}`)}catch(i){throw console.error("Erreur rcupration avis:",i),i}}async addReview(s){try{return await H.post("/reviews",s)}catch(r){throw console.error("Erreur ajout avis:",r),r}}async replyToReview(s,r){try{return await H.post(`/reviews/${s}/reply`,{reponse:r})}catch(n){throw console.error("Erreur rponse avis:",n),n}}async reportReview(s,r,n){try{return await H.post(`/reviews/${s}/report`,{raison:r,description:n})}catch(a){throw console.error("Erreur signalement avis:",a),a}}async getPendingReviews(s=1,r=20){try{const n=new URLSearchParams({page:s.toString(),limit:r.toString()});return await H.get(`/reviews/pending?${n.toString()}`)}catch(n){throw console.error("Erreur rcupration avis en attente:",n),n}}async moderateReview(s,r,n){try{return await H.put(`/reviews/${s}/moderate`,{action:r,reason:n})}catch(a){throw console.error("Erreur modration avis:",a),a}}calculateAverageRating(s){if(s.length===0)return 0;const r=s.reduce((a,i)=>a+i.count,0),n=s.reduce((a,i)=>a+i.note*i.count,0);return r>0?n/r:0}getRatingDistribution(s){const r={};for(let n=1;n<=5;n++)r[n]=0;return s.forEach(n=>{r[n.note]=n.count}),r}formatReviewDate(s){return new Date(s).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}canUserReview(s,r){return s?!r.some(n=>n.utilisateur_nom.includes(s.toString())):!1}}const qc=new AA,MA=({productId:t,onReviewAdded:s})=>{const{user:r}=zu(),[n,a]=u.useState([]),[i,o]=u.useState(null),[l,c]=u.useState(!1),[d,f]=u.useState({rating:0,comment:""}),[m,h]=u.useState(!1),[j,y]=u.useState(!0),[g,N]=u.useState(1),[p,v]=u.useState("recent"),x=async(_=1,P=p)=>{try{y(!0);const T=await qc.getProductReviews(t,_,10,P);a(T.reviews),o(T),N(_)}catch(T){console.error("Erreur chargement avis:",T),M.error("Erreur lors du chargement des avis")}finally{y(!1)}};u.useEffect(()=>{x(1,p)},[t,p]);const w=async()=>{var _,P;if(d.rating===0){M.error("Veuillez donner une note");return}if(!d.comment.trim()){M.error("Veuillez crire un commentaire");return}if(d.comment.length<10){M.error("Le commentaire doit contenir au moins 10 caractres");return}try{h(!0);const T=await qc.addReview({produit_id:t,note:d.rating,commentaire:d.comment});M.success(T.message),f({rating:0,comment:""}),c(!1),T.needsModeration&&M.info("Votre avis est en attente de modration"),s==null||s(),x(1,p)}catch(T){M.error(((P=(_=T.response)==null?void 0:_.data)==null?void 0:P.error)||"Erreur lors de l'ajout de l'avis")}finally{h(!1)}},k=async _=>{var P,T;try{await qc.reportReview(_,"inappropri"),M.success("Avis signal avec succs")}catch(L){M.error(((T=(P=L.response)==null?void 0:P.data)==null?void 0:T.error)||"Erreur lors du signalement")}},S=i!=null&&i.ratingStats?qc.calculateAverageRating(i.ratingStats):0,b=(_,P=!1,T)=>e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(L=>e.jsx("button",{type:P?"button":void 0,onClick:P?()=>T==null?void 0:T(L):void 0,className:`transition-colors ${P?"cursor-pointer hover:scale-110":"cursor-default"}`,disabled:!P,children:e.jsx(ot,{className:`w-5 h-5 ${L<=_?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},L))}),C=()=>{if(!(i!=null&&i.ratingStats))return null;const _=i.ratingStats.reduce((P,T)=>P+T.count,0);return e.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(P=>{const T=i.ratingStats.find(O=>O.note===P),L=(T==null?void 0:T.count)||0,I=_>0?L/_*100:0;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium w-8",children:P}),e.jsx(ot,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:`${I}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 w-8",children:L})]},P)})})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Avis clients"}),r&&e.jsx("button",{onClick:()=>c(!l),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:l?"Annuler":"crire un avis"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:S?S.toFixed(1):"0.0"}),e.jsx("div",{className:"flex justify-center mb-2",children:b(Math.round(S||0))}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Bas sur ",(i==null?void 0:i.pagination.total)||0," avis"]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Distribution des notes"}),C()]})]})]}),l&&r&&e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Votre avis"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Note *"}),b(d.rating,!0,_=>f(P=>({...P,rating:_})))]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commentaire *"}),e.jsx("textarea",{value:d.comment,onChange:_=>f(P=>({...P,comment:_.target.value})),placeholder:"Partagez votre exprience avec ce produit...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,maxLength:1e3}),e.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[d.comment.length,"/1000 caractres"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:w,disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?"Envoi...":"Publier l'avis"}),e.jsx("button",{onClick:()=>c(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("select",{value:p,onChange:_=>v(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"recent",children:"Plus rcents"}),e.jsx("option",{value:"rating_high",children:"Meilleures notes"}),e.jsx("option",{value:"rating_low",children:"Moins bonnes notes"}),e.jsx("option",{value:"verified",children:"Achats vrifis"})]})}),e.jsxs("div",{className:"text-sm text-gray-600",children:[(i==null?void 0:i.pagination.total)||0," avis au total"]})]}),e.jsx("div",{className:"space-y-4",children:j?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement des avis..."})]}):n.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-600",children:[e.jsx(Te,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"Aucun avis pour ce produit"}),e.jsx("p",{className:"text-sm",children:"Soyez le premier  donner votre avis !"})]}):n.map(_=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:_.avatar_url?e.jsx("img",{src:_.avatar_url,alt:_.utilisateur_nom,className:"w-10 h-10 rounded-full object-cover"}):e.jsx("span",{className:"text-gray-600 font-medium",children:_.utilisateur_nom.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:_.utilisateur_nom}),e.jsxs("div",{className:"flex items-center gap-2",children:[b(_.note),_.achat_verifie&&e.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[e.jsx(ye,{className:"w-3 h-3"}),"Achat vrifi"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:new Date(_.date_creation).toLocaleDateString("fr-FR")}),r&&e.jsx("button",{onClick:()=>k(_.id),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Signaler cet avis",children:e.jsx(wk,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:_.commentaire}),_.reponse&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Rponse de ",_.fournisseur_nom]}),e.jsx("span",{className:"text-xs text-blue-600",children:new Date(_.date_reponse).toLocaleDateString("fr-FR")})]}),e.jsx("p",{className:"text-blue-800",children:_.reponse})]})]},_.id))}),i&&i.pagination.pages>1&&e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>x(g-1,p),disabled:g===1,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Prcdent"}),e.jsxs("span",{className:"px-3 py-2 text-sm text-gray-600",children:["Page ",g," sur ",i.pagination.pages]}),e.jsx("button",{onClick:()=>x(g+1,p),disabled:g===i.pagination.pages,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Suivant"})]})})]})},gf={trackProductView:async t=>await H.post(`/analytics/products/${t}/view`),trackProductClick:async(t,s="view")=>await H.post(`/analytics/products/${t}/click`,{action:s}),getProductStats:async(t,s="30d")=>await H.get(`/analytics/products/${t}/stats?period=${s}`),getGlobalStats:async(t="30d")=>await H.get(`/analytics/stats/global?period=${t}`),getUserStats:async(t="30d")=>await H.get(`/analytics/user/stats?period=${t}`)},IA=({productId:t,showDetails:s=!1})=>{var m;const[r,n]=u.useState(null),[a,i]=u.useState(!0),[o,l]=u.useState("30d"),c=async()=>{try{i(!0);const h=await gf.getProductStats(t,o);n(h)}catch(h){console.error("Erreur chargement stats:",h)}finally{i(!1)}};if(u.useEffect(()=>{c()},[t,o]),a)return e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(h=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded"})]},h))})]})});if(!r)return null;const d=h=>h>=1e6?(h/1e6).toFixed(1)+"M":h>=1e3?(h/1e3).toFixed(1)+"K":h.toString(),f=h=>{switch(h){case"7d":return"7 derniers jours";case"30d":return"30 derniers jours";case"90d":return"90 derniers jours";default:return"30 derniers jours"}};return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(gr,{className:"w-5 h-5"}),"Statistiques du produit"]}),s&&e.jsxs("select",{value:o,onChange:h=>l(h.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"7d",children:"7 jours"}),e.jsx("option",{value:"30d",children:"30 jours"}),e.jsx("option",{value:"90d",children:"90 jours"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(Oe,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:d(r.stats.total_vues)}),e.jsx("div",{className:"text-sm text-blue-700",children:"Vues"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(nt,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-green-900",children:d(r.stats.total_clics)}),e.jsx("div",{className:"text-sm text-green-700",children:"Clics"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx(wt,{className:"w-6 h-6 text-red-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-red-900",children:d(r.stats.total_favoris)}),e.jsx("div",{className:"text-sm text-red-700",children:"Favoris"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(ao,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:d(r.stats.total_partages)}),e.jsx("div",{className:"text-sm text-purple-700",children:"Partages"})]})]}),r.product&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Informations du produit"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Vues (30j):"}),e.jsx("span",{className:"font-medium",children:d(r.product.vues_30j)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Score popularit:"}),e.jsx("span",{className:"font-medium",children:Number(r.product.score_popularite||0).toFixed(1)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Note moyenne:"}),e.jsxs("span",{className:"font-medium",children:[Number(r.product.note_moyenne||0).toFixed(1),"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Nombre d'avis:"}),e.jsx("span",{className:"font-medium",children:r.product.nombre_avis})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:["Priode: ",f(o)]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total vues:"}),e.jsx("span",{className:"font-medium",children:d(r.stats.total_vues)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total clics:"}),e.jsx("span",{className:"font-medium",children:d(r.stats.total_clics)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total favoris:"}),e.jsx("span",{className:"font-medium",children:d(r.stats.total_favoris)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total partages:"}),e.jsx("span",{className:"font-medium",children:d(r.stats.total_partages)})]})]})]})]}),s&&r.dailyStats.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Os,{className:"w-4 h-4"}),"volution quotidienne"]}),e.jsx("div",{className:"space-y-3",children:r.dailyStats.slice(0,7).map((h,j)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 text-sm text-gray-600",children:new Date(h.date).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}),e.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm",children:h.vues})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(nt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:h.clics})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wt,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm",children:h.ajouts_favoris})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ao,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm",children:h.partages})]})]})]},h.date))})]}),((m=r.product)==null?void 0:m.derniere_activite)&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Dernire activit: ",new Date(r.product.derniere_activite).toLocaleString("fr-FR")]})})]})};class LA{async addSupplierReview(s){return await new Promise(n=>setTimeout(n,500)),{message:"Avis ajout avec succs (simulation)",review:{id:Date.now(),fournisseur_id:s.fournisseur_id,acheteur_id:1,note:s.note,commentaire:s.commentaire,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),acheteur_nom:"Utilisateur",acheteur_prenom:"Test"}}}async getSupplierReviews(s,r=1,n=10,a="recent"){return await new Promise(o=>setTimeout(o,300)),{reviews:[{id:1,fournisseur_id:s,acheteur_id:1,note:5,commentaire:"Excellent fournisseur, trs professionnel et ractif.",created_at:new Date(Date.now()-1e3*60*60*24).toISOString(),updated_at:new Date(Date.now()-1e3*60*60*24).toISOString(),acheteur_nom:"Dupont",acheteur_prenom:"Jean"},{id:2,fournisseur_id:s,acheteur_id:2,note:4,commentaire:"Trs bon service, produits de qualit.",created_at:new Date(Date.now()-1e3*60*60*48).toISOString(),updated_at:new Date(Date.now()-1e3*60*60*48).toISOString(),acheteur_nom:"Martin",acheteur_prenom:"Marie"},{id:3,fournisseur_id:s,acheteur_id:3,note:5,commentaire:"Je recommande vivement ce fournisseur !",created_at:new Date(Date.now()-1e3*60*60*72).toISOString(),updated_at:new Date(Date.now()-1e3*60*60*72).toISOString(),acheteur_nom:"Bernard",acheteur_prenom:"Pierre"}],stats:{note_moyenne:4.7,nombre_avis:3,distribution:{5:2,4:1,3:0,2:0,1:0}},pagination:{page:1,limit:10,total:3,pages:1}}}async getSupplierStats(s){return await new Promise(r=>setTimeout(r,200)),{note_moyenne:4.7,nombre_avis:3,distribution:{5:2,4:1,3:0,2:0,1:0}}}async reportSupplierReview(s,r){try{return{message:"Avis signal avec succs"}}catch(n){throw console.error("Erreur signalement avis fournisseur:",n),n}}calculateAverageRating(s){return s.note_moyenne||0}getRatingDistribution(s){return s.distribution||{}}}const qo=new LA,DA=({fournisseurId:t,fournisseurNom:s,onReviewAdded:r})=>{const[n,a]=u.useState([]),[i,o]=u.useState(null),[l,c]=u.useState(!1),[d,f]=u.useState({rating:0,comment:""}),[m,h]=u.useState(!1),[j,y]=u.useState(!0),[g,N]=u.useState(1),[p,v]=u.useState("recent"),x=Qs(),w=async(P=1,T=p)=>{try{y(!0);const L=await qo.getSupplierReviews(t,P,10,T);a(L.reviews),o(L.stats),N(P)}catch(L){console.error("Erreur chargement avis fournisseur:",L),M.error("Erreur lors du chargement des avis")}finally{y(!1)}},k=async()=>{try{const P=await qo.getSupplierStats(t);o(P)}catch(P){console.error("Erreur chargement stats fournisseur:",P)}};u.useEffect(()=>{w(1,p)},[t,p]);const S=async()=>{var P,T;if(!x){M.error("Veuillez vous connecter pour noter ce fournisseur");return}if(d.rating===0){M.error("Veuillez donner une note");return}if(!d.comment.trim()){M.error("Veuillez crire un commentaire");return}if(d.comment.length<10){M.error("Le commentaire doit contenir au moins 10 caractres");return}try{h(!0);const L=await qo.addSupplierReview({fournisseur_id:t,note:d.rating,commentaire:d.comment});M.success(L.message),f({rating:0,comment:""}),c(!1),r==null||r(),w(1,p),k()}catch(L){M.error(((T=(P=L.response)==null?void 0:P.data)==null?void 0:T.error)||"Erreur lors de l'ajout de l'avis")}finally{h(!1)}},b=async P=>{var T,L;try{await qo.reportSupplierReview(P,"inappropri"),M.success("Avis signal avec succs")}catch(I){M.error(((L=(T=I.response)==null?void 0:T.data)==null?void 0:L.error)||"Erreur lors du signalement")}},C=i?qo.calculateAverageRating(i):0,_=(P,T="md")=>e.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(L=>e.jsx(ot,{className:`w-4 h-4 ${L<=P?"text-yellow-400 fill-current":"text-gray-300"}`},L))});return j?e.jsx($,{children:e.jsx(q,{className:"p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(P=>e.jsx("div",{className:"h-16 bg-gray-200 rounded"},P))})]})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs($,{children:[e.jsxs(K,{children:[e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"w-5 h-5 text-yellow-500"}),"Avis sur ",s]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Mode dmonstration - Les avis sont simuls"})]}),e.jsx(q,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:C.toFixed(1)}),e.jsx("div",{className:"flex items-center justify-center mt-1",children:_(Math.round(C),"lg")}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[(i==null?void 0:i.nombre_avis)||0," avis"]})]}),e.jsx("div",{className:"space-y-1",children:[5,4,3,2,1].map(P=>{var I;const T=((I=i==null?void 0:i.distribution)==null?void 0:I[P])||0,L=i!=null&&i.nombre_avis?T/i.nombre_avis*100:0;return e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"w-3",children:P}),e.jsx(ot,{className:"w-3 h-3 text-yellow-400 fill-current"}),e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${L}%`}})}),e.jsx("span",{className:"w-8 text-gray-600",children:T})]},P)})})]}),x&&e.jsxs(E,{onClick:()=>c(!l),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ot,{className:"w-4 h-4 mr-2"}),"Noter ce fournisseur"]})]})})]}),l&&e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{children:["Donner votre avis sur ",s]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Note"}),e.jsx(nc,{rating:d.rating,onRatingChange:P=>f(T=>({...T,rating:P})),size:"lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Commentaire"}),e.jsx(Ye,{value:d.comment,onChange:P=>f(T=>({...T,comment:P.target.value})),placeholder:"Partagez votre exprience avec ce fournisseur...",rows:4})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{onClick:S,disabled:m,className:"bg-green-600 hover:bg-green-700",children:m?"Publication...":"Publier l'avis"}),e.jsx(E,{variant:"outline",onClick:()=>c(!1),children:"Annuler"})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Y,{children:"Avis rcents"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{variant:p==="recent"?"default":"outline",size:"sm",onClick:()=>v("recent"),children:"Rcents"}),e.jsx(E,{variant:p==="rating_high"?"default":"outline",size:"sm",onClick:()=>v("rating_high"),children:"Meilleures notes"}),e.jsx(E,{variant:p==="rating_low"?"default":"outline",size:"sm",onClick:()=>v("rating_low"),children:"Moins bonnes notes"})]})]})}),e.jsx(q,{children:n.length>0?e.jsx("div",{className:"space-y-4",children:n.map(P=>e.jsx("div",{className:"border-b border-gray-100 pb-4 last:border-b-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"font-medium",children:[P.acheteur_nom," ",P.acheteur_prenom]}),e.jsx(U,{variant:"outline",className:"text-xs",children:new Date(P.created_at).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_(P.note),e.jsxs("span",{className:"text-sm text-gray-600",children:[P.note,"/5"]})]}),e.jsx("p",{className:"text-gray-700",children:P.commentaire})]}),e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>b(P.id),className:"text-gray-400 hover:text-red-500",children:e.jsx(Ak,{className:"w-4 h-4"})})]})},P.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_i,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Aucun avis pour ce fournisseur"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Soyez le premier  donner votre avis !"})]})})]})]})},OA=({supplier:t,productContext:s})=>{const r=he(),[n,a]=u.useState(!1),i=Qs(),o=async()=>{if(!i){M.error("Veuillez vous connecter pour contacter le fournisseur"),r("/login");return}a(!0);try{const l=new URLSearchParams({supplier:t.id.toString(),...s&&{product:s.id.toString(),productName:s.nom}});r(`/messages?${l.toString()}`)}catch{M.error("Erreur lors de la redirection")}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx($,{children:e.jsx(K,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Ue,{className:"w-8 h-8 text-green-600"})}),e.jsxs("div",{children:[e.jsxs(Y,{className:"text-xl flex items-center gap-2",children:[t.nom_entreprise,t.statut_verification==="verifie"&&e.jsxs(U,{className:"bg-green-100 text-green-800",children:[e.jsx($e,{className:"w-3 h-3 mr-1"}),"Vrifi"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(nc,{rating:Number(t.note_moyenne)||0,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[(Number(t.note_moyenne)||0).toFixed(1)," (",t.nombre_avis||0," avis)"]})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]})]}),e.jsxs(E,{onClick:o,disabled:n,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),n?"Redirection...":"Contacter"]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"text-lg flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5 text-blue-600"}),"Informations commerciales"]})}),e.jsxs(q,{className:"space-y-4",children:[t.delai_traitement&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(Tt,{className:"w-4 h-4"}),"Dlai de traitement"]}),e.jsxs("span",{className:"font-medium",children:[t.delai_traitement," jours"]})]}),t.capacite_approvisionnement&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4"}),"Capacit d'approvisionnement"]}),e.jsxs("span",{className:"font-medium",children:[Number(t.capacite_approvisionnement).toLocaleString()," units/mois"]})]}),t.port_depart&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(Ht,{className:"w-4 h-4"}),"Port de dpart"]}),e.jsx("span",{className:"font-medium",children:t.port_depart})]}),t.delai_livraison_estime&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(wu,{className:"w-4 h-4"}),"Dlai de livraison estim"]}),e.jsx("span",{className:"font-medium",children:t.delai_livraison_estime})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"text-lg flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5 text-green-600"}),"Politiques et garanties"]})}),e.jsxs(q,{className:"space-y-4",children:[t.garantie&&e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2 mb-1",children:[e.jsx(pn,{className:"w-4 h-4"}),"Garantie"]}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded-lg",children:t.garantie})]}),t.politique_retour&&e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2 mb-1",children:[e.jsx(ye,{className:"w-4 h-4"}),"Politique de retour"]}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded-lg",children:t.politique_retour})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2 mb-2",children:[e.jsx($e,{className:"w-4 h-4"}),"Certifications"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.statut_verification==="verifie"&&e.jsxs(U,{variant:"outline",className:"text-green-700 border-green-300",children:[e.jsx(ye,{className:"w-3 h-3 mr-1"}),"Entreprise vrifie"]}),e.jsxs(U,{variant:"outline",className:"text-blue-700 border-blue-300",children:[e.jsx(pn,{className:"w-3 h-3 mr-1"}),"Fournisseur certifi"]})]})]})]})]})]}),s&&e.jsx($,{className:"bg-green-50 border-green-200",children:e.jsx(q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Intress par ce produit ?"}),e.jsxs("p",{className:"text-green-700 text-sm",children:["Contactez ",t.nom_entreprise,' pour "',s.nom,'"']})]}),e.jsxs(E,{onClick:o,disabled:n,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),n?"Redirection...":"Envoyer un message"]})]})})}),e.jsx(DA,{fournisseurId:t.id,fournisseurNom:t.nom_entreprise,onReviewAdded:()=>{}})]})},FA=t=>{const[s,r]=u.useState(null),[n,a]=u.useState(!0),[i,o]=u.useState(null),l=u.useCallback(async()=>{var c,d;if(!t||t<=0){r(null),o("ID de produit invalide"),a(!1);return}try{a(!0),o(null);const f=await H.get(`/products/${t}`);r(f.data||f)}catch(f){const m=((d=(c=f==null?void 0:f.response)==null?void 0:c.data)==null?void 0:d.error)||(f==null?void 0:f.message)||"Erreur lors de la rcupration du produit";console.error("Erreur rcupration produit:",m),o(m),r(null)}finally{a(!1)}},[t]);return u.useEffect(()=>{l()},[l]),{product:s,isLoading:n,error:i,refetch:l}},zA=({productId:t,trackView:s=!0,trackClicks:r=!0,delay:n=2e3})=>{const a=u.useRef(!1),i=u.useRef();u.useEffect(()=>{if(!(!s||!t||a.current))return i.current&&clearTimeout(i.current),i.current=setTimeout(async()=>{try{await gf.trackProductView(t),a.current=!0,console.log(`Vue enregistre pour le produit ${t}`)}catch(c){console.error("Erreur enregistrement vue:",c)}},n),()=>{i.current&&clearTimeout(i.current)}},[t,s,n]);const o=async(c="view")=>{if(!(!r||!t))try{await gf.trackProductClick(t,c),console.log(`Clic enregistr pour le produit ${t}, action: ${c}`)}catch(d){console.error("Erreur enregistrement clic:",d)}};return{trackClick:o,trackExternalClick:(c,d="share")=>{o(d),window.open(c,"_blank","noopener,noreferrer")},hasTrackedView:a.current}},$A=()=>{const{id:t}=ri(),s=he(),r=Qs(),[n,a]=u.useState(0),[i,o]=u.useState("description"),[l,c]=u.useState(!1),[d,f]=u.useState([]),[m,h]=u.useState(!1),[j,y]=u.useState(null),[g,N]=u.useState(!1),{product:p,isLoading:v,error:x}=FA(parseInt(t||"0")),{trackClick:w}=zA({productId:parseInt(t||"0"),trackView:!0,trackClicks:!0,delay:2e3}),k=async()=>{if(t)try{h(!0);const _=await H.get(`/reviews/product/${t}`);f(_.reviews||_||[])}catch(_){console.error("Erreur chargement avis:",_),f([])}finally{h(!1)}},S=async()=>{if(p!=null&&p.fournisseur_id)try{N(!0);const _=await H.get(`/entreprises/${p.fournisseur_id}`);y(_)}catch(_){console.error("Erreur chargement fournisseur:",_)}finally{N(!1)}};if(u.useEffect(()=>{k()},[t]),u.useEffect(()=>{p!=null&&p.fournisseur_id&&S()},[p==null?void 0:p.fournisseur_id]),v)return e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gabon-green mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement du produit..."})]})})});if(x||!p)return e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Produit non trouv"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Le produit que vous recherchez n'existe pas."}),e.jsxs(E,{onClick:()=>s("/products"),children:[e.jsx(Ys,{className:"w-4 h-4 mr-2"}),"Retour aux produits"]})]})})});const b=async()=>{var _,P;try{if(!r){M.error("Veuillez vous connecter pour ajouter aux favoris"),s("/login");return}await H.post("/users/favorites",{produit_id:p.id}),M.success("Produit ajout aux favoris"),w("favorite")}catch(T){console.error("Erreur favoris:",T),M.error(((P=(_=T.response)==null?void 0:_.data)==null?void 0:P.error)||"Erreur lors de l'ajout aux favoris")}},C=p.images&&p.images.length>0?p.images.map(_=>{const P=_.url||_;return Dt(P)}):p.image_principale?[Dt(p.image_principale)]:["https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=600&h=400&fit=crop"];return e.jsxs(De,{children:[e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(rc,{fallbackPath:"/products",className:"mb-4"}),e.jsx(gp,{items:[{label:"Produits",href:"/products"},{label:p.categorie||"Catgorie",href:`/products?categorie=${p.categorie||""}`},{label:p.nom}]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"aspect-square bg-white rounded-lg overflow-hidden relative",children:[e.jsx("img",{src:C[n],alt:p.nom,className:"w-full h-full object-contain cursor-pointer bg-white",onClick:()=>c(!0),crossOrigin:"anonymous",style:{maxHeight:"500px"},onError:_=>{_.currentTarget.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=600&h=400&fit=crop"}}),e.jsx(E,{variant:"outline",size:"sm",className:"absolute top-4 right-4 bg-white/80 hover:bg-white",onClick:()=>c(!0),children:e.jsx(Oe,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex gap-2",children:C.map((_,P)=>e.jsx("button",{onClick:()=>a(P),className:`w-20 h-20 rounded-lg overflow-hidden border-2 ${n===P?"border-green-600":"border-gray-200"}`,children:e.jsx("img",{src:_,alt:`${p.nom} ${P+1}`,className:"w-full h-full object-contain bg-white",crossOrigin:"anonymous",onError:T=>{T.currentTarget.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=80&h=80&fit=crop"}})},P))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[p.featured&&e.jsx(U,{className:"mb-2 bg-yellow-400 text-gray-800",children:"Produit Vedette"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:p.nom}),e.jsx("p",{className:"text-gray-600 mb-4",children:p.description}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Par"}),e.jsx("span",{className:"font-medium text-green-600",children:p.fournisseur||"Fournisseur"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(nc,{rating:0,readonly:!0,size:"sm"}),e.jsx("span",{className:"text-sm text-gray-600",children:"(0 avis)"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[r?e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[p.prix_unitaire,""]}),p.unite&&p.unite!=="kg"&&e.jsxs("span",{className:"text-gray-600",children:["/ ",p.unite]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Prix indicatif - Contactez le fournisseur pour un devis personnalis"})]}):e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Prix sur demande"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Connectez-vous pour voir les informations de prix et contacter le fournisseur"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"MOQ:"}),e.jsxs("span",{className:"font-medium ml-1",children:[p.moq||1," units"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Stock:"}),e.jsxs("span",{className:"font-medium ml-1",children:[p.stock_disponible||"N/A"," disponibles"]})]})]}),e.jsx("div",{className:"space-y-3",children:r?e.jsxs(e.Fragment,{children:[e.jsxs(E,{size:"lg",className:"w-full bg-gabon-green hover:bg-gabon-green/90",onClick:()=>{w("view"),s(`/messages?supplier=${p.fournisseur_id}&product=${p.id}&productName=${encodeURIComponent(p.nom)}`)},children:[e.jsx(Te,{className:"w-5 h-5 mr-2"}),"Contacter le fournisseur"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(E,{variant:"outline",size:"lg",onClick:b,children:[e.jsx(wt,{className:"w-4 h-4 mr-2"}),"Favoris"]}),e.jsxs(E,{variant:"outline",size:"lg",onClick:()=>{w("view"),s(`/messages?supplier=${p.fournisseur_id}&product=${p.id}&productName=${encodeURIComponent(p.nom)}&action=quote`)},children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),"Demander un devis"]})]})]}):e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Fonctionnalits rserves aux membres"}),e.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Connectez-vous pour contacter le fournisseur, demander un devis et accder aux prix"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(E,{onClick:()=>s("/login"),className:"bg-blue-600 hover:bg-blue-700",children:"Se connecter"}),e.jsx(E,{variant:"outline",onClick:()=>s("/register"),className:"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white",children:"Crer un compte"})]})]})})}),e.jsxs("div",{className:"flex items-center justify-center gap-6 mt-6 pt-6 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx($e,{className:"w-4 h-4 text-green-600"}),"Paiement scuris"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(wu,{className:"w-4 h-4 text-blue-600"}),"Livraison rapide"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(pn,{className:"w-4 h-4 text-yellow-600"}),"Qualit garantie"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:["description","specifications","avis","statistiques","fournisseur"].map(_=>e.jsxs("button",{onClick:()=>o(_),className:`py-4 px-1 border-b-2 font-medium text-sm ${i===_?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[_==="description"&&"Description",_==="specifications"&&"Spcifications",_==="avis"&&"Avis",_==="statistiques"&&"Statistiques",_==="fournisseur"&&"Fournisseur"]},_))})}),e.jsxs("div",{className:"p-6",children:[i==="description"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Description"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:p.description}),p.description_longue&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Description dtaille"}),e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:p.description_longue})]})]}),p.fonctionnalites&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Fonctionnalits principales"}),e.jsx("div",{className:"text-gray-700 whitespace-pre-line",children:p.fonctionnalites})]}),p.instructions_utilisation&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Instructions d'utilisation"}),e.jsx("div",{className:"text-gray-700 whitespace-pre-line",children:p.instructions_utilisation})]}),p.couleurs_disponibles&&p.couleurs_disponibles.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Couleurs disponibles"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.couleurs_disponibles.map((_,P)=>e.jsx(U,{variant:"outline",children:_},P))})]}),p.certifications&&p.certifications.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Certifications"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.certifications.map((_,P)=>e.jsxs(U,{variant:"secondary",className:"flex items-center gap-1",children:[e.jsx(pn,{className:"w-3 h-3"}),_]},P))})]}),p.prix_degressifs&&p.prix_degressifs.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Prix dgressifs"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Quantit minimum"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Quantit maximum"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Prix unitaire"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"conomie"})]})}),e.jsx("tbody",{children:p.prix_degressifs.map((_,P)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:_.quantite_min}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:_.quantite_max||"Illimit"}),e.jsxs("td",{className:"border border-gray-300 px-4 py-2 font-medium",children:[_.prix_unitaire,""]}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-green-600",children:p.prix_unitaire>_.prix_unitaire?`-${((p.prix_unitaire-_.prix_unitaire)/p.prix_unitaire*100).toFixed(1)}%`:"-"})]},P))})]})})]}),(p.politique_retour||p.garantie)&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.politique_retour&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Politique de retour"}),e.jsx("p",{className:"text-gray-700 text-sm",children:p.politique_retour})]}),p.garantie&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Garantie"}),e.jsx("p",{className:"text-gray-700 text-sm",children:p.garantie})]})]})]}),i==="specifications"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-lg",children:"Caractristiques physiques"}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Poids:"}),e.jsx("span",{className:"text-gray-700",children:p.poids?`${p.poids} kg`:"N/A"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Dimensions:"}),e.jsx("span",{className:"text-gray-700",children:p.dimensions||"N/A"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Matriaux:"}),e.jsx("span",{className:"text-gray-700",children:p.materiaux||"N/A"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Unit:"}),e.jsx("span",{className:"text-gray-700",children:p.unite||"pice"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-lg",children:"Informations commerciales"}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"MOQ:"}),e.jsxs("span",{className:"text-gray-700",children:[p.moq||1," ",p.unite||"pice","(s)"]})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Stock disponible:"}),e.jsx("span",{className:"text-gray-700",children:p.stock_disponible||"N/A"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Capacit d'approvisionnement:"}),e.jsx("span",{className:"text-gray-700",children:p.capacite_approvisionnement?`${p.capacite_approvisionnement}/mois`:"N/A"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Dlai de traitement:"}),e.jsxs("span",{className:"text-gray-700",children:[p.delai_traitement||7," jours"]})]})]})]}),(p.port_depart||p.delai_livraison_estime)&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-lg mb-3",children:"Expdition"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.port_depart&&e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Port de dpart:"}),e.jsx("span",{className:"text-gray-700",children:p.port_depart})]}),p.delai_livraison_estime&&e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Dlai de livraison:"}),e.jsx("span",{className:"text-gray-700",children:p.delai_livraison_estime})]})]})]}),p.conditions_paiement&&p.conditions_paiement.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-lg mb-3",children:"Conditions de paiement acceptes"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.conditions_paiement.map((_,P)=>e.jsx(U,{variant:"outline",children:_},P))})]})]}),i==="avis"&&e.jsx(MA,{productId:p.id,onReviewAdded:k}),i==="statistiques"&&e.jsx(IA,{productId:p.id,showDetails:!0}),i==="fournisseur"&&e.jsx("div",{"data-tab":"fournisseur",children:g?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gabon-green mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des informations du fournisseur..."})]}):j?e.jsx(OA,{supplier:{id:j.id||p.fournisseur_id||0,nom_entreprise:j.nom_entreprise||p.fournisseur||"Fournisseur",description:j.description||j.secteur_activite||"Fournisseur professionnel",note_moyenne:j.note_moyenne||0,nombre_avis:j.nombre_avis||0,statut_verification:j.statut_verification||"non_verifie",delai_traitement:j.delai_traitement||p.delai_traitement||"N/A",port_depart:j.port_depart||p.port_depart||"N/A",capacite_approvisionnement:j.capacite_approvisionnement||p.capacite_approvisionnement||"N/A",delai_livraison_estime:j.delai_livraison_estime||p.delai_livraison_estime||"N/A",politique_retour:j.politique_retour||p.politique_retour||"N/A",garantie:j.garantie||p.garantie||"N/A"},productContext:{id:p.id,nom:p.nom}}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-600",children:"Impossible de charger les informations du fournisseur"})})})]})]})]})}),e.jsx(RA,{images:C,isOpen:l,onClose:()=>c(!1),initialIndex:n})]})},qA=()=>{const t=wn(),s=he();return u.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-800",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Oops! Page introuvable"}),e.jsx("p",{className:"text-gray-500 mb-8",children:"La page que vous recherchez n'existe pas."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(E,{onClick:()=>s("/"),className:"bg-gabon-green hover:bg-gabon-green/90",children:[e.jsx(Ha,{className:"w-4 h-4 mr-2"}),"Retour  l'accueil"]}),e.jsxs(E,{onClick:()=>s("/products"),variant:"outline",className:"border-gabon-green text-gabon-green hover:bg-gabon-green hover:text-white",children:[e.jsx(Rk,{className:"w-4 h-4 mr-2"}),"Continuer les achats"]})]})]})})},BA=()=>{var a;const[t,s]=u.useState(null),r=[{id:"fournisseur",title:"Fournisseur / Entreprise",description:"Vous tes une entreprise souhaitant vendre vos produits sur GabMarketHub",icon:dn,benefits:["Accs  un large rseau d'acheteurs B2B","Gestion simplifie de votre catalogue","Outils de communication intgrs","Systme de validation des documents","Analytics et statistiques de vente"],products:["lectronique","lectromnager","Textile","Artisanat","Machines industrielles"]},{id:"acheteur",title:"Acheteur Professionnel",description:"Vous tes un acheteur professionnel recherchant des produits de qualit",icon:Pk,benefits:["Accs  des milliers de produits","Ngociation directe avec les fournisseurs","Prix prfrentiels pour achats en gros","Suivi en temps rel de vos favoris","Support client ddi"],products:["Produits artisanaux","quipements professionnels","Matires premires","Produits finis"]}],n=()=>{if(t){const i=new URLSearchParams({type:t});window.location.href=`/register?${i.toString()}`}};return e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx(Yr,{size:"xl",onClick:()=>navigate("/")})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Rejoignez GabMarketHub"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Choisissez votre profil pour commencer  dvelopper vos changes commerciaux sur la premire plateforme B2B du Gabon"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:r.map(i=>{const o=i.icon,l=t===i.id;return e.jsxs($,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg ${l?"ring-2 ring-green-600 shadow-lg transform scale-105":"hover:shadow-md"}`,onClick:()=>s(i.id),children:[e.jsxs(K,{className:"text-center pb-4",children:[e.jsx("div",{className:`w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4 ${l?"bg-green-600":"bg-gray-100"}`,children:e.jsx(o,{className:`w-8 h-8 ${l?"text-white":"text-gray-600"}`})}),e.jsx(Y,{className:"text-2xl font-bold text-gray-900",children:i.title}),e.jsx(Uw,{className:"text-gray-600",children:i.description})]}),e.jsxs(q,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Avantages :"}),e.jsx("ul",{className:"space-y-2",children:i.benefits.map((c,d)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(ye,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:c})]},d))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Produits typiques :"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.products.map((c,d)=>e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:c},d))})]})]})]},i.id)})}),e.jsxs("div",{className:"text-center",children:[e.jsxs(E,{onClick:n,disabled:!t,size:"lg",className:"px-8 py-3 text-lg",children:["Continuer l'inscription",e.jsx(It,{className:"w-5 h-5 ml-2"})]}),t&&e.jsxs("p",{className:"text-sm text-gray-600 mt-4",children:["Vous avez slectionn : ",e.jsx("strong",{children:(a=r.find(i=>i.id===t))==null?void 0:a.title})]})]}),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Besoin d'aide ?"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Notre quipe est l pour vous accompagner dans votre inscription et vos premiers pas sur GabMarketHub."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(E,{variant:"outline",children:" support@gabmarkethub.com"}),e.jsx(E,{variant:"outline",children:" +241 01 23 45 67"})]})]})})]})})})})},VA=()=>{const[t,s]=u.useState({email:"",mot_de_passe:""}),[r,n]=u.useState(!1),[a,i]=u.useState(!1),o=he(),l=f=>{const{name:m,value:h}=f.target;s(j=>({...j,[m]:h}))},c=fp(),d=async f=>{if(f.preventDefault(),!t.email||!t.mot_de_passe){M.error("Veuillez remplir tous les champs");return}i(!0);try{await c(t),o("/supplier/dashboard")}catch{}finally{i(!1)}};return e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"mx-auto h-12 w-12 text-gabon-green"}),e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Espace Fournisseur"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Connectez-vous  votre compte fournisseur"})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{className:"text-center",children:"Connexion"})}),e.jsx(q,{children:e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email professionnel"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"email",type:"email",required:!0,placeholder:"contact@votre-entreprise.com",value:t.email,onChange:l,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"mot_de_passe",type:r?"text":"password",required:!0,placeholder:"Votre mot de passe",value:t.mot_de_passe,onChange:l,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>n(!r),children:r?e.jsx(Bs,{className:"w-5 h-5"}):e.jsx(Oe,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-gabon-green focus:ring-gabon-green border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Se souvenir de moi"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(Br,{to:"/supplier/forgot-password",className:"font-medium text-gabon-green hover:text-gabon-green/80",children:"Mot de passe oubli ?"})})]}),e.jsx(E,{type:"submit",disabled:a,className:"w-full bg-gabon-green hover:bg-gabon-green/90",children:a?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Connexion en cours..."]}):"Se connecter"}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Pas encore inscrit ?"," ",e.jsx(Br,{to:"/supplier/register",className:"font-medium text-gabon-green hover:text-gabon-green/80",children:"Crer un compte fournisseur"})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Vous tes un client ?"," ",e.jsx(Br,{to:"/login",className:"font-medium text-gabon-green hover:text-gabon-green/80",children:"Connexion client"})]})})]})})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Avantages de l'espace fournisseur"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:" Gestion complte de vos produits"}),e.jsx("li",{children:" Statistiques de vente dtailles"}),e.jsx("li",{children:" Communication directe avec les clients"}),e.jsx("li",{children:" Gestion des documents et certifications"})]})]})]})})})},UA=()=>{const[t,s]=u.useState([]),[r,n]=u.useState(null),[a,i]=u.useState(!0),[o,l]=u.useState(null),c=async()=>{try{i(!0),l(null);const m=await H.get("/supplier/documents");m&&m.documents?(s(m.documents),n(m.stats)):(s([]),n(null))}catch(m){console.error("Erreur rcupration documents:",m),l(m.message||"Erreur lors du chargement des documents"),s([]),n(null)}finally{i(!1)}},d=async m=>{try{l(null);const h=new FormData;h.append("type_document",m.type_document),h.append("document",m.fichier),m.description&&h.append("description",m.description),console.log(" Upload document:",{type_document:m.type_document,fichier:m.fichier.name,fichier_size:m.fichier.size,fichier_type:m.fichier.type});for(let[y,g]of h.entries())console.log(`FormData: ${y} =`,g);const j=await H.post("/supplier/documents/upload",h);return j&&j.message?(await c(),{success:!0,message:j.message}):{success:!1,error:"Erreur lors de l'upload"}}catch(h){console.error("Erreur upload document:",h);const j=h.message||"Erreur lors de l'upload du document";return l(j),{success:!1,error:j}}},f=async m=>{try{return l(null),await H.delete(`/supplier/documents/${m}`),s(h=>h.filter(j=>j.id!==m)),await c(),{success:!0}}catch(h){console.error("Erreur suppression document:",h);const j=h.message||"Erreur lors de la suppression du document";return l(j),{success:!1,error:j}}};return u.useEffect(()=>{c()},[]),{documents:t,stats:r,loading:a,error:o,fetchDocuments:c,uploadDocument:d,deleteDocument:f}},HA=["certificat_enregistrement","certificat_fiscal","piece_identite_representant"],WA={pharmaceutique:["licence_commerciale","certificat_sanitaire"],medicaments:["licence_commerciale","certificat_sanitaire"],"complements-alimentaires":["licence_commerciale","certificat_sanitaire"],"boissons-alcoolisees":["licence_commerciale"],vins:["licence_commerciale"],spiritueux:["licence_commerciale"],bieres:["licence_commerciale"],viande:["licence_commerciale","certificat_sanitaire","certificat_origine"],"produits-laitiers":["licence_commerciale","certificat_sanitaire","certificat_origine"],poisson:["certificat_sanitaire","certificat_origine"],"produits-frais":["certificat_sanitaire","certificat_origine"],electronique:["conformite_ce"],telephones:["conformite_ce"],ordinateurs:["conformite_ce"],electromenager:["conformite_ce"],telecoms:["licence_commerciale","conformite_ce"],"materiel-medical":["licence_commerciale","conformite_ce"],alimentaire:["certificat_origine"],pates:["certificat_origine"],conserves:["certificat_origine"],huiles:["certificat_origine"],agricole:["certificat_origine"],cacao:["certificat_origine"],cafe:["certificat_origine"],fruits:["certificat_origine"],textile:["certificat_origine"],meubles:["certificat_origine"],manufacture:["certificat_origine"],jouets:["conformite_ce"],cosmetiques:["conformite_ce","certificat_sanitaire"],maquillage:["conformite_ce","certificat_sanitaire"],soins:["conformite_ce","certificat_sanitaire"],epi:["conformite_ce"],casques:["conformite_ce"],gants:["conformite_ce"],"protection-individuelle":["conformite_ce"]},GA=t=>{const s=new Set;return HA.forEach(r=>s.add(r)),t.forEach(r=>{const n=WA[r.toLowerCase()];n&&n.forEach(a=>s.add(a))}),Array.from(s)},c1=(t,s)=>{const r=s.filter(n=>n.statut_verification==="verifie").map(n=>n.type_document);return t.filter(n=>!r.includes(n))},XA=(t,s)=>c1(t,s).length===0,d1=()=>{const[t,s]=u.useState(null),[r,n]=u.useState(!0),[a,i]=u.useState(null),o=async()=>{try{n(!0),i(null);const[c,d]=await Promise.all([H.get("/supplier/products/categories"),H.get("/supplier/documents")]),f=c||[],m=(d==null?void 0:d.documents)||[],h=f.map(p=>p.slug),j=GA(h),y=c1(j,m),g=XA(j,m),N=j.map(p=>{const v=m.find(S=>S.type_document===p),x=!!v,w=(v==null?void 0:v.statut_verification)==="verifie",k=y.includes(p);return{type:p,required:!0,uploaded:x,validated:w,missing:k,description:l(p)}});s({requirements:N,canPublish:g,missingCount:y.length,totalRequired:j.length})}catch(c){console.error("Erreur rcupration exigences documents:",c),i(c.message||"Erreur lors du chargement des exigences")}finally{n(!1)}},l=c=>({certificat_enregistrement:"Obligatoire pour tous les fournisseurs",certificat_fiscal:"Obligatoire pour tous les fournisseurs",piece_identite_representant:"Obligatoire pour tous les fournisseurs",licence_commerciale:"Requis pour : produits pharmaceutiques, alcooliss, agroalimentaires sensibles, lectroniques soumis  autorisation",certificat_origine:"Requis pour : produits alimentaires, agricoles, manufacturs (tous les produits imports)",conformite_ce:"Requis pour : produits lectroniques, jouets, cosmtiques, quipements de protection",certificat_sanitaire:"Requis pour : produits alimentaires frais, cosmtiques, pharmaceutiques",autre:"Document spcifique selon vos besoins"})[c]||"";return u.useEffect(()=>{o()},[]),{data:t,loading:r,error:a,refetch:o}},cl={certificat_enregistrement:"Certificat d'enregistrement (registre de commerce)",certificat_fiscal:"Certificat fiscal (attestation fiscale  jour)",piece_identite_representant:"Pice d'identit du reprsentant lgal",licence_commerciale:"Licence commerciale",certificat_origine:"Certificat d'origine",conformite_ce:'Conformit CE (marquage "CE")',certificat_sanitaire:"Certificat sanitaire",autre:"Autre document"},K0={en_attente:"bg-yellow-100 text-yellow-800",valide:"bg-green-100 text-green-800",rejete:"bg-red-100 text-red-800"},Y0={en_attente:"En attente",valide:"Valid",rejete:"Rejet"},KA=()=>{const{documents:t,loading:s,error:r,uploadDocument:n,deleteDocument:a,fetchDocuments:i}=UA(),{data:o,loading:l,refetch:c}=d1(),[d,f]=u.useState(!1),[m,h]=u.useState(!1),[j,y]=u.useState("piece_identite_representant"),g=async v=>{var S;const x=(S=v.target.files)==null?void 0:S[0];if(!x)return;if(x.size>10*1024*1024){M.error("Le fichier est trop volumineux (max 10MB)");return}if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(x.type)){M.error("Type de fichier non support (JPG, PNG, PDF uniquement)");return}h(!0);const k=await n({type_document:j,fichier:x});h(!1),k.success?(M.success("Document upload avec succs"),f(!1),await i(),c()):M.error(k.error||"Erreur lors de l'upload")},N=async v=>{if(!confirm(`tes-vous sr de vouloir supprimer le document "${v.nom_fichier}" ?`))return;const x=await a(v.id);x.success?(M.success("Document supprim avec succs"),await i(),c()):M.error(x.error||"Erreur lors de la suppression")},p=async v=>{try{const x=await fetch(`https://back-gabonmarquethub.onrender.com/api/supplier/documents/${v.id}/download`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!x.ok)throw new Error("Erreur lors du tlchargement");const w=await x.blob(),k=window.URL.createObjectURL(w),S=document.createElement("a");S.href=k,S.download=v.nom_fichier,document.body.appendChild(S),S.click(),window.URL.revokeObjectURL(k),document.body.removeChild(S),M.success("Document tlcharg avec succs")}catch(x){console.error("Erreur tlchargement:",x),M.error("Erreur lors du tlchargement du document")}};return s?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des documents..."})]})}):e.jsxs("div",{className:"space-y-6",children:[o&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx($,{children:e.jsx(q,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total requis"}),e.jsx("p",{className:"text-2xl font-bold",children:o.totalRequired})]}),e.jsx(We,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx($,{children:e.jsx(q,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"En attente"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:o.requirements.filter(v=>v.uploaded&&!v.validated).length})]}),e.jsx(Tt,{className:"w-8 h-8 text-yellow-600"})]})})}),e.jsx($,{children:e.jsx(q,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Valids"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.requirements.filter(v=>v.validated).length})]}),e.jsx(ye,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx($,{children:e.jsx(q,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Manquants"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:o.missingCount})]}),e.jsx(Pa,{className:"w-8 h-8 text-red-600"})]})})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Mes documents"}),e.jsx("div",{className:"flex gap-2",children:!d&&e.jsxs(E,{onClick:()=>f(!0),children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Ajouter un document"]})})]}),d&&e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{children:"Ajouter un document"})}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de document"}),e.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:j,onChange:v=>y(v.target.value),children:Object.entries(cl).map(([v,x])=>e.jsx("option",{value:v,children:x},v))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fichier (JPG, PNG, PDF - max 10MB)"}),e.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:g,disabled:m,className:"w-full p-2 border border-gray-300 rounded-md"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(E,{variant:"outline",onClick:()=>f(!1),disabled:m,children:"Annuler"})})]})})]}),r&&e.jsxs(ms,{variant:"destructive",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx(hs,{children:r})]}),l?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des documents requis..."})]})}):o?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Documents requis selon vos produits"}),e.jsxs("p",{className:"text-sm text-blue-700",children:[o.missingCount," document(s) manquant(s) sur ",o.totalRequired," requis"]})]}),o.canPublish&&e.jsxs(U,{className:"bg-green-100 text-green-800",children:[e.jsx(ye,{className:"w-3 h-3 mr-1"}),"Prt  publier"]})]})}),o.requirements.map(v=>{const x=t.find(w=>w.type_document===v.type&&w.statut_verification!=="rejete");return e.jsx($,{className:v.missing?"border-red-200 bg-red-50":"",children:e.jsxs(q,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${v.validated?"bg-green-100":v.uploaded?"bg-yellow-100":"bg-gray-100"}`,children:v.validated?e.jsx(ye,{className:"w-6 h-6 text-green-600"}):v.uploaded?e.jsx(Tt,{className:"w-6 h-6 text-yellow-600"}):e.jsx(We,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:cl[v.type]}),e.jsx("p",{className:"text-sm text-gray-600",children:v.description}),x&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Fichier: ",x.nom_fichier," - Upload le ",new Date(x.uploaded_at).toLocaleDateString("fr-FR")]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(U,{className:v.validated?"bg-green-100 text-green-800":v.uploaded?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:v.validated?e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-3 h-3 mr-1"}),"Valid"]}):v.uploaded?e.jsxs(e.Fragment,{children:[e.jsx(Tt,{className:"w-3 h-3 mr-1"}),"En attente"]}):e.jsxs(e.Fragment,{children:[e.jsx(Pa,{className:"w-3 h-3 mr-1"}),"Manquant"]})}),x&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{variant:"outline",size:"sm",children:e.jsx(Oe,{className:"w-4 h-4"})}),e.jsx(E,{variant:"outline",size:"sm",onClick:()=>p(x),children:e.jsx(yb,{className:"w-4 h-4"})}),e.jsx(E,{variant:"outline",size:"sm",onClick:()=>N(x),className:"text-red-600 hover:text-red-700",children:e.jsx(Cs,{className:"w-4 h-4"})})]})]})]}),(x==null?void 0:x.commentaire_verification)&&e.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Commentaire admin :"})," ",x.commentaire_verification]})})]})},v.type)}),t.filter(v=>v.statut_verification==="rejete").length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-red-700 mb-4 flex items-center",children:[e.jsx(Pa,{className:"w-5 h-5 mr-2"}),"Documents rejets"]}),e.jsx("div",{className:"space-y-3",children:t.filter(v=>v.statut_verification==="rejete").map(v=>e.jsx($,{className:"border-red-200 bg-red-50",children:e.jsx(q,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(Pa,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-red-900",children:v.nom_fichier}),e.jsx("p",{className:"text-sm text-red-700",children:cl[v.type_document]}),v.commentaire_verification&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[e.jsx("strong",{children:"Raison du rejet :"})," ",v.commentaire_verification]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(E,{variant:"outline",size:"sm",onClick:()=>N(v),className:"text-red-600 hover:text-red-700",children:e.jsx(Cs,{className:"w-4 h-4"})})})]})})},v.id))})]})]}):e.jsx($,{children:e.jsxs(q,{className:"p-8 text-center",children:[e.jsx(We,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun document requis"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Publiez des produits pour voir les documents requis"}),e.jsxs(E,{onClick:()=>f(!0),children:[e.jsx(po,{className:"w-4 h-4 mr-2"}),"Uploader un document"]})]})})]})},YA=({status:t,documentsValidated:s,companyName:r,onUploadDocuments:n})=>{const i=(()=>{switch(t){case"actif":return{variant:"default",icon:e.jsx(ye,{className:"h-4 w-4"}),title:"Compte valid",description:"Votre compte est actif. Vous pouvez publier des produits.",badge:e.jsx(U,{className:"bg-green-100 text-green-800",children:"Actif"})};case"inactif":return{variant:"destructive",icon:e.jsx(Tt,{className:"h-4 w-4"}),title:"Compte en attente de validation",description:"Votre compte est en attente de validation. Televersez et faites valider vos documents pour accder  toutes les fonctionnalits.",badge:e.jsx(U,{className:"bg-yellow-100 text-yellow-800",children:"En attente"})};case"suspendu":return{variant:"destructive",icon:e.jsx(Pa,{className:"h-4 w-4"}),title:"Compte suspendu",description:"Votre compte a t suspendu. Contactez l'administrateur pour plus d'informations.",badge:e.jsx(U,{className:"bg-red-100 text-red-800",children:"Suspendu"})};default:return{variant:"default",icon:e.jsx(ft,{className:"h-4 w-4"}),title:"Statut inconnu",description:"Impossible de dterminer le statut de votre compte.",badge:e.jsx(U,{className:"bg-gray-100 text-gray-800",children:"Inconnu"})}}})();return e.jsx(ms,{variant:i.variant,className:"mb-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[i.icon,e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold",children:i.title}),i.badge]}),e.jsx(hs,{className:"text-sm",children:i.description}),t==="inactif"&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[e.jsx(We,{className:"h-4 w-4"}),e.jsx("span",{children:"Documents requis :"})]}),e.jsxs("ul",{className:"text-xs text-gray-600 ml-6 space-y-1",children:[e.jsx("li",{children:" Certificat d'enregistrement"}),e.jsx("li",{children:" Certificat fiscal"}),e.jsx("li",{children:" Pice d'identit du reprsentant"})]})]})]})]}),t==="inactif"&&n&&e.jsxs(E,{onClick:n,size:"sm",className:"ml-4",children:[e.jsx(po,{className:"h-4 w-4 mr-1"}),"Uploader documents"]})]})})},QA=()=>{const[t,s]=u.useState([]),[r,n]=u.useState({total:0,unread:0,urgent:0,high:0,messages:0,products:0,system:0}),[a,i]=u.useState(!1),[o,l]=u.useState(!1),[c,d]=u.useState(""),[f,m]=u.useState("all"),[h,j]=u.useState("all"),y=async()=>{try{l(!0);const[C,_]=await Promise.all([Ke.getNotifications(),Ke.getNotificationCounts()]);s(C.notifications||[]),n(_)}catch(C){console.error("Erreur chargement notifications fournisseur:",C),M.error("Erreur lors du chargement des notifications")}finally{l(!1)}},g=async C=>{try{await Ke.markAsRead(C),await y(),M.success("Notification marque comme lue")}catch(_){console.error("Erreur marquage notification:",_),M.error("Erreur lors du marquage de la notification")}},N=async()=>{try{await Ke.markAllAsRead(),await y(),M.success("Toutes les notifications marques comme lues")}catch(C){console.error("Erreur marquage toutes notifications:",C),M.error("Erreur lors du marquage des notifications")}},p=async C=>{try{await Ke.deleteNotification(C),await y(),M.success("Notification supprime")}catch(_){console.error("Erreur suppression notification:",_),M.error("Erreur lors de la suppression de la notification")}},v=async()=>{try{await Ke.deleteAllRead(),await y(),M.success("Notifications lues supprimes")}catch(C){console.error("Erreur suppression notifications lues:",C),M.error("Erreur lors de la suppression des notifications")}},x=async()=>{try{await Ke.createTestNotifications("supplier",5),await y(),M.success("Notifications de test fournisseur cres")}catch(C){console.error("Erreur cration notifications test:",C),M.error("Erreur lors de la cration des notifications de test")}};u.useEffect(()=>{y(),Ke.startPolling(3e4);const C=_=>{n(_)};return Ke.addListener(C),()=>{Ke.removeListener(C),Ke.stopPolling()}},[]);const w=(Array.isArray(t)?t:[]).filter(C=>{const _=!c||C.titre.toLowerCase().includes(c.toLowerCase())||C.message.toLowerCase().includes(c.toLowerCase()),P=f==="all"||C.type===f,T=h==="all"||C.priority===h;return _&&P&&T}),k=(C,_)=>{switch(C){case"message":return e.jsx(Te,{className:"w-4 h-4 text-blue-600"});case"produit":return _==="product_approved"?e.jsx(ye,{className:"w-4 h-4 text-green-600"}):_==="product_rejected"?e.jsx(Ae,{className:"w-4 h-4 text-red-600"}):_==="modification_request"?e.jsx(ks,{className:"w-4 h-4 text-orange-600"}):_==="pending_moderation"?e.jsx(Tt,{className:"w-4 h-4 text-yellow-600"}):e.jsx(fe,{className:"w-4 h-4 text-green-600"});case"systeme":return e.jsx(ks,{className:"w-4 h-4 text-purple-600"});default:return e.jsx(Jt,{className:"w-4 h-4"})}},S=C=>{const _=new Date(C),T=Math.floor((new Date().getTime()-_.getTime())/(1e3*60*60));return T<1?" l'instant":T<24?`Il y a ${T}h`:_.toLocaleDateString("fr-FR")},b=(C,_)=>C==="message"?"bg-blue-50 border-blue-200":C==="produit"?_==="product_approved"?"bg-green-50 border-green-200":_==="product_rejected"?"bg-red-50 border-red-200":_==="modification_request"?"bg-orange-50 border-orange-200":_==="pending_moderation"?"bg-yellow-50 border-yellow-200":"bg-green-50 border-green-200":C==="systeme"?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200";return e.jsxs("div",{className:"relative",children:[e.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>i(!a),className:"relative",children:[e.jsx(Jt,{className:"w-5 h-5"}),r.unread>0&&e.jsx(U,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:r.unread>99?"99+":r.unread})]}),a&&e.jsxs($,{className:"absolute right-0 top-12 w-96 max-h-[600px] z-50 shadow-lg",children:[e.jsxs(K,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Y,{className:"text-lg",children:"Notifications Fournisseur"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(E,{variant:"ghost",size:"sm",onClick:N,disabled:r.unread===0,children:[e.jsx(js,{className:"w-4 h-4 mr-1"}),"Tout marquer"]}),e.jsxs(E,{variant:"ghost",size:"sm",onClick:v,disabled:(Array.isArray(t)?t:[]).filter(C=>C.lu).length===0,children:[e.jsx(Cs,{className:"w-4 h-4 mr-1"}),"Nettoyer"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{placeholder:"Rechercher...",value:c,onChange:C=>d(C.target.value),className:"h-8"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(fr,{children:[e.jsx(xr,{asChild:!0,children:e.jsxs(E,{variant:"outline",size:"sm",className:"h-8",children:[e.jsx(xs,{className:"w-3 h-3 mr-1"}),f==="all"?"Tous les types":Ke.getTypeLabel(f)]})}),e.jsxs(Ws,{children:[e.jsx(Ne,{onClick:()=>m("all"),children:"Tous les types"}),e.jsx(Ne,{onClick:()=>m("message"),children:"Messages"}),e.jsx(Ne,{onClick:()=>m("produit"),children:"Produits"}),e.jsx(Ne,{onClick:()=>m("systeme"),children:"Systme"})]})]}),e.jsxs(fr,{children:[e.jsx(xr,{asChild:!0,children:e.jsxs(E,{variant:"outline",size:"sm",className:"h-8",children:[e.jsx(xs,{className:"w-3 h-3 mr-1"}),h==="all"?"Toutes priorits":h]})}),e.jsxs(Ws,{children:[e.jsx(Ne,{onClick:()=>j("all"),children:"Toutes priorits"}),e.jsx(Ne,{onClick:()=>j("urgent"),children:"Urgent"}),e.jsx(Ne,{onClick:()=>j("high"),children:"leve"}),e.jsx(Ne,{onClick:()=>j("medium"),children:"Moyenne"}),e.jsx(Ne,{onClick:()=>j("low"),children:"Faible"})]})]})]})]})]}),e.jsx(q,{className:"p-0",children:o?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):w.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(Jt,{className:"w-12 h-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"Aucune notification"}),e.jsx(E,{variant:"outline",size:"sm",onClick:x,children:"Crer des notifications de test"})]}):e.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:e.jsxs(Kr,{defaultValue:"all",className:"w-full",children:[e.jsxs(br,{className:"grid w-full grid-cols-3",children:[e.jsxs(ke,{value:"all",children:["Toutes (",w.length,")"]}),e.jsxs(ke,{value:"messages",children:["Messages (",r.messages,")"]}),e.jsxs(ke,{value:"products",children:["Produits (",r.products,")"]})]}),e.jsx(Ee,{value:"all",className:"space-y-2 p-2",children:w.map(C=>e.jsx("div",{className:`p-3 rounded-lg border ${C.lu?"bg-gray-50":b(C.type,C.category)}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:k(C.type,C.category)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:C.titre}),!C.lu&&e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:C.message}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{variant:"outline",className:`text-xs ${Ke.getPriorityColor(C.priority)}`,children:C.priority}),e.jsx("span",{className:"text-xs text-gray-500",children:S(C.date_creation)})]})]})]}),e.jsxs(fr,{children:[e.jsx(xr,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:e.jsx(Ix,{className:"w-3 h-3"})})}),e.jsxs(Ws,{align:"end",children:[!C.lu&&e.jsxs(Ne,{onClick:()=>g(C.id),children:[e.jsx(js,{className:"w-3 h-3 mr-2"}),"Marquer comme lu"]}),e.jsxs(Ne,{onClick:()=>p(C.id),className:"text-red-600",children:[e.jsx(Cs,{className:"w-3 h-3 mr-2"}),"Supprimer"]})]})]})]})},C.id))}),e.jsx(Ee,{value:"messages",className:"space-y-2 p-2",children:w.filter(C=>C.type==="message").map(C=>e.jsx("div",{className:`p-3 rounded-lg border ${C.lu?"bg-gray-50":"bg-blue-50 border-blue-200"}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(Te,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.titre}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:C.message}),e.jsx("span",{className:"text-xs text-gray-500",children:S(C.date_creation)})]})]})})},C.id))}),e.jsx(Ee,{value:"products",className:"space-y-2 p-2",children:w.filter(C=>C.type==="produit").map(C=>e.jsx("div",{className:`p-3 rounded-lg border ${C.lu?"bg-gray-50":b(C.type,C.category)}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:k(C.type,C.category)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.titre}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:C.message}),e.jsx("span",{className:"text-xs text-gray-500",children:S(C.date_creation)})]})]})})},C.id))})]})})})]})]})},u1=()=>{const[t,s]=u.useState(!1),r=Qs(),{data:n}=dt(),a=Xr(),i=he(),[o,l]=u.useState(!1),{photoData:c}=ja(),d=async()=>{try{l(!0),a(),M.success("Dconnexion russie"),setTimeout(()=>{i("/"),l(!1)},100)}catch{M.error("Erreur lors de la dconnexion"),l(!1)}};return e.jsxs("header",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white py-2 px-4 text-center text-sm",children:e.jsx("span",{className:"font-medium",children:" GabMarketHub - Espace Fournisseur"})}),e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(Yr,{size:"md",text:"GabMarketHub - Fournisseur",onClick:()=>i("/supplier/dashboard")})}),e.jsxs("nav",{className:"hidden lg:flex items-center space-x-6",children:[e.jsxs("button",{onClick:()=>i("/supplier/dashboard"),className:"text-gray-900 hover:text-green-600 transition-colors flex items-center",children:[e.jsx(gr,{className:"w-4 h-4 mr-1"}),"Tableau de bord"]}),e.jsxs("button",{onClick:()=>i("/supplier/dashboard?tab=products"),className:"text-gray-900 hover:text-green-600 transition-colors flex items-center",children:[e.jsx(fe,{className:"w-4 h-4 mr-1"}),"Mes produits"]}),r&&e.jsxs("button",{onClick:()=>i("/messages"),className:"text-gray-900 hover:text-green-600 transition-colors flex items-center",children:[e.jsx(Te,{className:"w-4 h-4 mr-1"}),"Messages"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[r&&e.jsx(QA,{}),e.jsx("div",{className:"hidden md:flex items-center space-x-2",children:r?e.jsxs(fr,{children:[e.jsx(xr,{asChild:!0,children:e.jsxs(E,{variant:"ghost",className:"flex items-center space-x-2",children:[e.jsx(So,{photoUrl:c==null?void 0:c.photo_profil,name:`${n==null?void 0:n.prenom} ${n==null?void 0:n.nom}`,size:"sm"}),e.jsx("span",{children:(n==null?void 0:n.prenom)||(n==null?void 0:n.nom)||"Mon compte"})]})}),e.jsxs(Ws,{align:"end",children:[e.jsxs(Ne,{onClick:()=>i("/profile"),children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Mon profil"]}),e.jsxs(Ne,{onClick:()=>i("/settings"),children:[e.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Paramtres"]}),e.jsx(sc,{}),e.jsxs(Ne,{onClick:d,disabled:o,className:"text-red-600",children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),o?"Dconnexion...":"Se dconnecter"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"ghost",onClick:()=>i("/supplier/login"),children:"Se connecter"}),e.jsx(E,{variant:"default",onClick:()=>i("/user-type"),children:"S'inscrire"})]})}),e.jsx(E,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>s(!t),children:e.jsx(Nu,{className:"w-6 h-6"})})]})]}),t&&e.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:e.jsxs("nav",{className:"flex flex-col space-y-3",children:[e.jsxs("button",{onClick:()=>i("/supplier/dashboard"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full flex items-center",children:[e.jsx(gr,{className:"w-4 h-4 mr-2"}),"Tableau de bord"]}),e.jsxs("button",{onClick:()=>i("/supplier/dashboard?tab=products"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full flex items-center",children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"Mes produits"]}),r&&e.jsxs("button",{onClick:()=>i("/messages"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full flex items-center",children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),"Messages"]}),e.jsx("div",{className:"flex flex-col space-y-2 pt-3 border-t border-gray-200",children:r?e.jsxs(e.Fragment,{children:[e.jsxs(E,{variant:"ghost",className:"justify-start",onClick:()=>i("/profile"),children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Mon profil"]}),e.jsxs(E,{variant:"ghost",className:"justify-start text-red-600",onClick:d,disabled:o,children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),o?"Dconnexion...":"Se dconnecter"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"ghost",className:"justify-start",onClick:()=>i("/supplier/login"),children:"Se connecter"}),e.jsx(E,{variant:"default",className:"justify-start",onClick:()=>i("/user-type"),children:"S'inscrire"})]})})]})})]})]})},JA=()=>e.jsxs("footer",{className:"bg-gray-900 text-white",children:[e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsx(Yr,{size:"lg",className:"mb-4 text-white"}),e.jsx("p",{className:"text-gray-300 text-sm leading-relaxed mb-4",children:"GabMarketHub est la premire plateforme B2B du Gabon, connectant les entreprises locales et internationales pour favoriser le commerce et l'innovation."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(bb,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(Sb,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(kk,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(Nb,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Liens rapides"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"/products",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Produits"})}),e.jsx("li",{children:e.jsx("a",{href:"/suppliers",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Fournisseurs"})}),e.jsx("li",{children:e.jsx("a",{href:"/categories",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Catgories"})}),e.jsx("li",{children:e.jsx("a",{href:"/about",className:"text-gray-300 hover:text-white transition-colors text-sm",children:" propos"})}),e.jsx("li",{children:e.jsx("a",{href:"/contact",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Contact"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Services"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"/supplier/register",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Devenir fournisseur"})}),e.jsx("li",{children:e.jsx("a",{href:"/register",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Crer un compte"})}),e.jsx("li",{children:e.jsx("a",{href:"/help",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Centre d'aide"})}),e.jsx("li",{children:e.jsx("a",{href:"/api",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"API pour dveloppeurs"})}),e.jsx("li",{children:e.jsx("a",{href:"/partnership",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Partenariats"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ht,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-gray-300 text-sm",children:"Libreville, Gabon"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ws,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-gray-300 text-sm",children:"+241 XX XX XX XX"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Rt,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-gray-300 text-sm",children:"contact@gabmarkethub.com"})]})]})]})]})}),e.jsx("div",{className:"border-t border-gray-800",children:e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-2 md:space-y-0",children:[e.jsx("div",{className:"text-gray-400 text-sm",children:" 2024 GabMarketHub. Tous droits rservs."}),e.jsxs("div",{className:"flex space-x-6 text-sm",children:[e.jsx("a",{href:"/privacy",className:"text-gray-400 hover:text-white transition-colors",children:"Politique de confidentialit"}),e.jsx("a",{href:"/terms",className:"text-gray-400 hover:text-white transition-colors",children:"Conditions d'utilisation"}),e.jsx("a",{href:"/cookies",className:"text-gray-400 hover:text-white transition-colors",children:"Cookies"})]})]})})})]}),Gs=({children:t,showHeader:s=!0,showFooter:r=!0})=>e.jsxs("div",{className:"min-h-screen flex flex-col",children:[s&&e.jsx(u1,{}),e.jsx("main",{className:"flex-1",children:t}),r&&e.jsx(JA,{})]}),ZA=()=>{const[t,s]=u.useState(null),[r,n]=u.useState(!0),[a,i]=u.useState(null),o=u.useCallback(async()=>{try{n(!0),i(null),console.log(" [useSupplierStats] Dbut de rcupration des statistiques");const l=await H.get("/supplier/stats");console.log(" [useSupplierStats] Statistiques rcupres:",l),l?s(l):(console.log(" [useSupplierStats] Aucune donne reue, gnration de statistiques simules"),s({totalProducts:12,activeProducts:10,totalViews:1250,newMessages:3,averageRating:4.2,totalReviews:28}))}catch(l){const c=l instanceof Error?l.message:"Erreur inconnue";console.error(" [useSupplierStats] Erreur rcupration statistiques fournisseur:",c),i(c),s({totalProducts:0,activeProducts:0,totalViews:0,newMessages:0,averageRating:0,totalReviews:0})}finally{n(!1)}},[]);return u.useEffect(()=>{o()},[o]),{data:t,isLoading:r,error:a,refetch:o}},eM=(t=10)=>{const[s,r]=u.useState([]),[n,a]=u.useState(!0),[i,o]=u.useState(null),l=u.useCallback(async()=>{try{a(!0),o(null),console.log(" [useSupplierMessages] Dbut de rcupration des messages");const c=await H.get(`/supplier/messages?limit=${t}`);if(console.log(" [useSupplierMessages] Messages rcuprs:",c),c&&Array.isArray(c))r(c);else if(c&&c.messages)r(c.messages);else{console.log(" [useSupplierMessages] Aucun message reu, gnration de messages simuls");const d=[{id:1,conversation_id:1,contenu:"Bonjour, je suis intress par votre produit",expediteur_id:1,destinataire_id:2,created_at:new Date().toISOString(),lu:!1,type:"text",expediteur_nom:"Jean Dupont",destinataire_nom:"Fournisseur"},{id:2,conversation_id:1,contenu:"Merci pour votre intrt ! Pouvez-vous me donner plus de dtails ?",expediteur_id:2,destinataire_id:1,created_at:new Date().toISOString(),lu:!0,type:"text",expediteur_nom:"Fournisseur",destinataire_nom:"Jean Dupont"}].slice(0,t);r(d)}}catch(c){const d=c instanceof Error?c.message:"Erreur inconnue";console.error(" [useSupplierMessages] Erreur rcupration messages fournisseur:",d),o(d),r([])}finally{a(!1)}},[t]);return u.useEffect(()=>{l()},[l]),{data:s,isLoading:n,error:i,refetch:l}},tM=()=>Re({queryKey:["supplier-products"],queryFn:async()=>{try{const t=await H.get("/supplier/products"),s=t.products||t.data||t||[];return Array.isArray(s)?s.map(n=>({...n,prix_unitaire:Number(n.prix_unitaire)||0,stock_disponible:Number(n.stock_disponible)||0,moq:Number(n.moq)||1,note_moyenne:Number(n.note_moyenne)||0,nombre_avis:Number(n.nombre_avis)||0,unite:n.unite||"pice",statut:n.statut||"actif",categorie_nom:n.categorie_nom||"Non catgoris"})):[]}catch(t){return console.log("Erreur lors du chargement des produits fournisseur:",t),[]}},retry:1,staleTime:3e4,enabled:!!localStorage.getItem("authToken")}),sM=()=>{const[t,s]=u.useState(null),[r,n]=u.useState(!0),[a,i]=u.useState(null),o=async()=>{try{n(!0),i(null);const l=await H.get("/supplier/status");l?s(l):i("Impossible de rcuprer le statut")}catch(l){console.error("Erreur rcupration statut fournisseur:",l),i(l.message||"Erreur lors du chargement du statut")}finally{n(!1)}};return u.useEffect(()=>{o()},[]),{status:t,loading:r,error:a,refetch:o}},m1=(t,s=2)=>{const r=Number(t);return isNaN(r)?"0".padEnd(s+2,".0"):r.toFixed(s)},vf=(t,s="")=>`${m1(t,2)}${s}`,h1=(t,s=5)=>`${m1(t,1)}/${s}`,zm=t=>{const s=Number(t);return isNaN(s)?0:Math.floor(s)},f1=()=>{const[t,s]=u.useState("overview"),r=he(),[n]=ni();u.useEffect(()=>{const h=n.get("tab");h&&s(h)},[n]);const a=h=>{s(h);const j=h==="overview"?"/supplier/dashboard":`/supplier/dashboard?tab=${h}`;window.history.replaceState({},"",j)};dt();const{data:i}=ZA(),{data:o}=tM(),{data:l}=eM();l1();const{status:c,loading:d}=sM(),{data:f}=d1();Xr();const m=()=>{var h,j,y;return[{title:"Produits actifs",value:((h=i==null?void 0:i.activeProducts)==null?void 0:h.toString())||"0",change:"+3 ce mois",icon:fe,color:"text-blue-600",action:()=>a("products")},{title:"Messages",value:((j=i==null?void 0:i.messages)==null?void 0:j.toString())||"0",change:`+${(l==null?void 0:l.filter(g=>!g.lu).length)||0} nouveaux`,icon:Te,color:"text-purple-600",action:()=>a("messages")},{title:"Vues totales",value:((y=i==null?void 0:i.totalViews)==null?void 0:y.toString())||"0",change:"+12% ce mois",icon:nt,color:"text-green-600",action:()=>a("analytics")},{title:"Note moyenne",value:i!=null&&i.averageRating?h1(i.averageRating):"0.0",change:`${(i==null?void 0:i.totalReviews)||0} avis`,icon:pn,color:"text-yellow-600",action:()=>a("analytics")}]};return e.jsx(Gs,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 sm:py-8",children:[!d&&c&&e.jsx(YA,{status:c.status,documentsValidated:(f==null?void 0:f.canPublish)||!1,companyName:c.companyName,onUploadDocuments:()=>a("documents")}),e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-4 gap-4 lg:gap-8",children:[e.jsx("div",{className:"lg:col-span-1 order-2 lg:order-1",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:e.jsxs("nav",{className:"space-y-2",children:[e.jsxs(E,{variant:t==="overview"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>a("overview"),children:[e.jsx(gr,{className:"w-4 h-4 mr-2"}),"Vue d'ensemble"]}),e.jsxs(E,{variant:t==="products"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>a("products"),children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"Mes produits"]}),e.jsxs(E,{variant:t==="messages"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>a("messages"),children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),"Messages"]}),e.jsxs(E,{variant:t==="documents"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>a("documents"),children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),"Documents"]})]})})}),e.jsxs("div",{className:"lg:col-span-3 order-1 lg:order-2",children:[t==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tableau de bord fournisseur "}),e.jsx("p",{className:"text-gray-600",children:"Grez vos produits et analysez vos performances sur GabMarketHub"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs(E,{className:"flex flex-col items-center p-6 h-auto space-y-2",onClick:()=>r("/supplier/products/add"),children:[e.jsx(is,{className:"w-8 h-8"}),e.jsx("span",{children:"Ajouter produit"})]}),e.jsxs(E,{variant:"outline",className:"flex flex-col items-center p-6 h-auto space-y-2",onClick:()=>a("analytics"),children:[e.jsx(gr,{className:"w-8 h-8"}),e.jsx("span",{children:"Statistiques"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:m().map((h,j)=>e.jsx($,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:h.action,children:e.jsx(q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:h.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.value}),e.jsx("p",{className:"text-xs text-gray-500",children:h.change})]}),e.jsx(h.icon,{className:`w-8 h-8 ${h.color}`})]})})},j))}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(fe,{className:"w-5 h-5 mr-2"}),"Produits rcents"]})}),e.jsx(q,{children:o&&o.length>0?e.jsx("div",{className:"space-y-4",children:o.slice(0,5).map(h=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:h.nom}),e.jsx(U,{className:h.statut==="actif"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:h.statut==="actif"?"Actif":"Inactif"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:h.categorie_nom}),e.jsx("p",{className:"text-sm text-gray-500",children:vf(h.prix_unitaire)})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(E,{size:"sm",variant:"outline",onClick:()=>r(`/supplier/products/${h.id}/edit`),children:[e.jsx(Wa,{className:"w-4 h-4 mr-1"}),"Modifier"]})})]},h.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(fe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"Aucun produit"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Commencez par ajouter votre premier produit"})]})})]})]}),t==="products"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(fe,{className:"w-5 h-5 mr-2"}),"Mes produits"]}),e.jsx("p",{className:"text-gray-600",children:"Grez votre catalogue de produits"})]}),e.jsxs(E,{onClick:()=>r("/supplier/products/add"),children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Ajouter un produit"]})]}),o&&o.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(h=>e.jsx($,{className:"hover:shadow-md transition-shadow",children:e.jsxs(q,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:h.nom}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:h.categorie_nom}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:vf(h.prix_unitaire)})]}),e.jsx(U,{className:h.statut==="actif"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:h.statut==="actif"?"Actif":"Inactif"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(E,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>r(`/supplier/products/${h.id}/edit`),children:[e.jsx(Wa,{className:"w-4 h-4 mr-1"}),"Modifier"]}),e.jsx(E,{size:"sm",variant:"outline",onClick:()=>r(`/products/${h.id}`),children:e.jsx(Oe,{className:"w-4 h-4"})})]})]})},h.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(fe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"Aucun produit"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Commencez par ajouter votre premier produit"}),e.jsxs(E,{onClick:()=>r("/supplier/products/add"),children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Ajouter un produit"]})]})]}),t==="messages"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(Te,{className:"w-5 h-5 mr-2"}),"Messages"]}),e.jsx("p",{className:"text-gray-600",children:"Grez vos conversations avec les acheteurs"})]}),l&&l.length>0?e.jsx("div",{className:"space-y-4",children:l.map(h=>e.jsx($,{className:"hover:shadow-md transition-shadow",children:e.jsx(q,{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:h.expediteur_nom||"Utilisateur"}),e.jsx(U,{variant:h.lu?"secondary":"default",children:h.lu?"Lu":"Non lu"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:h.contenu}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(h.created_at).toLocaleDateString("fr-FR")})]})})})},h.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Te,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"Aucun message"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Vos conversations avec les acheteurs apparatront ici"})]})]}),t==="documents"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(We,{className:"w-5 h-5 mr-2"}),"Documents"]}),e.jsx("p",{className:"text-gray-600",children:"Grez vos documents de vrification"})]}),e.jsx(KA,{})]})]})]})]})})})},rM=()=>{const{data:t,isLoading:s}=dt(),r=he();return u.useEffect(()=>{s||(t?t.role_id!==2&&r("/",{replace:!0}):r("/supplier/login",{replace:!0}))},[t,s,r]),s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vr,{className:"w-6 h-6 animate-spin text-green-600"}),e.jsx("span",{children:"Chargement de votre espace fournisseur..."})]})}):!t||t.role_id!==2?null:e.jsx(f1,{})};function Q0(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function nM(...t){return s=>{let r=!1;const n=t.map(a=>{const i=Q0(a,s);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Q0(t[a],null)}}}}function aM(t){const s=iM(t),r=u.forwardRef((n,a)=>{const{children:i,...o}=n,l=u.Children.toArray(i),c=l.find(lM);if(c){const d=c.props.children,f=l.map(m=>m===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:m);return e.jsx(s,{...o,ref:a,children:u.isValidElement(d)?u.cloneElement(d,void 0,f):null})}return e.jsx(s,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function iM(t){const s=u.forwardRef((r,n)=>{const{children:a,...i}=r;if(u.isValidElement(a)){const o=dM(a),l=cM(i,a.props);return a.type!==u.Fragment&&(l.ref=n?nM(n,o):o),u.cloneElement(a,l)}return u.Children.count(a)>1?u.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var oM=Symbol("radix.slottable");function lM(t){return u.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oM}function cM(t,s){const r={...s};for(const n in s){const a=t[n],i=s[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function dM(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var uM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mM=uM.reduce((t,s)=>{const r=aM(`Primitive.${s}`),n=u.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{}),hM="Label",x1=u.forwardRef((t,s)=>e.jsx(mM.label,{...t,ref:s,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));x1.displayName=hM;var p1=x1;const fM=Ql("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),W=u.forwardRef(({className:t,...s},r)=>e.jsx(p1,{ref:r,className:ie(fM(),t),...s}));W.displayName=p1.displayName;const xM=({children:t})=>{const[s,r]=u.useState(!0),[n,a]=u.useState(!1),[i,o]=u.useState(null),l=he();u.useEffect(()=>{c()},[]);const c=async()=>{try{const d=await H.get("/auth/me");if(o(d),d.role_id!==2){M.error("Accs rserv aux fournisseurs"),l("/dashboard");return}if(!d.entreprise)a(!1),M.error("Veuillez complter votre profil entreprise avant d'ajouter des produits");else{const m=["nom_entreprise","secteur_activite_id","type_entreprise_id","adresse_ligne1","ville","code_postal","pays"].filter(h=>!d.entreprise[h]);m.length>0?(a(!1),M.error(`Profil entreprise incomplet. Champs manquants: ${m.join(", ")}`)):a(!0)}}catch(d){console.error("Erreur vrification profil:",d),M.error("Erreur lors de la vrification du profil"),l("/supplier/dashboard")}finally{r(!1)}};return s?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gabon-green mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Vrification du profil..."})]})}):n?e.jsx(e.Fragment,{children:t}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs($,{className:"border-orange-200 bg-orange-50",children:[e.jsxs(K,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(ft,{className:"w-8 h-8 text-orange-600"})}),e.jsx(Y,{className:"text-orange-800",children:"Profil entreprise incomplet"})]}),e.jsxs(q,{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-orange-700",children:"Vous devez complter votre profil entreprise avant de pouvoir ajouter des produits."}),i!=null&&i.entreprise?e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-orange-200",children:[e.jsxs("h3",{className:"font-semibold text-orange-800 mb-2 flex items-center",children:[e.jsx(Ue,{className:"w-4 h-4 mr-2"}),"Informations manquantes"]}),e.jsx("p",{className:"text-sm text-orange-600",children:"Certains champs obligatoires de votre profil entreprise ne sont pas renseigns."})]}):e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-orange-200",children:[e.jsxs("h3",{className:"font-semibold text-orange-800 mb-2 flex items-center",children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Aucune entreprise associe"]}),e.jsx("p",{className:"text-sm text-orange-600",children:"Vous devez d'abord crer votre profil entreprise."})]}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(E,{variant:"outline",onClick:()=>l("/supplier/dashboard"),children:"Retour au tableau de bord"}),e.jsx(E,{className:"bg-gabon-green hover:bg-gabon-green/90",onClick:()=>l("/supplier/profile"),children:"Complter le profil"})]})]})]})})})},pM=()=>{const t=he(),[s,r]=u.useState(!1),[n,a]=u.useState({}),i=[{id:"pice",nom:"Pice"},{id:"kg",nom:"Kilogramme"},{id:"m",nom:"Mtre"},{id:"m",nom:"Mtre carr"},{id:"litre",nom:"Litre"}],o=[{id:"DHL",nom:"DHL"},{id:"FedEx",nom:"FedEx"},{id:"UPS",nom:"UPS"},{id:"Bateau",nom:"Bateau"},{id:"Avion",nom:"Avion"}],[l,c]=u.useState([]),[d,f]=u.useState(null),[m,h]=u.useState({nom:"",marque:"",reference_produit:"",categorie_id:"",description:"",description_longue:"",fonctionnalites:"",instructions_utilisation:"",materiaux:"",poids:"",dimensions:"",couleurs_disponibles:[],prix_unitaire:"",moq:"1",stock_disponible:"",unite:"pice",capacite_approvisionnement:"",delai_traitement:"7",port_depart:"",delai_livraison_estime:"",conditions_paiement:[],politique_retour:"",garantie:"",video_url:"",certifications:[]}),[j,y]=u.useState([]),[g,N]=u.useState([]),[p,v]=u.useState([]),[x,w]=u.useState([]),{data:k}=Re({queryKey:["categories"],queryFn:()=>H.get("/categories")}),S=Array.isArray(k)?k:(k==null?void 0:k.categories)||[],b=(A,B)=>{h(R=>({...R,[A]:B}))},C=A=>{if(A.target.files){const B=Array.from(A.target.files);if(l.length+B.length>10){M.error("Maximum 10 images autorises");return}c(R=>[...R,...B])}},_=A=>{const B=l.filter((R,F)=>F!==A);c(B),B.length===0&&a(R=>({...R,images:!0}))},P=()=>{y(A=>[...A,{quantite_min:1,quantite_max:null,prix_unitaire:0,devise:"EUR"}])},T=()=>{v(A=>[...A,{nom:"",valeur:"",unite:""}])},L=()=>{w(A=>[...A,{methode:"",cout_estime:0,delai_min:1,delai_max:7,description:""}])},I=()=>({general:n.nom||n.categorie_id||n.description_longue,images:n.images,prix:n.prix_unitaire||n.moq,livraison:!1,conditions:!1,certifications:!1}),O=()=>{const A={},B={nom:"Nom du produit",categorie_id:"Catgorie",description_longue:"Description dtaille",prix_unitaire:"Prix unitaire",moq:"Quantit minimum (MOQ)"};Object.entries(B).forEach(([F,J])=>{(!m[F]||m[F]==="")&&(A[F]=!0)}),l.length===0&&(A.images=!0),m.prix_unitaire&&isNaN(parseFloat(m.prix_unitaire))&&(A.prix_unitaire=!0),m.moq&&isNaN(parseInt(m.moq))&&(A.moq=!0),a(A);const R=Object.keys(A);if(R.length>0){const F=R.map(te=>te==="images"?"Au moins une image":B[te]||te).join(", ");M.error(`Veuillez remplir les champs obligatoires: ${F}`,{duration:6e3,description:"Les champs avec des bordures rouges doivent tre complts."});const J=R[0],G=document.getElementById(J)||document.querySelector(`[data-field="${J}"]`);return G&&(G.scrollIntoView({behavior:"smooth",block:"center"}),G.focus()),!1}return!0},X=async A=>{var B,R,F,J;if(A.preventDefault(),!!O()){r(!0);try{const G=new FormData,te={...m};if(Object.entries({prix_unitaire:{type:"float",required:!0},moq:{type:"int",required:!0,default:1},stock_disponible:{type:"int",required:!1,default:0},capacite_approvisionnement:{type:"int",required:!1},delai_traitement:{type:"int",required:!1,default:7},poids:{type:"float",required:!1}}).forEach(([V,ne])=>{const pe=te[V];if(pe&&pe!==""){const oe=ne.type==="int"?parseInt(pe):parseFloat(pe);isNaN(oe)?ne.required&&ne.default!==void 0&&(te[V]=ne.default.toString()):te[V]=oe.toString()}else ne.required&&ne.default!==void 0&&(te[V]=ne.default.toString())}),!te.categorie_id||te.categorie_id===""||te.categorie_id==="0")throw new Error("Catgorie obligatoire non slectionne");const ae=parseInt(te.categorie_id);if(isNaN(ae)||ae<=0)throw new Error("Catgorie invalide slectionne");const ue=["couleurs_disponibles","certifications","conditions_paiement"];Object.entries(te).forEach(([V,ne])=>{ue.includes(V)?Array.isArray(ne)&&ne.length>0?G.append(V,JSON.stringify(ne)):typeof ne=="string"&&ne.trim()!==""&&G.append(V,ne):Array.isArray(ne)?ne.length>0&&G.append(V,JSON.stringify(ne)):ne!=null&&ne!==""&&G.append(V,ne.toString())}),console.log(" DEBUG FRONTEND - Images avant ajout  FormData:",{count:l.length,images:l.map(V=>({name:V.name,size:V.size,type:V.type}))}),l.forEach((V,ne)=>{console.log(`Ajout image ${ne+1}:`,{name:V.name,size:V.size}),G.append("images",V)}),console.log("FormData aprs ajout images - has images:",G.has("images")),j.length>0&&G.append("prix_degressifs",JSON.stringify(j)),g.length>0&&G.append("variantes",JSON.stringify(g)),p.length>0&&G.append("specifications",JSON.stringify(p)),x.length>0&&G.append("methodes_livraison",JSON.stringify(x)),console.log("=== DEBUG FORM SUBMISSION (FORMDATA + IMAGES) ==="),console.log("Donnes nettoyes:",te),console.log("FormData entries:",Object.fromEntries(G.entries())),console.log("Images  envoyer:",l.map(V=>({name:V.name,size:V.size,type:V.type}))),console.log("Champs obligatoires backend:",{nom:te.nom,prix_unitaire:te.prix_unitaire,categorie_id:te.categorie_id,description_longue:te.description_longue}),console.log("===============================");const de=await H.request("/products",{method:"POST",body:G});M.success("Produit cr avec succs !"),t("/supplier/dashboard")}catch(G){console.error("Erreur cration produit:",G),(B=G.message)!=null&&B.includes("Session expire")?M.error("Session expire, vous allez tre redirig vers la connexion"):(R=G.message)!=null&&R.includes("Accs refus")?M.error("Accs refus. Vrifiez que votre profil entreprise est complet."):(F=G.message)!=null&&F.includes("Profil entreprise non trouv")?(M.error("Profil entreprise non trouv. Veuillez complter votre inscription."),t("/supplier/profile")):(J=G.message)!=null&&J.includes("HTTP error! status: 400")?M.error("Donnes invalides. Vrifiez que tous les champs obligatoires sont correctement remplis.",{description:"Erreur 400: "+G.message}):M.error(G.message||"Erreur lors de la cration du produit")}finally{r(!1)}}};return e.jsx(Gs,{children:e.jsx(xM,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gabon-gray",children:"Ajouter un nouveau produit"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Remplissez toutes les informations pour crer votre produit"}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Champs obligatoires (*):"})," Nom du produit, Catgorie, Description dtaille, Prix unitaire, MOQ et au moins une image."]})})]}),e.jsxs("form",{onSubmit:X,children:[e.jsxs(Kr,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(br,{className:"grid w-full grid-cols-6 bg-white border border-gray-200",children:[e.jsxs(ke,{value:"general",className:`flex items-center gap-2 data-[state=active]:bg-gabon-green data-[state=active]:text-white ${I().general?"border-red-500 text-red-600":""}`,children:[e.jsx(fe,{className:"w-4 h-4"}),"Gnral",I().general&&e.jsx("span",{className:"text-red-500",children:""})]}),e.jsxs(ke,{value:"images",className:`flex items-center gap-2 data-[state=active]:bg-gabon-green data-[state=active]:text-white ${I().images?"border-red-500 text-red-600":""}`,children:[e.jsx(po,{className:"w-4 h-4"}),"Images",I().images&&e.jsx("span",{className:"text-red-500",children:""})]}),e.jsxs(ke,{value:"prix",className:`flex items-center gap-2 data-[state=active]:bg-gabon-green data-[state=active]:text-white ${I().prix?"border-red-500 text-red-600":""}`,children:[e.jsx(Nk,{className:"w-4 h-4"}),"Prix",I().prix&&e.jsx("span",{className:"text-red-500",children:""})]}),e.jsxs(ke,{value:"livraison",className:"flex items-center gap-2 data-[state=active]:bg-gabon-green data-[state=active]:text-white",children:[e.jsx(wu,{className:"w-4 h-4"}),"Livraison"]}),e.jsxs(ke,{value:"conditions",className:"flex items-center gap-2 data-[state=active]:bg-gabon-green data-[state=active]:text-white",children:[e.jsx(We,{className:"w-4 h-4"}),"Conditions"]}),e.jsxs(ke,{value:"certifications",className:"flex items-center gap-2 data-[state=active]:bg-gabon-green data-[state=active]:text-white",children:[e.jsx($e,{className:"w-4 h-4"}),"Certifications"]})]}),e.jsx(Ee,{value:"general",children:e.jsxs($,{children:[e.jsx(K,{className:"bg-gradient-to-r from-gabon-green to-gabon-blue",children:e.jsx(Y,{className:"text-white",children:"Informations gnrales du produit"})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"nom",children:"Nom du produit *"}),e.jsx(D,{id:"nom",value:m.nom,onChange:A=>{b("nom",A.target.value),n.nom&&A.target.value.trim()&&a(B=>({...B,nom:!1}))},placeholder:"Ex: T-shirt en coton bio pour homme",className:n.nom?"border-red-500 focus:border-red-500":"",required:!0}),n.nom&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Ce champ est obligatoire"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"marque",children:"Marque"}),e.jsx(D,{id:"marque",value:m.marque,onChange:A=>b("marque",A.target.value),placeholder:"Nom de la marque"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"reference_produit",children:"Rfrence produit"}),e.jsx(D,{id:"reference_produit",value:m.reference_produit,onChange:A=>b("reference_produit",A.target.value),placeholder:"REF-001"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"categorie_id",children:"Catgorie *"}),e.jsx(fs,{value:m.categorie_id,onValueChange:A=>{b("categorie_id",A),n.categorie_id&&A&&a(B=>({...B,categorie_id:!1}))},placeholder:"Slectionner une catgorie",options:S,className:n.categorie_id?"border-red-500":""}),n.categorie_id&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Ce champ est obligatoire"})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"description",children:"Description courte"}),e.jsx(Ye,{id:"description",value:m.description,onChange:A=>b("description",A.target.value),placeholder:"Description courte du produit",rows:3})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"description_longue",children:"Description dtaille *"}),e.jsx(Ye,{id:"description_longue",value:m.description_longue,onChange:A=>{b("description_longue",A.target.value),n.description_longue&&A.target.value.trim()&&a(B=>({...B,description_longue:!1}))},placeholder:"Description complte avec matires, usages, caractristiques techniques, avantages...",rows:6,className:n.description_longue?"border-red-500 focus:border-red-500":"",required:!0}),n.description_longue&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Ce champ est obligatoire"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"fonctionnalites",children:"Fonctionnalits principales"}),e.jsx(Ye,{id:"fonctionnalites",value:m.fonctionnalites,onChange:A=>b("fonctionnalites",A.target.value),placeholder:` Fonctionnalit 1
 Fonctionnalit 2
 Fonctionnalit 3`,rows:4})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"instructions_utilisation",children:"Instructions d'utilisation"}),e.jsx(Ye,{id:"instructions_utilisation",value:m.instructions_utilisation,onChange:A=>b("instructions_utilisation",A.target.value),placeholder:"Instructions d'utilisation du produit",rows:4})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"materiaux",children:"Matriaux/Composants"}),e.jsx(D,{id:"materiaux",value:m.materiaux,onChange:A=>b("materiaux",A.target.value),placeholder:"Ex: 100% Coton bio"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"poids",children:"Poids (kg)"}),e.jsx(D,{id:"poids",type:"number",step:"0.01",value:m.poids,onChange:A=>b("poids",A.target.value),placeholder:"0.5"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"dimensions",children:"Dimensions"}),e.jsx(D,{id:"dimensions",value:m.dimensions,onChange:A=>b("dimensions",A.target.value),placeholder:"L x l x h (cm)"})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Couleurs disponibles"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[m.couleurs_disponibles.map((A,B)=>e.jsxs(U,{variant:"secondary",className:"flex items-center gap-1",children:[A,e.jsx(E,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-red-100",onClick:()=>{b("couleurs_disponibles",m.couleurs_disponibles.filter((R,F)=>F!==B))},children:e.jsx(Ae,{className:"w-3 h-3"})})]},B)),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{placeholder:"Ajouter une couleur",className:"w-40",onKeyPress:A=>{if(A.key==="Enter"){A.preventDefault();const B=A.target,R=B.value.trim();R&&!m.couleurs_disponibles.includes(R)&&(b("couleurs_disponibles",[...m.couleurs_disponibles,R]),B.value="")}}}),e.jsx(E,{type:"button",size:"sm",onClick:A=>{var F;const B=(F=A.target.parentElement)==null?void 0:F.querySelector("input"),R=B==null?void 0:B.value.trim();R&&!m.couleurs_disponibles.includes(R)&&(b("couleurs_disponibles",[...m.couleurs_disponibles,R]),B.value="")},children:e.jsx(is,{className:"w-4 h-4"})})]})]})]})]})]})}),e.jsx(Ee,{value:"images",children:e.jsxs($,{children:[e.jsx(K,{className:"bg-gradient-to-r from-gabon-green to-gabon-blue",children:e.jsx(Y,{className:"text-white",children:"Images et vidos du produit"})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"images",children:"Images du produit * (3-10 images recommandes)"}),e.jsx(D,{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:A=>{C(A),n.images&&A.target.files&&A.target.files.length>0&&a(B=>({...B,images:!1}))},className:`mt-2 ${n.images?"border-red-500 focus:border-red-500":""}`}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Formats accepts: JPG, PNG, WebP. Taille max: 5MB par image."}),n.images&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Au moins une image est obligatoire"})]}),l.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:l.map((A,B)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:URL.createObjectURL(A),alt:`Preview ${B+1}`,className:"w-full h-32 object-cover rounded-lg border"}),e.jsx(E,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 h-6 w-6 p-0",onClick:()=>_(B),children:e.jsx(Ae,{className:"w-4 h-4"})}),B===0&&e.jsx(U,{className:"absolute bottom-2 left-2 text-xs",children:"Image principale"})]},B))})]})]})}),e.jsx(Ee,{value:"prix",children:e.jsxs($,{children:[e.jsx(K,{className:"bg-gradient-to-r from-gabon-green to-gabon-blue",children:e.jsx(Y,{className:"text-white",children:"Prix et options d'achat"})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"prix_unitaire",children:"Prix unitaire () *"}),e.jsx(D,{id:"prix_unitaire",type:"number",step:"0.01",value:m.prix_unitaire,onChange:A=>{b("prix_unitaire",A.target.value),n.prix_unitaire&&A.target.value.trim()&&a(B=>({...B,prix_unitaire:!1}))},placeholder:"10.00",className:n.prix_unitaire?"border-red-500 focus:border-red-500":"",required:!0}),n.prix_unitaire&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Ce champ est obligatoire"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"moq",children:"MOQ (Quantit minimum) *"}),e.jsx(D,{id:"moq",type:"number",value:m.moq,onChange:A=>{b("moq",A.target.value),n.moq&&A.target.value.trim()&&a(B=>({...B,moq:!1}))},placeholder:"1",className:n.moq?"border-red-500 focus:border-red-500":"",required:!0}),n.moq&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Ce champ est obligatoire"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"stock_disponible",children:"Stock disponible"}),e.jsx(D,{id:"stock_disponible",type:"number",value:m.stock_disponible,onChange:A=>b("stock_disponible",A.target.value),placeholder:"100"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"unite",children:"Unit"}),e.jsx(fs,{value:m.unite,onValueChange:A=>b("unite",A),placeholder:"Slectionner une unit",options:i})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"capacite_approvisionnement",children:"Capacit d'approvisionnement (units/mois)"}),e.jsx(D,{id:"capacite_approvisionnement",type:"number",value:m.capacite_approvisionnement,onChange:A=>b("capacite_approvisionnement",A.target.value),placeholder:"10000"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(W,{children:"Prix dgressifs"}),e.jsxs(E,{type:"button",onClick:P,size:"sm",className:"bg-gabon-yellow text-gabon-gray hover:bg-gabon-yellow/90",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Ajouter un palier"]})]}),j.map((A,B)=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Quantit min"}),e.jsx(D,{type:"number",value:A.quantite_min,onChange:R=>{const F=[...j];F[B].quantite_min=parseInt(R.target.value),y(F)}})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Quantit max"}),e.jsx(D,{type:"number",value:A.quantite_max||"",onChange:R=>{const F=[...j];F[B].quantite_max=R.target.value?parseInt(R.target.value):null,y(F)},placeholder:"Illimit"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Prix unitaire"}),e.jsx(D,{type:"number",step:"0.01",value:A.prix_unitaire,onChange:R=>{const F=[...j];F[B].prix_unitaire=parseFloat(R.target.value),y(F)}})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(E,{type:"button",variant:"destructive",size:"sm",onClick:()=>y(R=>R.filter((F,J)=>J!==B)),children:e.jsx(Ae,{className:"w-4 h-4"})})})]},B))]})]})]})}),e.jsx(Ee,{value:"livraison",children:e.jsxs($,{children:[e.jsx(K,{className:"bg-gradient-to-r from-gabon-green to-gabon-blue",children:e.jsx(Y,{className:"text-white",children:"Expdition et livraison"})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"delai_traitement",children:"Dlai de traitement (jours)"}),e.jsx(D,{id:"delai_traitement",type:"number",value:m.delai_traitement,onChange:A=>b("delai_traitement",A.target.value),placeholder:"7"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"port_depart",children:"Port de dpart"}),e.jsx(D,{id:"port_depart",value:m.port_depart,onChange:A=>b("port_depart",A.target.value),placeholder:"Port de Libreville, Gabon"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"delai_livraison_estime",children:"Dlai de livraison estim"}),e.jsx(D,{id:"delai_livraison_estime",value:m.delai_livraison_estime,onChange:A=>b("delai_livraison_estime",A.target.value),placeholder:"7-15 jours ouvrs"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(W,{children:"Mthodes de livraison"}),e.jsxs(E,{type:"button",onClick:L,size:"sm",className:"bg-gabon-yellow text-gabon-gray hover:bg-gabon-yellow/90",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Ajouter une mthode"]})]}),x.map((A,B)=>e.jsxs("div",{className:"grid grid-cols-5 gap-4 p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Mthode"}),e.jsx(fs,{value:A.methode,onValueChange:R=>{const F=[...x];F[B].methode=R,w(F)},placeholder:"Slectionner",options:o})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Cot estim ()"}),e.jsx(D,{type:"number",step:"0.01",value:A.cout_estime,onChange:R=>{const F=[...x];F[B].cout_estime=parseFloat(R.target.value),w(F)}})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Dlai min (jours)"}),e.jsx(D,{type:"number",value:A.delai_min,onChange:R=>{const F=[...x];F[B].delai_min=parseInt(R.target.value),w(F)}})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Dlai max (jours)"}),e.jsx(D,{type:"number",value:A.delai_max,onChange:R=>{const F=[...x];F[B].delai_max=parseInt(R.target.value),w(F)}})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(E,{type:"button",variant:"destructive",size:"sm",onClick:()=>w(R=>R.filter((F,J)=>J!==B)),children:e.jsx(Ae,{className:"w-4 h-4"})})})]},B))]})]})]})}),e.jsx(Ee,{value:"conditions",children:e.jsxs($,{children:[e.jsx(K,{className:"bg-gradient-to-r from-gabon-green to-gabon-blue",children:e.jsx(Y,{className:"text-white",children:"Conditions commerciales"})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Conditions de paiement acceptes"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mt-2",children:["Virement bancaire","Lettre de crdit","Paiement  la livraison","Paiement anticip","Western Union","MoneyGram"].map(A=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:A,checked:m.conditions_paiement.includes(A),onChange:B=>{B.target.checked?b("conditions_paiement",[...m.conditions_paiement,A]):b("conditions_paiement",m.conditions_paiement.filter(R=>R!==A))},className:"rounded border-gray-300"}),e.jsx(W,{htmlFor:A,className:"text-sm font-normal",children:A})]},A))})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"politique_retour",children:"Politique de retour/remboursement"}),e.jsx(Ye,{id:"politique_retour",value:m.politique_retour,onChange:A=>b("politique_retour",A.target.value),placeholder:"Dcrivez votre politique de retour et remboursement",rows:4})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"garantie",children:"Service aprs-vente / Garantie"}),e.jsx(Ye,{id:"garantie",value:m.garantie,onChange:A=>b("garantie",A.target.value),placeholder:"Dcrivez votre garantie et service aprs-vente",rows:4})]})]})]})}),e.jsx(Ee,{value:"certifications",children:e.jsxs($,{children:[e.jsx(K,{className:"bg-gradient-to-r from-gabon-green to-gabon-blue",children:e.jsx(Y,{className:"text-white",children:"Certifications et spcifications"})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Certifications et labels qualit"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[m.certifications.map((A,B)=>e.jsxs(U,{variant:"secondary",className:"flex items-center gap-1",children:[A,e.jsx(E,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-red-100",onClick:()=>{b("certifications",m.certifications.filter((R,F)=>F!==B))},children:e.jsx(Ae,{className:"w-3 h-3"})})]},B)),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{placeholder:"Ex: ISO 9001, CE, Bio...",className:"w-48",onKeyPress:A=>{if(A.key==="Enter"){A.preventDefault();const B=A.target,R=B.value.trim();R&&!m.certifications.includes(R)&&(b("certifications",[...m.certifications,R]),B.value="")}}}),e.jsx(E,{type:"button",size:"sm",onClick:A=>{var F;const B=(F=A.target.parentElement)==null?void 0:F.querySelector("input"),R=B==null?void 0:B.value.trim();R&&!m.certifications.includes(R)&&(b("certifications",[...m.certifications,R]),B.value="")},children:e.jsx(is,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(W,{children:"Spcifications techniques"}),e.jsxs(E,{type:"button",onClick:T,size:"sm",className:"bg-gabon-yellow text-gabon-gray hover:bg-gabon-yellow/90",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Ajouter une spcification"]})]}),p.map((A,B)=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Nom"}),e.jsx(D,{value:A.nom,onChange:R=>{const F=[...p];F[B].nom=R.target.value,v(F)},placeholder:"Ex: Matire"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Valeur"}),e.jsx(D,{value:A.valeur,onChange:R=>{const F=[...p];F[B].valeur=R.target.value,v(F)},placeholder:"Ex: 100% Coton"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Unit"}),e.jsx(D,{value:A.unite,onChange:R=>{const F=[...p];F[B].unite=R.target.value,v(F)},placeholder:"Ex: %"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(E,{type:"button",variant:"destructive",size:"sm",onClick:()=>v(R=>R.filter((F,J)=>J!==B)),children:e.jsx(Ae,{className:"w-4 h-4"})})})]},B))]})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[e.jsx(E,{type:"button",variant:"outline",onClick:()=>t("/supplier/dashboard"),children:"Annuler"}),e.jsx(E,{type:"submit",disabled:s,className:"min-w-[120px] bg-gabon-green hover:bg-gabon-green/90 text-white",children:s?"Cration...":"Crer le produit"})]})]})]})})})})},gM=()=>{const t=he(),{id:s}=ri(),[r,n]=u.useState(!1),[a,i]=u.useState([]),[o,l]=u.useState([]),c=[{id:"pice",nom:"Pice"},{id:"kg",nom:"Kilogramme"},{id:"m",nom:"Mtre"},{id:"m",nom:"Mtre carr"},{id:"litre",nom:"Litre"}],[d,f]=u.useState({nom:"",marque:"",reference_produit:"",categorie_id:"",description:"",description_longue:"",fonctionnalites:"",instructions_utilisation:"",materiaux:"",couleurs_disponibles:[],certifications:[],delai_traitement:"7",capacite_approvisionnement:"",port_depart:"",conditions_paiement:[],delai_livraison_estime:"",politique_retour:"",garantie:"",video_url:"",prix_unitaire:"",moq:"1",stock_disponible:"",unite:"pice",poids:"",dimensions:""}),[m,h]=u.useState([]),{data:j}=Re({queryKey:["categories"],queryFn:()=>H.get("/categories")}),y=Array.isArray(j)?j:(j==null?void 0:j.categories)||[],{data:g,isLoading:N}=Re({queryKey:["product",s],queryFn:()=>H.get(`/products/${s}`),enabled:!!s});u.useEffect(()=>{var b,C,_,P,T,L,I;if(g!=null&&g.data){const O=g.data;f({nom:O.nom||"",marque:O.marque||"",reference_produit:O.reference_produit||"",categorie_id:((b=O.categorie_id)==null?void 0:b.toString())||"",description:O.description||"",description_longue:O.description_longue||"",fonctionnalites:O.fonctionnalites||"",instructions_utilisation:O.instructions_utilisation||"",materiaux:O.materiaux||"",couleurs_disponibles:O.couleurs_disponibles||[],certifications:O.certifications||[],delai_traitement:((C=O.delai_traitement)==null?void 0:C.toString())||"7",capacite_approvisionnement:((_=O.capacite_approvisionnement)==null?void 0:_.toString())||"",port_depart:O.port_depart||"",conditions_paiement:O.conditions_paiement||[],delai_livraison_estime:O.delai_livraison_estime||"",politique_retour:O.politique_retour||"",garantie:O.garantie||"",video_url:O.video_url||"",prix_unitaire:((P=O.prix_unitaire)==null?void 0:P.toString())||"",moq:((T=O.moq)==null?void 0:T.toString())||"1",stock_disponible:((L=O.stock_disponible)==null?void 0:L.toString())||"",unite:O.unite||"pice",poids:((I=O.poids)==null?void 0:I.toString())||"",dimensions:O.dimensions||""}),l(O.images||[]),h(O.prix_degressifs||[])}},[g]);const p=(b,C)=>{f(_=>({..._,[b]:C}))},v=b=>{const C=Array.from(b.target.files||[]);i(_=>[..._,...C])},x=b=>{i(C=>C.filter((_,P)=>P!==b))},w=async b=>{try{await H.delete(`/products/${s}/images/${b}`),l(C=>C.filter(_=>_.id!==b)),M.success("Image supprime")}catch(C){M.error(C.message||"Erreur lors de la suppression de l'image")}},k=()=>{h(b=>[...b,{quantite_min:1,quantite_max:null,prix_unitaire:0,devise:"EUR"}])},S=async b=>{var C,_,P;b.preventDefault(),n(!0);try{const T={...d,prix_degressifs:m};console.log(" [EditProduct] Dbut de la mise  jour du produit:",{productId:s,dataToSend:T});const L=await H.put(`/products/${s}`,T);if(console.log(" [EditProduct] Rponse de mise  jour:",L),!L)throw new Error("Aucune rponse du serveur");if(a.length>0){const I=new FormData;a.forEach(O=>{I.append("images",O)});try{await H.request(`/products/${s}/images`,{method:"POST",body:I})}catch(O){console.warn("Erreur lors de l'upload des images:",O)}}M.success("Produit mis  jour avec succs !"),t("/supplier/dashboard")}catch(T){console.error(" [EditProduct] Erreur dtaille:",{message:T.message,status:T.status,response:T.response,data:T.data,fullError:T});let L="Erreur lors de la mise  jour du produit";T.message?L=T.message:(_=(C=T.response)==null?void 0:C.data)!=null&&_.message?L=T.response.data.message:(P=T.data)!=null&&P.message&&(L=T.data.message),M.error(L)}finally{n(!1)}};return N?e.jsx(Gs,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{children:"Chargement du produit..."})]})})}):e.jsx(Gs,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Modifier le produit"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Modifiez les informations de votre produit"})]}),e.jsxs("form",{onSubmit:S,children:[e.jsxs(Kr,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(br,{className:"grid w-full grid-cols-5 bg-white border border-gray-200",children:[e.jsx(ke,{value:"general",children:"Gnral"}),e.jsx(ke,{value:"images",children:"Images"}),e.jsx(ke,{value:"prix",children:"Prix"}),e.jsx(ke,{value:"livraison",children:"Livraison"}),e.jsx(ke,{value:"conditions",children:"Conditions"})]}),e.jsx(Ee,{value:"general",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{children:"Informations gnrales"})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"nom",children:"Nom du produit *"}),e.jsx(D,{id:"nom",value:d.nom,onChange:b=>p("nom",b.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"marque",children:"Marque"}),e.jsx(D,{id:"marque",value:d.marque,onChange:b=>p("marque",b.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"reference_produit",children:"Rfrence produit"}),e.jsx(D,{id:"reference_produit",value:d.reference_produit,onChange:b=>p("reference_produit",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"categorie_id",children:"Catgorie *"}),e.jsx(fs,{value:d.categorie_id,onValueChange:b=>p("categorie_id",b),placeholder:"Slectionner une catgorie",options:y})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"description",children:"Description courte"}),e.jsx(Ye,{id:"description",value:d.description,onChange:b=>p("description",b.target.value),rows:3})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"description_longue",children:"Description dtaille *"}),e.jsx(Ye,{id:"description_longue",value:d.description_longue,onChange:b=>p("description_longue",b.target.value),rows:6,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"prix_unitaire",children:"Prix unitaire () *"}),e.jsx(D,{id:"prix_unitaire",type:"number",step:"0.01",value:d.prix_unitaire,onChange:b=>p("prix_unitaire",b.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"moq",children:"MOQ *"}),e.jsx(D,{id:"moq",type:"number",value:d.moq,onChange:b=>p("moq",b.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"stock_disponible",children:"Stock disponible"}),e.jsx(D,{id:"stock_disponible",type:"number",value:d.stock_disponible,onChange:b=>p("stock_disponible",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"unite",children:"Unit"}),e.jsx(fs,{value:d.unite,onValueChange:b=>p("unite",b),placeholder:"Slectionner une unit",options:c})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"poids",children:"Poids (kg)"}),e.jsx(D,{id:"poids",type:"number",step:"0.01",value:d.poids,onChange:b=>p("poids",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"dimensions",children:"Dimensions"}),e.jsx(D,{id:"dimensions",value:d.dimensions,onChange:b=>p("dimensions",b.target.value),placeholder:"L x l x h"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"delai_traitement",children:"Dlai traitement (jours)"}),e.jsx(D,{id:"delai_traitement",type:"number",value:d.delai_traitement,onChange:b=>p("delai_traitement",b.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"fonctionnalites",children:"Fonctionnalits"}),e.jsx(Ye,{id:"fonctionnalites",value:d.fonctionnalites,onChange:b=>p("fonctionnalites",b.target.value),rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"materiaux",children:"Matriaux"}),e.jsx(D,{id:"materiaux",value:d.materiaux,onChange:b=>p("materiaux",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"garantie",children:"Garantie"}),e.jsx(D,{id:"garantie",value:d.garantie,onChange:b=>p("garantie",b.target.value),placeholder:"Ex: 2 ans"})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"instructions_utilisation",children:"Instructions d'utilisation"}),e.jsx(Ye,{id:"instructions_utilisation",value:d.instructions_utilisation,onChange:b=>p("instructions_utilisation",b.target.value),rows:3})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Couleurs disponibles"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[d.couleurs_disponibles.map((b,C)=>e.jsxs(U,{variant:"secondary",className:"flex items-center gap-1",children:[b,e.jsx(E,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-red-100",onClick:()=>{p("couleurs_disponibles",d.couleurs_disponibles.filter((_,P)=>P!==C))},children:e.jsx(Ae,{className:"w-3 h-3"})})]},C)),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(D,{placeholder:"Ajouter couleur",className:"w-32",onKeyPress:b=>{if(b.key==="Enter"){b.preventDefault();const C=b.target,_=C.value.trim();_&&!d.couleurs_disponibles.includes(_)&&(p("couleurs_disponibles",[...d.couleurs_disponibles,_]),C.value="")}}})})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Certifications"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[d.certifications.map((b,C)=>e.jsxs(U,{variant:"secondary",className:"flex items-center gap-1",children:[b,e.jsx(E,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-red-100",onClick:()=>{p("certifications",d.certifications.filter((_,P)=>P!==C))},children:e.jsx(Ae,{className:"w-3 h-3"})})]},C)),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(D,{placeholder:"Ajouter certification",className:"w-40",onKeyPress:b=>{if(b.key==="Enter"){b.preventDefault();const C=b.target,_=C.value.trim();_&&!d.certifications.includes(_)&&(p("certifications",[...d.certifications,_]),C.value="")}}})})]})]})]})]})}),e.jsx(Ee,{value:"images",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{children:"Images du produit"})}),e.jsxs(q,{className:"space-y-4",children:[o.length>0&&e.jsxs("div",{children:[e.jsx(W,{children:"Images actuelles"}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mt-2",children:o.map((b,C)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Dt(b.url),alt:"Image produit",className:"w-full h-24 object-cover rounded border"}),e.jsx(E,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 w-6 h-6 p-0",onClick:()=>w(b.id),children:e.jsx(Ae,{className:"w-3 h-3"})}),b.principale&&e.jsx("div",{className:"absolute bottom-1 left-1 bg-green-500 text-white text-xs px-1 rounded",children:"Principal"})]},b.id))})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"images",children:"Ajouter des images"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:v,className:"hidden"}),e.jsxs(E,{type:"button",variant:"outline",onClick:()=>{var b;return(b=document.getElementById("images"))==null?void 0:b.click()},className:"w-full",children:[e.jsx(po,{className:"w-4 h-4 mr-2"}),"Slectionner des images"]})]})]}),a.length>0&&e.jsxs("div",{children:[e.jsx(W,{children:"Nouvelles images  ajouter"}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mt-2",children:a.map((b,C)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:URL.createObjectURL(b),alt:"Nouvelle image",className:"w-full h-24 object-cover rounded border"}),e.jsx(E,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 w-6 h-6 p-0",onClick:()=>x(C),children:e.jsx(Ae,{className:"w-3 h-3"})})]},C))})]})]})]})}),e.jsx(Ee,{value:"prix",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{children:"Prix et options d'achat"})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"prix_unitaire",children:"Prix unitaire () *"}),e.jsx(D,{id:"prix_unitaire",type:"number",step:"0.01",value:d.prix_unitaire,onChange:b=>p("prix_unitaire",b.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"moq",children:"MOQ *"}),e.jsx(D,{id:"moq",type:"number",value:d.moq,onChange:b=>p("moq",b.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"stock_disponible",children:"Stock disponible"}),e.jsx(D,{id:"stock_disponible",type:"number",value:d.stock_disponible,onChange:b=>p("stock_disponible",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"unite",children:"Unit"}),e.jsx(fs,{value:d.unite,onValueChange:b=>p("unite",b),placeholder:"Slectionner une unit",options:c})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"capacite_approvisionnement",children:"Capacit d'approvisionnement (units/mois)"}),e.jsx(D,{id:"capacite_approvisionnement",type:"number",value:d.capacite_approvisionnement,onChange:b=>p("capacite_approvisionnement",b.target.value)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(W,{children:"Prix dgressifs"}),e.jsxs(E,{type:"button",onClick:k,size:"sm",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Ajouter un palier"]})]}),m.map((b,C)=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Quantit min"}),e.jsx(D,{type:"number",value:b.quantite_min,onChange:_=>{const P=[...m];P[C].quantite_min=parseInt(_.target.value),h(P)}})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Quantit max"}),e.jsx(D,{type:"number",value:b.quantite_max||"",onChange:_=>{const P=[...m];P[C].quantite_max=_.target.value?parseInt(_.target.value):null,h(P)},placeholder:"Illimit"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Prix unitaire"}),e.jsx(D,{type:"number",step:"0.01",value:b.prix_unitaire,onChange:_=>{const P=[...m];P[C].prix_unitaire=parseFloat(_.target.value),h(P)}})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(E,{type:"button",variant:"destructive",size:"sm",onClick:()=>h(_=>_.filter((P,T)=>T!==C)),children:e.jsx(Ae,{className:"w-4 h-4"})})})]},C))]})]})]})}),e.jsx(Ee,{value:"livraison",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{children:"Expdition et livraison"})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"delai_traitement",children:"Dlai traitement (jours)"}),e.jsx(D,{id:"delai_traitement",type:"number",value:d.delai_traitement,onChange:b=>p("delai_traitement",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"port_depart",children:"Port de dpart"}),e.jsx(D,{id:"port_depart",value:d.port_depart,onChange:b=>p("port_depart",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"delai_livraison_estime",children:"Dlai de livraison estim"}),e.jsx(D,{id:"delai_livraison_estime",value:d.delai_livraison_estime,onChange:b=>p("delai_livraison_estime",b.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"poids",children:"Poids (kg)"}),e.jsx(D,{id:"poids",type:"number",step:"0.01",value:d.poids,onChange:b=>p("poids",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"dimensions",children:"Dimensions"}),e.jsx(D,{id:"dimensions",value:d.dimensions,onChange:b=>p("dimensions",b.target.value),placeholder:"L x l x h"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"video_url",children:"URL Vido"}),e.jsx(D,{id:"video_url",value:d.video_url,onChange:b=>p("video_url",b.target.value),placeholder:"https://..."})]})]})]})]})}),e.jsx(Ee,{value:"conditions",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{children:"Conditions commerciales"})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Conditions de paiement acceptes"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mt-2",children:["Virement bancaire","Lettre de crdit","Paiement  la livraison","Paiement anticip","Western Union","MoneyGram"].map(b=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:b,checked:d.conditions_paiement.includes(b),onChange:C=>{C.target.checked?p("conditions_paiement",[...d.conditions_paiement,b]):p("conditions_paiement",d.conditions_paiement.filter(_=>_!==b))},className:"rounded border-gray-300"}),e.jsx(W,{htmlFor:b,className:"text-sm font-normal",children:b})]},b))})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"politique_retour",children:"Politique de retour"}),e.jsx(Ye,{id:"politique_retour",value:d.politique_retour,onChange:b=>p("politique_retour",b.target.value),rows:3})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"garantie",children:"Garantie"}),e.jsx(Ye,{id:"garantie",value:d.garantie,onChange:b=>p("garantie",b.target.value),rows:3})]})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[e.jsx(E,{type:"button",variant:"outline",onClick:()=>t("/supplier/dashboard"),children:"Annuler"}),e.jsx(E,{type:"submit",disabled:r,className:"min-w-[120px] bg-gabon-green hover:bg-gabon-green/90 text-white",children:r?"Mise  jour...":"Mettre  jour"})]})]})]})})})},vM=()=>{const{id:t}=ri(),s=he(),[r,n]=u.useState(0),{data:a,isLoading:i,error:o}=Re({queryKey:["product-preview",t],queryFn:async()=>(await H.get(`/products/${t}`)).data,enabled:!!t});if(i)return e.jsx(Gs,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{children:"Chargement du produit..."})]})})});if(o||!a)return e.jsx(Gs,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(fe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Produit non trouv"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Ce produit n'existe pas ou vous n'avez pas les droits pour le voir."}),e.jsxs(E,{onClick:()=>s("/supplier/dashboard?tab=products"),children:[e.jsx(Ys,{className:"w-4 h-4 mr-2"}),"Retour  mes produits"]})]})})});const l=a.images||[],c=l.length>0?l[r]:null;return e.jsx(Gs,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(E,{variant:"outline",onClick:()=>s("/supplier/dashboard?tab=products"),children:[e.jsx(Ys,{className:"w-4 h-4 mr-2"}),"Retour  mes produits"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Aperu produit"}),e.jsx("p",{className:"text-gray-600",children:"Vue publique de votre produit"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{className:a.statut==="actif"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:a.statut==="actif"?"Actif":"Inactif"}),e.jsx(E,{variant:"outline",onClick:()=>s(`/supplier/products/edit/${a.id}`),children:"Modifier le produit"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-square bg-white rounded-lg border overflow-hidden",children:c?e.jsx("img",{src:Dt(c.url),alt:c.alt_text||a.nom,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:e.jsx(Sk,{className:"w-16 h-16 text-gray-400"})})}),l.length>1&&e.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:l.map((d,f)=>e.jsx("button",{onClick:()=>n(f),className:`flex-shrink-0 w-20 h-20 rounded-lg border-2 overflow-hidden ${r===f?"border-green-500":"border-gray-200"}`,children:e.jsx("img",{src:Dt(d.url),alt:d.alt_text,className:"w-full h-full object-cover"})},d.id))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.nom}),a.marque&&e.jsxs("p",{className:"text-lg text-gray-600 mb-4",children:["Marque: ",a.marque]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600",children:vf(a.prix_unitaire)}),e.jsx("span",{className:"text-gray-600",children:"/unit"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((d,f)=>e.jsx(ot,{className:`w-5 h-5 ${f<Math.floor(a.note_moyenne||0)?"text-yellow-400 fill-current":"text-gray-300"}`},f))}),e.jsxs("span",{className:"text-sm text-gray-600",children:[h1(a.note_moyenne)," (",zm(a.nombre_avis)," avis)"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx($,{children:e.jsx(q,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"MOQ"}),e.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[zm(a.moq)," ",a.unite]})]})})}),e.jsx($,{children:e.jsx(q,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Stock"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:zm(a.stock_disponible)})]})})})]}),a.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-700",children:a.description})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(Ue,{className:"w-5 h-5 mr-2"}),"Informations fournisseur"]})}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Entreprise:"})," ",a.nom_entreprise]}),a.port_depart&&e.jsxs("p",{className:"flex items-center",children:[e.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Port de dpart: ",a.port_depart]}),a.delai_livraison_estime&&e.jsxs("p",{className:"flex items-center",children:[e.jsx(wu,{className:"w-4 h-4 mr-2"}),"Dlai de livraison: ",a.delai_livraison_estime]})]})})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(Kr,{defaultValue:"details",className:"w-full",children:[e.jsxs(br,{className:"grid w-full grid-cols-4",children:[e.jsx(ke,{value:"details",children:"Dtails"}),e.jsx(ke,{value:"specifications",children:"Spcifications"}),e.jsx(ke,{value:"shipping",children:"Livraison"}),e.jsx(ke,{value:"certifications",children:"Certifications"})]}),e.jsx(Ee,{value:"details",className:"mt-6",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{children:"Description dtaille"})}),e.jsx(q,{children:e.jsx("div",{className:"prose max-w-none",children:a.description_longue?e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.description_longue}):e.jsx("p",{className:"text-gray-500 italic",children:"Aucune description dtaille disponible"})})})]})}),e.jsx(Ee,{value:"specifications",className:"mt-6",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{children:"Spcifications techniques"})}),e.jsx(q,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.materiaux&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Matriaux"}),e.jsx("p",{className:"text-gray-700",children:a.materiaux})]}),a.dimensions&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Dimensions"}),e.jsx("p",{className:"text-gray-700",children:a.dimensions})]}),a.poids&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Poids"}),e.jsxs("p",{className:"text-gray-700",children:[a.poids," kg"]})]}),a.couleurs_disponibles&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Couleurs disponibles"}),e.jsx("p",{className:"text-gray-700",children:a.couleurs_disponibles})]})]})})]})}),e.jsx(Ee,{value:"shipping",className:"mt-6",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{children:"Informations de livraison"})}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-4",children:[a.delai_traitement&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Dlai de traitement"}),e.jsxs("p",{className:"text-gray-700",children:[a.delai_traitement," jours"]})]}),a.port_depart&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Port de dpart"}),e.jsx("p",{className:"text-gray-700",children:a.port_depart})]}),a.politique_retour&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Politique de retour"}),e.jsx("p",{className:"text-gray-700",children:a.politique_retour})]})]})})]})}),e.jsx(Ee,{value:"certifications",className:"mt-6",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{children:"Certifications et garanties"})}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-4",children:[a.certifications&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Certifications"}),e.jsx("p",{className:"text-gray-700",children:a.certifications})]}),a.garantie&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Garantie"}),e.jsx("p",{className:"text-gray-700",children:a.garantie})]})]})})]})})]})})]})})})},jM=()=>{const t=he(),{data:s}=dt(),r=Xr(),[n,a]=u.useState("overview"),{photoData:i}=ja(),{data:o}=Re({queryKey:["buyer-messages"],queryFn:()=>H.get("/messages")}),{data:l}=Re({queryKey:["buyer-favorites"],queryFn:()=>H.get("/users/favorites")}),c=()=>{r.mutate()},d=()=>{var f,m;return[{title:"Messages",value:((f=o==null?void 0:o.length)==null?void 0:f.toString())||"0",icon:Te,color:"text-purple-600",action:()=>t("/messages")},{title:"Favoris",value:((m=l==null?void 0:l.length)==null?void 0:m.toString())||"0",icon:wt,color:"text-red-600",action:()=>a("favorites")},{title:"Produits vus",value:"0",icon:Oe,color:"text-yellow-600",action:()=>t("/products")},{title:"Fournisseurs",value:"0",icon:fe,color:"text-green-600",action:()=>t("/suppliers")}]};return e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"container mx-auto px-4 py-4 sm:py-8",children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-4 gap-4 lg:gap-8",children:[e.jsx("div",{className:"lg:col-span-1 order-2 lg:order-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:[e.jsxs("div",{className:"text-center mb-4 lg:mb-6",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx(So,{photoUrl:i==null?void 0:i.photo_profil,name:`${s==null?void 0:s.nom} ${s==null?void 0:s.prenom}`,size:"lg",className:"mx-auto"})}),e.jsxs("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:[s==null?void 0:s.nom," ",s==null?void 0:s.prenom]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:s==null?void 0:s.email}),e.jsx(U,{variant:"outline",className:"mt-2 text-xs bg-blue-50 text-blue-700",children:"Acheteur"})]}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs(E,{variant:n==="overview"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>a("overview"),children:[e.jsx(nt,{className:"w-4 h-4 mr-2"}),"Vue d'ensemble"]}),e.jsxs(E,{variant:"ghost",className:"w-full justify-start text-sm",onClick:()=>t("/suppliers"),children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"Fournisseurs"]}),e.jsxs(E,{variant:n==="favorites"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>a("favorites"),children:[e.jsx(wt,{className:"w-4 h-4 mr-2"}),"Mes favoris"]}),e.jsxs(E,{variant:"ghost",className:"w-full justify-start text-sm",onClick:()=>t("/messages"),children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),"Messages"]}),e.jsxs(E,{variant:"ghost",className:"w-full justify-start text-sm",onClick:()=>t("/products"),children:[e.jsx(Ve,{className:"w-4 h-4 mr-2"}),"Parcourir produits"]})]}),e.jsx("div",{className:"mt-4 lg:mt-8 pt-4 lg:pt-6 border-t",children:e.jsxs(E,{variant:"outline",size:"sm",className:"w-full text-red-600 hover:text-red-700 text-sm",onClick:c,disabled:r.isPending,children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),r.isPending?"Dconnexion...":"Dconnexion"]})})]})}),e.jsxs("div",{className:"lg:col-span-3 order-1 lg:order-2",children:[n==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tableau de bord acheteur "}),e.jsx("p",{className:"text-gray-600",children:"Bienvenue sur votre espace personnel GabMarketHub"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:d().map((f,m)=>e.jsx($,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:f.action,children:e.jsxs(q,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-2 rounded-lg bg-gray-50",children:e.jsx(f.icon,{className:`w-6 h-6 ${f.color}`})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:f.value}),e.jsx("p",{className:"text-sm text-gray-600",children:f.title})]})]})},m))}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Actions rapides"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs(E,{className:"flex flex-col items-center p-6 h-auto space-y-2",onClick:()=>t("/products"),children:[e.jsx(Ve,{className:"w-8 h-8"}),e.jsx("span",{children:"Parcourir produits"})]}),e.jsxs(E,{variant:"outline",className:"flex flex-col items-center p-6 h-auto space-y-2",onClick:()=>t("/messages"),children:[e.jsx(Te,{className:"w-8 h-8"}),e.jsx("span",{children:"Contacter fournisseurs"})]}),e.jsxs(E,{variant:"outline",className:"flex flex-col items-center p-6 h-auto space-y-2",onClick:()=>a("favorites"),children:[e.jsx(wt,{className:"w-8 h-8"}),e.jsx("span",{children:"Mes favoris"})]})]})]})]}),n==="favorites"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Mes favoris"}),(l==null?void 0:l.length)>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(f=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium",children:f.nom}),e.jsxs("p",{className:"text-sm text-gray-600",children:[f.prix_unitaire," "]})]},f.id))}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"Aucun favori pour le moment"})]})]})]})})})})};function Ge(t){const s=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&s==="[object Date]"?new t.constructor(+t):typeof t=="number"||s==="[object Number]"||typeof t=="string"||s==="[object String]"?new Date(t):new Date(NaN)}function ua(t,s){return t instanceof Date?new t.constructor(s):new Date(s)}const g1=6048e5,yM=864e5,Bc=43200,J0=1440;let bM={};function ac(){return bM}function Ol(t,s){var l,c,d,f;const r=ac(),n=(s==null?void 0:s.weekStartsOn)??((c=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,a=Ge(t),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Yd(t){return Ol(t,{weekStartsOn:1})}function v1(t){const s=Ge(t),r=s.getFullYear(),n=ua(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Yd(n),i=ua(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Yd(i);return s.getTime()>=a.getTime()?r+1:s.getTime()>=o.getTime()?r:r-1}function Z0(t){const s=Ge(t);return s.setHours(0,0,0,0),s}function Qd(t){const s=Ge(t),r=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return r.setUTCFullYear(s.getFullYear()),+t-+r}function NM(t,s){const r=Z0(t),n=Z0(s),a=+r-Qd(r),i=+n-Qd(n);return Math.round((a-i)/yM)}function wM(t){const s=v1(t),r=ua(t,0);return r.setFullYear(s,0,4),r.setHours(0,0,0,0),Yd(r)}function cd(t,s){const r=Ge(t),n=Ge(s),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function CM(t){return ua(t,Date.now())}function SM(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _M(t){if(!SM(t)&&typeof t!="number")return!1;const s=Ge(t);return!isNaN(Number(s))}function kM(t,s){const r=Ge(t),n=Ge(s),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function EM(t){return s=>{const n=(t?Math[t]:Math.trunc)(s);return n===0?0:n}}function PM(t,s){return+Ge(t)-+Ge(s)}function TM(t){const s=Ge(t);return s.setHours(23,59,59,999),s}function RM(t){const s=Ge(t),r=s.getMonth();return s.setFullYear(s.getFullYear(),r+1,0),s.setHours(23,59,59,999),s}function AM(t){const s=Ge(t);return+TM(s)==+RM(s)}function MM(t,s){const r=Ge(t),n=Ge(s),a=cd(r,n),i=Math.abs(kM(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=cd(r,n)===-a;AM(Ge(t))&&i===1&&cd(t,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function IM(t,s,r){const n=PM(t,s)/1e3;return EM(r==null?void 0:r.roundingMethod)(n)}function LM(t){const s=Ge(t),r=ua(t,0);return r.setFullYear(s.getFullYear(),0,1),r.setHours(0,0,0,0),r}const DM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OM=(t,s,r)=>{let n;const a=DM[t];return typeof a=="string"?n=a:s===1?n=a.one:n=a.other.replace("{{count}}",s.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Fi(t){return(s={})=>{const r=s.width?String(s.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const FM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$M={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qM={date:Fi({formats:FM,defaultWidth:"full"}),time:Fi({formats:zM,defaultWidth:"full"}),dateTime:Fi({formats:$M,defaultWidth:"full"})},BM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VM=(t,s,r,n)=>BM[t];function Dr(t){return(s,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(s):s;return a[i]}}const UM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},HM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},XM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YM=(t,s)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},QM={ordinalNumber:YM,era:Dr({values:UM,defaultWidth:"wide"}),quarter:Dr({values:HM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Dr({values:WM,defaultWidth:"wide"}),day:Dr({values:GM,defaultWidth:"wide"}),dayPeriod:Dr({values:XM,defaultWidth:"wide",formattingValues:KM,defaultFormattingWidth:"wide"})};function Or(t){return(s,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=s.match(a);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?ZM(l,m=>m.test(o)):JM(l,m=>m.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const f=s.slice(o.length);return{value:d,rest:f}}}function JM(t,s){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&s(t[r]))return r}function ZM(t,s){for(let r=0;r<t.length;r++)if(s(t[r]))return r}function j1(t){return(s,r={})=>{const n=s.match(t.matchPattern);if(!n)return null;const a=n[0],i=s.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=s.slice(a.length);return{value:o,rest:l}}}const eI=/^(\d+)(th|st|nd|rd)?/i,tI=/\d+/i,sI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rI={any:[/^b/i,/^(a|c)/i]},nI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aI={any:[/1/i,/2/i,/3/i,/4/i]},iI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mI={ordinalNumber:j1({matchPattern:eI,parsePattern:tI,valueCallback:t=>parseInt(t,10)}),era:Or({matchPatterns:sI,defaultMatchWidth:"wide",parsePatterns:rI,defaultParseWidth:"any"}),quarter:Or({matchPatterns:nI,defaultMatchWidth:"wide",parsePatterns:aI,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Or({matchPatterns:iI,defaultMatchWidth:"wide",parsePatterns:oI,defaultParseWidth:"any"}),day:Or({matchPatterns:lI,defaultMatchWidth:"wide",parsePatterns:cI,defaultParseWidth:"any"}),dayPeriod:Or({matchPatterns:dI,defaultMatchWidth:"any",parsePatterns:uI,defaultParseWidth:"any"})},y1={code:"en-US",formatDistance:OM,formatLong:qM,formatRelative:VM,localize:QM,match:mI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hI(t){const s=Ge(t);return NM(s,LM(s))+1}function fI(t){const s=Ge(t),r=+Yd(s)-+wM(s);return Math.round(r/g1)+1}function b1(t,s){var f,m,h,j;const r=Ge(t),n=r.getFullYear(),a=ac(),i=(s==null?void 0:s.firstWeekContainsDate)??((m=(f=s==null?void 0:s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((j=(h=a.locale)==null?void 0:h.options)==null?void 0:j.firstWeekContainsDate)??1,o=ua(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Ol(o,s),c=ua(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=Ol(c,s);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function xI(t,s){var l,c,d,f;const r=ac(),n=(s==null?void 0:s.firstWeekContainsDate)??((c=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=b1(t,s),i=ua(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Ol(i,s)}function pI(t,s){const r=Ge(t),n=+Ol(r,s)-+xI(r,s);return Math.round(n/g1)+1}function Be(t,s){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(s,"0");return r+n}const En={y(t,s){const r=t.getFullYear(),n=r>0?r:1-r;return Be(s==="yy"?n%100:n,s.length)},M(t,s){const r=t.getMonth();return s==="M"?String(r+1):Be(r+1,2)},d(t,s){return Be(t.getDate(),s.length)},a(t,s){const r=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,s){return Be(t.getHours()%12||12,s.length)},H(t,s){return Be(t.getHours(),s.length)},m(t,s){return Be(t.getMinutes(),s.length)},s(t,s){return Be(t.getSeconds(),s.length)},S(t,s){const r=s.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Be(a,s.length)}},hi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ev={G:function(t,s,r){const n=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,s,r){if(s==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return En.y(t,s)},Y:function(t,s,r,n){const a=b1(t,n),i=a>0?a:1-a;if(s==="YY"){const o=i%100;return Be(o,2)}return s==="Yo"?r.ordinalNumber(i,{unit:"year"}):Be(i,s.length)},R:function(t,s){const r=v1(t);return Be(r,s.length)},u:function(t,s){const r=t.getFullYear();return Be(r,s.length)},Q:function(t,s,r){const n=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(n);case"QQ":return Be(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,s,r){const n=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(n);case"qq":return Be(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,s,r){const n=t.getMonth();switch(s){case"M":case"MM":return En.M(t,s);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,s,r){const n=t.getMonth();switch(s){case"L":return String(n+1);case"LL":return Be(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,s,r,n){const a=pI(t,n);return s==="wo"?r.ordinalNumber(a,{unit:"week"}):Be(a,s.length)},I:function(t,s,r){const n=fI(t);return s==="Io"?r.ordinalNumber(n,{unit:"week"}):Be(n,s.length)},d:function(t,s,r){return s==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):En.d(t,s)},D:function(t,s,r){const n=hI(t);return s==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Be(n,s.length)},E:function(t,s,r){const n=t.getDay();switch(s){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,s,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(s){case"e":return String(i);case"ee":return Be(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,s,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(s){case"c":return String(i);case"cc":return Be(i,s.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,s,r){const n=t.getDay(),a=n===0?7:n;switch(s){case"i":return String(a);case"ii":return Be(a,s.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,s,r){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,s,r){const n=t.getHours();let a;switch(n===12?a=hi.noon:n===0?a=hi.midnight:a=n/12>=1?"pm":"am",s){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,s,r){const n=t.getHours();let a;switch(n>=17?a=hi.evening:n>=12?a=hi.afternoon:n>=4?a=hi.morning:a=hi.night,s){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,s,r){if(s==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return En.h(t,s)},H:function(t,s,r){return s==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):En.H(t,s)},K:function(t,s,r){const n=t.getHours()%12;return s==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Be(n,s.length)},k:function(t,s,r){let n=t.getHours();return n===0&&(n=24),s==="ko"?r.ordinalNumber(n,{unit:"hour"}):Be(n,s.length)},m:function(t,s,r){return s==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):En.m(t,s)},s:function(t,s,r){return s==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):En.s(t,s)},S:function(t,s){return En.S(t,s)},X:function(t,s,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(s){case"X":return sv(n);case"XXXX":case"XX":return Sa(n);case"XXXXX":case"XXX":default:return Sa(n,":")}},x:function(t,s,r){const n=t.getTimezoneOffset();switch(s){case"x":return sv(n);case"xxxx":case"xx":return Sa(n);case"xxxxx":case"xxx":default:return Sa(n,":")}},O:function(t,s,r){const n=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+tv(n,":");case"OOOO":default:return"GMT"+Sa(n,":")}},z:function(t,s,r){const n=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+tv(n,":");case"zzzz":default:return"GMT"+Sa(n,":")}},t:function(t,s,r){const n=Math.trunc(t.getTime()/1e3);return Be(n,s.length)},T:function(t,s,r){const n=t.getTime();return Be(n,s.length)}};function tv(t,s=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+s+Be(i,2)}function sv(t,s){return t%60===0?(t>0?"-":"+")+Be(Math.abs(t)/60,2):Sa(t,s)}function Sa(t,s=""){const r=t>0?"-":"+",n=Math.abs(t),a=Be(Math.trunc(n/60),2),i=Be(n%60,2);return r+a+s+i}const rv=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},N1=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},gI=(t,s)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return rv(t,s);let i;switch(n){case"P":i=s.dateTime({width:"short"});break;case"PP":i=s.dateTime({width:"medium"});break;case"PPP":i=s.dateTime({width:"long"});break;case"PPPP":default:i=s.dateTime({width:"full"});break}return i.replace("{{date}}",rv(n,s)).replace("{{time}}",N1(a,s))},vI={p:N1,P:gI},jI=/^D+$/,yI=/^Y+$/,bI=["D","DD","YY","YYYY"];function NI(t){return jI.test(t)}function wI(t){return yI.test(t)}function CI(t,s,r){const n=SI(t,s,r);if(console.warn(n),bI.includes(t))throw new RangeError(n)}function SI(t,s,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _I=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EI=/^'([^]*?)'?$/,PI=/''/g,TI=/[a-zA-Z]/;function dd(t,s,r){var f,m,h,j,y,g,N,p;const n=ac(),a=(r==null?void 0:r.locale)??n.locale??y1,i=(r==null?void 0:r.firstWeekContainsDate)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((j=(h=n.locale)==null?void 0:h.options)==null?void 0:j.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((p=(N=n.locale)==null?void 0:N.options)==null?void 0:p.weekStartsOn)??0,l=Ge(t);if(!_M(l))throw new RangeError("Invalid time value");let c=s.match(kI).map(v=>{const x=v[0];if(x==="p"||x==="P"){const w=vI[x];return w(v,a.formatLong)}return v}).join("").match(_I).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const x=v[0];if(x==="'")return{isToken:!1,value:RI(v)};if(ev[x])return{isToken:!0,value:v};if(x.match(TI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(v=>{if(!v.isToken)return v.value;const x=v.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&wI(x)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&NI(x))&&CI(x,s,String(t));const w=ev[x[0]];return w(l,x,a.localize,d)}).join("")}function RI(t){const s=t.match(EI);return s?s[1].replace(PI,"'"):t}function AI(t,s,r){const n=ac(),a=(r==null?void 0:r.locale)??n.locale??y1,i=2520,o=cd(t,s);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=Ge(s),d=Ge(t)):(c=Ge(t),d=Ge(s));const f=IM(d,c),m=(Qd(d)-Qd(c))/1e3,h=Math.round((f-m)/60);let j;if(h<2)return r!=null&&r.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,l):f<10?a.formatDistance("lessThanXSeconds",10,l):f<20?a.formatDistance("lessThanXSeconds",20,l):f<40?a.formatDistance("halfAMinute",0,l):f<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<J0){const y=Math.round(h/60);return a.formatDistance("aboutXHours",y,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<Bc){const y=Math.round(h/J0);return a.formatDistance("xDays",y,l)}else if(h<Bc*2)return j=Math.round(h/Bc),a.formatDistance("aboutXMonths",j,l)}if(j=MM(d,c),j<12){const y=Math.round(h/Bc);return a.formatDistance("xMonths",y,l)}else{const y=j%12,g=Math.trunc(j/12);return y<3?a.formatDistance("aboutXYears",g,l):y<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function MI(t,s){return AI(t,CM(t),s)}const II={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},LI=(t,s,r)=>{let n;const a=II[t];return typeof a=="string"?n=a:s===1?n=a.one:n=a.other.replace("{{count}}",String(s)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},DI={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},OI={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},FI={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zI={date:Fi({formats:DI,defaultWidth:"full"}),time:Fi({formats:OI,defaultWidth:"full"}),dateTime:Fi({formats:FI,defaultWidth:"full"})},$I={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},qI=(t,s,r,n)=>$I[t],BI={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},VI={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},UI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},HI={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},WI={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},GI=(t,s)=>{const r=Number(t),n=s==null?void 0:s.unit;if(r===0)return"0";const a=["year","week","hour","minute","second"];let i;return r===1?i=n&&a.includes(n)?"re":"er":i="me",r+i},XI=["MMM","MMMM"],KI={preprocessor:(t,s)=>t.getDate()===1||!s.some(n=>n.isToken&&XI.includes(n.value))?s:s.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:GI,era:Dr({values:BI,defaultWidth:"wide"}),quarter:Dr({values:VI,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Dr({values:UI,defaultWidth:"wide"}),day:Dr({values:HI,defaultWidth:"wide"}),dayPeriod:Dr({values:WI,defaultWidth:"wide"})},YI=/^(\d+)(ime|re|me|er|e)?/i,QI=/\d+/i,JI={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},ZI={any:[/^av/i,/^ap/i]},eL={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},tL={any:[/1/i,/2/i,/3/i,/4/i]},sL={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},rL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},nL={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},aL={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},iL={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},oL={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},lL={ordinalNumber:j1({matchPattern:YI,parsePattern:QI,valueCallback:t=>parseInt(t)}),era:Or({matchPatterns:JI,defaultMatchWidth:"wide",parsePatterns:ZI,defaultParseWidth:"any"}),quarter:Or({matchPatterns:eL,defaultMatchWidth:"wide",parsePatterns:tL,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Or({matchPatterns:sL,defaultMatchWidth:"wide",parsePatterns:rL,defaultParseWidth:"any"}),day:Or({matchPatterns:nL,defaultMatchWidth:"wide",parsePatterns:aL,defaultParseWidth:"any"}),dayPeriod:Or({matchPatterns:iL,defaultMatchWidth:"any",parsePatterns:oL,defaultParseWidth:"any"})},dl={code:"fr",formatDistance:LI,formatLong:zI,formatRelative:qI,localize:KI,match:lL,options:{weekStartsOn:1,firstWeekContainsDate:4}},w1=t=>{try{if(t instanceof Date&&!isNaN(t.getTime()))return t;if(!t||t==="null"||t==="undefined"||t===null||t===void 0||t===""||typeof t=="object"&&t!==null&&!(t instanceof Date)&&Object.keys(t).length===0)return null;const s=new Date(t);if(isNaN(s.getTime())){if(typeof t=="string"){const r=new Date(t.replace(" ","T"));if(!isNaN(r.getTime()))return r;const n=new Date(t+"T00:00:00");if(!isNaN(n.getTime()))return n}return console.warn("Impossible de parser la date:",t,"Type:",typeof t),null}return s}catch(s){return console.warn("Erreur lors de la normalisation de la date:",t,"Error:",s),null}},C1=(t,s={})=>{const{addSuffix:r=!0,fallback:n="Rcemment",format:a="relative",dateFormat:i="dd/MM/yyyy HH:mm"}=s;try{const o=w1(t);return o?a==="absolute"?dd(o,i,{locale:dl}):MI(o,{addSuffix:r,locale:dl}):n}catch(o){return console.warn("Erreur lors du formatage de la date:",t,"Error:",o),n}},cL=t=>{const s=w1(t);if(!s)return"";const r=new Date,n=new Date(r.getFullYear(),r.getMonth(),r.getDate()),a=new Date(s.getFullYear(),s.getMonth(),s.getDate());if(a.getTime()===n.getTime())return dd(s,"HH:mm",{locale:dl});const i=new Date(n);return i.setDate(i.getDate()-1),a.getTime()===i.getTime()?`Hier ${dd(s,"HH:mm",{locale:dl})}`:dd(s,"dd/MM/yyyy HH:mm",{locale:dl})},S1=({conversations:t,selectedConversation:s,onSelectConversation:r,currentUserId:n})=>{const a=d=>n===d.acheteur_id?d.nom_entreprise||`${d.fournisseur_prenom} ${d.fournisseur_nom}`.trim():`${d.acheteur_prenom} ${d.acheteur_nom}`.trim(),i=d=>n===d.acheteur_id?d.nom_entreprise?e.jsx(dn,{className:"h-4 w-4"}):e.jsx(we,{className:"h-4 w-4"}):e.jsx(we,{className:"h-4 w-4"}),o=d=>n===d.acheteur_id?d.messages_non_lus_acheteur||0:d.messages_non_lus_fournisseur||0,l=d=>C1(d.derniere_activite||d.updated_at,{addSuffix:!0,fallback:"Rcemment",format:"relative"}),c=d=>d.statut==="fermee"?e.jsx(jk,{className:"h-4 w-4 text-green-500"}):e.jsx(Te,{className:"h-4 w-4 text-blue-500"});return e.jsx("div",{className:"divide-y divide-border",children:t.map(d=>{const f=(s==null?void 0:s.id)===d.id,m=o(d),h=a(d),j=l(d);return e.jsx("div",{className:`
              p-4 cursor-pointer transition-colors hover:bg-muted/50
              ${f?"bg-primary/10 border-r-2 border-primary":""}
            `,onClick:()=>r(d),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`
                  h-10 w-10 rounded-full flex items-center justify-center
                  ${f?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}
                `,children:i(d)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:`
                    font-medium text-sm truncate
                    ${m>0?"font-semibold":""}
                  `,children:h}),e.jsxs("div",{className:"flex items-center gap-1",children:[c(d),e.jsx("span",{className:"text-xs text-muted-foreground",children:j})]})]}),d.sujet&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-1",children:d.sujet}),d.dernier_message&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:d.dernier_message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{variant:d.statut==="fermee"?"secondary":"default",className:"text-xs",children:d.statut==="fermee"?"Ferme":"Active"}),d.priorite&&d.priorite!=="normale"&&e.jsx(U,{variant:d.priorite==="urgente"?"destructive":"secondary",className:"text-xs",children:d.priorite==="urgente"?"Urgente":"Haute"})]}),m>0&&e.jsx(U,{variant:"destructive",className:"text-xs px-2 py-1 min-w-[20px] h-5 flex items-center justify-center",children:m>99?"99+":m})]})]})]})},d.id)})})};class dL{constructor(){this.baseUrl="https://back-gabonmarquethub.onrender.com/api"}async request(s,r={}){const n=localStorage.getItem("authToken"),a=`${this.baseUrl}${s}`;console.log(" MessagingApi - baseUrl:",this.baseUrl),console.log(" MessagingApi - endpoint:",s),console.log(" MessagingApi - fullUrl:",a),console.log(" MessagingApi - VITE_API_URL:","https://back-gabonmarquethub.onrender.com/api");const i=await fetch(a,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json",...r.headers},...r});if(console.log(" MessagingApi - Status:",i.status),console.log(" MessagingApi - Headers:",Object.fromEntries(i.headers.entries())),!i.ok){const o=await i.json().catch(()=>({}));throw new Error(o.error||`HTTP ${i.status}: ${i.statusText}`)}return i.json()}async getConversations(){return(await this.request("/conversations")).data||[]}async createConversation(s,r){const n=await this.request("/conversations",{method:"POST",body:JSON.stringify({fournisseur_id:s,sujet:r})});if(!n.data)throw new Error("Erreur lors de la cration de la conversation");return n.data}async getMessages(s){return(await this.request(`/conversations/${s}/messages`)).data||[]}async sendMessage(s,r){const n=await this.request(`/conversations/${s}/messages`,{method:"POST",body:JSON.stringify({contenu:r})});if(!n.data)throw new Error("Erreur lors de l'envoi du message");return n.data}async markAsRead(s,r){await this.request(`/conversations/${s}/messages/read`,{method:"POST",body:JSON.stringify({message_ids:r})})}async getSuppliers(){const s=await this.request("/entreprises?type=fournisseur&limit=50");return s.data||s.entreprises||[]}}const $m=new dL,Hr=Object.create(null);Hr.open="0";Hr.close="1";Hr.ping="2";Hr.pong="3";Hr.message="4";Hr.upgrade="5";Hr.noop="6";const ud=Object.create(null);Object.keys(Hr).forEach(t=>{ud[Hr[t]]=t});const jf={type:"error",data:"parser error"},_1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",k1=typeof ArrayBuffer=="function",E1=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,vp=({type:t,data:s},r,n)=>_1&&s instanceof Blob?r?n(s):nv(s,n):k1&&(s instanceof ArrayBuffer||E1(s))?r?n(s):nv(new Blob([s]),n):n(Hr[t]+(s||"")),nv=(t,s)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];s("b"+(n||""))},r.readAsDataURL(t)};function av(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let qm;function uL(t,s){if(_1&&t.data instanceof Blob)return t.data.arrayBuffer().then(av).then(s);if(k1&&(t.data instanceof ArrayBuffer||E1(t.data)))return s(av(t.data));vp(t,!1,r=>{qm||(qm=new TextEncoder),s(qm.encode(r))})}const iv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<iv.length;t++)Yo[iv.charCodeAt(t)]=t;const mL=t=>{let s=t.length*.75,r=t.length,n,a=0,i,o,l,c;t[t.length-1]==="="&&(s--,t[t.length-2]==="="&&s--);const d=new ArrayBuffer(s),f=new Uint8Array(d);for(n=0;n<r;n+=4)i=Yo[t.charCodeAt(n)],o=Yo[t.charCodeAt(n+1)],l=Yo[t.charCodeAt(n+2)],c=Yo[t.charCodeAt(n+3)],f[a++]=i<<2|o>>4,f[a++]=(o&15)<<4|l>>2,f[a++]=(l&3)<<6|c&63;return d},hL=typeof ArrayBuffer=="function",jp=(t,s)=>{if(typeof t!="string")return{type:"message",data:P1(t,s)};const r=t.charAt(0);return r==="b"?{type:"message",data:fL(t.substring(1),s)}:ud[r]?t.length>1?{type:ud[r],data:t.substring(1)}:{type:ud[r]}:jf},fL=(t,s)=>{if(hL){const r=mL(t);return P1(r,s)}else return{base64:!0,data:t}},P1=(t,s)=>{switch(s){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},T1="",xL=(t,s)=>{const r=t.length,n=new Array(r);let a=0;t.forEach((i,o)=>{vp(i,!1,l=>{n[o]=l,++a===r&&s(n.join(T1))})})},pL=(t,s)=>{const r=t.split(T1),n=[];for(let a=0;a<r.length;a++){const i=jp(r[a],s);if(n.push(i),i.type==="error")break}return n};function gL(){return new TransformStream({transform(t,s){uL(t,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(a[0]|=128),s.enqueue(a),s.enqueue(r)})}})}let Bm;function Vc(t){return t.reduce((s,r)=>s+r.length,0)}function Uc(t,s){if(t[0].length===s)return t.shift();const r=new Uint8Array(s);let n=0;for(let a=0;a<s;a++)r[a]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function vL(t,s){Bm||(Bm=new TextDecoder);const r=[];let n=0,a=-1,i=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(Vc(r)<1)break;const c=Uc(r,1);i=(c[0]&128)===128,a=c[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(Vc(r)<2)break;const c=Uc(r,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(Vc(r)<8)break;const c=Uc(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(jf);break}a=f*Math.pow(2,32)+d.getUint32(4),n=3}else{if(Vc(r)<a)break;const c=Uc(r,a);l.enqueue(jp(i?c:Bm.decode(c),s)),n=0}if(a===0||a>t){l.enqueue(jf);break}}}})}const R1=4;function jt(t){if(t)return jL(t)}function jL(t){for(var s in jt.prototype)t[s]=jt.prototype[s];return t}jt.prototype.on=jt.prototype.addEventListener=function(t,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(s),this};jt.prototype.once=function(t,s){function r(){this.off(t,r),s.apply(this,arguments)}return r.fn=s,this.on(t,r),this};jt.prototype.off=jt.prototype.removeListener=jt.prototype.removeAllListeners=jt.prototype.removeEventListener=function(t,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===s||n.fn===s){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+t],this};jt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)s[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,s)}return this};jt.prototype.emitReserved=jt.prototype.emit;jt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};jt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const $u=typeof Promise=="function"&&typeof Promise.resolve=="function"?s=>Promise.resolve().then(s):(s,r)=>r(s,0),Is=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),yL="arraybuffer";function A1(t,...s){return s.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const bL=Is.setTimeout,NL=Is.clearTimeout;function qu(t,s){s.useNativeTimers?(t.setTimeoutFn=bL.bind(Is),t.clearTimeoutFn=NL.bind(Is)):(t.setTimeoutFn=Is.setTimeout.bind(Is),t.clearTimeoutFn=Is.clearTimeout.bind(Is))}const wL=1.33;function CL(t){return typeof t=="string"?SL(t):Math.ceil((t.byteLength||t.size)*wL)}function SL(t){let s=0,r=0;for(let n=0,a=t.length;n<a;n++)s=t.charCodeAt(n),s<128?r+=1:s<2048?r+=2:s<55296||s>=57344?r+=3:(n++,r+=4);return r}function M1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function _L(t){let s="";for(let r in t)t.hasOwnProperty(r)&&(s.length&&(s+="&"),s+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return s}function kL(t){let s={},r=t.split("&");for(let n=0,a=r.length;n<a;n++){let i=r[n].split("=");s[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return s}class EL extends Error{constructor(s,r,n){super(s),this.description=r,this.context=n,this.type="TransportError"}}class yp extends jt{constructor(s){super(),this.writable=!1,qu(this,s),this.opts=s,this.query=s.query,this.socket=s.socket,this.supportsBinary=!s.forceBase64}onError(s,r,n){return super.emitReserved("error",new EL(s,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(s){this.readyState==="open"&&this.write(s)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(s){const r=jp(s,this.socket.binaryType);this.onPacket(r)}onPacket(s){super.emitReserved("packet",s)}onClose(s){this.readyState="closed",super.emitReserved("close",s)}pause(s){}createUri(s,r={}){return s+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const s=this.opts.hostname;return s.indexOf(":")===-1?s:"["+s+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(s){const r=_L(s);return r.length?"?"+r:""}}class PL extends yp{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(s){this.readyState="pausing";const r=()=>{this.readyState="paused",s()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(s){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};pL(s,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const s=()=>{this.write([{type:"close"}])};this.readyState==="open"?s():this.once("open",s)}write(s){this.writable=!1,xL(s,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const s=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=M1()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(s,r)}}let I1=!1;try{I1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const TL=I1;function RL(){}class AL extends PL{constructor(s){if(super(s),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&s.hostname!==location.hostname||n!==s.port}}doWrite(s,r){const n=this.request({method:"POST",data:s});n.on("success",r),n.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const s=this.request();s.on("data",this.onData.bind(this)),s.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=s}}class Vr extends jt{constructor(s,r,n){super(),this.createRequest=s,qu(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var s;const r=A1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(s=this._opts.cookieJar)===null||s===void 0||s.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Vr.requestsCount++,Vr.requests[this._index]=this)}_onError(s){this.emitReserved("error",s,this._xhr),this._cleanup(!0)}_cleanup(s){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=RL,s)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Vr.requests[this._index],this._xhr=null}}_onLoad(){const s=this._xhr.responseText;s!==null&&(this.emitReserved("data",s),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Vr.requestsCount=0;Vr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ov);else if(typeof addEventListener=="function"){const t="onpagehide"in Is?"pagehide":"unload";addEventListener(t,ov,!1)}}function ov(){for(let t in Vr.requests)Vr.requests.hasOwnProperty(t)&&Vr.requests[t].abort()}const ML=function(){const t=L1({xdomain:!1});return t&&t.responseType!==null}();class IL extends AL{constructor(s){super(s);const r=s&&s.forceBase64;this.supportsBinary=ML&&!r}request(s={}){return Object.assign(s,{xd:this.xd},this.opts),new Vr(L1,this.uri(),s)}}function L1(t){const s=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!s||TL))return new XMLHttpRequest}catch{}if(!s)try{return new Is[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const D1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class LL extends yp{get name(){return"websocket"}doOpen(){const s=this.uri(),r=this.opts.protocols,n=D1?{}:A1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(s,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=s=>this.onClose({description:"websocket connection closed",context:s}),this.ws.onmessage=s=>this.onData(s.data),this.ws.onerror=s=>this.onError("websocket error",s)}write(s){this.writable=!1;for(let r=0;r<s.length;r++){const n=s[r],a=r===s.length-1;vp(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}a&&$u(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const s=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=M1()),this.supportsBinary||(r.b64=1),this.createUri(s,r)}}const Vm=Is.WebSocket||Is.MozWebSocket;class DL extends LL{createSocket(s,r,n){return D1?new Vm(s,r,n):r?new Vm(s,r):new Vm(s)}doWrite(s,r){this.ws.send(r)}}class OL extends yp{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(s){return this.emitReserved("error",s)}this._transport.closed.then(()=>{this.onClose()}).catch(s=>{this.onError("webtransport error",s)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(s=>{const r=vL(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=s.readable.pipeThrough(r).getReader(),a=gL();a.readable.pipeTo(s.writable),this._writer=a.writable.getWriter();const i=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(s){this.writable=!1;for(let r=0;r<s.length;r++){const n=s[r],a=r===s.length-1;this._writer.write(n).then(()=>{a&&$u(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var s;(s=this._transport)===null||s===void 0||s.close()}}const FL={websocket:DL,webtransport:OL,polling:IL},zL=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,$L=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function yf(t){if(t.length>8e3)throw"URI too long";const s=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let a=zL.exec(t||""),i={},o=14;for(;o--;)i[$L[o]]=a[o]||"";return r!=-1&&n!=-1&&(i.source=s,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=qL(i,i.path),i.queryKey=BL(i,i.query),i}function qL(t,s){const r=/\/{2,9}/g,n=s.replace(r,"/").split("/");return(s.slice(0,1)=="/"||s.length===0)&&n.splice(0,1),s.slice(-1)=="/"&&n.splice(n.length-1,1),n}function BL(t,s){const r={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,i){a&&(r[a]=i)}),r}const bf=typeof addEventListener=="function"&&typeof removeEventListener=="function",md=[];bf&&addEventListener("offline",()=>{md.forEach(t=>t())},!1);class sa extends jt{constructor(s,r){if(super(),this.binaryType=yL,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,s&&typeof s=="object"&&(r=s,s=null),s){const n=yf(s);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=yf(r.host).host);qu(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=kL(this.opts.query)),bf&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},md.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(s){const r=Object.assign({},this.opts.query);r.EIO=R1,r.transport=s,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[s]);return new this._transportsByName[s](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const s=this.opts.rememberUpgrade&&sa.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(s);r.open(),this.setTransport(r)}setTransport(s){this.transport&&this.transport.removeAllListeners(),this.transport=s,s.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",sa.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",s),this.emitReserved("heartbeat"),s.type){case"open":this.onHandshake(JSON.parse(s.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=s.data,this._onError(r);break;case"message":this.emitReserved("data",s.data),this.emitReserved("message",s.data);break}}onHandshake(s){this.emitReserved("handshake",s),this.id=s.sid,this.transport.query.sid=s.sid,this._pingInterval=s.pingInterval,this._pingTimeout=s.pingTimeout,this._maxPayload=s.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const s=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+s,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},s),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const s=this._getWritablePackets();this.transport.send(s),this._prevBufferLen=s.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=CL(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const s=Date.now()>this._pingTimeoutTime;return s&&(this._pingTimeoutTime=0,$u(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),s}write(s,r,n){return this._sendPacket("message",s,r,n),this}send(s,r,n){return this._sendPacket("message",s,r,n),this}_sendPacket(s,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:s,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const s=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),s()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():s()}):this.upgrading?n():s()),this}_onError(s){if(sa.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",s),this._onClose("transport error",s)}_onClose(s,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),bf&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=md.indexOf(this._offlineEventListener);n!==-1&&md.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",s,r),this.writeBuffer=[],this._prevBufferLen=0}}}sa.protocol=R1;class VL extends sa{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let s=0;s<this._upgrades.length;s++)this._probe(this._upgrades[s])}_probe(s){let r=this.createTransport(s),n=!1;sa.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",m=>{if(!n)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;sa.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function i(){n||(n=!0,f(),r.close(),r=null)}const o=m=>{const h=new Error("probe error: "+m);h.transport=r.name,i(),this.emitReserved("upgradeError",h)};function l(){o("transport closed")}function c(){o("socket closed")}function d(m){r&&m.name!==r.name&&i()}const f=()=>{r.removeListener("open",a),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};r.once("open",a),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&s!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(s){this._upgrades=this._filterUpgrades(s.upgrades),super.onHandshake(s)}_filterUpgrades(s){const r=[];for(let n=0;n<s.length;n++)~this.transports.indexOf(s[n])&&r.push(s[n]);return r}}let UL=class extends VL{constructor(s,r={}){const n=typeof s=="object"?s:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>FL[a]).filter(a=>!!a)),super(s,n)}};function HL(t,s="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=yf(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+s,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const WL=typeof ArrayBuffer=="function",GL=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,O1=Object.prototype.toString,XL=typeof Blob=="function"||typeof Blob<"u"&&O1.call(Blob)==="[object BlobConstructor]",KL=typeof File=="function"||typeof File<"u"&&O1.call(File)==="[object FileConstructor]";function bp(t){return WL&&(t instanceof ArrayBuffer||GL(t))||XL&&t instanceof Blob||KL&&t instanceof File}function hd(t,s){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(hd(t[r]))return!0;return!1}if(bp(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return hd(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&hd(t[r]))return!0;return!1}function YL(t){const s=[],r=t.data,n=t;return n.data=Nf(r,s),n.attachments=s.length,{packet:n,buffers:s}}function Nf(t,s){if(!t)return t;if(bp(t)){const r={_placeholder:!0,num:s.length};return s.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=Nf(t[n],s);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=Nf(t[n],s));return r}return t}function QL(t,s){return t.data=wf(t.data,s),delete t.attachments,t}function wf(t,s){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<s.length)return s[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=wf(t[r],s);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=wf(t[r],s));return t}const JL=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ZL=5;var Le;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Le||(Le={}));class eD{constructor(s){this.replacer=s}encode(s){return(s.type===Le.EVENT||s.type===Le.ACK)&&hd(s)?this.encodeAsBinary({type:s.type===Le.EVENT?Le.BINARY_EVENT:Le.BINARY_ACK,nsp:s.nsp,data:s.data,id:s.id}):[this.encodeAsString(s)]}encodeAsString(s){let r=""+s.type;return(s.type===Le.BINARY_EVENT||s.type===Le.BINARY_ACK)&&(r+=s.attachments+"-"),s.nsp&&s.nsp!=="/"&&(r+=s.nsp+","),s.id!=null&&(r+=s.id),s.data!=null&&(r+=JSON.stringify(s.data,this.replacer)),r}encodeAsBinary(s){const r=YL(s),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}function lv(t){return Object.prototype.toString.call(t)==="[object Object]"}class Np extends jt{constructor(s){super(),this.reviver=s}add(s){let r;if(typeof s=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(s);const n=r.type===Le.BINARY_EVENT;n||r.type===Le.BINARY_ACK?(r.type=n?Le.EVENT:Le.ACK,this.reconstructor=new tD(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(bp(s)||s.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(s),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+s)}decodeString(s){let r=0;const n={type:Number(s.charAt(0))};if(Le[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Le.BINARY_EVENT||n.type===Le.BINARY_ACK){const i=r+1;for(;s.charAt(++r)!=="-"&&r!=s.length;);const o=s.substring(i,r);if(o!=Number(o)||s.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(s.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(s.charAt(r)===","||r===s.length););n.nsp=s.substring(i,r)}else n.nsp="/";const a=s.charAt(r+1);if(a!==""&&Number(a)==a){const i=r+1;for(;++r;){const o=s.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===s.length)break}n.id=Number(s.substring(i,r+1))}if(s.charAt(++r)){const i=this.tryParse(s.substr(r));if(Np.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(s){try{return JSON.parse(s,this.reviver)}catch{return!1}}static isPayloadValid(s,r){switch(s){case Le.CONNECT:return lv(r);case Le.DISCONNECT:return r===void 0;case Le.CONNECT_ERROR:return typeof r=="string"||lv(r);case Le.EVENT:case Le.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&JL.indexOf(r[0])===-1);case Le.ACK:case Le.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class tD{constructor(s){this.packet=s,this.buffers=[],this.reconPack=s}takeBinaryData(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){const r=QL(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const sD=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Np,Encoder:eD,get PacketType(){return Le},protocol:ZL},Symbol.toStringTag,{value:"Module"}));function or(t,s,r){return t.on(s,r),function(){t.off(s,r)}}const rD=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class F1 extends jt{constructor(s,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const s=this.io;this.subs=[or(s,"open",this.onopen.bind(this)),or(s,"packet",this.onpacket.bind(this)),or(s,"error",this.onerror.bind(this)),or(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...r){var n,a,i;if(rD.hasOwnProperty(s))throw new Error('"'+s.toString()+'" is a reserved event name');if(r.unshift(s),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Le.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const f=this.ids++,m=r.pop();this._registerAckCallback(f,m),o.id=f}const l=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(s,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[s]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[s];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===s&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},a),o=(...l)=>{this.io.clearTimeoutFn(i),r.apply(this,l)};o.withError=!0,this.acks[s]=o}emitWithAck(s,...r){return new Promise((n,a)=>{const i=(o,l)=>o?a(o):n(l);i.withError=!0,r.push(i),this.emit(s,...r)})}_addToQueue(s){let r;typeof s[s.length-1]=="function"&&(r=s.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:s,flags:Object.assign({fromQueue:!0},this.flags)};s.push((a,...i)=>n!==this._queue[0]?void 0:(a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(s=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!s||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){typeof this.auth=="function"?this.auth(s=>{this._sendConnectPacket(s)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(s){this.packet({type:Le.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},s):s})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",s,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(s=>{if(!this.sendBuffer.some(n=>String(n.id)===s)){const n=this.acks[s];delete this.acks[s],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case Le.CONNECT:s.data&&s.data.sid?this.onconnect(s.data.sid,s.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Le.EVENT:case Le.BINARY_EVENT:this.onevent(s);break;case Le.ACK:case Le.BINARY_ACK:this.onack(s);break;case Le.DISCONNECT:this.ondisconnect();break;case Le.CONNECT_ERROR:this.destroy();const n=new Error(s.data.message);n.data=s.data.data,this.emitReserved("connect_error",n);break}}onevent(s){const r=s.data||[];s.id!=null&&r.push(this.ack(s.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,s)}super.emit.apply(this,s),this._pid&&s.length&&typeof s[s.length-1]=="string"&&(this._lastOffset=s[s.length-1])}ack(s){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:Le.ACK,id:s,data:a}))}}onack(s){const r=this.acks[s.id];typeof r=="function"&&(delete this.acks[s.id],r.withError&&s.data.unshift(null),r.apply(this,s.data))}onconnect(s,r){this.id=s,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>{this.notifyOutgoingListeners(s),this.packet(s)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Le.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}timeout(s){return this.flags.timeout=s,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(s===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(s),this}prependAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(s),this}offAnyOutgoing(s){if(!this._anyOutgoingListeners)return this;if(s){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(s===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(s){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,s.data)}}}function _o(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}_o.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),r=Math.floor(s*this.jitter*t);t=Math.floor(s*10)&1?t+r:t-r}return Math.min(t,this.max)|0};_o.prototype.reset=function(){this.attempts=0};_o.prototype.setMin=function(t){this.ms=t};_o.prototype.setMax=function(t){this.max=t};_o.prototype.setJitter=function(t){this.jitter=t};class Cf extends jt{constructor(s,r){var n;super(),this.nsps={},this.subs=[],s&&typeof s=="object"&&(r=s,s=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,qu(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new _o({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=s;const a=r.parser||sD;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(s){return arguments.length?(this._reconnection=!!s,s||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(s){return s===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=s,this)}reconnectionDelay(s){var r;return s===void 0?this._reconnectionDelay:(this._reconnectionDelay=s,(r=this.backoff)===null||r===void 0||r.setMin(s),this)}randomizationFactor(s){var r;return s===void 0?this._randomizationFactor:(this._randomizationFactor=s,(r=this.backoff)===null||r===void 0||r.setJitter(s),this)}reconnectionDelayMax(s){var r;return s===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=s,(r=this.backoff)===null||r===void 0||r.setMax(s),this)}timeout(s){return arguments.length?(this._timeout=s,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(s){if(~this._readyState.indexOf("open"))return this;this.engine=new UL(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=or(r,"open",function(){n.onopen(),s&&s()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),s?s(l):this.maybeReconnectOnOpen()},o=or(r,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(a),this.subs.push(o),this}connect(s){return this.open(s)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const s=this.engine;this.subs.push(or(s,"ping",this.onping.bind(this)),or(s,"data",this.ondata.bind(this)),or(s,"error",this.onerror.bind(this)),or(s,"close",this.onclose.bind(this)),or(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(s){try{this.decoder.add(s)}catch(r){this.onclose("parse error",r)}}ondecoded(s){$u(()=>{this.emitReserved("packet",s)},this.setTimeoutFn)}onerror(s){this.emitReserved("error",s)}socket(s,r){let n=this.nsps[s];return n?this._autoConnect&&!n.active&&n.connect():(n=new F1(this,s,r),this.nsps[s]=n),n}_destroy(s){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(s){const r=this.encoder.encode(s);for(let n=0;n<r.length;n++)this.engine.write(r[n],s.options)}cleanup(){this.subs.forEach(s=>s()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(s,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",s,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const s=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{s.skipReconnect||(this.emitReserved("reconnect_attempt",s.backoff.attempts),!s.skipReconnect&&s.open(a=>{a?(s._reconnecting=!1,s.reconnect(),this.emitReserved("reconnect_error",a)):s.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const s=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",s)}}const Bo={};function fd(t,s){typeof t=="object"&&(s=t,t=void 0),s=s||{};const r=HL(t,s.path||"/socket.io"),n=r.source,a=r.id,i=r.path,o=Bo[a]&&i in Bo[a].nsps,l=s.forceNew||s["force new connection"]||s.multiplex===!1||o;let c;return l?c=new Cf(n,s):(Bo[a]||(Bo[a]=new Cf(n,s)),c=Bo[a]),r.query&&!s.query&&(s.query=r.queryKey),c.socket(r.path,s)}Object.assign(fd,{Manager:Cf,Socket:F1,io:fd,connect:fd});const z1=(t={})=>{const s=u.useRef(null),r=u.useRef(t),[n,a]=u.useState({isConnected:!1,isConnecting:!1,error:null});u.useEffect(()=>{r.current=t},[t]);const i=u.useCallback(()=>{var j;if((j=s.current)!=null&&j.connected)return;a(y=>({...y,isConnecting:!0,error:null}));const m=localStorage.getItem("authToken");if(!m){a(y=>({...y,isConnecting:!1,error:"Token manquant"}));return}console.log(" Tentative de connexion Socket.IO...");const h=fd("https://back-gabonmarquethub.onrender.com",{auth:{token:m},transports:["websocket","polling"],timeout:1e4,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:2e3});h.on("connect",()=>{console.log(" Socket connect"),a({isConnected:!0,isConnecting:!1,error:null})}),h.on("disconnect",()=>{console.log(" Socket dconnect"),a(y=>({...y,isConnected:!1}))}),h.on("connect_error",y=>{console.error(" Erreur Socket:",y),a({isConnected:!1,isConnecting:!1,error:y.message})}),h.on("message:new",y=>{var g,N;console.log(" Nouveau message:",y),(N=(g=r.current).onMessage)==null||N.call(g,y)}),h.on("typing:start",y=>{var g,N;console.log(" Frappe dmarre:",y),(N=(g=r.current).onTyping)==null||N.call(g,{...y,is_typing:!0})}),h.on("typing:stop",y=>{var g,N;console.log(" Frappe arrte:",y),(N=(g=r.current).onTyping)==null||N.call(g,{...y,is_typing:!1})}),s.current=h},[]),o=u.useCallback(()=>{s.current&&(s.current.disconnect(),s.current=null,a({isConnected:!1,isConnecting:!1,error:null}))},[]),l=u.useCallback(m=>{var h;(h=s.current)!=null&&h.connected&&(s.current.emit("conversation:join",m),console.log(" Rejoint conversation:",m))},[]),c=u.useCallback(m=>{var h;(h=s.current)!=null&&h.connected&&(s.current.emit("conversation:leave",m),console.log(" Quitt conversation:",m))},[]),d=u.useCallback(m=>{var h;(h=s.current)!=null&&h.connected&&s.current.emit("typing:start",{conversation_id:m})},[]),f=u.useCallback(m=>{var h;(h=s.current)!=null&&h.connected&&s.current.emit("typing:stop",{conversation_id:m})},[]);return u.useEffect(()=>(i(),()=>o()),[]),{...n,connect:i,disconnect:o,joinConversation:l,leaveConversation:c,startTyping:d,stopTyping:f}},nD=t=>{const[s,r]=u.useState([]),[n,a]=u.useState(!1),[i,o]=u.useState(null),[l,c]=u.useState(!1),d={onMessage:u.useCallback(N=>{N.conversation_id===t&&r(p=>p.some(v=>v.id===N.id)?p:[...p,N])},[t])},{isConnected:f,joinConversation:m,leaveConversation:h}=z1(d),j=u.useCallback(async()=>{if(!t){r([]);return}try{a(!0),o(null),console.log(" Chargement messages conversation:",t),console.log(" useMessages - VITE_API_URL:","https://back-gabonmarquethub.onrender.com/api");const N=await $m.getMessages(t);console.log(" Messages chargs:",N.length),r(N),f&&m(t)}catch(N){const p=N instanceof Error?N.message:"Erreur de chargement";console.error(" Erreur chargement messages:",N),p.includes("Unexpected token")?o("Erreur de connexion au serveur. Vrifiez que le backend est dmarr."):o(p)}finally{a(!1)}},[t,f,m]),y=u.useCallback(async N=>{if(!(!t||!N.trim()))try{c(!0),o(null);const p=await $m.sendMessage(t,N.trim());console.log(" Message envoy:",p)}catch(p){const v=p instanceof Error?p.message:"Erreur d'envoi";throw o(v),console.error("Erreur envoi message:",p),p}finally{c(!1)}},[t]),g=u.useCallback(async N=>{if(t)try{const p=N||s.filter(v=>!v.lu&&v.expediteur_id!==aD()).map(v=>v.id);if(p.length===0)return;await $m.markAsRead(t,p),r(v=>v.map(x=>p.includes(x.id)?{...x,lu:!0}:x))}catch(p){console.error("Erreur marquage lu:",p)}},[t,s]);return u.useEffect(()=>(j(),()=>{t&&f&&h(t)}),[t,j,f,h]),u.useEffect(()=>{t&&f&&m(t)},[t,f,m]),{messages:s,loading:n,error:i,sending:l,sendMessage:y,markAsRead:g,reload:j}};function aD(){try{const t=localStorage.getItem("user");if(t)return JSON.parse(t).id}catch(t){console.error("Erreur rcupration user ID:",t)}return null}const iD=({message:t,isOwn:s,senderName:r,showSenderName:n})=>{const a=()=>t.lu?e.jsx(pk,{className:"h-3 w-3 text-blue-500"}):e.jsx(js,{className:"h-3 w-3 text-gray-400"});return e.jsx("div",{className:`flex ${s?"justify-end":"justify-start"} mb-4 group`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md relative ${s?"order-2":"order-1"}`,children:[!s&&n&&e.jsx("div",{className:"mb-1 ml-2",children:e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:r})}),e.jsxs("div",{className:`
          relative px-4 py-3 rounded-2xl shadow-sm transition-all duration-200
          ${s?"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-br-md":"bg-gradient-to-br from-gray-100 to-gray-200 text-gray-900 rounded-bl-md border border-gray-200"}
          group-hover:shadow-md
        `,children:[e.jsx("p",{className:"text-sm leading-relaxed break-words",children:t.contenu}),e.jsxs("div",{className:`
            flex items-center justify-end gap-2 mt-2 pt-2
            ${s?"border-t border-blue-400/30":"border-t border-gray-200"}
          `,children:[e.jsx("span",{className:`
              text-xs
              ${s?"text-blue-100":"text-gray-500"}
            `,children:cL(t.created_at)}),s&&e.jsx("div",{className:"flex items-center gap-1",children:a()})]}),t.isTyping&&e.jsx("div",{className:"absolute -bottom-6 left-4",children:e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-1 h-1 bg-current rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-1 h-1 bg-current rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-1 h-1 bg-current rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("span",{children:"en train d'crire..."})]})})]}),e.jsx("div",{className:`
          w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium
          ${s?"order-1 ml-2 bg-gradient-to-br from-blue-400 to-blue-500":"order-2 mr-2 bg-gradient-to-br from-gray-400 to-gray-500"}
        `,children:s?"Vous":r.charAt(0).toUpperCase()})]})})},cv=({error:t,resetError:s})=>e.jsxs("div",{className:"p-4 text-center",children:[e.jsx(ks,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Erreur d'affichage du message"}),e.jsx(E,{size:"sm",onClick:s,variant:"outline",children:"Ressayer"})]}),oD=({message:t,isOwn:s,senderName:r,showSenderName:n})=>{const[a,i]=u.useState(!1),[o,l]=u.useState(null);if(a)return e.jsx(cv,{error:o,resetError:()=>i(!1)});try{return e.jsx(iD,{message:t,isOwn:s,senderName:r,showSenderName:n})}catch(c){const d=c instanceof Error?c:new Error("Erreur de rendu");return i(!0),l(d),console.warn("Erreur dans MessageBubble:",d),e.jsx(cv,{error:d,resetError:()=>i(!1)})}},$1=({conversation:t,onBack:s,className:r=""})=>{const[n,a]=u.useState(""),[i,o]=u.useState(new Set),[l,c]=u.useState(!0),[d,f]=u.useState(0),m=u.useRef(null),h=u.useRef(null),j=u.useRef(),y=u.useRef(null),g=u.useRef(),N=u.useRef(),{data:p}=dt(),{messages:v,loading:x,error:w,sending:k,sendMessage:S,markAsRead:b}=nD(t.id),C=u.useCallback(R=>{if(l)try{R.conversation_id===t.id&&R.user_id!==(p==null?void 0:p.id)&&o(F=>{const J=new Set(F);return R.is_typing?J.add(R.user_id):J.delete(R.user_id),J})}catch(F){console.warn("Erreur lors de la gestion de la frappe:",F)}},[t.id,p,l]),{isConnected:_,startTyping:P,stopTyping:T}=z1({onTyping:C}),L=u.useCallback(()=>{l&&(g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{if(l)try{if(m.current&&y.current&&document.contains(m.current)&&document.contains(y.current)){const R=m.current.getBoundingClientRect();R.width>0&&R.height>0&&m.current.scrollIntoView({behavior:"smooth",block:"end"})}}catch(R){console.warn("Erreur lors du scroll automatique:",R),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{l&&f(F=>F+1)},1e3)}},200))},[l]);u.useEffect(()=>{if(l)return L(),()=>{g.current&&clearTimeout(g.current),N.current&&clearTimeout(N.current)}},[v,L,l]),u.useEffect(()=>{if(!(!l||v.length===0))try{const R=v.filter(F=>!F.lu&&F.expediteur_id!==(p==null?void 0:p.id));R.length>0&&b(R.map(F=>F.id))}catch(R){console.warn("Erreur lors du marquage comme lu:",R)}},[v,p,b,l]);const I=u.useCallback(async R=>{if(R.preventDefault(),!(!l||!n.trim()||k))try{if(await S(n),!l)return;a(""),T(t.id),setTimeout(()=>{if(l)try{h.current&&document.contains(h.current)&&h.current.offsetParent!==null&&h.current.focus()}catch(F){console.warn("Erreur lors du focus:",F)}},300)}catch(F){l&&console.error("Erreur envoi:",F)}},[n,k,S,T,t.id,l]),O=u.useCallback(R=>{if(!l)return;const F=R.target.value;if(a(F),!!_)try{F&&!n&&P(t.id),j.current&&clearTimeout(j.current),F?j.current=setTimeout(()=>{l&&T(t.id)},2e3):T(t.id)}catch(J){console.warn("Erreur lors de la gestion de la frappe:",J)}},[n,_,P,T,t.id,l]),X=u.useCallback(()=>{if(l)try{j.current&&clearTimeout(j.current),T(t.id)}catch(R){console.warn("Erreur lors de l'arrt de la frappe:",R)}},[T,t.id,l]);u.useEffect(()=>(c(!0),()=>{c(!1),j.current&&clearTimeout(j.current),g.current&&clearTimeout(g.current),N.current&&clearTimeout(N.current)}),[]);const A=u.useMemo(()=>{if(!l)return"";try{return(p==null?void 0:p.role_id)===1?t.nom_entreprise||`${t.fournisseur_nom} ${t.fournisseur_prenom}`.trim():`${t.acheteur_nom} ${t.acheteur_prenom}`.trim()}catch(R){return console.warn("Erreur lors du calcul du nom:",R),"Contact"}},[p,t,l]),B=u.useMemo(()=>{if(!l||!Array.isArray(v))return[];try{return v.filter(R=>R&&typeof R=="object"&&R.id).map((R,F)=>{var J;try{const G=R.expediteur_id===(p==null?void 0:p.id),te=R.expediteur?`${R.expediteur.prenom} ${R.expediteur.nom}`:G?"Vous":"Expditeur",Q=F===0||F>0&&((J=v[F-1])==null?void 0:J.expediteur_id)!==R.expediteur_id;return{...R,isOwn:G,senderName:te,showSenderName:Q,stableKey:`msg-${R.id}-${R.expediteur_id}-${R.created_at}-${d}`}}catch(G){return console.warn("Erreur lors du traitement d'un message:",G),null}}).filter(R=>R!==null)}catch(R){return console.warn("Erreur lors du traitement des messages:",R),[]}},[v,p,l,d]);return l?e.jsxs($,{className:`h-full flex flex-col ${r}`,children:[e.jsx(K,{className:"flex-shrink-0 border-b bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s&&e.jsx(E,{variant:"ghost",size:"sm",onClick:s,disabled:!l,children:e.jsx(Ys,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:A}),e.jsx("p",{className:"text-sm text-gray-600",children:t.sujet})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${_?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-xs text-gray-500",children:_?"En ligne":"Hors ligne"})]})]})}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[w&&e.jsx(ms,{variant:"destructive",className:"m-4 mx-4 mt-4",children:e.jsx(hs,{children:w})}),x?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(Us,{className:"h-4 w-4 animate-spin"}),"Chargement des messages..."]})}):e.jsx("div",{ref:y,className:"flex-1 overflow-y-auto px-4 pb-4 min-h-0",children:B.length===0?e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx("p",{children:"Aucun message dans cette conversation"}),e.jsx("p",{className:"text-sm",children:"Envoyez le premier message !"})]}):e.jsx(u.Suspense,{fallback:e.jsxs("div",{className:"text-center text-gray-500 py-4",children:[e.jsx(Us,{className:"h-4 w-4 animate-spin mx-auto mb-2"}),"Chargement des messages..."]}),children:e.jsxs("div",{className:"space-y-4",children:[B.map(R=>e.jsx(oD,{message:R,isOwn:R.isOwn,senderName:R.senderName,showSenderName:R.showSenderName},R.stableKey)),i.size>0&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 px-4 py-2 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[i.size===1?"Quelqu'un":`${i.size} personnes`," ","en train d'crire..."]})})}),e.jsx("div",{ref:m,className:"h-1"})]})})})]}),e.jsxs("div",{className:"flex-shrink-0 border-t bg-white p-4",children:[e.jsxs("form",{onSubmit:I,className:"flex gap-2",children:[e.jsx(D,{ref:h,value:n,onChange:O,onBlur:X,placeholder:"Tapez votre message...",disabled:k||!_||!l,className:"flex-1"}),e.jsx(E,{type:"submit",disabled:!n.trim()||k||!_||!l,size:"sm",children:k?e.jsx(Us,{className:"h-4 w-4 animate-spin"}):e.jsx(wb,{className:"h-4 w-4"})})]}),!_&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Connexion perdue - Reconnexion en cours..."})]})]},d):null},q1=()=>{const[t,s]=u.useState([]),[r,n]=u.useState(!0),[a,i]=u.useState(null),o=u.useCallback(async()=>{try{n(!0),i(null);const c=localStorage.getItem("authToken");if(!c)throw new Error("Token d'authentification manquant");const d=await fetch("https://back-gabonmarquethub.onrender.com/api/entreprises",{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!d.ok)throw new Error("Erreur lors de la rcupration des fournisseurs");const f=await d.json();if(f.entreprises&&Array.isArray(f.entreprises)){const m=f.entreprises.filter(h=>h.statut==="actif"||h.statut==="verifie");s(m)}else s([])}catch(c){console.error("Erreur rcupration fournisseurs:",c),i(c.message||"Erreur lors de la rcupration des fournisseurs"),s([])}finally{n(!1)}},[]);u.useEffect(()=>{o()},[o]);const l=u.useCallback(()=>{o()},[o]);return{suppliers:t,loading:r,error:a,refetch:l}},lD=({onContactSupplier:t,onBack:s})=>{const[r,n]=u.useState(""),[a,i]=u.useState("all"),{suppliers:o,loading:l,error:c}=q1(),d=(o==null?void 0:o.filter(m=>{var y,g,N,p;const h=!r||((y=m.nom_entreprise)==null?void 0:y.toLowerCase().includes(r.toLowerCase()))||((g=m.nom)==null?void 0:g.toLowerCase().includes(r.toLowerCase()))||((N=m.prenom)==null?void 0:N.toLowerCase().includes(r.toLowerCase()))||((p=m.secteur)==null?void 0:p.toLowerCase().includes(r.toLowerCase())),j=a==="all"||m.secteur===a;return h&&j}))||[],f=[...new Set(o==null?void 0:o.map(m=>m.secteur).filter(Boolean))];return l?e.jsx("div",{className:"space-y-4",children:Array.from({length:6}).map((m,h)=>e.jsx($,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-1/3 animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2 animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/4 animate-pulse"})]})]})},h))}):c?e.jsx(ms,{variant:"destructive",children:e.jsx(hs,{children:"Erreur lors du chargement des fournisseurs"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{variant:"ghost",onClick:s,className:"text-muted-foreground",children:" Retour aux messages"}),e.jsx("h2",{className:"text-2xl font-bold text-center flex-1",children:"Fournisseurs disponibles"}),e.jsx("div",{className:"w-20"})," "]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(D,{placeholder:"Rechercher un fournisseur...",value:r,onChange:m=>n(m.target.value),className:"pl-10"})]}),e.jsxs("select",{value:a,onChange:m=>i(m.target.value),className:"px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"all",children:"Tous les secteurs"}),f.map(m=>e.jsx("option",{value:m,children:m},m))]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:[d.length," fournisseur(s) trouv(s)"]}),r&&e.jsxs("span",{children:['Recherche : "',r,'"']})]}),d.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(dn,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:r?"Aucun fournisseur trouv":"Aucun fournisseur disponible"}),e.jsx("p",{className:"text-sm",children:r?"Essayez avec d'autres termes de recherche":"Les fournisseurs apparatront ici une fois inscrits"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(m=>e.jsx($,{className:"group hover:shadow-lg transition-all duration-300 border-2 hover:border-primary/20",children:e.jsxs(q,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx(dn,{className:"h-8 w-8 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1 group-hover:text-primary transition-colors",children:m.nom_entreprise||"Entreprise non spcifie"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[m.nom," ",m.prenom]}),m.secteur&&e.jsx(U,{variant:"secondary",className:"text-xs",children:m.secteur})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[m.telephone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ws,{className:"h-4 w-4"}),e.jsx("span",{children:m.telephone})]}),m.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Rt,{className:"h-4 w-4"}),e.jsx("span",{className:"truncate",children:m.email})]}),m.adresse&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ht,{className:"h-4 w-4"}),e.jsx("span",{className:"truncate",children:m.adresse})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fe,{className:"h-3 w-3"}),e.jsxs("span",{children:["~",Math.floor(Math.random()*50)+10," produits"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(at,{className:"h-3 w-3"}),e.jsxs("span",{children:["~",Math.floor(Math.random()*20)+5," clients"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ot,{className:"h-3 w-3 text-yellow-500"}),e.jsx("span",{children:(Math.random()*2+3).toFixed(1)})]})]}),e.jsxs(E,{onClick:()=>t(m),className:"w-full bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-white font-medium py-2",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),"Contacter ce fournisseur"]})]})},m.id))})]})};var wp="Avatar",[cD]=Wr(wp),[dD,B1]=cD(wp),V1=u.forwardRef((t,s)=>{const{__scopeAvatar:r,...n}=t,[a,i]=u.useState("idle");return e.jsx(dD,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:e.jsx(me.span,{...n,ref:s})})});V1.displayName=wp;var U1="AvatarImage",H1=u.forwardRef((t,s)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,o=B1(U1,r),l=uD(n,i.referrerPolicy),c=rt(d=>{a(d),o.onImageLoadingStatusChange(d)});return St(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?e.jsx(me.img,{...i,ref:s,src:n}):null});H1.displayName=U1;var W1="AvatarFallback",G1=u.forwardRef((t,s)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=B1(W1,r),[o,l]=u.useState(n===void 0);return u.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?e.jsx(me.span,{...a,ref:s}):null});G1.displayName=W1;function uD(t,s){const[r,n]=u.useState("idle");return St(()=>{if(!t){n("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&n(l)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,s&&(i.referrerPolicy=s),()=>{a=!1}},[t,s]),r}var X1=V1,K1=H1,Y1=G1;const ic=u.forwardRef(({className:t,...s},r)=>e.jsx(X1,{ref:r,className:ie("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));ic.displayName=X1.displayName;const Cp=u.forwardRef(({className:t,...s},r)=>e.jsx(K1,{ref:r,className:ie("aspect-square h-full w-full",t),...s}));Cp.displayName=K1.displayName;const oc=u.forwardRef(({className:t,...s},r)=>e.jsx(Y1,{ref:r,className:ie("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));oc.displayName=Y1.displayName;const dv=({onContactSupplier:t,onBack:s,className:r=""})=>{const[n,a]=u.useState(""),[i,o]=u.useState("all"),[l,c]=u.useState("all"),{data:d=[],isLoading:f,error:m}=Re({queryKey:["suppliers-contact-list",n,i,l],queryFn:async()=>{const v=new URLSearchParams;n&&v.append("search",n),i!=="all"&&v.append("secteur",i),l!=="all"&&v.append("ville",l),v.append("limit","100");const x=await H.get(`/entreprises?${v.toString()}`);return x.entreprises||x.data||[]},staleTime:3e4}),{data:h=[],isLoading:j}=Re({queryKey:["supplier-sectors"],queryFn:async()=>{const v=await H.get("/sectors");return v.sectors||v.data||[]},staleTime:3e5}),{data:y=[],isLoading:g}=Re({queryKey:["supplier-cities"],queryFn:async()=>{const v=await H.get("/cities");return v.cities||v.data||[]},staleTime:3e5}),N=d.filter(v=>{var b,C,_,P;const x=n.toLowerCase(),w=!n||v.nom_entreprise.toLowerCase().includes(x)||((b=v.description)==null?void 0:b.toLowerCase().includes(x))||((C=v.secteur_activite)==null?void 0:C.toLowerCase().includes(x))||((_=v.ville)==null?void 0:_.toLowerCase().includes(x))||((P=v.pays)==null?void 0:P.toLowerCase().includes(x)),k=i==="all"||v.secteur_activite===i,S=l==="all"||v.ville===l;return w&&k&&S}),p=async v=>{var x,w;try{const k=localStorage.getItem("authToken");if(!k){M.error("Vous devez tre connect pour contacter un fournisseur");return}const S=await fetch("https://back-gabonmarquethub.onrender.com/api/conversations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({fournisseur_id:v.utilisateur_id,sujet:`Conversation avec ${v.nom_entreprise}`})});if(!S.ok){const _=await S.json();throw new Error(_.error||"Erreur lors de la cration de la conversation")}const b=await S.json(),C=new URLSearchParams({conversation:((w=(x=b.data)==null?void 0:x.id)==null?void 0:w.toString())||"",supplier:v.utilisateur_id.toString(),supplierName:v.nom_entreprise});window.location.href=`/messages?${C.toString()}`,M.success(`Conversation cre avec ${v.nom_entreprise}`)}catch(k){console.error("Erreur cration conversation:",k),M.error(k.message||"Erreur lors de la cration de la conversation")}};return m?e.jsx($,{className:r,children:e.jsx(q,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx(dn,{className:"w-12 h-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Erreur de chargement"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Impossible de charger la liste des fournisseurs"}),e.jsx(E,{onClick:()=>window.location.reload(),children:"Ressayer"})]})})}):e.jsxs("div",{className:r,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s&&e.jsx(E,{variant:"ghost",onClick:s,className:"text-muted-foreground",children:" Retour"}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Contacter un fournisseur"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Choisissez un fournisseur pour commencer une conversation"})]}),e.jsx("div",{className:"w-20"})," "]}),e.jsx($,{className:"mb-6",children:e.jsx(q,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(D,{placeholder:"Rechercher un fournisseur...",value:n,onChange:v=>a(v.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:i,onChange:v=>o(v.target.value),className:"px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary bg-white w-full",disabled:j,children:[e.jsx("option",{value:"all",children:j?"Chargement...":"Tous les secteurs"}),h.map(v=>e.jsx("option",{value:v,children:v},v))]}),j&&e.jsx(vr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:l,onChange:v=>c(v.target.value),className:"px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary bg-white w-full",disabled:g,children:[e.jsx("option",{value:"all",children:g?"Chargement...":"Toutes les villes"}),y.map(v=>e.jsx("option",{value:v,children:v},v))]}),g&&e.jsx(vr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]})]})})}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[e.jsxs("span",{children:[N.length," fournisseur(s) trouv(s)"]}),n&&e.jsxs("span",{children:['Recherche : "',n,'"']})]}),e.jsx("div",{className:"max-h-[600px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:f?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(v=>e.jsx($,{children:e.jsx(q,{className:"p-4",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})})},v))}):N.length===0?e.jsx($,{children:e.jsxs(q,{className:"p-8 text-center",children:[e.jsx(dn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun fournisseur trouv"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Essayez de modifier vos critres de recherche"}),e.jsx(E,{variant:"outline",onClick:()=>{a(""),o("all"),c("all")},children:"Effacer les filtres"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(v=>{var x;return e.jsx($,{className:"hover:shadow-md transition-shadow",children:e.jsxs(q,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx(ic,{className:"w-12 h-12",children:e.jsx(oc,{children:v.logo_url?e.jsx("img",{src:v.logo_url,alt:v.nom_entreprise,className:"w-full h-full object-cover rounded-full"}):((x=v.nom_entreprise[0])==null?void 0:x.toUpperCase())||"F"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:v.nom_entreprise}),v.statut_verification==="verifie"&&e.jsxs(U,{variant:"secondary",className:"text-xs",children:[e.jsx($e,{className:"w-3 h-3 mr-1"}),"Vrifi"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(ot,{className:"w-3 h-3 text-yellow-500"}),e.jsxs("span",{children:[v.note_moyenne?Number(v.note_moyenne).toFixed(1):"N/A","(",v.nombre_avis||0,")"]})]})]})]}),v.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:v.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3",children:[v.secteur_activite&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(dn,{className:"w-3 h-3"}),e.jsx("span",{children:v.secteur_activite})]}),v.ville&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ht,{className:"w-3 h-3"}),e.jsx("span",{children:v.ville})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(fe,{className:"w-3 h-3"}),e.jsxs("span",{children:[v.nombre_produits||0," produits"]})]}),e.jsxs(E,{size:"sm",onClick:()=>p(v),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Te,{className:"w-3 h-3 mr-1"}),"Contacter"]})]})]})},v.id)})})})]})},mD=()=>{const[t,s]=u.useState(!1),r=Qs(),{data:n}=dt(),a=Xr(),i=he(),{count:o=0}=hp(),[l,c]=u.useState(!1),{photoData:d}=ja(),f=async()=>{try{c(!0),a(),M.success("Dconnexion russie"),setTimeout(()=>{i("/"),c(!1)},100)}catch{M.error("Erreur lors de la dconnexion"),c(!1)}};return e.jsxs("header",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white py-2 px-4 text-center text-sm",children:e.jsx("span",{className:"font-medium",children:" GabMarketHub - Premire plateforme B2B du Gabon"})}),e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(Yr,{size:"md",onClick:()=>i("/")})}),e.jsxs("nav",{className:"hidden lg:flex items-center space-x-6",children:[e.jsx("button",{onClick:()=>i("/"),className:"text-gray-900 hover:text-green-600 transition-colors font-medium",children:"Accueil"}),e.jsx("button",{onClick:()=>i("/products"),className:"text-gray-900 hover:text-green-600 transition-colors",children:"Produits"}),e.jsx("button",{onClick:()=>i("/search"),className:"text-gray-900 hover:text-green-600 transition-colors",children:"Recherche"}),e.jsx("button",{onClick:()=>i("/categories"),className:"text-gray-900 hover:text-green-600 font-medium transition-colors",children:"Catgories"}),e.jsx("button",{onClick:()=>i("/suppliers"),className:"text-gray-900 hover:text-green-600 transition-colors",children:"Fournisseurs"}),r&&e.jsx(e.Fragment,{})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[r&&e.jsxs(E,{variant:"ghost",size:"icon",className:"relative",onClick:()=>i("/messages"),children:[e.jsx(Te,{className:"w-5 h-5"}),o>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-green-600 text-white rounded-full text-xs flex items-center justify-center",children:o>9?"9+":o})]}),r&&e.jsx(Kd,{}),e.jsx("div",{className:"hidden md:flex items-center space-x-2",children:r?e.jsxs(fr,{children:[e.jsx(xr,{asChild:!0,children:e.jsxs(E,{variant:"ghost",className:"flex items-center space-x-2",children:[e.jsx(So,{photoUrl:d==null?void 0:d.photo_profil,name:`${n==null?void 0:n.nom} ${n==null?void 0:n.prenom}`,size:"sm"}),e.jsx("span",{children:(n==null?void 0:n.nom)||(n==null?void 0:n.prenom)||"Mon compte"})]})}),e.jsxs(Ws,{align:"end",children:[e.jsxs(Ne,{onClick:()=>i("/dashboard"),children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Tableau de bord"]}),e.jsxs(Ne,{onClick:()=>i("/profile"),children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Mon profil"]}),e.jsx(sc,{}),e.jsxs(Ne,{onClick:f,disabled:l,className:"text-red-600",children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),l?"Dconnexion...":"Se dconnecter"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"ghost",onClick:()=>i("/login"),children:"Se connecter"}),e.jsx(E,{variant:"default",onClick:()=>i("/user-type"),children:"S'inscrire"})]})}),e.jsx(E,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>s(!t),children:e.jsx(Nu,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"md:hidden pb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-4 h-4"}),e.jsx(D,{placeholder:"Rechercher...",className:"pl-10 pr-4 h-10",onKeyPress:m=>{if(m.key==="Enter"){const h=m.target.value;h.trim()&&i(`/products?search=${encodeURIComponent(h.trim())}`)}}})]})}),t&&e.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:e.jsxs("nav",{className:"flex flex-col space-y-3",children:[e.jsx("button",{onClick:()=>i("/"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full font-medium",children:"Accueil"}),e.jsx("button",{onClick:()=>i("/products"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full",children:"Produits"}),e.jsx("button",{onClick:()=>i("/search"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full",children:"Recherche"}),e.jsx("button",{onClick:()=>i("/categories"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full",children:"Catgories"}),e.jsx("button",{onClick:()=>i("/suppliers"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full",children:"Fournisseurs"}),r&&e.jsx(e.Fragment,{children:e.jsx("button",{onClick:()=>i("/messages"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full",children:"Messages"})}),e.jsx("div",{className:"flex flex-col space-y-2 pt-3 border-t border-gray-200",children:r?e.jsxs(e.Fragment,{children:[e.jsxs(E,{variant:"ghost",className:"justify-start",onClick:()=>i("/dashboard"),children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Tableau de bord"]}),e.jsxs(E,{variant:"ghost",className:"justify-start",onClick:()=>i("/profile"),children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Mon profil"]}),e.jsxs(E,{variant:"ghost",className:"justify-start text-red-600",onClick:f,disabled:l,children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),l?"Dconnexion...":"Se dconnecter"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"ghost",className:"justify-start",onClick:()=>i("/login"),children:"Se connecter"}),e.jsx(E,{variant:"default",className:"justify-start",onClick:()=>i("/user-type"),children:"S'inscrire"})]})})]})})]})]})},Sp=()=>{const[t,s]=u.useState([]),[r,n]=u.useState(!0),[a,i]=u.useState(null),{data:o}=dt(),l=u.useCallback(async()=>{try{if(n(!0),i(null),!o){s([]);return}const y=localStorage.getItem("authToken");if(!y)throw new Error("Token d'authentification manquant");const g=await fetch("https://back-gabonmarquethub.onrender.com/api/conversations",{headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(!g.ok)throw new Error("Erreur lors de la rcupration des conversations");const N=await g.json();N.success&&N.data?s(N.data):s([])}catch(y){console.error("Erreur rcupration conversations:",y),i(y.message||"Erreur lors de la rcupration des conversations"),s([])}finally{n(!1)}},[o]);u.useEffect(()=>{l()},[l]);const c=u.useCallback(()=>{l()},[l]),d=u.useCallback(y=>{s(g=>[y,...g])},[]),f=u.useCallback((y,g)=>{s(N=>N.map(p=>p.id===y?{...p,...g}:p))},[]),m=u.useCallback(y=>{s(g=>g.filter(N=>N.id!==y))},[]),h=u.useCallback(y=>{s(g=>g.map(N=>{if(N.id===y){if((o==null?void 0:o.role_id)===1)return{...N,messages_non_lus_acheteur:0};if((o==null?void 0:o.role_id)===2)return{...N,messages_non_lus_fournisseur:0}}return N}))},[o==null?void 0:o.role_id]),j=u.useCallback((y,g)=>{s(N=>N.map(p=>{if(p.id===y){if(g===(o==null?void 0:o.id))return p;if((o==null?void 0:o.role_id)===1&&g!==p.acheteur_id)return{...p,messages_non_lus_acheteur:(p.messages_non_lus_acheteur||0)+1};if((o==null?void 0:o.role_id)===2&&g!==p.fournisseur_id)return{...p,messages_non_lus_fournisseur:(p.messages_non_lus_fournisseur||0)+1}}return p}))},[o==null?void 0:o.id,o==null?void 0:o.role_id]);return{conversations:t,loading:r,error:a,refetch:c,addConversation:d,updateConversation:f,removeConversation:m,markConversationAsRead:h,incrementUnreadCount:j}},hD=()=>{const[t,s]=u.useState(!0),[r,n]=u.useState(null),[a,i]=u.useState(!1),[o,l]=u.useState(!1),[c,d]=u.useState(null),[f,m]=u.useState(""),[h,j]=u.useState("all"),[y,g]=u.useState(!1),[N,p]=u.useState(!1),[v,x]=u.useState(null),{toast:w}=Px(),{data:k}=dt(),S=he(),{conversations:b,loading:C,error:_}=Sp();q1(),u.useEffect(()=>{const I=setTimeout(()=>{s(!1)},1e3);return()=>clearTimeout(I)},[]);const P=(b==null?void 0:b.filter(I=>{if(f){const O=f.toLowerCase();if(!`${I.sujet||""} ${I.nom_entreprise||""} ${I.fournisseur_nom||""} ${I.fournisseur_prenom||""}`.toLowerCase().includes(O))return!1}return!(h==="unread"&&(I.messages_non_lus_acheteur||0)===0)}))||[],T=()=>{i(!0)},L=async I=>{var O;try{const X=localStorage.getItem("authToken");if(!X){w({title:"Erreur",description:"Vous devez tre connect pour contacter un fournisseur",variant:"destructive"});return}const A=await fetch("https://back-gabonmarquethub.onrender.com/api/conversations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${X}`},body:JSON.stringify({fournisseur_id:I.utilisateur_id,sujet:`Conversation avec ${I.nom_entreprise}`})});if(!A.ok){const R=await A.json();throw new Error(R.error||"Erreur lors de la cration de la conversation")}const B=await A.json();S(`/messages?conversation=${((O=B.data)==null?void 0:O.id)||""}&supplier=${I.utilisateur_id}&supplierName=${encodeURIComponent(I.nom_entreprise)}`),w({title:"Conversation cre",description:`Conversation cre avec ${I.nom_entreprise}`})}catch(X){console.error("Erreur cration conversation:",X),w({title:"Erreur",description:X.message||"Erreur lors de la cration de la conversation",variant:"destructive"})}};return t?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Chargement du centre de messages..."})]})}):e.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(mD,{})}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[e.jsx("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Te,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Messages - Acheteur"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Contactez les fournisseurs et grez vos conversations"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(E,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),"Contacter un fournisseur"]})})]})}),N&&e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(lD,{onContactSupplier:L,onBack:()=>p(!1)})}),o&&e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(dv,{onContactSupplier:I=>{const O=new URLSearchParams({supplier:I.id.toString(),supplierName:I.nom_entreprise});window.location.href=`/messages?${O.toString()}`},onBack:()=>l(!1)})}),!N&&!o&&e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[e.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-100 px-6 py-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Rechercher dans les conversations...",value:f,onChange:I=>m(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{variant:h==="all"?"default":"outline",size:"sm",onClick:()=>j("all"),children:"Toutes"}),e.jsx(E,{variant:h==="unread"?"default":"outline",size:"sm",onClick:()=>j("unread"),children:"Non lues"}),e.jsx(E,{variant:h==="recent"?"default":"outline",size:"sm",onClick:()=>j("recent"),children:"Rcentes"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-3",children:[e.jsxs("span",{children:[P.length," conversation(s)"]}),b&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{children:[b.filter(I=>(I.messages_non_lus_acheteur||0)>0).length," avec messages non lus"]})]})]})]}),e.jsxs("div",{className:"flex-1 flex min-h-0",children:[e.jsxs("div",{className:"w-80 lg:w-96 border-r border-gray-200 bg-white flex flex-col",children:[e.jsx("div",{className:"flex-shrink-0 p-4 border-b",children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Conversations"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:_?e.jsxs(ms,{variant:"destructive",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx(hs,{children:"Erreur lors du chargement des conversations"})]}):C?e.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((I,O)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-muted animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded animate-pulse w-2/3"})]})]},O))}):P.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Te,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-sm font-medium mb-2",children:f?"Aucune conversation trouve":"Aucune conversation"}),e.jsx("p",{className:"text-xs mb-4",children:f?"Essayez avec d'autres termes de recherche":"Commencez par contacter un fournisseur"}),!f&&e.jsxs(E,{onClick:T,size:"sm",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Nouvelle conversation"]})]}):e.jsx(S1,{conversations:P,selectedConversation:c,onSelectConversation:d,currentUserId:k==null?void 0:k.id})})]}),e.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:c?e.jsx($1,{conversation:c,onBack:()=>d(null)}):e.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Te,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Slectionnez une conversation"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Choisissez une conversation dans la liste  gauche pour commencer  changer"}),e.jsxs(E,{onClick:T,className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),"Crer une conversation"]})]})})})]})]}),a&&e.jsx(dv,{onContactSupplier:async I=>{var O;try{const X=localStorage.getItem("authToken");if(!X){w({title:"Erreur",description:"Vous devez tre connect pour contacter un fournisseur",variant:"destructive"});return}const A=await fetch("https://back-gabonmarquethub.onrender.com/api/conversations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${X}`},body:JSON.stringify({fournisseur_id:I.utilisateur_id,sujet:`Conversation avec ${I.nom_entreprise}`})});if(!A.ok){const R=await A.json();throw new Error(R.error||"Erreur lors de la cration de la conversation")}const B=await A.json();S(`/messages?conversation=${((O=B.data)==null?void 0:O.id)||""}&supplier=${I.utilisateur_id}&supplierName=${encodeURIComponent(I.nom_entreprise)}`),w({title:"Conversation cre",description:`Conversation cre avec ${I.nom_entreprise}`})}catch(X){console.error("Erreur cration conversation:",X),w({title:"Erreur",description:X.message||"Erreur lors de la cration de la conversation",variant:"destructive"})}},onBack:()=>i(!1),className:"fixed inset-0 bg-white z-50 overflow-auto"})]})]})},fD=()=>{const[t,s]=u.useState(!0),[r,n]=u.useState(null),[a,i]=u.useState(null),[o,l]=u.useState(""),[c,d]=u.useState("all");Px();const{data:f}=dt(),{conversations:m,loading:h,error:j}=Sp();u.useEffect(()=>{const g=setTimeout(()=>{s(!1)},1e3);return()=>clearTimeout(g)},[]);const y=(m==null?void 0:m.filter(g=>{if(o){const N=o.toLowerCase();if(!`${g.sujet||""} ${g.acheteur_nom||""} ${g.acheteur_prenom||""}`.toLowerCase().includes(N))return!1}return!(c==="unread"&&(g.messages_non_lus_fournisseur||0)===0)}))||[];return t?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Chargement du centre de messages..."})]})}):e.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(u1,{})}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[e.jsx("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Te,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Messages - Fournisseur"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Grez vos conversations avec les acheteurs"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx(we,{className:"h-4 w-4 inline mr-1"}),"Les acheteurs vous contactent directement depuis vos produits"]})})]})}),e.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-100 px-6 py-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Rechercher dans les conversations...",value:o,onChange:g=>l(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{variant:c==="all"?"default":"outline",size:"sm",onClick:()=>d("all"),children:"Toutes"}),e.jsx(E,{variant:c==="unread"?"default":"outline",size:"sm",onClick:()=>d("unread"),children:"Non lues"}),e.jsx(E,{variant:c==="recent"?"default":"outline",size:"sm",onClick:()=>d("recent"),children:"Rcentes"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-3",children:[e.jsxs("span",{children:[y.length," conversation(s)"]}),m&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{children:[m.filter(g=>(g.messages_non_lus_fournisseur||0)>0).length," avec messages non lus"]})]})]})]}),e.jsxs("div",{className:"flex-1 flex min-h-0",children:[e.jsxs("div",{className:"w-80 lg:w-96 border-r border-gray-200 bg-white flex flex-col",children:[e.jsx("div",{className:"flex-shrink-0 p-4 border-b",children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Conversations avec les acheteurs"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:j?e.jsxs(ms,{variant:"destructive",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx(hs,{children:"Erreur lors du chargement des conversations"})]}):h?e.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((g,N)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-muted animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded animate-pulse w-2/3"})]})]},N))}):y.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Te,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-sm font-medium mb-2",children:o?"Aucune conversation trouve":"Aucune conversation"}),e.jsx("p",{className:"text-xs mb-4",children:o?"Essayez avec d'autres termes de recherche":"Attendez qu'un acheteur vous contacte"}),!o&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsx(Tt,{className:"h-4 w-4 inline mr-1"}),"Les acheteurs peuvent vous contacter depuis vos produits"]})]}):e.jsx(S1,{conversations:y,selectedConversation:a,onSelectConversation:i,currentUserId:f==null?void 0:f.id})})]}),e.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:a?e.jsx($1,{conversation:a,onBack:()=>i(null)}):e.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Te,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucune conversation active"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Les acheteurs peuvent vous contacter directement depuis vos produits"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx(we,{className:"h-4 w-4 inline mr-1"}),"Vous recevrez une notification quand un acheteur vous contacte"]})]})})})]})]})]})},uv=()=>{const{data:t,loading:s}=dt();return s?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Chargement..."})]})}):(t==null?void 0:t.role_id)===1?e.jsx(hD,{}):(t==null?void 0:t.role_id)===2?e.jsx(fD,{}):e.jsx("div",{className:"container mx-auto p-6 max-w-7xl",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Accs non autoris"}),e.jsx("p",{className:"text-muted-foreground",children:"Vous devez tre connect en tant qu'acheteur ou fournisseur pour accder  la messagerie."})]})})};function Fl(t,[s,r]){return Math.min(r,Math.max(s,t))}function xD(t,s){return u.useReducer((r,n)=>s[r][n]??r,t)}var _p="ScrollArea",[Q1]=Wr(_p),[pD,Js]=Q1(_p),J1=u.forwardRef((t,s)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=t,[l,c]=u.useState(null),[d,f]=u.useState(null),[m,h]=u.useState(null),[j,y]=u.useState(null),[g,N]=u.useState(null),[p,v]=u.useState(0),[x,w]=u.useState(0),[k,S]=u.useState(!1),[b,C]=u.useState(!1),_=Ce(s,T=>c(T)),P=Co(a);return e.jsx(pD,{scope:r,type:n,dir:P,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:f,content:m,onContentChange:h,scrollbarX:j,onScrollbarXChange:y,scrollbarXEnabled:k,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:N,scrollbarYEnabled:b,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:w,children:e.jsx(me.div,{dir:P,...o,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":x+"px",...t.style}})})});J1.displayName=_p;var Z1="ScrollAreaViewport",e2=u.forwardRef((t,s)=>{const{__scopeScrollArea:r,children:n,asChild:a,nonce:i,...o}=t,l=Js(Z1,r),c=u.useRef(null),d=Ce(s,c,l.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),e.jsx(me.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:_D({asChild:a,children:n},f=>e.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});e2.displayName=Z1;var Qr="ScrollAreaScrollbar",kp=u.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=Js(Qr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=t.orientation==="horizontal";return u.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?e.jsx(gD,{...n,ref:s,forceMount:r}):a.type==="scroll"?e.jsx(vD,{...n,ref:s,forceMount:r}):a.type==="auto"?e.jsx(t2,{...n,ref:s,forceMount:r}):a.type==="always"?e.jsx(Ep,{...n,ref:s}):null});kp.displayName=Qr;var gD=u.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=Js(Qr,t.__scopeScrollArea),[i,o]=u.useState(!1);return u.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),e.jsx(ts,{present:r||i,children:e.jsx(t2,{"data-state":i?"visible":"hidden",...n,ref:s})})}),vD=u.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=Js(Qr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Vu(()=>c("SCROLL_END"),100),[l,c]=xD("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return u.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),u.useEffect(()=>{const d=a.viewport,f=i?"scrollLeft":"scrollTop";if(d){let m=d[f];const h=()=>{const j=d[f];m!==j&&(c("SCROLL"),o()),m=j};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),e.jsx(ts,{present:r||l!=="hidden",children:e.jsx(Ep,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:s,onPointerEnter:se(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:se(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),t2=u.forwardRef((t,s)=>{const r=Js(Qr,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,o]=u.useState(!1),l=t.orientation==="horizontal",c=Vu(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:f)}},10);return co(r.viewport,c),co(r.content,c),e.jsx(ts,{present:n||i,children:e.jsx(Ep,{"data-state":i?"visible":"hidden",...a,ref:s})})}),Ep=u.forwardRef((t,s)=>{const{orientation:r="vertical",...n}=t,a=Js(Qr,t.__scopeScrollArea),i=u.useRef(null),o=u.useRef(0),[l,c]=u.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=i2(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function m(h,j){return CD(h,o.current,l,j)}return r==="horizontal"?e.jsx(jD,{...f,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,j=mv(h,l,a.dir);i.current.style.transform=`translate3d(${j}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=m(h,a.dir))}}):r==="vertical"?e.jsx(yD,{...f,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,j=mv(h,l);i.current.style.transform=`translate3d(0, ${j}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=m(h))}}):null}),jD=u.forwardRef((t,s)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Js(Qr,t.__scopeScrollArea),[o,l]=u.useState(),c=u.useRef(null),d=Ce(s,c,i.onScrollbarXChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),e.jsx(r2,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Bu(r)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(i.viewport){const h=i.viewport.scrollLeft+f.deltaX;t.onWheelScroll(h),l2(h,m)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Zd(o.paddingLeft),paddingEnd:Zd(o.paddingRight)}})}})}),yD=u.forwardRef((t,s)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Js(Qr,t.__scopeScrollArea),[o,l]=u.useState(),c=u.useRef(null),d=Ce(s,c,i.onScrollbarYChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),e.jsx(r2,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Bu(r)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(i.viewport){const h=i.viewport.scrollTop+f.deltaY;t.onWheelScroll(h),l2(h,m)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Zd(o.paddingTop),paddingEnd:Zd(o.paddingBottom)}})}})}),[bD,s2]=Q1(Qr),r2=u.forwardRef((t,s)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:f,onResize:m,...h}=t,j=Js(Qr,r),[y,g]=u.useState(null),N=Ce(s,_=>g(_)),p=u.useRef(null),v=u.useRef(""),x=j.viewport,w=n.content-n.viewport,k=rt(f),S=rt(c),b=Vu(m,10);function C(_){if(p.current){const P=_.clientX-p.current.left,T=_.clientY-p.current.top;d({x:P,y:T})}}return u.useEffect(()=>{const _=P=>{const T=P.target;(y==null?void 0:y.contains(T))&&k(P,w)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[x,y,w,k]),u.useEffect(S,[n,S]),co(y,b),co(j.content,b),e.jsx(bD,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:rt(i),onThumbPointerUp:rt(o),onThumbPositionChange:S,onThumbPointerDown:rt(l),children:e.jsx(me.div,{...h,ref:N,style:{position:"absolute",...h.style},onPointerDown:se(t.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),p.current=y.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",j.viewport&&(j.viewport.style.scrollBehavior="auto"),C(_))}),onPointerMove:se(t.onPointerMove,C),onPointerUp:se(t.onPointerUp,_=>{const P=_.target;P.hasPointerCapture(_.pointerId)&&P.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=v.current,j.viewport&&(j.viewport.style.scrollBehavior=""),p.current=null})})})}),Jd="ScrollAreaThumb",n2=u.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=s2(Jd,t.__scopeScrollArea);return e.jsx(ts,{present:r||a.hasThumb,children:e.jsx(ND,{ref:s,...n})})}),ND=u.forwardRef((t,s)=>{const{__scopeScrollArea:r,style:n,...a}=t,i=Js(Jd,r),o=s2(Jd,r),{onThumbPositionChange:l}=o,c=Ce(s,m=>o.onThumbChange(m)),d=u.useRef(),f=Vu(()=>{d.current&&(d.current(),d.current=void 0)},100);return u.useEffect(()=>{const m=i.viewport;if(m){const h=()=>{if(f(),!d.current){const j=SD(m,l);d.current=j,l()}};return l(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[i.viewport,f,l]),e.jsx(me.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:se(t.onPointerDownCapture,m=>{const j=m.target.getBoundingClientRect(),y=m.clientX-j.left,g=m.clientY-j.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:se(t.onPointerUp,o.onThumbPointerUp)})});n2.displayName=Jd;var Pp="ScrollAreaCorner",a2=u.forwardRef((t,s)=>{const r=Js(Pp,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?e.jsx(wD,{...t,ref:s}):null});a2.displayName=Pp;var wD=u.forwardRef((t,s)=>{const{__scopeScrollArea:r,...n}=t,a=Js(Pp,r),[i,o]=u.useState(0),[l,c]=u.useState(0),d=!!(i&&l);return co(a.scrollbarX,()=>{var m;const f=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(f),c(f)}),co(a.scrollbarY,()=>{var m;const f=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(f),o(f)}),d?e.jsx(me.div,{...n,ref:s,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Zd(t){return t?parseInt(t,10):0}function i2(t,s){const r=t/s;return isNaN(r)?0:r}function Bu(t){const s=i2(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*s;return Math.max(n,18)}function CD(t,s,r,n="ltr"){const a=Bu(r),i=a/2,o=s||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,m=n==="ltr"?[0,f]:[f*-1,0];return o2([c,d],m)(t)}function mv(t,s,r="ltr"){const n=Bu(s),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,i=s.scrollbar.size-a,o=s.content-s.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=Fl(t,c);return o2([0,o],[0,l])(d)}function o2(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const n=(s[1]-s[0])/(t[1]-t[0]);return s[0]+n*(r-t[0])}}function l2(t,s){return t>0&&t<s}var SD=(t,s=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function a(){const i={left:t.scrollLeft,top:t.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&s(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Vu(t,s){const r=rt(t),n=u.useRef(0);return u.useEffect(()=>()=>window.clearTimeout(n.current),[]),u.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,s)},[r,s])}function co(t,s){const r=rt(s);St(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}function _D(t,s){const{asChild:r,children:n}=t;if(!r)return typeof s=="function"?s(n):s;const a=u.Children.only(n);return u.cloneElement(a,{children:typeof s=="function"?s(a.props.children):s})}var c2=J1,kD=e2,ED=a2;const d2=u.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(c2,{ref:n,className:ie("relative overflow-hidden",t),...r,children:[e.jsx(kD,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(u2,{}),e.jsx(ED,{})]}));d2.displayName=c2.displayName;const u2=u.forwardRef(({className:t,orientation:s="vertical",...r},n)=>e.jsx(kp,{ref:n,orientation:s,className:ie("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:e.jsx(n2,{className:"relative flex-1 rounded-full bg-border"})}));u2.displayName=kp.displayName;const PD=()=>{const{conversationId:t}=ri(),s=he(),{data:r}=dt(),{conversations:n,activeConversation:a,totalUnreadCount:i,isLoading:o,error:l,openConversation:c,refreshConversations:d,getConversationUrl:f}=Sp(),[m,h]=u.useState(null);u.useEffect(()=>{console.log(" FOURNISSEUR - tat conversations:",{conversationsCount:n.length,isLoading:o,error:l,currentUser:r?{id:r.id,role_id:r.role_id,nom:r.nom}:null,conversations:n.map(N=>({id:N.id,sujet:N.sujet,acheteur_data:{acheteur_nom:N.acheteur_nom,acheteur_prenom:N.acheteur_prenom,acheteur_email:N.acheteur_email}}))})},[n,o,l,r]),u.useEffect(()=>{if(t&&n.length>0){const N=parseInt(t);n.find(v=>v.id===N)&&(a==null?void 0:a.id)!==N&&c(N).catch(v=>{console.error("Error opening conversation from URL:",v),h("Impossible d'ouvrir cette conversation")})}},[t,n,a,c]);const j=async N=>{try{h(null),await c(N.id);const p=f(N.id);s(p)}catch(p){console.error("Error selecting conversation:",p),h("Impossible d'ouvrir cette conversation"),M.error("Erreur lors de l'ouverture de la conversation")}},y=()=>{s("/supplier/messages")},g=async()=>{try{h(null),await d()}catch(N){const p=N instanceof Error?N.message:"Erreur lors du rafrachissement";h(p)}};return r?r.role_id===1?(s("/messages"),null):e.jsx(Gs,{children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(_i,{className:"h-6 w-6 text-blue-600"}),"Messages",e.jsxs(U,{variant:"secondary",className:"ml-2",children:[n.length," conversation",n.length!==1?"s":""]}),i>0&&e.jsxs(U,{variant:"destructive",className:"ml-2",children:[i," non lu",i!==1?"s":""]})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Grez vos conversations avec les acheteurs"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(E,{variant:"outline",size:"sm",onClick:g,disabled:o,className:"flex items-center gap-2",children:[e.jsx(Us,{className:`h-4 w-4 ${o?"animate-spin":""}`}),"Actualiser"]}),a&&e.jsxs(E,{variant:"outline",onClick:y,className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"h-4 w-4"}),"Retour  la liste"]})]})]}),(l||m)&&e.jsx(ms,{variant:"destructive",className:"mt-4",children:e.jsx(hs,{children:l||m})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-[calc(100vh-250px)]",children:[e.jsx("div",{className:`lg:col-span-4 ${a?"hidden lg:block":""}`,children:e.jsxs($,{className:"h-full",children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(at,{className:"h-5 w-5 text-blue-600"}),"Conversations avec les acheteurs"]})}),e.jsx(q,{className:"p-0",children:o&&n.length===0?e.jsxs("div",{className:"p-4 text-center text-gray-500",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),"Chargement des conversations..."]}):(l||m)&&n.length===0?e.jsx("div",{className:"p-4 text-center text-red-500",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-red-800 mb-2",children:"Erreur de chargement"}),e.jsx("p",{className:"text-sm",children:l||m}),e.jsxs(E,{size:"sm",variant:"outline",onClick:g,disabled:o,className:"mt-2",children:[e.jsx(Us,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),"Ressayer"]})]})}):n.length===0?e.jsxs("div",{className:"p-6 text-center text-gray-500",children:[e.jsx(_i,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Aucune conversation"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Les acheteurs intresss par vos produits vous contacteront ici."}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-700",children:[" ",e.jsx("strong",{children:"Conseil :"})," Assurez-vous que vos produits sont bien rfrencs pour attirer plus d'acheteurs !"]})})]}):e.jsx(d2,{className:"h-[calc(100vh-350px)]",children:e.jsx("div",{className:"divide-y divide-gray-200",children:n.map(N=>{const p=(a==null?void 0:a.id)===N.id,v=N.acheteur_nom||"",x=N.acheteur_prenom||"",w=`${v} ${x}`.trim()||"Acheteur inconnu",k=N.messages_non_lus_fournisseur||0;return e.jsx("div",{className:`p-4 cursor-pointer hover:bg-gray-50 transition-colors ${p?"bg-blue-50 border-r-4 border-blue-500":""}`,onClick:()=>j(N),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[e.jsx(ic,{className:"w-10 h-10 flex-shrink-0",children:e.jsx(oc,{className:"bg-blue-100 text-blue-600",children:(v==null?void 0:v.charAt(0).toUpperCase())||"A"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:w}),k>0&&e.jsx(U,{variant:"destructive",className:"text-xs",children:k})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",children:N.sujet||"Demande de renseignements"}),N.acheteur_email&&e.jsxs("p",{className:"text-xs text-gray-400 mt-1 truncate",children:[" ",N.acheteur_email]}),N.derniere_activite&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:C1(N.derniere_activite,{addSuffix:!0,fallback:"Rcemment"})})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1 ml-2",children:[e.jsx(U,{variant:N.statut==="ouverte"?"default":"secondary",className:"text-xs",children:N.statut}),N.priorite&&N.priorite!=="normale"&&e.jsx(U,{variant:N.priorite==="urgente"?"destructive":"secondary",className:"text-xs",children:N.priorite})]})]})},N.id)})})})})]})}),e.jsx("div",{className:`lg:col-span-8 ${a?"":"hidden lg:block"}`,children:a?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Interface fournisseur en cours de migration"}):e.jsx($,{className:"h-full flex items-center justify-center",children:e.jsx(q,{children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx(_i,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Slectionnez une conversation"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Choisissez une conversation dans la liste pour rpondre aux acheteurs"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:" Conseils pour les fournisseurs"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 text-left",children:[e.jsx("li",{children:" Rpondez rapidement aux questions"}),e.jsx("li",{children:" Soyez prcis sur vos produits"}),e.jsx("li",{children:" Proposez des chantillons si possible"}),e.jsx("li",{children:" Ngociez les prix de manire professionnelle"})]})]})]})})})})]})]})}):e.jsx(Gs,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx($,{className:"w-full max-w-md",children:e.jsx(q,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_i,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connexion requise"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Vous devez tre connect pour accder  vos messages."}),e.jsx(E,{onClick:()=>s("/supplier/login"),children:"Se connecter"})]})})})})})},hv=()=>{const{data:t}=dt();return t?t.role_id===1?(window.location.href="/messages",null):e.jsx(PD,{}):e.jsx(Gs,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx($,{className:"w-full max-w-md",children:e.jsx(q,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_i,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connexion requise"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Vous devez tre connect pour accder  vos messages."}),e.jsx(E,{onClick:()=>window.location.href="/supplier/login",children:"Se connecter"})]})})})})})},TD=t=>{const[s,r]=u.useState(null),[n,a]=u.useState(!1),[i,o]=u.useState(null),l=u.useCallback(async c=>{try{a(!0),o(null);const d=localStorage.getItem("authToken"),f=await fetch(`https://back-gabonmarquethub.onrender.com/api/entreprises/${c}`,{headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"}});if(!f.ok)throw new Error(`Erreur ${f.status}: ${f.statusText}`);const m=await f.json();if(m.success&&m.data)r(m.data);else throw new Error(m.error||"Erreur lors de la rcupration de l'entreprise")}catch(d){const f=d instanceof Error?d.message:"Erreur inconnue";console.error("Erreur rcupration entreprise:",f),o(f),r(null)}finally{a(!1)}},[]);return u.useState(()=>{t&&l(t)}),{entreprise:s,isLoading:n,error:i,fetchEntreprise:l}},m2=()=>{const[t,s]=u.useState(!1),[r,n]=u.useState(null);return{updateEntreprise:u.useCallback(async(i,o)=>{try{s(!0),n(null);const l=localStorage.getItem("authToken"),c=await fetch(`https://back-gabonmarquethub.onrender.com/api/entreprises/${i}`,{method:"PUT",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify(o)}),d=await c.json();if(!c.ok||!d.success)throw new Error(d.error||"Erreur lors de la mise  jour de l'entreprise");return d}catch(l){const c=l instanceof Error?l.message:"Erreur inconnue";throw console.error("Erreur mise  jour entreprise:",c),n(c),l}finally{s(!1)}},[]),isUpdating:t,error:r}},RD=({initialData:t,onSave:s,onCancel:r})=>{var S,b,C,_;const[n,a]=u.useState(!1),[i,o]=u.useState([]),[l,c]=u.useState([]),[d,f]=u.useState(!1),m=m2(),[h,j]=u.useState({id:t==null?void 0:t.id,nom_entreprise:(t==null?void 0:t.nom_entreprise)||"",description:(t==null?void 0:t.description)||"",logo:null,logo_url:(t==null?void 0:t.logo_url)||"",site_web:(t==null?void 0:t.site_web)||"",numero_siret:(t==null?void 0:t.numero_siret)||"",numero_registre_commerce:(t==null?void 0:t.numero_registre_commerce)||"",numero_tva:(t==null?void 0:t.numero_tva)||"",telephone_professionnel:(t==null?void 0:t.telephone_professionnel)||"",adresse_ligne1:(t==null?void 0:t.adresse_ligne1)||"",adresse_ligne2:(t==null?void 0:t.adresse_ligne2)||"",ville:(t==null?void 0:t.ville)||"",code_postal:(t==null?void 0:t.code_postal)||"",pays:(t==null?void 0:t.pays)||"Gabon",secteur_activite_id:((S=t==null?void 0:t.secteur_activite_id)==null?void 0:S.toString())||"",type_entreprise_id:((b=t==null?void 0:t.type_entreprise_id)==null?void 0:b.toString())||"",annee_creation:((C=t==null?void 0:t.annee_creation)==null?void 0:C.toString())||"",nombre_employes:((_=t==null?void 0:t.nombre_employes)==null?void 0:_.toString())||"",capacite_production:(t==null?void 0:t.capacite_production)||"",certifications:(t==null?void 0:t.certifications)||"",nom_banque:(t==null?void 0:t.nom_banque)||"",iban:(t==null?void 0:t.iban)||"",nom_titulaire_compte:(t==null?void 0:t.nom_titulaire_compte)||"",bic_swift:(t==null?void 0:t.bic_swift)||"",statut_verification:(t==null?void 0:t.statut_verification)||"en_attente"});u.useEffect(()=>{console.log(" Initialisation CompanyInfoForm avec:",t),y(),f(!!(t!=null&&t.id)),t&&j(P=>{var T,L,I,O;return{...P,id:t.id,nom_entreprise:t.nom_entreprise||"",description:t.description||"",logo_url:t.logo_url||"",site_web:t.site_web||"",numero_siret:t.numero_siret||"",numero_registre_commerce:t.numero_registre_commerce||"",numero_tva:t.numero_tva||"",telephone_professionnel:t.telephone_professionnel||"",adresse_ligne1:t.adresse_ligne1||"",adresse_ligne2:t.adresse_ligne2||"",ville:t.ville||"",code_postal:t.code_postal||"",pays:t.pays||"Gabon",secteur_activite_id:((T=t.secteur_activite_id)==null?void 0:T.toString())||"",type_entreprise_id:((L=t.type_entreprise_id)==null?void 0:L.toString())||"",annee_creation:((I=t.annee_creation)==null?void 0:I.toString())||"",nombre_employes:((O=t.nombre_employes)==null?void 0:O.toString())||"",capacite_production:t.capacite_production||"",certifications:t.certifications||"",nom_banque:t.nom_banque||"",iban:t.iban||"",nom_titulaire_compte:t.nom_titulaire_compte||"",bic_swift:t.bic_swift||"",statut_verification:t.statut_verification||"en_attente"}})},[t]);const y=async()=>{try{await Promise.all([g(),N()])}catch(P){console.error("Erreur chargement donnes:",P)}},g=async()=>{var P;try{console.log(" Chargement des secteurs...");const T=await H.get("/supplier/secteurs");console.log(" Secteurs chargs:",T);const L=T.secteurs||((P=T.data)==null?void 0:P.secteurs)||[];console.log(" Secteurs extraits:",L),o(L)}catch(T){console.log(" Erreur chargement secteurs, utilisation des donnes par dfaut:",T),o([{id:1,nom:"Agriculture",description:"Agriculture et levage"},{id:2,nom:"Artisanat",description:"Artisanat traditionnel"},{id:3,nom:"Textile",description:"Textile et vtements"},{id:4,nom:"lectronique",description:"lectronique et technologie"},{id:5,nom:"Alimentaire",description:"Produits alimentaires"}])}},N=async()=>{var P;try{console.log(" Chargement des types d'entreprise...");const T=await H.get("/supplier/types-entreprise");console.log(" Types d'entreprise chargs:",T);const L=T.types||((P=T.data)==null?void 0:P.types)||[];console.log(" Types extraits:",L),c(L)}catch(T){console.log(" Erreur chargement types entreprise, utilisation des donnes par dfaut:",T),c([{id:1,nom:"SARL",description:"Socit  responsabilit limite"},{id:2,nom:"SA",description:"Socit anonyme"},{id:3,nom:"Entreprise individuelle",description:"Entreprise individuelle"},{id:4,nom:"Cooprative",description:"Cooprative"}])}},p=P=>{const{name:T,value:L}=P.target;j(I=>({...I,[T]:L}))},v=(P,T)=>{j(L=>({...L,[P]:T}))},x=P=>{const{files:T}=P.target;T&&T[0]&&j(L=>({...L,logo:T[0]}))},w=()=>{const P=["nom_entreprise","telephone_professionnel","secteur_activite_id","type_entreprise_id","adresse_ligne1","ville","code_postal","numero_siret"];for(const T of P)if(!h[T])return M.error(`Le champ ${T.replace("_"," ")} est obligatoire`),!1;return!0},k=async P=>{if(P.preventDefault(),!!w())try{a(!0);const T={nom_entreprise:h.nom_entreprise,description:h.description,site_web:h.site_web,numero_siret:h.numero_siret,numero_registre_commerce:h.numero_registre_commerce,numero_tva:h.numero_tva,telephone_professionnel:h.telephone_professionnel,adresse_ligne1:h.adresse_ligne1,adresse_ligne2:h.adresse_ligne2,ville:h.ville,code_postal:h.code_postal,pays:h.pays,secteur_activite_id:parseInt(h.secteur_activite_id)||null,type_entreprise_id:parseInt(h.type_entreprise_id)||null,annee_creation:parseInt(h.annee_creation)||null,nombre_employes:parseInt(h.nombre_employes)||null,capacite_production:h.capacite_production,certifications:h.certifications,nom_banque:h.nom_banque,iban:h.iban,nom_titulaire_compte:h.nom_titulaire_compte,bic_swift:h.bic_swift};console.log(" Sauvegarde avec les donnes:",T),console.log(" ID entreprise:",h.id),await m.mutateAsync({id:h.id,data:T}),M.success("Informations de l'entreprise mises  jour avec succs"),s()}catch(T){console.error("Erreur sauvegarde:",T);const L=T.message||"Erreur lors de la sauvegarde";M.error(L)}finally{a(!1)}};return e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(Ue,{className:"mr-2 h-5 w-5"}),"Informations gnrales"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'entreprise *"}),e.jsx(D,{name:"nom_entreprise",required:!0,placeholder:"Nom de votre entreprise",value:h.nom_entreprise,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone professionnel *"}),e.jsx(D,{name:"telephone_professionnel",required:!0,placeholder:"+241 XX XX XX XX",value:h.telephone_professionnel,onChange:p})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site web"}),e.jsxs("div",{className:"relative",children:[e.jsx(Vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(D,{name:"site_web",placeholder:"https://www.votre-site.com",value:h.site_web,onChange:p,className:"pl-10"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secteur d'activit *"}),e.jsx(fs,{value:h.secteur_activite_id,onValueChange:P=>v("secteur_activite_id",P),placeholder:"Slectionnez un secteur",options:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type d'entreprise *"}),e.jsx(fs,{value:h.type_entreprise_id,onValueChange:P=>v("type_entreprise_id",P),placeholder:"Slectionnez un type",options:l})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo de l'entreprise"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[h.logo_url&&e.jsx("img",{src:h.logo_url,alt:"Logo actuel",className:"w-16 h-16 object-cover rounded-lg border"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(D,{name:"logo",type:"file",accept:"image/*",onChange:x,className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h.logo_url?"Choisir un nouveau logo":"Formats accepts: JPG, PNG, GIF (max 2MB)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description de l'entreprise"}),e.jsx(Ye,{name:"description",placeholder:"Dcrivez votre entreprise, vos produits et services...",value:h.description,onChange:p,rows:3})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(Ht,{className:"mr-2 h-5 w-5"}),"Adresse et informations lgales"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 1 *"}),e.jsx(D,{name:"adresse_ligne1",required:!0,placeholder:"Numro et nom de rue",value:h.adresse_ligne1,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 2"}),e.jsx(D,{name:"adresse_ligne2",placeholder:"Complment d'adresse (optionnel)",value:h.adresse_ligne2,onChange:p})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville *"}),e.jsx(D,{name:"ville",required:!0,placeholder:"Libreville",value:h.ville,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code postal *"}),e.jsx(D,{name:"code_postal",required:!0,placeholder:"BP 1234",value:h.code_postal,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pays"}),e.jsx(D,{name:"pays",value:h.pays,onChange:p,disabled:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro SIRET *"}),e.jsx(D,{name:"numero_siret",required:!0,placeholder:"Numro d'identification SIRET",value:h.numero_siret,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro TVA"}),e.jsx(D,{name:"numero_tva",placeholder:"Numro TVA (optionnel)",value:h.numero_tva,onChange:p})]})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(We,{className:"mr-2 h-5 w-5"}),"Informations complmentaires"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anne de cration"}),e.jsx(D,{name:"annee_creation",type:"number",placeholder:"2020",value:h.annee_creation,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre d'employs"}),e.jsx(D,{name:"nombre_employes",type:"number",placeholder:"10",value:h.nombre_employes,onChange:p})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacit de production"}),e.jsx(D,{name:"capacite_production",placeholder:"Ex: 1000 units/mois",value:h.capacite_production,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certifications"}),e.jsx(Ye,{name:"certifications",placeholder:"Listez vos certifications (ISO, etc.)",value:h.certifications,onChange:p,rows:3})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(Ue,{className:"mr-2 h-5 w-5"}),"Informations bancaires"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la banque"}),e.jsx(D,{name:"nom_banque",placeholder:"Ex: BGFI Bank",value:h.nom_banque,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du titulaire du compte"}),e.jsx(D,{name:"nom_titulaire_compte",placeholder:"Nom sur le compte bancaire",value:h.nom_titulaire_compte,onChange:p})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IBAN"}),e.jsx(D,{name:"iban",placeholder:"GA21 1234 5678 9012 3456 7890 12",value:h.iban,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code BIC/SWIFT"}),e.jsx(D,{name:"bic_swift",placeholder:"BGFIGAXX",value:h.bic_swift,onChange:p})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(E,{type:"button",variant:"outline",onClick:r,children:"Annuler"}),e.jsx(E,{type:"submit",disabled:n,className:"bg-green-600 hover:bg-green-700",children:n?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sauvegarde..."]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fr,{className:"mr-2 h-4 w-4"}),d?"Mettre  jour":"Enregistrer"]})})]})]})},AD=({currentPhoto:t,onPhotoUpdate:s,onPhotoDelete:r,size:n="md",className:a=""})=>{const[i,o]=u.useState(!1),[l,c]=u.useState(null),[d,f]=u.useState(null),[m,h]=u.useState(null),j=u.useRef(null),y={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},g={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-10 h-10"};u.useEffect(()=>{if(l||d){const k=setTimeout(()=>{c(null),f(null)},3e3);return()=>clearTimeout(k)}},[l,d]);const N=k=>{var P;const S=(P=k.target.files)==null?void 0:P[0];if(!S)return;const b=["image/jpeg","image/jpg","image/png","image/gif","image/webp"],C=5*1024*1024;if(!b.includes(S.type)){c("Format de fichier non support. Utilisez JPEG, PNG, GIF ou WEBP.");return}if(S.size>C){c("Le fichier est trop volumineux. Taille maximale : 5MB.");return}const _=new FileReader;_.onload=T=>{var L;h((L=T.target)==null?void 0:L.result)},_.readAsDataURL(S),p(S)},p=async k=>{o(!0),c(null),f(null);try{const S=new FormData;S.append("photo",k);const b=localStorage.getItem("authToken");if(!b)throw new Error("Token d'authentification manquant");const C=await fetch("https://back-gabonmarquethub.onrender.com/api/profile-photo/upload",{method:"POST",headers:{Authorization:`Bearer ${b}`},body:S}),_=await C.json();if(!C.ok)throw new Error(_.error||"Erreur lors de l'upload");f("Photo de profil mise  jour avec succs !"),s(_.data.photo_profil),h(null)}catch(S){console.error("Erreur upload photo:",S),c(S instanceof Error?S.message:"Erreur lors de l'upload"),h(null)}finally{o(!1)}},v=async()=>{if(t){o(!0),c(null),f(null);try{const k=localStorage.getItem("authToken");if(!k)throw new Error("Token d'authentification manquant");const S=await fetch("https://back-gabonmarquethub.onrender.com/api/profile-photo",{method:"DELETE",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}}),b=await S.json();if(!S.ok)throw new Error(b.error||"Erreur lors de la suppression");f("Photo de profil supprime avec succs !"),r()}catch(k){console.error("Erreur suppression photo:",k),c(k instanceof Error?k.message:"Erreur lors de la suppression")}finally{o(!1)}}},x=()=>{var k;(k=j.current)==null||k.click()},w=m||t;return e.jsxs("div",{className:`flex flex-col items-center space-y-4 ${a}`,children:[e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:`
            ${y[n]} 
            rounded-full border-2 border-gray-300 
            overflow-hidden cursor-pointer
            transition-all duration-200
            hover:border-blue-500 hover:shadow-lg
            ${i?"opacity-50":""}
          `,onClick:x,children:[w?e.jsx("img",{src:Dt(w),alt:"Photo de profil",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:e.jsx(we,{className:`${g[n]} text-gray-400`})}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center",children:e.jsx(vb,{className:`${g[n]} text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200`})}),i&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})})]}),t&&!i&&e.jsx("button",{onClick:k=>{k.stopPropagation(),v()},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors duration-200",title:"Supprimer la photo",children:e.jsx(Ae,{className:"w-3 h-3"})})]}),e.jsx("input",{ref:j,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:N,className:"hidden"}),e.jsxs("button",{onClick:x,disabled:i,className:`
          flex items-center space-x-2 px-4 py-2 
          bg-blue-500 text-white rounded-lg
          hover:bg-blue-600 disabled:opacity-50
          transition-colors duration-200
          ${i?"cursor-not-allowed":"cursor-pointer"}
        `,children:[e.jsx(po,{className:"w-4 h-4"}),e.jsx("span",{children:i?"Upload en cours...":"Changer la photo"})]}),l&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:[e.jsx(ft,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:l})]}),d&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-green-50 px-3 py-2 rounded-lg",children:[e.jsx(ye,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:d})]}),e.jsxs("div",{className:"text-xs text-gray-500 text-center max-w-xs",children:[e.jsx("p",{children:"Formats accepts : JPEG, PNG, GIF, WEBP"}),e.jsx("p",{children:"Taille maximale : 5MB"})]})]})},MD=()=>{var B,R,F,J,G,te,Q,ae,ue,de,V,ne,pe,oe,ve,ge,_t,Ot,Zs,Wt,wr,oi,pt,Jr,cc,dc,Na,uc,Po,li,Zr,To;const t=he(),{data:s,isLoading:r}=dt(),n=(s==null?void 0:s.role_id)===2,[a,i]=u.useState("personal"),[o,l]=u.useState([]),[c,d]=u.useState([]),{photoData:f,refetch:m}=ja(),h=ze=>{M.success("Photo de profil mise  jour avec succs !"),m()},j=()=>{M.success("Photo de profil supprime avec succs !"),m()};u.useEffect(()=>{s!=null&&s.entreprise&&(console.log(" Donnes entreprise reues:",s.entreprise),console.log(" Secteur activit:",s.entreprise.secteur_activite),console.log(" Type entreprise:",s.entreprise.type_entreprise))},[s]),u.useEffect(()=>{n&&(y(),g())},[n]);const y=async()=>{var ze;try{const gt=await H.get("/supplier/secteurs"),en=gt.secteurs||((ze=gt.data)==null?void 0:ze.secteurs)||[];l(en)}catch(gt){console.error("Erreur chargement secteurs:",gt)}},g=async()=>{var ze;try{const gt=await H.get("/supplier/types-entreprise"),en=gt.types||((ze=gt.data)==null?void 0:ze.types)||[];d(en)}catch(gt){console.error("Erreur chargement types entreprise:",gt)}},N=ze=>{const gt=o.find(en=>en.id===ze);return(gt==null?void 0:gt.nom)||`Secteur ID: ${ze}`},p=ze=>{const gt=c.find(en=>en.id===ze);return(gt==null?void 0:gt.nom)||`Type ID: ${ze}`};TD(((B=s==null?void 0:s.entreprise)==null?void 0:B.id)||0),u.useEffect(()=>{s&&n&&i("company")},[s,n]),l1();const v=AR();m2();const x=Xr(),[w,k]=u.useState(!1),[S,b]=u.useState(!1),[C,_]=u.useState({nom:"",prenom:"",telephone:"",email:""});u.useEffect(()=>{s&&_({nom:s.nom||"",prenom:s.prenom||"",telephone:s.telephone||"",email:s.email||""})},[s]);const P=n?Gs:yn,T=()=>{x.mutate()},L=ze=>{_({...C,[ze.target.name]:ze.target.value})},I=async()=>{try{await v.mutateAsync(C),M.success("Profil mis  jour avec succs"),k(!1)}catch(ze){M.error(ze.message||"Erreur lors de la mise  jour")}},O=()=>{s&&_({nom:s.nom||"",prenom:s.prenom||"",telephone:s.telephone||"",email:s.email||""}),k(!1)},X=()=>{b(!1),window.location.reload()},A=()=>{b(!1)};return r?e.jsx(P,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{children:"Chargement du profil..."})]})})}):e.jsx(P,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"container mx-auto px-4 py-4 sm:py-8",children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-4 gap-4 lg:gap-8",children:[e.jsx("div",{className:"lg:col-span-1 order-2 lg:order-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:[e.jsxs("div",{className:"text-center mb-4 lg:mb-6",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(we,{className:"w-8 h-8 sm:w-10 sm:h-10 text-green-600"})}),e.jsxs("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:[s==null?void 0:s.nom," ",s==null?void 0:s.prenom]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:s==null?void 0:s.email}),e.jsx(U,{variant:"outline",className:"mt-2 text-xs bg-green-50 text-green-700",children:n?"Fournisseur":"Acheteur"})]}),e.jsx("div",{className:"lg:hidden mb-4",children:e.jsx("div",{className:"flex overflow-x-auto space-x-2 pb-2",children:[{key:"personal",icon:we,label:"Personnel"},{key:"company",icon:Ue,label:"Entreprise"},{key:"security",icon:$e,label:"Scurit"},{key:"preferences",icon:Yt,label:"Prfrences"}].map(ze=>e.jsxs(E,{variant:a===ze.key?"default":"ghost",size:"sm",className:"flex-shrink-0 px-3",onClick:()=>i(ze.key),children:[e.jsx(ze.icon,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-xs",children:ze.label})]},ze.key))})}),e.jsxs("nav",{className:"hidden lg:block space-y-2",children:[e.jsxs(E,{variant:a==="personal"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>i("personal"),children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Informations personnelles"]}),n&&e.jsxs(E,{variant:a==="company"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>i("company"),children:[e.jsx(Ue,{className:"w-4 h-4 mr-2"}),"Informations entreprise"]}),e.jsxs(E,{variant:a==="security"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>i("security"),children:[e.jsx($e,{className:"w-4 h-4 mr-2"}),"Scurit"]}),e.jsxs(E,{variant:a==="preferences"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>i("preferences"),children:[e.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Prfrences"]}),n&&e.jsxs(E,{variant:a==="documents"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>i("documents"),children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),"Documents"]})]}),e.jsx("div",{className:"mt-4 lg:mt-8 pt-4 lg:pt-6 border-t",children:e.jsxs(E,{variant:"outline",size:"sm",className:"w-full text-red-600 hover:text-red-700 text-sm",onClick:T,disabled:x.isPending,children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:x.isPending?"Dconnexion...":"Dconnexion"}),e.jsx("span",{className:"sm:hidden",children:"Sortir"})]})})]})}),e.jsxs("div",{className:"lg:col-span-3 order-1 lg:order-2",children:[a==="personal"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations personnelles "}),e.jsx("p",{className:"text-gray-600",children:"Grez vos informations personnelles et de contact"})]}),w?e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(E,{onClick:I,disabled:v.isPending,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),v.isPending?"Sauvegarde...":"Sauvegarder"]}),e.jsxs(E,{variant:"outline",onClick:O,children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Annuler"]})]}):e.jsxs(E,{onClick:()=>k(!0),children:[e.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Modifier"]})]})}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(we,{className:"w-5 h-5 mr-2"}),"Photo de profil"]})}),e.jsx(q,{children:e.jsx(AD,{currentPhoto:f==null?void 0:f.photo_profil,onPhotoUpdate:h,onPhotoDelete:j,size:"lg",className:"justify-center"})})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(we,{className:"w-5 h-5 mr-2"}),"Dtails du compte"]})}),e.jsxs(q,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),e.jsx(D,{name:"nom",value:C.nom,onChange:L,disabled:!w,placeholder:"Votre nom"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prnom"}),e.jsx(D,{name:"prenom",value:C.prenom,onChange:L,disabled:!w,placeholder:"Votre prnom"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(D,{name:"email",type:"email",value:C.email,onChange:L,disabled:!w,className:"pl-10",placeholder:"votre@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(D,{name:"telephone",value:C.telephone,onChange:L,disabled:!w,className:"pl-10",placeholder:"+241 XX XX XX XX"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rle"}),e.jsx(D,{value:n?"Fournisseur":"Acheteur",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date d'inscription"}),e.jsxs("div",{className:"relative",children:[e.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(D,{value:s!=null&&s.created_at?new Date(s.created_at).toLocaleDateString("fr-FR"):"Non disponible",disabled:!0,className:"bg-gray-50 pl-10"})]})]})]})]})]}),a==="company"&&n&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations entreprise "}),e.jsx("p",{className:"text-gray-600",children:"Grez les informations de votre entreprise et votre profil fournisseur"})]}),!S&&e.jsxs(E,{onClick:()=>b(!0),children:[e.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Modifier"]})]})}),S?e.jsx(RD,{initialData:s==null?void 0:s.entreprise,onSave:X,onCancel:A}):e.jsxs(e.Fragment,{children:[e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(Ue,{className:"w-5 h-5 mr-2"}),"Informations gnrales"]})}),e.jsxs(q,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'entreprise"}),e.jsx(D,{value:((R=s==null?void 0:s.entreprise)==null?void 0:R.nom_entreprise)||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx(D,{value:((F=s==null?void 0:s.entreprise)==null?void 0:F.description)||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site web"}),e.jsxs("div",{className:"relative",children:[e.jsx(Vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(D,{value:((J=s==null?void 0:s.entreprise)==null?void 0:J.site_web)||"Non renseign",disabled:!0,className:"bg-gray-50 pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone professionnel"}),e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(D,{value:((G=s==null?void 0:s.entreprise)==null?void 0:G.telephone_professionnel)||"Non renseign",disabled:!0,className:"bg-gray-50 pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secteur d'activit"}),e.jsx(D,{value:((Q=(te=s==null?void 0:s.entreprise)==null?void 0:te.secteur_activite)==null?void 0:Q.nom)||((ae=s==null?void 0:s.entreprise)!=null&&ae.secteur_activite_id?N(s.entreprise.secteur_activite_id):"Non renseign"),disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type d'entreprise"}),e.jsx(D,{value:((de=(ue=s==null?void 0:s.entreprise)==null?void 0:ue.type_entreprise)==null?void 0:de.nom)||((V=s==null?void 0:s.entreprise)!=null&&V.type_entreprise_id?p(s.entreprise.type_entreprise_id):"Non renseign"),disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo de l'entreprise"}),e.jsxs("div",{className:"flex items-center gap-3",children:[(ne=s==null?void 0:s.entreprise)!=null&&ne.logo_url?e.jsx("img",{src:s.entreprise.logo_url,alt:"Logo entreprise",className:"w-12 h-12 object-cover rounded-lg border"}):e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(Ue,{className:"w-6 h-6 text-gray-400"})}),e.jsx(D,{value:(pe=s==null?void 0:s.entreprise)!=null&&pe.logo_url?"Logo configur":"Aucun logo",disabled:!0,className:"bg-gray-50 flex-1"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut de vrification"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{value:((oe=s==null?void 0:s.entreprise)==null?void 0:oe.statut_verification)==="verifie"?"Vrifi":((ve=s==null?void 0:s.entreprise)==null?void 0:ve.statut_verification)==="rejete"?"Rejet":"En attente",disabled:!0,className:"bg-gray-50"}),((ge=s==null?void 0:s.entreprise)==null?void 0:ge.statut_verification)==="verifie"&&e.jsxs(U,{className:"bg-green-100 text-green-800",children:[e.jsx($e,{className:"w-3 h-3 mr-1"}),"Vrifi"]})]})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(We,{className:"w-5 h-5 mr-2"}),"Informations lgales"]})}),e.jsxs(q,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro SIRET"}),e.jsx(D,{value:((_t=s==null?void 0:s.entreprise)==null?void 0:_t.numero_siret)||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro TVA"}),e.jsx(D,{value:((Ot=s==null?void 0:s.entreprise)==null?void 0:Ot.numero_tva)||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registre de commerce"}),e.jsx(D,{value:((Zs=s==null?void 0:s.entreprise)==null?void 0:Zs.numero_registre_commerce)||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anne de cration"}),e.jsx(D,{value:((Wt=s==null?void 0:s.entreprise)==null?void 0:Wt.annee_creation)||"Non renseign",disabled:!0,className:"bg-gray-50"})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(Ht,{className:"w-5 h-5 mr-2"}),"Adresse de l'entreprise"]})}),e.jsxs(q,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 1"}),e.jsx(D,{value:((wr=s==null?void 0:s.entreprise)==null?void 0:wr.adresse_ligne1)||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 2"}),e.jsx(D,{value:((oi=s==null?void 0:s.entreprise)==null?void 0:oi.adresse_ligne2)||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville"}),e.jsx(D,{value:((pt=s==null?void 0:s.entreprise)==null?void 0:pt.ville)||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code postal"}),e.jsx(D,{value:((Jr=s==null?void 0:s.entreprise)==null?void 0:Jr.code_postal)||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pays"}),e.jsx(D,{value:((cc=s==null?void 0:s.entreprise)==null?void 0:cc.pays)||"Gabon",disabled:!0,className:"bg-gray-50"})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(at,{className:"w-5 h-5 mr-2"}),"Informations complmentaires"]})}),e.jsxs(q,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre d'employs"}),e.jsx(D,{value:((dc=s==null?void 0:s.entreprise)==null?void 0:dc.nombre_employes)||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacit de production"}),e.jsx(D,{value:((Na=s==null?void 0:s.entreprise)==null?void 0:Na.capacite_production)||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certifications"}),e.jsx(D,{value:((uc=s==null?void 0:s.entreprise)==null?void 0:uc.certifications)||"Aucune certification renseigne",disabled:!0,className:"bg-gray-50"})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(jb,{className:"w-5 h-5 mr-2"}),"Informations bancaires"]})}),e.jsxs(q,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la banque"}),e.jsx(D,{value:((Po=s==null?void 0:s.entreprise)==null?void 0:Po.nom_banque)||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du titulaire du compte"}),e.jsx(D,{value:((li=s==null?void 0:s.entreprise)==null?void 0:li.nom_titulaire_compte)||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IBAN"}),e.jsx(D,{value:((Zr=s==null?void 0:s.entreprise)==null?void 0:Zr.iban)||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code BIC/SWIFT"}),e.jsx(D,{value:((To=s==null?void 0:s.entreprise)==null?void 0:To.bic_swift)||"Non renseign",disabled:!0,className:"bg-gray-50"})]})]})]})]})]}),a==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Scurit du compte "}),e.jsx("p",{className:"text-gray-600",children:"Grez la scurit de votre compte et vos paramtres de confidentialit"})]}),e.jsx($,{children:e.jsx(q,{className:"p-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx($e,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Paramtres de scurit"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Accdez aux paramtres complets pour grer votre scurit"}),e.jsxs(E,{onClick:()=>t("/settings"),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Ouvrir les paramtres"]})]})})})]}),a==="preferences"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Prfrences "}),e.jsx("p",{className:"text-gray-600",children:"Personnalisez votre exprience sur la plateforme"})]}),e.jsx($,{children:e.jsx(q,{className:"p-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Yt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Paramtres avancs"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Configurez vos notifications, confidentialit et prfrences"}),e.jsxs(E,{onClick:()=>t("/settings"),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Ouvrir les paramtres"]})]})})})]}),a==="documents"&&n&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Documents de vrification "}),e.jsx("p",{className:"text-gray-600",children:"Tlchargez vos documents officiels pour la vrification de votre compte"})]}),e.jsx($,{children:e.jsx(q,{className:"p-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(We,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Gestion des documents"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Accdez au tableau de bord pour grer vos documents"}),e.jsxs(E,{onClick:()=>t("/supplier/dashboard"),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"Aller au tableau de bord"]})]})})})]})]})]})})})})};function ID(t,s,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function fv(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function h2(...t){return s=>{let r=!1;const n=t.map(a=>{const i=fv(a,s);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():fv(t[a],null)}}}}function f2(...t){return u.useCallback(h2(...t),t)}function LD(t,s=[]){let r=[];function n(i,o){const l=u.createContext(o),c=r.length;r=[...r,o];const d=m=>{var p;const{scope:h,children:j,...y}=m,g=((p=h==null?void 0:h[t])==null?void 0:p[c])||l,N=u.useMemo(()=>y,Object.values(y));return e.jsx(g.Provider,{value:N,children:j})};d.displayName=i+"Provider";function f(m,h){var g;const j=((g=h==null?void 0:h[t])==null?void 0:g[c])||l,y=u.useContext(j);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,f]}const a=()=>{const i=r.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return u.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,DD(a,...s)]}function DD(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return u.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return r.scopeName=s.scopeName,r}var x2=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},OD=Ff[" useInsertionEffect ".trim().toString()]||x2;function FD({prop:t,defaultProp:s,onChange:r=()=>{},caller:n}){const[a,i,o]=zD({defaultProp:s,onChange:r}),l=t!==void 0,c=l?t:a;{const f=u.useRef(t!==void 0);u.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const d=u.useCallback(f=>{var m;if(l){const h=$D(f)?f(t):f;h!==t&&((m=o.current)==null||m.call(o,h))}else i(f)},[l,t,i,o]);return[c,d]}function zD({defaultProp:t,onChange:s}){const[r,n]=u.useState(t),a=u.useRef(r),i=u.useRef(s);return OD(()=>{i.current=s},[s]),u.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function $D(t){return typeof t=="function"}function qD(t){const s=u.useRef({value:t,previous:t});return u.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}function BD(t){const[s,r]=u.useState(void 0);return x2(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),s}function VD(t){const s=UD(t),r=u.forwardRef((n,a)=>{const{children:i,...o}=n,l=u.Children.toArray(i),c=l.find(WD);if(c){const d=c.props.children,f=l.map(m=>m===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:m);return e.jsx(s,{...o,ref:a,children:u.isValidElement(d)?u.cloneElement(d,void 0,f):null})}return e.jsx(s,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function UD(t){const s=u.forwardRef((r,n)=>{const{children:a,...i}=r;if(u.isValidElement(a)){const o=XD(a),l=GD(i,a.props);return a.type!==u.Fragment&&(l.ref=n?h2(n,o):o),u.cloneElement(a,l)}return u.Children.count(a)>1?u.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var HD=Symbol("radix.slottable");function WD(t){return u.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===HD}function GD(t,s){const r={...s};for(const n in s){const a=t[n],i=s[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function XD(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var KD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],p2=KD.reduce((t,s)=>{const r=VD(`Primitive.${s}`),n=u.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{}),Uu="Switch",[YD]=LD(Uu),[QD,JD]=YD(Uu),g2=u.forwardRef((t,s)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...m}=t,[h,j]=u.useState(null),y=f2(s,x=>j(x)),g=u.useRef(!1),N=h?f||!!h.closest("form"):!0,[p,v]=FD({prop:a,defaultProp:i??!1,onChange:d,caller:Uu});return e.jsxs(QD,{scope:r,checked:p,disabled:l,children:[e.jsx(p2.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":b2(p),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:y,onClick:ID(t.onClick,x=>{v(w=>!w),N&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),N&&e.jsx(y2,{control:h,bubbles:!g.current,name:n,value:c,checked:p,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});g2.displayName=Uu;var v2="SwitchThumb",j2=u.forwardRef((t,s)=>{const{__scopeSwitch:r,...n}=t,a=JD(v2,r);return e.jsx(p2.span,{"data-state":b2(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:s})});j2.displayName=v2;var ZD="SwitchBubbleInput",y2=u.forwardRef(({__scopeSwitch:t,control:s,checked:r,bubbles:n=!0,...a},i)=>{const o=u.useRef(null),l=f2(o,i),c=qD(r),d=BD(s);return u.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&j){const y=new Event("click",{bubbles:n});j.call(f,r),f.dispatchEvent(y)}},[c,r,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});y2.displayName=ZD;function b2(t){return t?"checked":"unchecked"}var N2=g2,eO=j2;const kt=u.forwardRef(({className:t,...s},r)=>e.jsx(N2,{className:ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:r,children:e.jsx(eO,{className:ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));kt.displayName=N2.displayName;const tO=()=>{const{data:t}=dt(),[s,r]=u.useState(!1),[n,a]=u.useState(!1),[i,o]=u.useState({nom:(t==null?void 0:t.nom)||"",prenom:(t==null?void 0:t.prenom)||"",email:(t==null?void 0:t.email)||"",telephone:(t==null?void 0:t.telephone)||""}),[l,c]=u.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[d,f]=u.useState({emailNotifications:!0,pushNotifications:!0,messageNotifications:!0,orderNotifications:!0,marketingEmails:!1}),[m,h]=u.useState({profileVisible:!0,showEmail:!1,showPhone:!1,allowMessages:!0}),y=(t==null?void 0:t.role_id)===2?Gs:De,g=async()=>{r(!0);try{await H.put("/users/profile",i),M.success("Profil mis  jour avec succs")}catch(x){M.error(x.message||"Erreur lors de la mise  jour")}finally{r(!1)}},N=async()=>{if(l.newPassword!==l.confirmPassword){M.error("Les mots de passe ne correspondent pas");return}if(l.newPassword.length<6){M.error("Le mot de passe doit contenir au moins 6 caractres");return}r(!0);try{await H.put("/users/password",{currentPassword:l.currentPassword,newPassword:l.newPassword}),M.success("Mot de passe modifi avec succs"),c({currentPassword:"",newPassword:"",confirmPassword:""})}catch(x){M.error(x.message||"Erreur lors du changement de mot de passe")}finally{r(!1)}},p=async()=>{var x,w;r(!0);try{try{await H.put("/users/notifications-settings",d),M.success("Paramtres de notification mis  jour")}catch(k){if((x=k.message)!=null&&x.includes("404")||(w=k.message)!=null&&w.includes("Not Found"))console.warn("Route /users/notifications-settings non implmente"),M.success("Paramtres de notification mis  jour (Mode simulation)");else throw k}}catch(k){M.error(k.message||"Erreur lors de la mise  jour")}finally{r(!1)}},v=async()=>{var x,w;r(!0);try{try{await H.put("/users/privacy-settings",m),M.success("Paramtres de confidentialit mis  jour")}catch(k){if((x=k.message)!=null&&x.includes("404")||(w=k.message)!=null&&w.includes("Not Found"))console.warn("Route /users/privacy-settings non implmente"),M.success("Paramtres de confidentialit mis  jour (Mode simulation)");else throw k}}catch(k){M.error(k.message||"Erreur lors de la mise  jour")}finally{r(!1)}};return e.jsx(y,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(rc,{className:"mb-4"}),e.jsx(gp,{items:[{label:"Paramtres"}]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Paramtres"}),e.jsx("p",{className:"text-gray-600",children:"Grez vos prfrences et paramtres de compte"})]}),e.jsxs(Kr,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(br,{className:"grid w-full grid-cols-4",children:[e.jsxs(ke,{value:"profile",className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-4 h-4"}),"Profil"]}),e.jsxs(ke,{value:"notifications",className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"w-4 h-4"}),"Notifications"]}),e.jsxs(ke,{value:"security",className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-4 h-4"}),"Scurit"]}),e.jsxs(ke,{value:"privacy",className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"w-4 h-4"}),"Confidentialit"]})]}),e.jsx(Ee,{value:"profile",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-5 h-5"}),"Informations personnelles"]})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"nom",children:"Nom"}),e.jsx(D,{id:"nom",value:i.nom,onChange:x=>o({...i,nom:x.target.value}),placeholder:"Votre nom"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"prenom",children:"Prnom"}),e.jsx(D,{id:"prenom",value:i.prenom,onChange:x=>o({...i,prenom:x.target.value}),placeholder:"Votre prnom"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(D,{id:"email",type:"email",value:i.email,onChange:x=>o({...i,email:x.target.value}),className:"pl-10",placeholder:"votre@email.com"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"telephone",children:"Tlphone"}),e.jsxs("div",{className:"relative",children:[e.jsx(Bh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(D,{id:"telephone",value:i.telephone,onChange:x=>o({...i,telephone:x.target.value}),className:"pl-10",placeholder:"+241 XX XX XX XX"})]})]}),e.jsxs(E,{onClick:g,disabled:s,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),s?"Enregistrement...":"Enregistrer les modifications"]})]})]})}),e.jsx(Ee,{value:"notifications",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"w-5 h-5"}),"Prfrences de notification"]})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Notifications par email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir les notifications importantes par email"})]}),e.jsx(kt,{checked:d.emailNotifications,onCheckedChange:x=>f({...d,emailNotifications:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Notifications push"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir les notifications dans le navigateur"})]}),e.jsx(kt,{checked:d.pushNotifications,onCheckedChange:x=>f({...d,pushNotifications:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Messages"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Notifications pour les nouveaux messages"})]}),e.jsx(kt,{checked:d.messageNotifications,onCheckedChange:x=>f({...d,messageNotifications:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Commandes"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Notifications pour les commandes et leur statut"})]}),e.jsx(kt,{checked:d.orderNotifications,onCheckedChange:x=>f({...d,orderNotifications:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Emails marketing"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir les offres et actualits"})]}),e.jsx(kt,{checked:d.marketingEmails,onCheckedChange:x=>f({...d,marketingEmails:x})})]})]}),e.jsxs(E,{onClick:p,disabled:s,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),s?"Enregistrement...":"Enregistrer les prfrences"]})]})]})}),e.jsx(Ee,{value:"security",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5"}),"Scurit du compte"]})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"currentPassword",children:"Mot de passe actuel"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{id:"currentPassword",type:n?"text":"password",value:l.currentPassword,onChange:x=>c({...l,currentPassword:x.target.value}),placeholder:"Votre mot de passe actuel"}),e.jsx(E,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>a(!n),children:n?e.jsx(Bs,{className:"w-4 h-4"}):e.jsx(Oe,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"newPassword",children:"Nouveau mot de passe"}),e.jsx(D,{id:"newPassword",type:n?"text":"password",value:l.newPassword,onChange:x=>c({...l,newPassword:x.target.value}),placeholder:"Nouveau mot de passe (min. 6 caractres)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"confirmPassword",children:"Confirmer le nouveau mot de passe"}),e.jsx(D,{id:"confirmPassword",type:n?"text":"password",value:l.confirmPassword,onChange:x=>c({...l,confirmPassword:x.target.value}),placeholder:"Confirmer le nouveau mot de passe"})]})]}),e.jsxs(E,{onClick:N,disabled:s||!l.currentPassword||!l.newPassword,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),s?"Modification...":"Modifier le mot de passe"]})]})]})}),e.jsx(Ee,{value:"privacy",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"w-5 h-5"}),"Paramtres de confidentialit"]})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Profil visible"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Permettre aux autres utilisateurs de voir votre profil"})]}),e.jsx(kt,{checked:m.profileVisible,onCheckedChange:x=>h({...m,profileVisible:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Afficher l'email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Rendre votre email visible sur votre profil"})]}),e.jsx(kt,{checked:m.showEmail,onCheckedChange:x=>h({...m,showEmail:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Afficher le tlphone"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Rendre votre numro visible sur votre profil"})]}),e.jsx(kt,{checked:m.showPhone,onCheckedChange:x=>h({...m,showPhone:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Autoriser les messages"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Permettre aux autres utilisateurs de vous contacter"})]}),e.jsx(kt,{checked:m.allowMessages,onCheckedChange:x=>h({...m,allowMessages:x})})]})]}),e.jsxs(E,{onClick:v,disabled:s,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),s?"Enregistrement...":"Enregistrer les paramtres"]})]})]})})]})]})})})},yt=({children:t,requiredRole:s})=>{const r=!!i1.getToken(),{data:n,isLoading:a}=dt(),i=wn();if(!r)return e.jsx(Xo,{to:"/login",state:{from:i},replace:!0});if(a)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vr,{className:"w-6 h-6 animate-spin text-green-600"}),e.jsx("span",{children:"Vrification de l'authentification..."})]})});if(!n)return e.jsx(Xo,{to:"/login",state:{from:i},replace:!0});if(s&&n.role_id!==s){const o=xv(n.role_id);return e.jsx(Xo,{to:o,replace:!0})}if(i.pathname==="/dashboard"){const o=xv(n.role_id);return e.jsx(Xo,{to:o,replace:!0})}return e.jsx(e.Fragment,{children:t})},xv=t=>{switch(t){case 1:return"/buyer/dashboard";case 2:return"/supplier/dashboard";case 3:return"/admin/dashboard";default:return"/"}},sO=()=>(u.useEffect(()=>{console.log("AuthErrorHandler: Vrification des tokens dsactive")},[]),null),kr=({children:t,redirectTo:s})=>{const r=Qs(),{data:n,isLoading:a}=dt();if(a)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vr,{className:"w-6 h-6 animate-spin text-green-600"}),e.jsx("span",{children:"Chargement..."})]})});if(r&&n){const i=rO(n.role_id);return e.jsx(Xo,{to:s||i,replace:!0})}return e.jsx(e.Fragment,{children:t})},rO=t=>{switch(t){case 1:return"/buyer/dashboard";case 2:return"/supplier/dashboard";case 3:return"/admin/dashboard";default:return"/"}};class nO{constructor(){this.listeners=[],this.pollingInterval=null}async getAllNotifications(){try{console.log(" [AdminNotificationService] Rcupration des notifications admin");const s=await H.get("/admin/notifications"),r=s.data||s;return r&&r.notifications&&Array.isArray(r.notifications)?r.notifications:Array.isArray(r)?r:[]}catch(s){return console.error(" [AdminNotificationService] Erreur rcupration notifications:",s),[]}}async getNotificationCounts(){try{console.log(" [AdminNotificationService] Rcupration des compteurs");const s=await H.get("/admin/notifications/counts");return s.data||s||{total:0,unread:0,byType:{user_management:0,product_management:0,system:0,order_management:0},byPriority:{low:0,medium:0,high:0,urgent:0}}}catch(s){return console.error(" [AdminNotificationService] Erreur rcupration compteurs:",s),{total:0,unread:0,byType:{user_management:0,product_management:0,system:0,order_management:0},byPriority:{low:0,medium:0,high:0,urgent:0}}}}async markAsRead(s){try{await H.patch(`/admin/notifications/${s}/read`),console.log(" [AdminNotificationService] Notification marque comme lue:",s)}catch(r){throw console.error(" [AdminNotificationService] Erreur marquage notification:",r),r}}async markAllAsRead(){try{await H.patch("/admin/notifications/mark-all-read"),console.log(" [AdminNotificationService] Toutes les notifications marques comme lues")}catch(s){throw console.error(" [AdminNotificationService] Erreur marquage toutes notifications:",s),s}}async deleteNotification(s){try{await H.delete(`/admin/notifications/${s}`),console.log(" [AdminNotificationService] Notification supprime:",s)}catch(r){throw console.error(" [AdminNotificationService] Erreur suppression notification:",r),r}}async deleteAllRead(){try{await H.delete("/admin/notifications/delete-read"),console.log(" [AdminNotificationService] Toutes les notifications lues supprimes")}catch(s){throw console.error(" [AdminNotificationService] Erreur suppression notifications lues:",s),s}}async getNotificationsByType(s){try{const r=await H.get(`/admin/notifications?type=${s}`);return r.data||r||[]}catch(r){return console.error(" [AdminNotificationService] Erreur rcupration par type:",r),[]}}async getNotificationsByPriority(s){try{const r=await H.get(`/admin/notifications?priority=${s}`);return r.data||r||[]}catch(r){return console.error(" [AdminNotificationService] Erreur rcupration par priorit:",r),[]}}async approveUser(s){try{await H.patch(`/admin/users/${s}/approve`),console.log(" [AdminNotificationService] Utilisateur approuv:",s)}catch(r){throw console.error(" [AdminNotificationService] Erreur approbation utilisateur:",r),r}}async suspendUser(s,r){try{await H.patch(`/admin/users/${s}/suspend`,{reason:r}),console.log(" [AdminNotificationService] Utilisateur suspendu:",s)}catch(n){throw console.error(" [AdminNotificationService] Erreur suspension utilisateur:",n),n}}async approveProduct(s){try{await H.patch(`/admin/products/${s}/approve`),console.log(" [AdminNotificationService] Produit approuv:",s)}catch(r){throw console.error(" [AdminNotificationService] Erreur approbation produit:",r),r}}async rejectProduct(s,r){try{await H.patch(`/admin/products/${s}/reject`,{reason:r}),console.log(" [AdminNotificationService] Produit rejet:",s)}catch(n){throw console.error(" [AdminNotificationService] Erreur rejet produit:",n),n}}addListener(s){return this.listeners.push(s),()=>{const r=this.listeners.indexOf(s);r>-1&&this.listeners.splice(r,1)}}notifyListeners(s){this.listeners.forEach(r=>r(s))}startPolling(s=3e4){return this.pollingInterval&&clearInterval(this.pollingInterval),this.pollingInterval=setInterval(async()=>{try{const r=await this.getNotificationCounts();this.notifyListeners(r)}catch(r){console.error(" [AdminNotificationService] Erreur polling:",r)}},s),this.pollingInterval}stopPolling(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null)}getNotificationIcon(s,r){switch(s){case"user_management":switch(r){case"new_user":return"";case"verification_request":return"";case"user_suspension":return"";case"user_report":return"";default:return""}case"product_management":switch(r){case"product_moderation":return"";case"product_report":return"";case"product_modification_request":return"";default:return""}case"system":switch(r){case"system_error":return"";case"security_alert":return"";case"performance_stats":return"";case"maintenance":return"";default:return""}case"order_management":return"";default:return""}}getPriorityColor(s){switch(s){case"urgent":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-blue-600 bg-blue-50 border-blue-200";case"low":return"text-gray-600 bg-gray-50 border-gray-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}}}const $t=new nO,aO=()=>{const[t,s]=u.useState([]),[r,n]=u.useState({total:0,unread:0,byType:{user_management:0,product_management:0,system:0,order_management:0},byPriority:{low:0,medium:0,high:0,urgent:0}}),[a,i]=u.useState(!1),[o,l]=u.useState(!1),[c,d]=u.useState(""),[f,m]=u.useState("all"),[h,j]=u.useState("all"),y=async()=>{try{l(!0);const[T,L]=await Promise.all([$t.getAllNotifications(),$t.getNotificationCounts()]);s(T),n(L)}catch(T){console.error("Erreur chargement notifications admin:",T),M.error("Erreur lors du chargement des notifications")}finally{l(!1)}},g=async T=>{try{await $t.markAsRead(T),await y(),M.success("Notification marque comme lue")}catch(L){console.error("Erreur marquage notification:",L),M.error("Erreur lors du marquage de la notification")}},N=async()=>{try{await $t.markAllAsRead(),await y(),M.success("Toutes les notifications marques comme lues")}catch(T){console.error("Erreur marquage toutes notifications:",T),M.error("Erreur lors du marquage des notifications")}},p=async T=>{try{await $t.deleteNotification(T),await y(),M.success("Notification supprime")}catch(L){console.error("Erreur suppression notification:",L),M.error("Erreur lors de la suppression de la notification")}},v=async()=>{try{await $t.deleteAllRead(),await y(),M.success("Notifications lues supprimes")}catch(T){console.error("Erreur suppression notifications lues:",T),M.error("Erreur lors de la suppression des notifications")}},x=async T=>{try{await $t.approveUser(T),await y(),M.success("Utilisateur approuv")}catch(L){console.error("Erreur approbation utilisateur:",L),M.error("Erreur lors de l'approbation de l'utilisateur")}},w=async(T,L)=>{try{await $t.suspendUser(T,L),await y(),M.success("Utilisateur suspendu")}catch(I){console.error("Erreur suspension utilisateur:",I),M.error("Erreur lors de la suspension de l'utilisateur")}},k=async T=>{try{await $t.approveProduct(T),await y(),M.success("Produit approuv")}catch(L){console.error("Erreur approbation produit:",L),M.error("Erreur lors de l'approbation du produit")}},S=async(T,L)=>{try{await $t.rejectProduct(T,L),await y(),M.success("Produit rejet")}catch(I){console.error("Erreur rejet produit:",I),M.error("Erreur lors du rejet du produit")}};u.useEffect(()=>{y();const T=$t.addListener(I=>{n(I)}),L=$t.startPolling(3e4);return()=>{T(),clearInterval(L)}},[]);const b=(Array.isArray(t)?t:[]).filter(T=>{const L=!c||T.title.toLowerCase().includes(c.toLowerCase())||T.message.toLowerCase().includes(c.toLowerCase()),I=f==="all"||T.type===f,O=h==="all"||T.priority===h;return L&&I&&O}),C=b.reduce((T,L)=>(T[L.type]||(T[L.type]=[]),T[L.type].push(L),T),{}),_=T=>{switch(T){case"user_management":return e.jsx(at,{className:"w-4 h-4"});case"product_management":return e.jsx(fe,{className:"w-4 h-4"});case"system":return e.jsx(Yt,{className:"w-4 h-4"});case"order_management":return e.jsx(zs,{className:"w-4 h-4"});default:return e.jsx(Jt,{className:"w-4 h-4"})}},P=T=>{switch(T){case"user_management":return"Gestion Utilisateurs";case"product_management":return"Gestion Produits";case"system":return"Systme";case"order_management":return"Gestion Commandes";default:return"Autres"}};return e.jsxs("div",{className:"relative",children:[e.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>i(!a),className:"relative",children:[e.jsx(Jt,{className:"w-5 h-5"}),r.unread>0&&e.jsx(U,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:r.unread>99?"99+":r.unread})]}),a&&e.jsxs($,{className:"absolute right-0 top-12 w-96 max-h-[600px] z-50 shadow-lg",children:[e.jsxs(K,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Y,{className:"text-lg",children:"Notifications Admin"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(E,{variant:"ghost",size:"sm",onClick:N,disabled:r.unread===0,children:[e.jsx(js,{className:"w-4 h-4 mr-1"}),"Tout marquer"]}),e.jsxs(E,{variant:"ghost",size:"sm",onClick:v,disabled:(Array.isArray(t)?t:[]).filter(T=>T.isRead).length===0,children:[e.jsx(Cs,{className:"w-4 h-4 mr-1"}),"Nettoyer"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ve,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(D,{placeholder:"Rechercher...",value:c,onChange:T=>d(T.target.value),className:"pl-8"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:f,onChange:T=>m(T.target.value),className:"px-3 py-1 text-sm border rounded-md",children:[e.jsx("option",{value:"all",children:"Tous les types"}),e.jsx("option",{value:"user_management",children:"Utilisateurs"}),e.jsx("option",{value:"product_management",children:"Produits"}),e.jsx("option",{value:"system",children:"Systme"}),e.jsx("option",{value:"order_management",children:"Commandes"})]}),e.jsxs("select",{value:h,onChange:T=>j(T.target.value),className:"px-3 py-1 text-sm border rounded-md",children:[e.jsx("option",{value:"all",children:"Toutes priorits"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"high",children:"leve"}),e.jsx("option",{value:"medium",children:"Moyenne"}),e.jsx("option",{value:"low",children:"Faible"})]})]})]})]}),e.jsx(q,{className:"p-0",children:o?e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Chargement..."})]}):b.length===0?e.jsxs("div",{className:"p-4 text-center",children:[e.jsx(Jt,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucune notification"})]}):e.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:e.jsxs(Kr,{defaultValue:"all",className:"w-full",children:[e.jsxs(br,{className:"grid w-full grid-cols-2",children:[e.jsxs(ke,{value:"all",children:["Toutes (",b.length,")"]}),e.jsxs(ke,{value:"unread",children:["Non lues (",r.unread,")"]})]}),e.jsx(Ee,{value:"all",className:"mt-0",children:Object.entries(C).map(([T,L])=>e.jsxs("div",{className:"border-b last:border-b-0",children:[e.jsxs("div",{className:"px-4 py-2 bg-muted/50 flex items-center gap-2 text-sm font-medium",children:[_(T),P(T)," (",L.length,")"]}),L.map(I=>e.jsx("div",{className:`p-4 border-b last:border-b-0 hover:bg-muted/30 transition-colors ${I.isRead?"":"bg-blue-50/50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-lg",children:$t.getNotificationIcon(I.type,I.category)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-medium truncate",children:I.title}),e.jsx(U,{variant:"outline",className:`text-xs ${$t.getPriorityColor(I.priority)}`,children:I.priority}),!I.isRead&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2 line-clamp-2",children:I.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(I.createdAt).toLocaleString("fr-FR")}),e.jsxs("div",{className:"flex items-center gap-1",children:[!I.isRead&&e.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>g(I.id),className:"h-6 px-2 text-xs",children:[e.jsx(js,{className:"w-3 h-3 mr-1"}),"Marquer lu"]}),e.jsxs(fr,{children:[e.jsx(xr,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:e.jsx(Ix,{className:"w-3 h-3"})})}),e.jsxs(Ws,{align:"end",children:[I.type==="user_management"&&I.userId&&e.jsxs(e.Fragment,{children:[e.jsxs(Ne,{onClick:()=>x(I.userId),children:[e.jsx(js,{className:"w-3 h-3 mr-2"}),"Approuver utilisateur"]}),e.jsxs(Ne,{onClick:()=>w(I.userId,"Raison non spcifie"),children:[e.jsx(Ae,{className:"w-3 h-3 mr-2"}),"Suspendre utilisateur"]})]}),I.type==="product_management"&&I.productId&&e.jsxs(e.Fragment,{children:[e.jsxs(Ne,{onClick:()=>k(I.productId),children:[e.jsx(js,{className:"w-3 h-3 mr-2"}),"Approuver produit"]}),e.jsxs(Ne,{onClick:()=>S(I.productId,"Raison non spcifie"),children:[e.jsx(Ae,{className:"w-3 h-3 mr-2"}),"Rejeter produit"]})]}),e.jsxs(Ne,{onClick:()=>p(I.id),children:[e.jsx(Cs,{className:"w-3 h-3 mr-2"}),"Supprimer"]})]})]})]})]})]})]})},I.id))]},T))}),e.jsx(Ee,{value:"unread",className:"mt-0",children:b.filter(T=>!T.isRead).length===0?e.jsxs("div",{className:"p-4 text-center",children:[e.jsx(js,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Toutes les notifications sont lues"})]}):b.filter(T=>!T.isRead).map(T=>e.jsx("div",{className:"p-4 border-b last:border-b-0 hover:bg-muted/30 transition-colors bg-blue-50/50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-lg",children:$t.getNotificationIcon(T.type,T.category)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-medium truncate",children:T.title}),e.jsx(U,{variant:"outline",className:`text-xs ${$t.getPriorityColor(T.priority)}`,children:T.priority}),e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2 line-clamp-2",children:T.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(T.createdAt).toLocaleString("fr-FR")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>g(T.id),className:"h-6 px-2 text-xs",children:[e.jsx(js,{className:"w-3 h-3 mr-1"}),"Marquer lu"]}),e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>p(T.id),className:"h-6 w-6 p-0",children:e.jsx(Cs,{className:"w-3 h-3"})})]})]})]})]})},T.id))})]})})})]})]})},uo=({children:t,activeTab:s,onTabChange:r})=>{const[n,a]=u.useState(!1),[i,o]=u.useState(""),{data:l}=dt(),c=Xr(),d=he(),{photoData:f}=ja(),m=()=>{c(),M.success("Dconnexion russie"),d("/admin/login")},h=g=>{if(g.preventDefault(),i.trim()){const N=i.trim();N.includes("@")||N.includes("email")?(d(`/admin/users?search=${encodeURIComponent(N)}`),M.info(`Recherche d'utilisateur: ${N}`)):(d(`/admin/users?search=${encodeURIComponent(N)}`),M.info(`Recherche: ${N}`)),o("")}},j=g=>{switch(g){case"overview":d("/admin/dashboard");break;case"users":d("/admin/users");break;case"analytics":d("/admin/dashboard"),r==null||r(g);break;case"settings":d("/admin/settings");break;default:r==null||r(g);break}a(!1)},y=[{key:"overview",label:"Vue d'ensemble",icon:gr,description:"Statistiques gnrales"},{key:"users",label:"Utilisateurs",icon:at,description:"Gestion des comptes"},{key:"analytics",label:"Analyses",icon:gr,description:"Rapports dtaills"},{key:"settings",label:"Paramtres",icon:Yt,description:"Configuration systme"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm fixed top-0 left-0 right-0 z-40",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(E,{variant:"ghost",size:"icon",className:"lg:hidden mr-2",onClick:()=>a(!n),children:e.jsx(Nu,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Yr,{size:"sm",showText:!1,onClick:()=>d("/admin/dashboard")}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Administration"}),e.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"GabMarketHub"})]})]})]}),e.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:e.jsxs("form",{onSubmit:h,className:"relative w-full",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(D,{value:i,onChange:g=>o(g.target.value),placeholder:"Rechercher utilisateurs...",className:"pl-10 pr-4 h-9 border-gray-300"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(aO,{}),e.jsxs(fr,{children:[e.jsx(xr,{asChild:!0,children:e.jsxs(E,{variant:"ghost",className:"flex items-center space-x-2",children:[e.jsx(So,{photoUrl:f==null?void 0:f.photo_profil,name:`${l==null?void 0:l.nom} ${l==null?void 0:l.prenom}`,size:"sm"}),e.jsx("span",{className:"hidden sm:block text-sm font-medium",children:(l==null?void 0:l.nom)||"Admin"})]})}),e.jsxs(Ws,{align:"end",className:"w-56",children:[e.jsxs("div",{className:"px-3 py-2 border-b",children:[e.jsx("p",{className:"text-sm font-medium",children:l==null?void 0:l.nom}),e.jsx("p",{className:"text-xs text-gray-500",children:l==null?void 0:l.email}),e.jsx(U,{className:"mt-1 bg-red-100 text-red-800 text-xs",children:"Administrateur"})]}),e.jsxs(Ne,{onClick:()=>d("/admin/profile"),children:[e.jsx($e,{className:"w-4 h-4 mr-2"}),"Mon profil"]}),e.jsxs(Ne,{onClick:()=>d("/admin/settings"),children:[e.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Paramtres"]}),e.jsx(sc,{}),e.jsxs(Ne,{onClick:m,className:"text-red-600",children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),"Se dconnecter"]})]})]})]})]})})}),e.jsxs("div",{className:"flex pt-16",children:[e.jsx("aside",{className:`
          fixed inset-y-0 left-0 z-30 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0
          ${n?"translate-x-0":"-translate-x-full"}
        `,children:e.jsxs("div",{className:"flex flex-col h-full pt-16 lg:pt-0",children:[e.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:y.map(g=>e.jsxs("button",{onClick:()=>j(g.key),className:`
                    w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors
                    ${s===g.key?"bg-red-50 text-red-700 border-r-2 border-red-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}
                  `,children:[e.jsx(g.icon,{className:"w-5 h-5 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{children:g.label}),e.jsx("div",{className:"text-xs text-gray-500",children:g.description})]})]},g.key))}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[e.jsx("p",{children:"GabMarketHub Admin"}),e.jsx("p",{children:"Version 1.0.0"})]})})]})}),n&&e.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-50 lg:hidden",onClick:()=>a(!1)}),e.jsx("main",{className:"flex-1 lg:ml-0 min-h-screen",children:e.jsx("div",{className:"p-6 max-h-screen overflow-y-auto",children:t})})]})]})},pv=()=>{const[t,s]=u.useState("overview"),[r,n]=u.useState(null),[a,i]=u.useState(!0);he(),u.useEffect(()=>{o()},[]);const o=async()=>{try{i(!0),console.log(" Rcupration des statistiques admin...");const d=localStorage.getItem("authToken");console.log("Token prsent:",!!d);const f=await H.get("/admin/stats");console.log(" Statistiques reues:",f),n(f)}catch(d){console.error(" Erreur chargement donnes admin:",d),console.error("Dtails de l'erreur:",d),M.error("Erreur lors du chargement des donnes")}finally{i(!1)}},l=()=>r?[{title:"Fournisseurs actifs",value:r.total_fournisseurs.toString(),change:"Partenaires vrifis",icon:Ue,color:"text-green-600",action:()=>s("suppliers")},{title:"Acheteurs",value:r.total_acheteurs.toString(),change:"Clients enregistrs",icon:at,color:"text-purple-600",action:()=>s("buyers")}]:[];if(a)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement du tableau de bord..."})]})});const c=d=>{s(d)};return e.jsx(uo,{activeTab:t,onTabChange:c,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tableau de bord administrateur"}),e.jsx("p",{className:"text-gray-600",children:"Supervision de la plateforme et gestion des utilisateurs"})]}),t==="overview"&&e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l().map((d,f)=>e.jsx($,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:d.action,children:e.jsxs(q,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-2 rounded-lg bg-gray-50",children:e.jsx(d.icon,{className:`w-6 h-6 ${d.color}`})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:d.value}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:d.title}),e.jsx("p",{className:"text-xs text-gray-500",children:d.change})]})]})},f))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[e.jsx($,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{window.location.href="/user-type"},children:e.jsxs(q,{className:"p-6 text-center",children:[e.jsx(at,{className:"w-8 h-8 text-blue-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Nouvel utilisateur"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Crer un compte fournisseur ou acheteur"})]})}),e.jsx($,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>s("analytics"),children:e.jsxs(q,{className:"p-6 text-center",children:[e.jsx(gr,{className:"w-8 h-8 text-purple-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Voir analyses"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Rapports et statistiques"})]})})]})]}),t==="analytics"&&e.jsx("div",{className:"space-y-6",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(gr,{className:"w-5 h-5"}),"Rapport d'analyse complet"]})}),e.jsxs(q,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:r?r.total_fournisseurs:0}),e.jsx("div",{className:"text-sm text-green-800",children:"Fournisseurs actifs"}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Partenaires vrifis"})]}),e.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:r?r.total_acheteurs:0}),e.jsx("div",{className:"text-sm text-purple-800",children:"Acheteurs enregistrs"}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"Clients de la plateforme"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{className:"text-lg",children:"Statistiques utilisateurs"})}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Total utilisateurs"}),e.jsx("span",{className:"font-bold text-green-600",children:r?r.total_fournisseurs+r.total_acheteurs:0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Fournisseurs"}),e.jsx("span",{className:"font-bold text-blue-600",children:r?r.total_fournisseurs:0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Acheteurs"}),e.jsx("span",{className:"font-bold text-purple-600",children:r?r.total_acheteurs:0})]})]})})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{className:"text-lg",children:"Activit de la plateforme"})}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Plateforme active"}),e.jsx("span",{className:"font-bold text-green-600",children:""})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Gestion des documents"}),e.jsx("span",{className:"font-bold text-blue-600",children:""})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Validation des fournisseurs"}),e.jsx("span",{className:"font-bold text-purple-600",children:""})]})]})})]})]})]})]})})]})})},iO=()=>{const[t,s]=u.useState({email:"",mot_de_passe:""}),[r,n]=u.useState(!1),[a,i]=u.useState(!1),[o,l]=u.useState(""),c=he(),d=fp(),f=async h=>{h.preventDefault(),i(!0),l("");try{if((await d(t)).data.user.role_id!==3){l("Accs refus. Seuls les administrateurs peuvent accder  cette page.");return}M.success("Connexion administrateur russie"),c("/admin/dashboard")}catch(j){l(j.message||"Erreur de connexion"),M.error("Erreur de connexion")}finally{i(!1)}},m=h=>{s({...t,[h.target.name]:h.target.value})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(Yr,{size:"xl",showText:!1,onClick:()=>c("/")})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Administration"}),e.jsx("p",{className:"text-gray-600",children:"Accs rserv aux administrateurs"})]}),e.jsxs($,{className:"shadow-xl border-0",children:[e.jsx(K,{className:"space-y-1 pb-6",children:e.jsx(Y,{className:"text-2xl text-center text-gray-900",children:"Connexion Admin"})}),e.jsxs(q,{children:[e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o&&e.jsxs(ms,{className:"border-red-200 bg-red-50",children:[e.jsx(ft,{className:"h-4 w-4 text-red-600"}),e.jsx(hs,{className:"text-red-800",children:o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email administrateur"}),e.jsx(D,{id:"email",name:"email",type:"email",value:t.email,onChange:m,placeholder:"admin@gabmarkethub.com",required:!0,className:"h-12"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"mot_de_passe",className:"text-sm font-medium text-gray-700",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{id:"mot_de_passe",name:"mot_de_passe",type:r?"text":"password",value:t.mot_de_passe,onChange:m,placeholder:"Votre mot de passe",required:!0,className:"h-12 pr-12"}),e.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:r?e.jsx(Bs,{className:"w-5 h-5"}):e.jsx(Oe,{className:"w-5 h-5"})})]})]}),e.jsx(E,{type:"submit",className:"w-full h-12 bg-red-600 hover:bg-red-700 text-white font-medium",disabled:a,children:a?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Connexion..."]}):"Se connecter"})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Compte de test (dveloppement)"}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," admin@gabmarkethub.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Mot de passe:"})," Admin123!"]}),e.jsx("p",{className:"text-red-600 mt-2",children:" Changez ces identifiants en production !"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(Br,{to:"/",className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:" Retour  l'accueil"})})]})]}),e.jsxs("div",{className:"text-center mt-8 text-sm text-gray-500",children:[e.jsx("p",{children:"GabMarketHub - Administration"}),e.jsx("p",{children:"Accs scuris et surveill"})]})]})})};var Tp="Dialog",[w2]=Wr(Tp),[oO,Nr]=w2(Tp),C2=t=>{const{__scopeDialog:s,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,l=u.useRef(null),c=u.useRef(null),[d=!1,f]=ia({prop:n,defaultProp:a,onChange:i});return e.jsx(oO,{scope:s,triggerRef:l,contentRef:c,contentId:qr(),titleId:qr(),descriptionId:qr(),open:d,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(m=>!m),[f]),modal:o,children:r})};C2.displayName=Tp;var S2="DialogTrigger",lO=u.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=Nr(S2,r),i=Ce(s,a.triggerRef);return e.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Mp(a.open),...n,ref:i,onClick:se(t.onClick,a.onOpenToggle)})});lO.displayName=S2;var Rp="DialogPortal",[cO,_2]=w2(Rp,{forceMount:void 0}),k2=t=>{const{__scopeDialog:s,forceMount:r,children:n,container:a}=t,i=Nr(Rp,s);return e.jsx(cO,{scope:s,forceMount:r,children:u.Children.map(n,o=>e.jsx(ts,{present:r||i.open,children:e.jsx(Kl,{asChild:!0,container:a,children:o})}))})};k2.displayName=Rp;var eu="DialogOverlay",E2=u.forwardRef((t,s)=>{const r=_2(eu,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=Nr(eu,t.__scopeDialog);return i.modal?e.jsx(ts,{present:n||i.open,children:e.jsx(dO,{...a,ref:s})}):null});E2.displayName=eu;var dO=u.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=Nr(eu,r);return e.jsx(Iu,{as:aa,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(me.div,{"data-state":Mp(a.open),...n,ref:s,style:{pointerEvents:"auto",...n.style}})})}),Ya="DialogContent",P2=u.forwardRef((t,s)=>{const r=_2(Ya,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=Nr(Ya,t.__scopeDialog);return e.jsx(ts,{present:n||i.open,children:i.modal?e.jsx(uO,{...a,ref:s}):e.jsx(mO,{...a,ref:s})})});P2.displayName=Ya;var uO=u.forwardRef((t,s)=>{const r=Nr(Ya,t.__scopeDialog),n=u.useRef(null),a=Ce(s,r.contentRef,n);return u.useEffect(()=>{const i=n.current;if(i)return np(i)},[]),e.jsx(T2,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault())})}),mO=u.forwardRef((t,s)=>{const r=Nr(Ya,t.__scopeDialog),n=u.useRef(!1),a=u.useRef(!1);return e.jsx(T2,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),T2=u.forwardRef((t,s)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,l=Nr(Ya,r),c=u.useRef(null),d=Ce(s,c);return rp(),e.jsxs(e.Fragment,{children:[e.jsx(Tu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(xo,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Mp(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(hO,{titleId:l.titleId}),e.jsx(xO,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ap="DialogTitle",R2=u.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=Nr(Ap,r);return e.jsx(me.h2,{id:a.titleId,...n,ref:s})});R2.displayName=Ap;var A2="DialogDescription",M2=u.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=Nr(A2,r);return e.jsx(me.p,{id:a.descriptionId,...n,ref:s})});M2.displayName=A2;var I2="DialogClose",L2=u.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=Nr(I2,r);return e.jsx(me.button,{type:"button",...n,ref:s,onClick:se(t.onClick,()=>a.onOpenChange(!1))})});L2.displayName=I2;function Mp(t){return t?"open":"closed"}var D2="DialogTitleWarning",[BF,O2]=T_(D2,{contentName:Ya,titleName:Ap,docsSlug:"dialog"}),hO=({titleId:t})=>{const s=O2(D2),r=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return u.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},fO="DialogDescriptionWarning",xO=({contentRef:t,descriptionId:s})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${O2(fO).contentName}}.`;return u.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(n))},[n,t,s]),null},pO=C2,gO=k2,F2=E2,z2=P2,$2=R2,q2=M2,vO=L2;const Qa=pO,jO=gO,B2=u.forwardRef(({className:t,...s},r)=>e.jsx(F2,{ref:r,className:ie("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));B2.displayName=F2.displayName;const ma=u.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(jO,{children:[e.jsx(B2,{}),e.jsxs(z2,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[s,e.jsxs(vO,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ae,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ma.displayName=z2.displayName;const ha=({className:t,...s})=>e.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});ha.displayName="DialogHeader";const fa=u.forwardRef(({className:t,...s},r)=>e.jsx($2,{ref:r,className:ie("text-lg font-semibold leading-none tracking-tight",t),...s}));fa.displayName=$2.displayName;const Ja=u.forwardRef(({className:t,...s},r)=>e.jsx(q2,{ref:r,className:ie("text-sm text-muted-foreground",t),...s}));Ja.displayName=q2.displayName;const gv=t=>{if(!t)return"Non disponible";try{const s=new Date(t);return isNaN(s.getTime())?"Date invalide":s.toLocaleDateString("fr-FR")}catch{return"Date invalide"}},yO=({userId:t,isOpen:s,onClose:r})=>{var f;const[n,a]=u.useState(null),[i,o]=u.useState(!1);u.useEffect(()=>{t&&s&&l()},[t,s]);const l=async()=>{try{o(!0),console.log(" Chargement dtails utilisateur ID:",t);const m=await H.get(`/admin/users/${t}`);console.log(" Dtails utilisateur reus:",m),console.log(" Date cration:",m.date_creation),console.log(" Date inscription:",m.date_inscription),console.log(" Dernire connexion:",m.derniere_connexion),a(m)}catch(m){console.error(" Erreur chargement dtails utilisateur:",m);const h=m instanceof Error?m.message:"Erreur inconnue";h.includes("404")?M.error("Utilisateur non trouv"):h.includes("500")?M.error("Erreur serveur lors du chargement des dtails"):M.error("Erreur lors du chargement des dtails"),r()}finally{o(!1)}},c=(m,h)=>{switch(m){case 1:return e.jsxs(U,{className:"bg-blue-100 text-blue-800",children:[e.jsx(we,{className:"w-3 h-3 mr-1"}),"Acheteur"]});case 2:return e.jsxs(U,{className:"bg-green-100 text-green-800",children:[e.jsx(Ue,{className:"w-3 h-3 mr-1"}),"Fournisseur"]});case 3:return e.jsxs(U,{className:"bg-purple-100 text-purple-800",children:[e.jsx($e,{className:"w-3 h-3 mr-1"}),"Admin"]});default:return e.jsx(U,{className:"bg-gray-100 text-gray-800",children:h})}},d=m=>{switch(m){case"actif":return e.jsxs(U,{className:"bg-green-100 text-green-800",children:[e.jsx(ye,{className:"w-3 h-3 mr-1"}),"Actif"]});case"suspendu":return e.jsxs(U,{className:"bg-red-100 text-red-800",children:[e.jsx(ks,{className:"w-3 h-3 mr-1"}),"Suspendu"]});case"inactif":return e.jsxs(U,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Inactif"]});default:return e.jsx(U,{className:"bg-gray-100 text-gray-800",children:m})}};return i?e.jsx(Qa,{open:s,onOpenChange:r,children:e.jsxs(ma,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ha,{children:[e.jsx(fa,{children:"Chargement des dtails utilisateur"}),e.jsx(Ja,{children:"Rcupration des informations en cours..."})]}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des dtails..."})]})})]})}):!t||!n?null:e.jsx(Qa,{open:s,onOpenChange:r,children:e.jsxs(ma,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ha,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(fa,{className:"text-2xl font-bold",children:["Dtails de l'utilisateur #",n.id]}),e.jsxs(Ja,{children:["Informations compltes de l'utilisateur ",n.prenom," ",n.nom]})]}),e.jsx(E,{variant:"ghost",size:"icon",onClick:r,children:e.jsx(Ae,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-5 h-5"}),"Informations personnelles"]})}),e.jsx(q,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Identit"}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxs(ic,{className:"w-16 h-16",children:[e.jsx(Cp,{src:n.photo_profil?`https://back-gabonmarquethub.onrender.com${n.photo_profil}`:void 0,alt:`${n.prenom} ${n.nom}`}),e.jsx(oc,{className:"bg-gray-200",children:e.jsx(we,{className:"w-8 h-8 text-gray-600"})})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-medium",children:[n.prenom," ",n.nom]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[c(n.role_id,n.role_nom),d(n.statut)]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Contact"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:n.email}),n.email_verified&&e.jsx(ye,{className:"w-4 h-4 text-green-500"})]}),n.telephone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ws,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:n.telephone}),n.phone_verified&&e.jsx(ye,{className:"w-4 h-4 text-green-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Dates importantes"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:["Inscrit le ",gv(n.date_creation||n.date_inscription)]})]}),n.derniere_connexion&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Tt,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:["Dernire connexion: ",gv(n.derniere_connexion)]})]})]})]})]})})]}),n.statut==="suspendu"&&e.jsxs($,{className:"border-red-200 bg-red-50",children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2 text-red-800",children:[e.jsx(ks,{className:"w-5 h-5"}),"Informations de suspension"]})}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-2",children:[n.suspended_at&&e.jsxs("p",{children:[e.jsx("strong",{children:"Date de suspension:"})," ",new Date(n.suspended_at).toLocaleDateString("fr-FR")]}),n.suspension_reason&&e.jsxs("p",{children:[e.jsx("strong",{children:"Raison:"})," ",n.suspension_reason]})]})})]}),n.role_id===2&&n.entreprise&&e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-5 h-5"}),"Informations entreprise"]})}),e.jsxs(q,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Entreprise"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Nom:"})," ",n.entreprise.nom_entreprise]}),n.entreprise.secteur_activite&&e.jsxs("p",{children:[e.jsx("strong",{children:"Secteur:"})," ",n.entreprise.secteur_activite]}),n.entreprise.annee_creation&&e.jsxs("p",{children:[e.jsx("strong",{children:"Anne de cration:"})," ",n.entreprise.annee_creation]}),n.entreprise.nombre_employes&&e.jsxs("p",{children:[e.jsx("strong",{children:"Nombre d'employs:"})," ",n.entreprise.nombre_employes]}),n.entreprise.site_web&&e.jsxs("p",{children:[e.jsx("strong",{children:"Site web:"}),e.jsx("a",{href:n.entreprise.site_web,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline ml-1",children:n.entreprise.site_web})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Adresse"}),e.jsxs("div",{className:"space-y-1",children:[n.entreprise.adresse_ligne1&&e.jsx("p",{children:n.entreprise.adresse_ligne1}),n.entreprise.adresse_ligne2&&e.jsx("p",{children:n.entreprise.adresse_ligne2}),(n.entreprise.code_postal||n.entreprise.ville)&&e.jsxs("p",{children:[n.entreprise.code_postal," ",n.entreprise.ville]}),n.entreprise.pays&&e.jsx("p",{children:n.entreprise.pays}),n.entreprise.telephone_professionnel&&e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(ws,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{children:n.entreprise.telephone_professionnel})]})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informations lgales"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.entreprise.numero_siret&&e.jsxs("p",{children:[e.jsx("strong",{children:"SIRET:"})," ",n.entreprise.numero_siret]}),n.entreprise.numero_registre_commerce&&e.jsxs("p",{children:[e.jsx("strong",{children:"RC:"})," ",n.entreprise.numero_registre_commerce]}),n.entreprise.numero_tva&&e.jsxs("p",{children:[e.jsx("strong",{children:"TVA:"})," ",n.entreprise.numero_tva]})]})]}),(n.entreprise.nom_banque||n.entreprise.iban)&&e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(jb,{className:"w-4 h-4"}),"Informations bancaires"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.entreprise.nom_banque&&e.jsxs("p",{children:[e.jsx("strong",{children:"Banque:"})," ",n.entreprise.nom_banque]}),n.entreprise.nom_titulaire_compte&&e.jsxs("p",{children:[e.jsx("strong",{children:"Titulaire:"})," ",n.entreprise.nom_titulaire_compte]}),n.entreprise.iban&&e.jsxs("p",{children:[e.jsx("strong",{children:"IBAN:"})," ****",n.entreprise.iban.slice(-4)]}),n.entreprise.bic_swift&&e.jsxs("p",{children:[e.jsx("strong",{children:"BIC/SWIFT:"})," ",n.entreprise.bic_swift]})]})]})]})]}),n.stats&&e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{children:"Statistiques d'activit"})}),e.jsx(q,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.stats.nombre_commandes}),e.jsx("div",{className:"text-sm text-blue-800",children:"Commandes"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[(f=n.stats.montant_total_commandes)==null?void 0:f.toLocaleString()," FCFA"]}),e.jsx("div",{className:"text-sm text-green-800",children:"Montant total"})]}),n.role_id===2&&e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n.stats.nombre_produits}),e.jsx("div",{className:"text-sm text-purple-800",children:"Produits"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-yellow-800",children:"Dernire activit"}),e.jsx("div",{className:"text-xs text-yellow-600",children:n.stats.derniere_activite?new Date(n.stats.derniere_activite).toLocaleDateString("fr-FR"):"Aucune"})]})]})})]}),n.notes_admin&&e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5"}),"Notes administratives"]})}),e.jsx(q,{children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:n.notes_admin})})]})]})]})})};function V2(t){const s=u.useRef({value:t,previous:t});return u.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var bO=[" ","Enter","ArrowUp","ArrowDown"],NO=[" ","Enter"],lc="Select",[Hu,Wu,wO]=Xl(lc),[ko]=Wr(lc,[wO,yo]),Gu=yo(),[CO,ya]=ko(lc),[SO,_O]=ko(lc),U2=t=>{const{__scopeSelect:s,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:m,disabled:h,required:j,form:y}=t,g=Gu(s),[N,p]=u.useState(null),[v,x]=u.useState(null),[w,k]=u.useState(!1),S=Co(d),[b=!1,C]=ia({prop:n,defaultProp:a,onChange:i}),[_,P]=ia({prop:o,defaultProp:l,onChange:c}),T=u.useRef(null),L=N?y||!!N.closest("form"):!0,[I,O]=u.useState(new Set),X=Array.from(I).map(A=>A.props.value).join(";");return e.jsx(tN,{...g,children:e.jsxs(CO,{required:j,scope:s,trigger:N,onTriggerChange:p,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:w,onValueNodeHasChildrenChange:k,contentId:qr(),value:_,onValueChange:P,open:b,onOpenChange:C,dir:S,triggerPointerDownPosRef:T,disabled:h,children:[e.jsx(Hu.Provider,{scope:s,children:e.jsx(SO,{scope:t.__scopeSelect,onNativeOptionAdd:u.useCallback(A=>{O(B=>new Set(B).add(A))},[]),onNativeOptionRemove:u.useCallback(A=>{O(B=>{const R=new Set(B);return R.delete(A),R})},[]),children:r})}),L?e.jsxs(xC,{"aria-hidden":!0,required:j,tabIndex:-1,name:f,autoComplete:m,value:_,onChange:A=>P(A.target.value),disabled:h,form:y,children:[_===void 0?e.jsx("option",{value:""}):null,Array.from(I)]},X):null]})})};U2.displayName=lc;var H2="SelectTrigger",W2=u.forwardRef((t,s)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=Gu(r),o=ya(H2,r),l=o.disabled||n,c=Ce(s,o.onTriggerChange),d=Wu(r),f=u.useRef("touch"),[m,h,j]=pC(g=>{const N=d().filter(x=>!x.disabled),p=N.find(x=>x.value===o.value),v=gC(N,g,p);v!==void 0&&o.onValueChange(v.value)}),y=g=>{l||(o.onOpenChange(!0),j()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return e.jsx(Ux,{asChild:!0,...i,children:e.jsx(me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":fC(o.value)?"":void 0,...a,ref:c,onClick:se(a.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&y(g)}),onPointerDown:se(a.onPointerDown,g=>{f.current=g.pointerType;const N=g.target;N.hasPointerCapture(g.pointerId)&&N.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:se(a.onKeyDown,g=>{const N=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(N&&g.key===" ")&&bO.includes(g.key)&&(y(),g.preventDefault())})})})});W2.displayName=H2;var G2="SelectValue",X2=u.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=t,c=ya(G2,r),{onValueNodeHasChildrenChange:d}=c,f=i!==void 0,m=Ce(s,c.onValueNodeChange);return St(()=>{d(f)},[d,f]),e.jsx(me.span,{...l,ref:m,style:{pointerEvents:"none"},children:fC(c.value)?e.jsx(e.Fragment,{children:o}):i})});X2.displayName=G2;var kO="SelectIcon",K2=u.forwardRef((t,s)=>{const{__scopeSelect:r,children:n,...a}=t;return e.jsx(me.span,{"aria-hidden":!0,...a,ref:s,children:n||""})});K2.displayName=kO;var EO="SelectPortal",Y2=t=>e.jsx(Kl,{asChild:!0,...t});Y2.displayName=EO;var Za="SelectContent",Q2=u.forwardRef((t,s)=>{const r=ya(Za,t.__scopeSelect),[n,a]=u.useState();if(St(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?si.createPortal(e.jsx(J2,{scope:t.__scopeSelect,children:e.jsx(Hu.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(Z2,{...t,ref:s})});Q2.displayName=Za;var rr=10,[J2,ba]=ko(Za),PO="SelectContentImpl",Z2=u.forwardRef((t,s)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:h,collisionPadding:j,sticky:y,hideWhenDetached:g,avoidCollisions:N,...p}=t,v=ya(Za,r),[x,w]=u.useState(null),[k,S]=u.useState(null),b=Ce(s,V=>w(V)),[C,_]=u.useState(null),[P,T]=u.useState(null),L=Wu(r),[I,O]=u.useState(!1),X=u.useRef(!1);u.useEffect(()=>{if(x)return np(x)},[x]),rp();const A=u.useCallback(V=>{const[ne,...pe]=L().map(ge=>ge.ref.current),[oe]=pe.slice(-1),ve=document.activeElement;for(const ge of V)if(ge===ve||(ge==null||ge.scrollIntoView({block:"nearest"}),ge===ne&&k&&(k.scrollTop=0),ge===oe&&k&&(k.scrollTop=k.scrollHeight),ge==null||ge.focus(),document.activeElement!==ve))return},[L,k]),B=u.useCallback(()=>A([C,x]),[A,C,x]);u.useEffect(()=>{I&&B()},[I,B]);const{onOpenChange:R,triggerPointerDownPosRef:F}=v;u.useEffect(()=>{if(x){let V={x:0,y:0};const ne=oe=>{var ve,ge;V={x:Math.abs(Math.round(oe.pageX)-(((ve=F.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((ge=F.current)==null?void 0:ge.y)??0))}},pe=oe=>{V.x<=10&&V.y<=10?oe.preventDefault():x.contains(oe.target)||R(!1),document.removeEventListener("pointermove",ne),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",pe,{capture:!0})}}},[x,R,F]),u.useEffect(()=>{const V=()=>R(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[R]);const[J,G]=pC(V=>{const ne=L().filter(ve=>!ve.disabled),pe=ne.find(ve=>ve.ref.current===document.activeElement),oe=gC(ne,V,pe);oe&&setTimeout(()=>oe.ref.current.focus())}),te=u.useCallback((V,ne,pe)=>{const oe=!X.current&&!pe;(v.value!==void 0&&v.value===ne||oe)&&(_(V),oe&&(X.current=!0))},[v.value]),Q=u.useCallback(()=>x==null?void 0:x.focus(),[x]),ae=u.useCallback((V,ne,pe)=>{const oe=!X.current&&!pe;(v.value!==void 0&&v.value===ne||oe)&&T(V)},[v.value]),ue=n==="popper"?Sf:eC,de=ue===Sf?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:h,collisionPadding:j,sticky:y,hideWhenDetached:g,avoidCollisions:N}:{};return e.jsx(J2,{scope:r,content:x,viewport:k,onViewportChange:S,itemRefCallback:te,selectedItem:C,onItemLeave:Q,itemTextRefCallback:ae,focusSelectedItem:B,selectedItemText:P,position:n,isPositioned:I,searchRef:J,children:e.jsx(Iu,{as:aa,allowPinchZoom:!0,children:e.jsx(Tu,{asChild:!0,trapped:v.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:se(a,V=>{var ne;(ne=v.trigger)==null||ne.focus({preventScroll:!0}),V.preventDefault()}),children:e.jsx(xo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:e.jsx(ue,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:V=>V.preventDefault(),...p,...de,onPlaced:()=>O(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:se(p.onKeyDown,V=>{const ne=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!ne&&V.key.length===1&&G(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let oe=L().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(V.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const ve=V.target,ge=oe.indexOf(ve);oe=oe.slice(ge+1)}setTimeout(()=>A(oe)),V.preventDefault()}})})})})})})});Z2.displayName=PO;var TO="SelectItemAlignedPosition",eC=u.forwardRef((t,s)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=ya(Za,r),o=ba(Za,r),[l,c]=u.useState(null),[d,f]=u.useState(null),m=Ce(s,b=>f(b)),h=Wu(r),j=u.useRef(!1),y=u.useRef(!0),{viewport:g,selectedItem:N,selectedItemText:p,focusSelectedItem:v}=o,x=u.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&N&&p){const b=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),P=p.getBoundingClientRect();if(i.dir!=="rtl"){const ve=P.left-C.left,ge=_.left-ve,_t=b.left-ge,Ot=b.width+_t,Zs=Math.max(Ot,C.width),Wt=window.innerWidth-rr,wr=Fl(ge,[rr,Math.max(rr,Wt-Zs)]);l.style.minWidth=Ot+"px",l.style.left=wr+"px"}else{const ve=C.right-P.right,ge=window.innerWidth-_.right-ve,_t=window.innerWidth-b.right-ge,Ot=b.width+_t,Zs=Math.max(Ot,C.width),Wt=window.innerWidth-rr,wr=Fl(ge,[rr,Math.max(rr,Wt-Zs)]);l.style.minWidth=Ot+"px",l.style.right=wr+"px"}const T=h(),L=window.innerHeight-rr*2,I=g.scrollHeight,O=window.getComputedStyle(d),X=parseInt(O.borderTopWidth,10),A=parseInt(O.paddingTop,10),B=parseInt(O.borderBottomWidth,10),R=parseInt(O.paddingBottom,10),F=X+A+I+R+B,J=Math.min(N.offsetHeight*5,F),G=window.getComputedStyle(g),te=parseInt(G.paddingTop,10),Q=parseInt(G.paddingBottom,10),ae=b.top+b.height/2-rr,ue=L-ae,de=N.offsetHeight/2,V=N.offsetTop+de,ne=X+A+V,pe=F-ne;if(ne<=ae){const ve=T.length>0&&N===T[T.length-1].ref.current;l.style.bottom="0px";const ge=d.clientHeight-g.offsetTop-g.offsetHeight,_t=Math.max(ue,de+(ve?Q:0)+ge+B),Ot=ne+_t;l.style.height=Ot+"px"}else{const ve=T.length>0&&N===T[0].ref.current;l.style.top="0px";const _t=Math.max(ae,X+g.offsetTop+(ve?te:0)+de)+pe;l.style.height=_t+"px",g.scrollTop=ne-ae+g.offsetTop}l.style.margin=`${rr}px 0`,l.style.minHeight=J+"px",l.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>j.current=!0)}},[h,i.trigger,i.valueNode,l,d,g,N,p,i.dir,n]);St(()=>x(),[x]);const[w,k]=u.useState();St(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const S=u.useCallback(b=>{b&&y.current===!0&&(x(),v==null||v(),y.current=!1)},[x,v]);return e.jsx(AO,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:j,onScrollButtonChange:S,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:e.jsx(me.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});eC.displayName=TO;var RO="SelectPopperPosition",Sf=u.forwardRef((t,s)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=rr,...i}=t,o=Gu(r);return e.jsx(Hx,{...o,...i,ref:s,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sf.displayName=RO;var[AO,Ip]=ko(Za,{}),_f="SelectViewport",tC=u.forwardRef((t,s)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=ba(_f,r),o=Ip(_f,r),l=Ce(s,i.onViewportChange),c=u.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(Hu.Slot,{scope:r,children:e.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:se(a.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&m){const j=Math.abs(c.current-f.scrollTop);if(j>0){const y=window.innerHeight-rr*2,g=parseFloat(m.style.minHeight),N=parseFloat(m.style.height),p=Math.max(g,N);if(p<y){const v=p+j,x=Math.min(y,v),w=v-x;m.style.height=x+"px",m.style.bottom==="0px"&&(f.scrollTop=w>0?w:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});tC.displayName=_f;var sC="SelectGroup",[MO,IO]=ko(sC),LO=u.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=qr();return e.jsx(MO,{scope:r,id:a,children:e.jsx(me.div,{role:"group","aria-labelledby":a,...n,ref:s})})});LO.displayName=sC;var rC="SelectLabel",nC=u.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=IO(rC,r);return e.jsx(me.div,{id:a.id,...n,ref:s})});nC.displayName=rC;var tu="SelectItem",[DO,aC]=ko(tu),iC=u.forwardRef((t,s)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=t,l=ya(tu,r),c=ba(tu,r),d=l.value===n,[f,m]=u.useState(i??""),[h,j]=u.useState(!1),y=Ce(s,v=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,v,n,a)}),g=qr(),N=u.useRef("touch"),p=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(DO,{scope:r,value:n,disabled:a,textId:g,isSelected:d,onItemTextChange:u.useCallback(v=>{m(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:e.jsx(Hu.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:e.jsx(me.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:se(o.onFocus,()=>j(!0)),onBlur:se(o.onBlur,()=>j(!1)),onClick:se(o.onClick,()=>{N.current!=="mouse"&&p()}),onPointerUp:se(o.onPointerUp,()=>{N.current==="mouse"&&p()}),onPointerDown:se(o.onPointerDown,v=>{N.current=v.pointerType}),onPointerMove:se(o.onPointerMove,v=>{var x;N.current=v.pointerType,a?(x=c.onItemLeave)==null||x.call(c):N.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(o.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:se(o.onKeyDown,v=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&v.key===" "||(NO.includes(v.key)&&p(),v.key===" "&&v.preventDefault())})})})})});iC.displayName=tu;var Qo="SelectItemText",oC=u.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,o=ya(Qo,r),l=ba(Qo,r),c=aC(Qo,r),d=_O(Qo,r),[f,m]=u.useState(null),h=Ce(s,p=>m(p),c.onItemTextChange,p=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,p,c.value,c.disabled)}),j=f==null?void 0:f.textContent,y=u.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:j},c.value),[c.disabled,c.value,j]),{onNativeOptionAdd:g,onNativeOptionRemove:N}=d;return St(()=>(g(y),()=>N(y)),[g,N,y]),e.jsxs(e.Fragment,{children:[e.jsx(me.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?si.createPortal(i.children,o.valueNode):null]})});oC.displayName=Qo;var lC="SelectItemIndicator",cC=u.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return aC(lC,r).isSelected?e.jsx(me.span,{"aria-hidden":!0,...n,ref:s}):null});cC.displayName=lC;var kf="SelectScrollUpButton",dC=u.forwardRef((t,s)=>{const r=ba(kf,t.__scopeSelect),n=Ip(kf,t.__scopeSelect),[a,i]=u.useState(!1),o=Ce(s,n.onScrollButtonChange);return St(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?e.jsx(mC,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});dC.displayName=kf;var Ef="SelectScrollDownButton",uC=u.forwardRef((t,s)=>{const r=ba(Ef,t.__scopeSelect),n=Ip(Ef,t.__scopeSelect),[a,i]=u.useState(!1),o=Ce(s,n.onScrollButtonChange);return St(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;i(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?e.jsx(mC,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});uC.displayName=Ef;var mC=u.forwardRef((t,s)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=ba("SelectScrollButton",r),o=u.useRef(null),l=Wu(r),c=u.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),St(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),e.jsx(me.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:se(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:se(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:se(a.onPointerLeave,()=>{c()})})}),OO="SelectSeparator",hC=u.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return e.jsx(me.div,{"aria-hidden":!0,...n,ref:s})});hC.displayName=OO;var Pf="SelectArrow",FO=u.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=Gu(r),i=ya(Pf,r),o=ba(Pf,r);return i.open&&o.position==="popper"?e.jsx(Wx,{...a,...n,ref:s}):null});FO.displayName=Pf;function fC(t){return t===""||t===void 0}var xC=u.forwardRef((t,s)=>{const{value:r,...n}=t,a=u.useRef(null),i=Ce(s,a),o=V2(r);return u.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&f){const m=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(m)}},[o,r]),e.jsx(Yl,{asChild:!0,children:e.jsx("select",{...n,ref:i,defaultValue:r})})});xC.displayName="BubbleSelect";function pC(t){const s=rt(t),r=u.useRef(""),n=u.useRef(0),a=u.useCallback(o=>{const l=r.current+o;s(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[s]),i=u.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function gC(t,s,r){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,i=r?t.indexOf(r):-1;let o=zO(t,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function zO(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var $O=U2,vC=W2,qO=X2,BO=K2,VO=Y2,jC=Q2,UO=tC,yC=nC,bC=iC,HO=oC,WO=cC,NC=dC,wC=uC,CC=hC;const dr=$O,ur=qO,Ls=u.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(vC,{ref:n,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[s,e.jsx(BO,{asChild:!0,children:e.jsx(Jl,{className:"h-4 w-4 opacity-50"})})]}));Ls.displayName=vC.displayName;const SC=u.forwardRef(({className:t,...s},r)=>e.jsx(NC,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(vk,{className:"h-4 w-4"})}));SC.displayName=NC.displayName;const _C=u.forwardRef(({className:t,...s},r)=>e.jsx(wC,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Jl,{className:"h-4 w-4"})}));_C.displayName=wC.displayName;const Ds=u.forwardRef(({className:t,children:s,position:r="popper",...n},a)=>{const i=u.useMemo(()=>{try{return u.Children.toArray(s).filter(o=>u.isValidElement(o)?o.props&&typeof o.props=="object":!1)}catch(o){return console.warn("SelectContent: Erreur lors du traitement des enfants",o),[]}},[s]);return e.jsx(VO,{children:e.jsxs(jC,{ref:a,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[e.jsx(SC,{}),e.jsx(UO,{className:ie("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),e.jsx(_C,{})]})})});Ds.displayName=jC.displayName;const GO=u.forwardRef(({className:t,...s},r)=>e.jsx(yC,{ref:r,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));GO.displayName=yC.displayName;const be=u.forwardRef(({className:t,children:s,value:r,...n},a)=>{const i=u.useMemo(()=>r==null?(console.warn("SelectItem: valeur null ou undefined dtecte",{value:r,children:s}),""):r.toString(),[r]),o=u.useMemo(()=>s??"",[s]);return!i&&!n.disabled?null:e.jsxs(bC,{ref:a,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),value:i,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(WO,{children:e.jsx(js,{className:"h-4 w-4"})})}),e.jsx(HO,{children:o})]})});be.displayName=bC.displayName;const XO=u.forwardRef(({className:t,...s},r)=>e.jsx(CC,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",t),...s}));XO.displayName=CC.displayName;const KO=({userId:t,isOpen:s,onClose:r,onUserUpdated:n})=>{const[a,i]=u.useState(null),[o,l]=u.useState(null),[c,d]=u.useState(!1),[f,m]=u.useState(!1),[h,j]=u.useState(1);u.useEffect(()=>{t&&s&&y()},[t,s]);const y=async()=>{try{d(!0);const x=await H.get(`/admin/users/${t}`),w={nom:x.nom||"",prenom:x.prenom||"",email:x.email||"",telephone:x.telephone||"",statut:x.statut||"actif",notes_admin:x.notes_admin||"",...x.role_id===2&&x.entreprise&&{entreprise:{nom_entreprise:x.entreprise.nom_entreprise||"",description:x.entreprise.description||"",telephone_professionnel:x.entreprise.telephone_professionnel||"",adresse_ligne1:x.entreprise.adresse_ligne1||"",adresse_ligne2:x.entreprise.adresse_ligne2||"",ville:x.entreprise.ville||"",code_postal:x.entreprise.code_postal||"",pays:x.entreprise.pays||"Gabon",site_web:x.entreprise.site_web||"",numero_siret:x.entreprise.numero_siret||"",numero_registre_commerce:x.entreprise.numero_registre_commerce||"",numero_tva:x.entreprise.numero_tva||"",nom_banque:x.entreprise.nom_banque||"",iban:x.entreprise.iban||"",nom_titulaire_compte:x.entreprise.nom_titulaire_compte||"",bic_swift:x.entreprise.bic_swift||"",annee_creation:x.entreprise.annee_creation||new Date().getFullYear(),nombre_employes:x.entreprise.nombre_employes||0,capacite_production:x.entreprise.capacite_production||"",certifications:x.entreprise.certifications||""}}};i(w),l(JSON.parse(JSON.stringify(w))),j(x.role_id)}catch(x){console.error("Erreur chargement donnes utilisateur:",x),M.error("Erreur lors du chargement des donnes")}finally{d(!1)}},g=async()=>{if(!(!a||!t))try{m(!0),await H.put(`/admin/users/${t}`,a),M.success("Utilisateur modifi avec succs"),n(),r()}catch(x){console.error("Erreur modification utilisateur:",x),M.error("Erreur lors de la modification")}finally{m(!1)}},N=(x,w)=>{a&&i(k=>({...k,[x]:w}))},p=(x,w)=>{!a||!a.entreprise||i(k=>({...k,entreprise:{...k.entreprise,[x]:w}}))},v=x=>{switch(x){case 1:return e.jsxs(U,{className:"bg-blue-100 text-blue-800",children:[e.jsx(we,{className:"w-3 h-3 mr-1"}),"Acheteur"]});case 2:return e.jsxs(U,{className:"bg-green-100 text-green-800",children:[e.jsx(Ue,{className:"w-3 h-3 mr-1"}),"Fournisseur"]});case 3:return e.jsx(U,{className:"bg-purple-100 text-purple-800",children:"Administrateur"});default:return e.jsx(U,{className:"bg-gray-100 text-gray-800",children:"Inconnu"})}};return c?e.jsx(Qa,{open:s,onOpenChange:r,children:e.jsxs(ma,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ha,{children:[e.jsx(fa,{children:"Chargement des donnes utilisateur"}),e.jsx(Ja,{children:"Rcupration des informations pour modification..."})]}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des donnes..."})]})})]})}):a?e.jsx(Qa,{open:s,onOpenChange:r,children:e.jsxs(ma,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ha,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(fa,{className:"text-2xl font-bold",children:["Modifier l'utilisateur #",t]}),e.jsx(Ja,{children:"Modification des informations utilisateur et entreprise"}),e.jsx("div",{className:"mt-2",children:v(h)})]}),e.jsx(E,{variant:"ghost",size:"icon",onClick:r,children:e.jsx(Ae,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-5 h-5"}),"Informations personnelles"]})}),e.jsx(q,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"prenom",children:"Prnom *"}),e.jsx(D,{id:"prenom",value:a.prenom,onChange:x=>N("prenom",x.target.value),placeholder:"Prnom"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"nom",children:"Nom *"}),e.jsx(D,{id:"nom",value:a.nom,onChange:x=>N("nom",x.target.value),placeholder:"Nom"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"email",children:"Email *"}),e.jsx(D,{id:"email",type:"email",value:a.email,onChange:x=>N("email",x.target.value),placeholder:"email@exemple.com"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"telephone",children:"Tlphone"}),e.jsx(D,{id:"telephone",value:a.telephone,onChange:x=>N("telephone",x.target.value),placeholder:"+241 XX XX XX XX"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"statut",children:"Statut"}),e.jsxs(dr,{value:a.statut,onValueChange:x=>N("statut",x),children:[e.jsx(Ls,{children:e.jsx(ur,{})}),e.jsxs(Ds,{children:[e.jsx(be,{value:"actif",children:"Actif"}),e.jsx(be,{value:"suspendu",children:"Suspendu"}),e.jsx(be,{value:"inactif",children:"Inactif"})]})]})]})]})})]}),h===2&&a.entreprise&&e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-5 h-5"}),"Informations entreprise"]})}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informations gnrales"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"nom_entreprise",children:"Nom de l'entreprise *"}),e.jsx(D,{id:"nom_entreprise",value:a.entreprise.nom_entreprise,onChange:x=>p("nom_entreprise",x.target.value),placeholder:"Nom de l'entreprise"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"telephone_professionnel",children:"Tlphone professionnel"}),e.jsx(D,{id:"telephone_professionnel",value:a.entreprise.telephone_professionnel,onChange:x=>p("telephone_professionnel",x.target.value),placeholder:"+241 XX XX XX XX"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"site_web",children:"Site web"}),e.jsx(D,{id:"site_web",value:a.entreprise.site_web,onChange:x=>p("site_web",x.target.value),placeholder:"https://www.exemple.com"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"annee_creation",children:"Anne de cration"}),e.jsx(D,{id:"annee_creation",type:"number",value:a.entreprise.annee_creation,onChange:x=>p("annee_creation",parseInt(x.target.value)),placeholder:"2020"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"nombre_employes",children:"Nombre d'employs"}),e.jsx(D,{id:"nombre_employes",type:"number",value:a.entreprise.nombre_employes,onChange:x=>p("nombre_employes",parseInt(x.target.value)),placeholder:"10"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(W,{htmlFor:"description",children:"Description"}),e.jsx(Ye,{id:"description",value:a.entreprise.description,onChange:x=>p("description",x.target.value),placeholder:"Description de l'entreprise...",rows:3})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Adresse"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(W,{htmlFor:"adresse_ligne1",children:"Adresse ligne 1"}),e.jsx(D,{id:"adresse_ligne1",value:a.entreprise.adresse_ligne1,onChange:x=>p("adresse_ligne1",x.target.value),placeholder:"Numro et nom de rue"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(W,{htmlFor:"adresse_ligne2",children:"Adresse ligne 2"}),e.jsx(D,{id:"adresse_ligne2",value:a.entreprise.adresse_ligne2,onChange:x=>p("adresse_ligne2",x.target.value),placeholder:"Complment d'adresse"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"ville",children:"Ville"}),e.jsx(D,{id:"ville",value:a.entreprise.ville,onChange:x=>p("ville",x.target.value),placeholder:"Libreville"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"code_postal",children:"Code postal"}),e.jsx(D,{id:"code_postal",value:a.entreprise.code_postal,onChange:x=>p("code_postal",x.target.value),placeholder:"BP 1234"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"pays",children:"Pays"}),e.jsx(D,{id:"pays",value:a.entreprise.pays,onChange:x=>p("pays",x.target.value),placeholder:"Gabon"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informations lgales"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"numero_siret",children:"Numro SIRET"}),e.jsx(D,{id:"numero_siret",value:a.entreprise.numero_siret,onChange:x=>p("numero_siret",x.target.value),placeholder:"12345678901234"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"numero_registre_commerce",children:"Registre du commerce"}),e.jsx(D,{id:"numero_registre_commerce",value:a.entreprise.numero_registre_commerce,onChange:x=>p("numero_registre_commerce",x.target.value),placeholder:"RC123456"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"numero_tva",children:"Numro TVA"}),e.jsx(D,{id:"numero_tva",value:a.entreprise.numero_tva,onChange:x=>p("numero_tva",x.target.value),placeholder:"GA123456789"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informations bancaires"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"nom_banque",children:"Nom de la banque"}),e.jsx(D,{id:"nom_banque",value:a.entreprise.nom_banque,onChange:x=>p("nom_banque",x.target.value),placeholder:"Banque Centrale du Gabon"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"nom_titulaire_compte",children:"Nom du titulaire"}),e.jsx(D,{id:"nom_titulaire_compte",value:a.entreprise.nom_titulaire_compte,onChange:x=>p("nom_titulaire_compte",x.target.value),placeholder:"Nom du titulaire du compte"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"iban",children:"IBAN"}),e.jsx(D,{id:"iban",value:a.entreprise.iban,onChange:x=>p("iban",x.target.value),placeholder:"GA76 1234 5678 9012 3456 7890 123"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"bic_swift",children:"Code BIC/SWIFT"}),e.jsx(D,{id:"bic_swift",value:a.entreprise.bic_swift,onChange:x=>p("bic_swift",x.target.value),placeholder:"BCGAGAXX"})]})]})]})]})})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(ks,{className:"w-5 h-5"}),"Notes administratives"]})}),e.jsx(q,{children:e.jsx(Ye,{value:a.notes_admin,onChange:x=>N("notes_admin",x.target.value),placeholder:"Notes internes pour l'administration...",rows:4})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[e.jsx(E,{variant:"outline",onClick:r,children:"Annuler"}),e.jsx(E,{onClick:g,disabled:f,children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enregistrement..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Enregistrer"]})})]})]})]})}):null},YO=({user:t,isOpen:s,onClose:r,onUserDeleted:n})=>{const[a,i]=u.useState(""),[o,l]=u.useState(!1);if(!t)return null;const c=`SUPPRIMER ${t.email}`,d=a===c,f=async()=>{if(!(!t||!d))try{l(!0),await H.delete(`/admin/users/${t.id}`),M.success("Utilisateur supprim dfinitivement"),n(),r(),i("")}catch(j){console.error("Erreur suppression utilisateur:",j),M.error("Erreur lors de la suppression")}finally{l(!1)}},m=()=>{i(""),r()},h=(j,y)=>{switch(j){case 1:return e.jsxs(U,{className:"bg-blue-100 text-blue-800",children:[e.jsx(we,{className:"w-3 h-3 mr-1"}),"Acheteur"]});case 2:return e.jsxs(U,{className:"bg-green-100 text-green-800",children:[e.jsx(Ue,{className:"w-3 h-3 mr-1"}),"Fournisseur"]});case 3:return e.jsxs(U,{className:"bg-purple-100 text-purple-800",children:[e.jsx($e,{className:"w-3 h-3 mr-1"}),"Admin"]});default:return e.jsx(U,{className:"bg-gray-100 text-gray-800",children:y})}};return t?e.jsx(Qa,{open:s,onOpenChange:m,children:e.jsxs(ma,{className:"max-w-md",children:[e.jsx(ha,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(fa,{className:"text-xl font-bold text-red-600 flex items-center gap-2",children:[e.jsx(ks,{className:"w-5 h-5"}),"Suppression dfinitive"]}),e.jsxs(Ja,{children:["Suppression dfinitive de l'utilisateur ",t.prenom," ",t.nom]})]}),e.jsx(E,{variant:"ghost",size:"icon",onClick:m,children:e.jsx(Ae,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ks,{className:"w-5 h-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:" ATTENTION - Action irrversible"}),e.jsxs("p",{className:"text-sm text-red-700 mb-2",children:["Cette action va ",e.jsx("strong",{children:"supprimer dfinitivement"})," l'utilisateur et toutes ses donnes de la base de donnes."]}),e.jsxs("ul",{className:"text-xs text-red-600 space-y-1",children:[e.jsx("li",{children:" Toutes les donnes personnelles seront perdues"}),e.jsx("li",{children:" L'historique des commandes sera supprim"}),e.jsx("li",{children:" Les informations d'entreprise seront effaces"}),e.jsx("li",{children:" Cette action ne peut pas tre annule"})]})]})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Utilisateur  supprimer :"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Nom :"}),e.jsxs("span",{className:"font-medium",children:[t.prenom," ",t.nom]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Email :"}),e.jsx("span",{className:"font-medium",children:t.email})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Rle :"}),h(t.role_id,t.role_nom)]}),t.nom_entreprise&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Entreprise :"}),e.jsx("span",{className:"font-medium",children:t.nom_entreprise})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"ID :"}),e.jsxs("span",{className:"font-mono text-sm",children:["#",t.id]})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"confirm",className:"text-sm font-medium text-gray-900",children:"Pour confirmer la suppression, tapez exactement :"}),e.jsx("div",{className:"mt-1 mb-2",children:e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm font-mono",children:c})}),e.jsx(D,{id:"confirm",value:a,onChange:j=>i(j.target.value),placeholder:c,className:`font-mono ${a&&!d?"border-red-300 focus:border-red-500":d?"border-green-300 focus:border-green-500":""}`}),a&&!d&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Le texte ne correspond pas exactement"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(E,{variant:"outline",onClick:m,children:"Annuler"}),e.jsx(E,{variant:"destructive",onClick:f,disabled:!d||o,children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Suppression..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Cs,{className:"w-4 h-4 mr-2"}),"Supprimer dfinitivement"]})})]})]})]})}):null},QO=({user:t,isOpen:s,onClose:r,onUserUpdated:n})=>{const[a,i]=u.useState(""),[o,l]=u.useState(!1),c=(t==null?void 0:t.statut)==="suspendu",d=async()=>{if(t){if(!c&&!a.trim()){M.error("Veuillez indiquer une raison pour la suspension");return}try{l(!0),c?(await H.patch(`/admin/users/${t.id}/activate`),M.success("Utilisateur ractiv avec succs")):(await H.patch(`/admin/users/${t.id}/suspend`,{suspension_reason:a.trim()}),M.success("Utilisateur suspendu avec succs")),n(),r(),i("")}catch(j){console.error("Erreur lors de l'action:",j),M.error(`Erreur lors de ${c?"la ractivation":"la suspension"}`)}finally{l(!1)}}},f=()=>{i(""),r()},m=(j,y)=>{switch(j){case 1:return e.jsxs(U,{className:"bg-blue-100 text-blue-800",children:[e.jsx(we,{className:"w-3 h-3 mr-1"}),"Acheteur"]});case 2:return e.jsxs(U,{className:"bg-green-100 text-green-800",children:[e.jsx(Ue,{className:"w-3 h-3 mr-1"}),"Fournisseur"]});case 3:return e.jsxs(U,{className:"bg-purple-100 text-purple-800",children:[e.jsx($e,{className:"w-3 h-3 mr-1"}),"Admin"]});default:return e.jsx(U,{className:"bg-gray-100 text-gray-800",children:y})}},h=j=>{switch(j){case"actif":return e.jsxs(U,{className:"bg-green-100 text-green-800",children:[e.jsx(ye,{className:"w-3 h-3 mr-1"}),"Actif"]});case"suspendu":return e.jsxs(U,{className:"bg-red-100 text-red-800",children:[e.jsx(zd,{className:"w-3 h-3 mr-1"}),"Suspendu"]});default:return e.jsx(U,{className:"bg-gray-100 text-gray-800",children:j})}};return t?e.jsx(Qa,{open:s,onOpenChange:f,children:e.jsxs(ma,{className:"max-w-md",children:[e.jsx(ha,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(fa,{className:`text-xl font-bold flex items-center gap-2 ${c?"text-green-600":"text-orange-600"}`,children:c?e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-5 h-5"}),"Ractiver l'utilisateur"]}):e.jsxs(e.Fragment,{children:[e.jsx(ks,{className:"w-5 h-5"}),"Suspendre l'utilisateur"]})}),e.jsxs(Ja,{children:[c?"Ractivation":"Suspension"," du compte de ",t.prenom," ",t.nom]})]}),e.jsx(E,{variant:"ghost",size:"icon",onClick:f,children:e.jsx(Ae,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Utilisateur concern :"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Nom :"}),e.jsxs("span",{className:"font-medium",children:[t.prenom," ",t.nom]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Email :"}),e.jsx("span",{className:"font-medium",children:t.email})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Rle :"}),m(t.role_id,t.role_nom)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Statut actuel :"}),h(t.statut)]}),t.nom_entreprise&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Entreprise :"}),e.jsx("span",{className:"font-medium",children:t.nom_entreprise})]})]})]}),e.jsx("div",{className:`border rounded-lg p-4 ${c?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[c?e.jsx(ye,{className:"w-5 h-5 text-green-600 mt-0.5"}):e.jsx(ks,{className:"w-5 h-5 text-orange-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold mb-2 ${c?"text-green-800":"text-orange-800"}`,children:c?"Ractivation du compte":"Suspension du compte"}),e.jsx("p",{className:`text-sm ${c?"text-green-700":"text-orange-700"}`,children:c?"L'utilisateur pourra  nouveau se connecter et utiliser la plateforme normalement.":`L'utilisateur ne pourra plus se connecter. Un message "Compte suspendu par l'administrateur" s'affichera lors de ses tentatives de connexion.`})]})]})}),!c&&e.jsxs("div",{children:[e.jsx(W,{htmlFor:"reason",className:"text-sm font-medium text-gray-900",children:"Raison de la suspension *"}),e.jsx(Ye,{id:"reason",value:a,onChange:j=>i(j.target.value),placeholder:"Expliquez pourquoi vous suspendez ce compte...",rows:4,className:"mt-1"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cette raison sera visible par l'utilisateur et enregistre dans les logs."})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(E,{variant:"outline",onClick:f,children:"Annuler"}),e.jsx(E,{onClick:d,disabled:o||!c&&!a.trim(),className:c?"bg-green-600 hover:bg-green-700":"bg-orange-600 hover:bg-orange-700",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),c?"Ractivation...":"Suspension..."]}):e.jsx(e.Fragment,{children:c?e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-4 h-4 mr-2"}),"Ractiver le compte"]}):e.jsxs(e.Fragment,{children:[e.jsx(zd,{className:"w-4 h-4 mr-2"}),"Suspendre le compte"]})})})]})]})]},t==null?void 0:t.id)}):null},JO=()=>{const[t,s]=u.useState(!1),[r,n]=u.useState(null);return{loading:t,error:r,fetchSupplierDocuments:async l=>{try{s(!0),n(null),console.log(" [useAdminDocuments] Rcupration documents pour supplierId:",l);const c=await H.get(`/admin/users/${l}/documents`);return console.log(" [useAdminDocuments] Rponse API:",c),c&&c.documents?(console.log(" [useAdminDocuments] Documents trouvs:",c.documents.length),c.documents):(console.log(" [useAdminDocuments] Aucun document trouv"),[])}catch(c){return console.error(" [useAdminDocuments] Erreur rcupration documents fournisseur:",c),n(c.message||"Erreur lors du chargement des documents"),[]}finally{s(!1)}},validateDocument:async(l,c)=>{try{s(!0),n(null);const d={status:"approved",commentaire:c},f=await H.patch(`/admin/documents/${l}/validate`,d);return f&&f.document?{success:!0,document:f.document}:{success:!1,error:"Erreur lors de la validation"}}catch(d){console.error("Erreur validation document:",d);const f=d.message||"Erreur lors de la validation du document";return n(f),{success:!1,error:f}}finally{s(!1)}},rejectDocument:async(l,c)=>{try{s(!0),n(null);const d={status:"rejected",commentaire:c},f=await H.patch(`/admin/documents/${l}/validate`,d);return f&&f.document?{success:!0,document:f.document}:{success:!1,error:"Erreur lors du rejet"}}catch(d){console.error("Erreur rejet document:",d);const f=d.message||"Erreur lors du rejet du document";return n(f),{success:!1,error:f}}finally{s(!1)}}}},ZO=({supplierId:t,supplierName:s,isOpen:r,onClose:n})=>{const[a,i]=u.useState([]),[o,l]=u.useState(null),[c,d]=u.useState(""),[f,m]=u.useState(!1),{loading:h,error:j,fetchSupplierDocuments:y,validateDocument:g,rejectDocument:N}=JO();u.useEffect(()=>{r&&t&&p()},[r,t]);const p=async()=>{m(!0);const _=await y(t);i(_),m(!1)},v=async _=>{const P=await g(_.id,c);P.success?(M.success("Document valid avec succs"),i(T=>T.map(L=>L.id===_.id?{...L,statut:"valide",commentaire_admin:c}:L)),d(""),l(null)):M.error(P.error||"Erreur lors de la validation")},x=async _=>{if(!c.trim()){M.error("Veuillez ajouter un commentaire pour le rejet");return}const P=await N(_.id,c);P.success?(M.success("Document rejet"),i(T=>T.map(L=>L.id===_.id?{...L,statut:"rejete",commentaire_admin:c}:L)),d(""),l(null)):M.error(P.error||"Erreur lors du rejet")},w=async _=>{try{const P=await fetch(`https://back-gabonmarquethub.onrender.com/api/admin/documents/${_.id}/download`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!P.ok)throw new Error("Erreur lors du tlchargement");const T=await P.blob(),L=window.URL.createObjectURL(T),I=document.createElement("a");I.href=L,I.download=_.nom_fichier,document.body.appendChild(I),I.click(),window.URL.revokeObjectURL(L),document.body.removeChild(I),M.success("Document tlcharg avec succs")}catch(P){console.error("Erreur tlchargement:",P),M.error("Erreur lors du tlchargement du document")}},k=_=>{switch(_){case"en_attente":return e.jsx(Tt,{className:"w-4 h-4"});case"valide":return e.jsx(ye,{className:"w-4 h-4"});case"rejete":return e.jsx(Pa,{className:"w-4 h-4"});default:return e.jsx(ft,{className:"w-4 h-4"})}},S=a.filter(_=>_.statut==="en_attente"),b=a.filter(_=>_.statut==="valide"),C=a.filter(_=>_.statut==="rejete");return e.jsx(Qa,{open:r,onOpenChange:n,children:e.jsxs(ma,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[e.jsx(ha,{children:e.jsxs(fa,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"w-5 h-5"}),"Documents de ",s]})}),e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:S.length}),e.jsx("div",{className:"text-sm text-yellow-800",children:"En attente"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.length}),e.jsx("div",{className:"text-sm text-green-800",children:"Valids"})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:C.length}),e.jsx("div",{className:"text-sm text-red-800",children:"Rejets"})]})]}),j&&e.jsxs(ms,{variant:"destructive",className:"mb-4",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx(hs,{children:j})]}),f||h?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vr,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des documents..."})]})}):a.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(We,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun document"}),e.jsx("p",{className:"text-gray-600",children:"Ce fournisseur n'a pas encore upload de documents"})]}):e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full",children:[e.jsxs("div",{className:"space-y-4 overflow-y-auto",style:{maxHeight:"500px"},children:[e.jsx("h3",{className:"font-semibold text-gray-900 sticky top-0 bg-white pb-2",children:"Liste des documents"}),a.map(_=>e.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${(o==null?void 0:o.id)===_.id?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>l(_),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(We,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:_.nom_fichier}),e.jsx("p",{className:"text-sm text-gray-600",children:cl[_.type_document]})]})]}),e.jsxs(U,{className:K0[_.statut],children:[k(_.statut),e.jsx("span",{className:"ml-1",children:Y0[_.statut]})]})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Upload le ",new Date(_.date_upload).toLocaleDateString("fr-FR")]})]},_.id))]}),e.jsx("div",{className:"space-y-4",children:o?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Dtails du document"}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:o.nom_fichier}),e.jsxs(U,{className:K0[o.statut],children:[k(o.statut),e.jsx("span",{className:"ml-1",children:Y0[o.statut]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Type :"})," ",cl[o.type_document]]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Upload le :"})," ",new Date(o.date_upload).toLocaleDateString("fr-FR")]}),o.date_validation&&e.jsxs("p",{children:[e.jsx("strong",{children:"Valid le :"})," ",new Date(o.date_validation).toLocaleDateString("fr-FR")]})]}),o.commentaire_admin&&e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg mb-4",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Commentaire admin :"})," ",o.commentaire_admin]})}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Oe,{className:"w-4 h-4 mr-1"}),"Aperu"]}),e.jsxs(E,{variant:"outline",size:"sm",onClick:()=>w(o),children:[e.jsx(yb,{className:"w-4 h-4 mr-1"}),"Tlcharger"]})]}),o.statut==="en_attente"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commentaire (optionnel)"}),e.jsx(Ye,{value:c,onChange:_=>d(_.target.value),placeholder:"Ajoutez un commentaire...",rows:3})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(E,{onClick:()=>v(o),className:"bg-green-600 hover:bg-green-700",disabled:h,children:[e.jsx(ye,{className:"w-4 h-4 mr-1"}),"Valider"]}),e.jsxs(E,{onClick:()=>x(o),variant:"destructive",disabled:h,children:[e.jsx(Pa,{className:"w-4 h-4 mr-1"}),"Rejeter"]})]})]})]})]}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(We,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"Slectionnez un document pour voir les dtails"})]})})]})})]})]})})},vv=t=>{if(!t)return"Non disponible";try{const s=new Date(t);return isNaN(s.getTime())?"Date invalide":s.toLocaleDateString("fr-FR")}catch{return"Date invalide"}},eF=()=>{he();const[t,s]=u.useState([]),[r,n]=u.useState(!0),[a,i]=u.useState(""),[o,l]=u.useState(""),[c,d]=u.useState("all"),[f,m]=u.useState("all"),[h,j]=u.useState(1),[y,g]=u.useState(1),[N,p]=u.useState(null),[v,x]=u.useState(null),[w,k]=u.useState(!1),[S,b]=u.useState(!1),[C,_]=u.useState(!1),[P,T]=u.useState(!1),[L,I]=u.useState(!1),[O,X]=u.useState(null);u.useEffect(()=>{const V=setTimeout(()=>{l(a)},500);return()=>clearTimeout(V)},[a]),u.useEffect(()=>{A()},[h,c,f,o]);const A=async()=>{var V;try{n(!0);const ne=localStorage.getItem("authToken");console.log("Token prsent:",!!ne),console.log("Token (premiers caractres):",(ne==null?void 0:ne.substring(0,20))+"...");const pe=new URLSearchParams({page:h.toString(),limit:"20",...c!=="all"&&{role:c},...f!=="all"&&{status:f},...o&&{search:o}});console.log("Requte vers:",`/admin/users?${pe}`);const oe=await H.get(`/admin/users?${pe}`);console.log("Response complte:",oe),console.log("Response type:",typeof oe),console.log("Response keys:",Object.keys(oe||{})),oe&&oe.users?(console.log("Format: response.users"),s(oe.users),g(((V=oe.pagination)==null?void 0:V.totalPages)||1)):Array.isArray(oe)?(console.log("Format: Array direct"),s(oe),g(1)):oe?(console.log("Format: Autre objet"),console.log("Contenu:",oe),s([]),g(1)):(console.error("Pas de donnes dans la rponse"),s([]),g(1))}catch(ne){console.error("Erreur complte:",ne),console.error("Error message:",ne.message),console.error("Error stack:",ne.stack),M.error(`Erreur: ${ne.message}`),s([]),g(1)}finally{n(!1)}},B=(V,ne)=>{switch(V){case 1:return e.jsxs(U,{className:"bg-blue-100 text-blue-800",children:[e.jsx(zs,{className:"w-3 h-3 mr-1"}),"Acheteur"]});case 2:return e.jsxs(U,{className:"bg-green-100 text-green-800",children:[e.jsx(Ue,{className:"w-3 h-3 mr-1"}),"Fournisseur"]});case 3:return e.jsxs(U,{className:"bg-purple-100 text-purple-800",children:[e.jsx(Ik,{className:"w-3 h-3 mr-1"}),"Admin"]});default:return e.jsx(U,{className:"bg-gray-100 text-gray-800",children:ne})}},R=V=>V.effective_status||V.statut,F=V=>{const ne=R(V);switch(ne){case"actif":return e.jsxs(U,{className:"bg-green-100 text-green-800",children:[e.jsx(ye,{className:"w-3 h-3 mr-1"}),"Actif"]});case"suspendu":return e.jsxs(U,{className:"bg-red-100 text-red-800",children:[e.jsx(zd,{className:"w-3 h-3 mr-1"}),"Suspendu"]});case"en_attente":return e.jsxs(U,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(Lk,{className:"w-3 h-3 mr-1"}),"En attente"]});default:return e.jsx(U,{className:"bg-gray-100 text-gray-800",children:ne})}},J=V=>{p(V.id),k(!0)},G=V=>{p(V.id),b(!0)},te=V=>{x(V),T(!0)},Q=V=>{x(V),_(!0)},ae=V=>{X(V),I(!0)},ue=()=>{p(null),x(null),k(!1),b(!1),_(!1),T(!1),I(!1),X(null)},de=()=>{A(),ue()};return r?e.jsx(uo,{activeTab:"users",onTabChange:()=>{},children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des utilisateurs..."})]})})}):e.jsxs(uo,{activeTab:"users",onTabChange:()=>{},children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestion des utilisateurs "}),e.jsx("p",{className:"text-gray-600",children:"Grer les acheteurs, fournisseurs et administrateurs"})]}),e.jsxs(E,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{window.location.href="/user-type"},children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Nouvel utilisateur"]})]}),e.jsx($,{children:e.jsx(q,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(D,{placeholder:"Rechercher un utilisateur...",value:a,onChange:V=>i(V.target.value),className:"pl-10"})]}),e.jsxs(dr,{value:c,onValueChange:d,children:[e.jsx(Ls,{children:e.jsx(ur,{placeholder:"Filtrer par rle"})}),e.jsxs(Ds,{children:[e.jsx(be,{value:"all",children:"Tous les rles"}),e.jsx(be,{value:"1",children:"Acheteurs"}),e.jsx(be,{value:"2",children:"Fournisseurs"}),e.jsx(be,{value:"3",children:"Administrateurs"})]})]}),e.jsxs(dr,{value:f,onValueChange:m,children:[e.jsx(Ls,{children:e.jsx(ur,{placeholder:"Filtrer par statut"})}),e.jsxs(Ds,{children:[e.jsx(be,{value:"all",children:"Tous les statuts"}),e.jsx(be,{value:"actif",children:"Actifs"}),e.jsx(be,{value:"suspendu",children:"Suspendus"}),e.jsx(be,{value:"en_attente",children:"En attente"})]})]}),e.jsxs(E,{variant:"outline",onClick:A,children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Actualiser"]})]})})}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(at,{className:"w-5 h-5"}),"Liste des utilisateurs (",t.length,")"]})}),e.jsxs(q,{children:[e.jsx("div",{className:"space-y-4",children:t.map(V=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ic,{className:"w-12 h-12",children:[e.jsx(Cp,{src:V.photo_profil?`https://back-gabonmarquethub.onrender.com${V.photo_profil}`:void 0,alt:`${V.prenom} ${V.nom}`}),e.jsx(oc,{className:"bg-gray-200",children:e.jsx(at,{className:"w-6 h-6 text-gray-600"})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:[V.prenom," ",V.nom]}),e.jsx("p",{className:"text-sm text-gray-600",children:V.email}),V.nom_entreprise&&e.jsx("p",{className:"text-xs text-gray-500",children:V.nom_entreprise})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[B(V.role_id,V.role_nom),F(V)]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm mb-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Tlphone:"})," ",V.telephone||"Non renseign"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"ID:"})," #",V.id]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Inscription:"})," ",vv(V.date_creation)]}),V.derniere_connexion&&e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Dernire connexion:"})," ",vv(V.derniere_connexion)]})]}),e.jsx("div",{children:V.secteur_activite&&e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Secteur:"})," ",V.secteur_activite]})})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(E,{size:"sm",variant:"outline",onClick:()=>J(V),children:[e.jsx(Oe,{className:"w-4 h-4 mr-1"}),"Voir"]}),e.jsxs(E,{size:"sm",variant:"outline",onClick:()=>G(V),children:[e.jsx(Wa,{className:"w-4 h-4 mr-1"}),"Modifier"]}),V.role_id===2&&e.jsxs(E,{size:"sm",variant:"outline",className:"text-blue-600 hover:text-blue-700",onClick:()=>ae(V),children:[e.jsx(We,{className:"w-4 h-4 mr-1"}),"Documents"]}),e.jsx(E,{size:"sm",variant:"outline",className:V.statut==="actif"?"text-orange-600 hover:text-orange-700":"text-green-600 hover:text-green-700",onClick:()=>te(V),children:V.statut==="actif"?e.jsxs(e.Fragment,{children:[e.jsx(zd,{className:"w-4 h-4 mr-1"}),"Suspendre"]}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-4 h-4 mr-1"}),"Activer"]})}),e.jsxs(E,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",onClick:()=>Q(V),children:[e.jsx(Cs,{className:"w-4 h-4 mr-1"}),"Supprimer"]})]})]},V.id))}),y>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[e.jsx(E,{variant:"outline",size:"sm",onClick:()=>j(V=>Math.max(1,V-1)),disabled:h===1,children:"Prcdent"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",h," sur ",y]}),e.jsx(E,{variant:"outline",size:"sm",onClick:()=>j(V=>Math.min(y,V+1)),disabled:h===y,children:"Suivant"})]})]})]})]}),e.jsx(yO,{userId:N,isOpen:w,onClose:ue}),e.jsx(KO,{userId:N,isOpen:S,onClose:ue,onUserUpdated:de}),e.jsx(QO,{user:v,isOpen:P,onClose:ue,onUserUpdated:de}),e.jsx(YO,{user:v,isOpen:C,onClose:ue,onUserDeleted:de}),e.jsx(ZO,{supplierId:(O==null?void 0:O.id)||0,supplierName:O?`${O.prenom} ${O.nom}`:"",isOpen:L,onClose:ue})]})},tF=({currentPhoto:t,onPhotoUpdate:s,onPhotoDelete:r,size:n="xl",className:a=""})=>{const[i,o]=u.useState(!1),[l,c]=u.useState(null),[d,f]=u.useState(null),[m,h]=u.useState(null),j=u.useRef(null),y={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32",xl:"w-40 h-40"},g={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-10 h-10",xl:"w-12 h-12"};u.useEffect(()=>{if(l||d){const k=setTimeout(()=>{c(null),f(null)},3e3);return()=>clearTimeout(k)}},[l,d]);const N=k=>{var P;const S=(P=k.target.files)==null?void 0:P[0];if(!S)return;const b=["image/jpeg","image/jpg","image/png","image/gif","image/webp"],C=5*1024*1024;if(!b.includes(S.type)){c("Format de fichier non support. Utilisez JPEG, PNG, GIF ou WEBP.");return}if(S.size>C){c("Le fichier est trop volumineux. Taille maximale : 5MB.");return}const _=new FileReader;_.onload=T=>{var L;h((L=T.target)==null?void 0:L.result)},_.readAsDataURL(S),p(S)},p=async k=>{o(!0),c(null),f(null);try{const S=new FormData;S.append("photo",k);const b=localStorage.getItem("authToken");if(!b)throw new Error("Token d'authentification manquant");const C=await fetch("https://back-gabonmarquethub.onrender.com/api/profile-photo/upload",{method:"POST",headers:{Authorization:`Bearer ${b}`},body:S}),_=await C.json();if(!C.ok)throw new Error(_.error||"Erreur lors de l'upload");f("Photo de profil mise  jour avec succs !"),s(_.data.photo_profil),h(null)}catch(S){console.error("Erreur upload photo:",S),c(S instanceof Error?S.message:"Erreur lors de l'upload"),h(null)}finally{o(!1)}},v=async()=>{if(t){o(!0),c(null),f(null);try{const k=localStorage.getItem("authToken");if(!k)throw new Error("Token d'authentification manquant");const S=await fetch("https://back-gabonmarquethub.onrender.com/api/profile-photo",{method:"DELETE",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}}),b=await S.json();if(!S.ok)throw new Error(b.error||"Erreur lors de la suppression");f("Photo de profil supprime avec succs !"),r()}catch(k){console.error("Erreur suppression photo:",k),c(k instanceof Error?k.message:"Erreur lors de la suppression")}finally{o(!1)}}},x=()=>{var k;(k=j.current)==null||k.click()},w=m||t;return e.jsxs($,{className:`${a}`,children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center text-red-600",children:[e.jsx($e,{className:"w-5 h-5 mr-2"}),"Photo de profil administrateur"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:`
                ${y[n]} 
                rounded-full border-2 border-red-200 
                overflow-hidden cursor-pointer
                transition-all duration-200
                hover:border-red-500 hover:shadow-lg
                ${i?"opacity-50":""}
              `,onClick:x,children:[w?e.jsx("img",{src:Dt(w),alt:"Photo de profil admin",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-red-100 flex items-center justify-center",children:e.jsx($e,{className:`${g[n]} text-red-600`})}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center",children:e.jsx(vb,{className:`${g[n]} text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200`})}),i&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})})]}),t&&!i&&e.jsx("button",{onClick:k=>{k.stopPropagation(),v()},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors duration-200",title:"Supprimer la photo",children:e.jsx(Ae,{className:"w-3 h-3"})})]})}),e.jsx("input",{ref:j,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:N,className:"hidden"}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs(E,{onClick:x,disabled:i,className:"w-full bg-red-600 hover:bg-red-700",children:[e.jsx(po,{className:"w-4 h-4 mr-2"}),i?"Upload en cours...":"Changer la photo"]}),t&&e.jsxs(E,{variant:"outline",onClick:v,disabled:i,className:"w-full text-red-600 border-red-200 hover:bg-red-50",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Supprimer la photo"]})]}),l&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:[e.jsx(ft,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:l})]}),d&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-green-50 px-3 py-2 rounded-lg",children:[e.jsx(ye,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:d})]}),e.jsxs("div",{className:"text-xs text-gray-500 text-center space-y-1",children:[e.jsx("p",{children:"Formats accepts : JPEG, PNG, GIF, WEBP"}),e.jsx("p",{children:"Taille maximale : 5MB"}),e.jsx("p",{className:"text-red-600 font-medium",children:"Rserv aux administrateurs"})]})]})]})},sF=()=>{const t=he(),{data:s,isLoading:r}=dt();Xr();const[n,a]=u.useState("overview"),[i,o]=u.useState(!1),[l,c]=u.useState({nom:"",prenom:"",email:"",telephone:""}),{photoData:d,refetch:f}=ja(),{data:m,isLoading:h}=Re({queryKey:["admin-stats"],queryFn:async()=>await H.get("/admin/stats")}),{data:j}=Re({queryKey:["admin-notifications"],queryFn:async()=>(await H.get("/admin/notifications?limit=5")).notifications||[]});u.useEffect(()=>{s&&c({nom:s.nom||"",prenom:s.prenom||"",email:s.email||"",telephone:s.telephone||""})},[s]);const y=b=>{M.success("Photo de profil mise  jour avec succs !"),f()},g=()=>{M.success("Photo de profil supprime avec succs !"),f()},N=(b,C)=>{c(_=>({..._,[b]:C}))},p=()=>{o(!0)},v=()=>{o(!1),c({nom:(s==null?void 0:s.nom)||"",prenom:(s==null?void 0:s.prenom)||"",email:(s==null?void 0:s.email)||"",telephone:(s==null?void 0:s.telephone)||""})},x=async()=>{try{await H.put("/users/profile",l),M.success("Profil mis  jour avec succs"),o(!1)}catch{M.error("Erreur lors de la mise  jour du profil")}},w=()=>e.jsxs(U,{className:"bg-red-100 text-red-800 border-red-200",children:[e.jsx($e,{className:"w-3 h-3 mr-1"}),"Administrateur"]}),S=(()=>{const b=new Date,C=s!=null&&s.last_login?new Date(s.last_login):null;if(!C)return{status:"inactive",text:"Jamais connect",color:"text-gray-500"};const _=Math.floor((b.getTime()-C.getTime())/(1e3*60));return _<5?{status:"online",text:"En ligne",color:"text-green-500"}:_<60?{status:"recent",text:"Rcemment actif",color:"text-blue-500"}:_<1440?{status:"today",text:"Aujourd'hui",color:"text-yellow-500"}:{status:"offline",text:"Hors ligne",color:"text-gray-500"}})();return r?e.jsx(uo,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})})}):e.jsx(uo,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 rounded-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Profil Administrateur"}),e.jsx("p",{className:"text-red-100",children:"Grez votre compte administrateur et les paramtres systme"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${S.color.replace("text-","bg-")}`}),e.jsx("span",{className:"text-sm",children:S.text})]}),w()]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsx(tF,{currentPhoto:d==null?void 0:d.photo_profil,onPhotoUpdate:y,onPhotoDelete:g,size:"xl"}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(gr,{className:"w-5 h-5 mr-2"}),"Statistiques"]})}),e.jsx(q,{className:"space-y-4",children:h?e.jsx("div",{className:"space-y-2",children:[1,2,3,4].map(b=>e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"},b))}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Utilisateurs"}),e.jsx("span",{className:"font-semibold",children:(m==null?void 0:m.total_acheteurs)+(m==null?void 0:m.total_fournisseurs)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Fournisseurs"}),e.jsx("span",{className:"font-semibold text-blue-600",children:(m==null?void 0:m.total_fournisseurs)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Acheteurs"}),e.jsx("span",{className:"font-semibold text-green-600",children:(m==null?void 0:m.total_acheteurs)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Produits"}),e.jsx("span",{className:"font-semibold text-purple-600",children:(m==null?void 0:m.total_produits)||0})]})]})})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(Yt,{className:"w-5 h-5 mr-2"}),"Actions rapides"]})}),e.jsxs(q,{className:"space-y-2",children:[e.jsxs(E,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>t("/admin/users"),children:[e.jsx(at,{className:"w-4 h-4 mr-2"}),"Grer les utilisateurs"]}),e.jsxs(E,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>t("/admin/dashboard"),children:[e.jsx(gr,{className:"w-4 h-4 mr-2"}),"Tableau de bord"]}),e.jsxs(E,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>t("/admin/notifications"),children:[e.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Notifications"]})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(Kr,{value:n,onValueChange:a,children:[e.jsxs(br,{className:"grid w-full grid-cols-4",children:[e.jsx(ke,{value:"overview",children:"Vue d'ensemble"}),e.jsx(ke,{value:"personal",children:"Informations"}),e.jsx(ke,{value:"security",children:"Scurit"}),e.jsx(ke,{value:"activity",children:"Activit"})]}),e.jsxs(Ee,{value:"overview",className:"space-y-6",children:[e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(we,{className:"w-5 h-5 mr-2"}),"Informations personnelles"]})}),e.jsxs(q,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),e.jsx("p",{className:"text-gray-900",children:(s==null?void 0:s.nom)||"Non renseign"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prnom"}),e.jsx("p",{className:"text-gray-900",children:(s==null?void 0:s.prenom)||"Non renseign"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("p",{className:"text-gray-900",children:(s==null?void 0:s.email)||"Non renseign"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),e.jsx("p",{className:"text-gray-900",children:(s==null?void 0:s.telephone)||"Non renseign"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(E,{onClick:p,children:[e.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Modifier les informations"]})})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(Jt,{className:"w-5 h-5 mr-2"}),"Notifications rcentes"]})}),e.jsx(q,{children:j&&j.length>0?e.jsx("div",{className:"space-y-3",children:j.slice(0,3).map(b=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-shrink-0",children:[b.type==="user_management"&&e.jsx(at,{className:"w-4 h-4 text-blue-500"}),b.type==="product_management"&&e.jsx(We,{className:"w-4 h-4 text-green-500"}),b.type==="system"&&e.jsx(El,{className:"w-4 h-4 text-red-500"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.titre}),e.jsx("p",{className:"text-xs text-gray-500",children:b.message})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-xs text-gray-400",children:new Date(b.created_at).toLocaleDateString()})})]},b.id))}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Aucune notification rcente"})})]})]}),e.jsx(Ee,{value:"personal",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Y,{className:"flex items-center",children:[e.jsx(we,{className:"w-5 h-5 mr-2"}),"Dtails du compte"]}),i?e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(E,{onClick:x,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]}),e.jsxs(E,{variant:"outline",onClick:v,children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Annuler"]})]}):e.jsxs(E,{onClick:p,children:[e.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Modifier"]})]})}),e.jsxs(q,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),i?e.jsx(D,{value:l.nom,onChange:b=>N("nom",b.target.value),placeholder:"Votre nom"}):e.jsx("p",{className:"text-gray-900",children:(s==null?void 0:s.nom)||"Non renseign"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prnom"}),i?e.jsx(D,{value:l.prenom,onChange:b=>N("prenom",b.target.value),placeholder:"Votre prnom"}):e.jsx("p",{className:"text-gray-900",children:(s==null?void 0:s.prenom)||"Non renseign"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i?e.jsx(D,{type:"email",value:l.email,onChange:b=>N("email",b.target.value),placeholder:"votre@email.com"}):e.jsx("p",{className:"text-gray-900",children:(s==null?void 0:s.email)||"Non renseign"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),i?e.jsx(D,{value:l.telephone,onChange:b=>N("telephone",b.target.value),placeholder:"+241 XX XX XX XX"}):e.jsx("p",{className:"text-gray-900",children:(s==null?void 0:s.telephone)||"Non renseign"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rle"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[w(),e.jsx("span",{className:"text-sm text-gray-500",children:"Accs complet  l'administration"})]})]})]})]})}),e.jsx(Ee,{value:"security",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(_k,{className:"w-5 h-5 mr-2"}),"Scurit du compte"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ks,{className:"w-5 h-5 text-yellow-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800",children:"Mot de passe"}),e.jsx("p",{className:"text-sm text-yellow-600",children:"Dernire modification il y a plus de 90 jours"})]})]}),e.jsx(E,{variant:"outline",size:"sm",children:"Modifier"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ye,{className:"w-5 h-5 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-800",children:"Authentification  deux facteurs"}),e.jsx("p",{className:"text-sm text-green-600",children:"Active et configure"})]})]}),e.jsx(E,{variant:"outline",size:"sm",children:"Grer"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(e0,{className:"w-5 h-5 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-800",children:"Sessions actives"}),e.jsx("p",{className:"text-sm text-blue-600",children:"2 sessions actives"})]})]}),e.jsx(E,{variant:"outline",size:"sm",children:"Voir toutes"})]})]})]})}),e.jsx(Ee,{value:"activity",className:"space-y-6",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(e0,{className:"w-5 h-5 mr-2"}),"Activit rcente"]})}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(at,{className:"w-5 h-5 text-blue-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Nouveau fournisseur inscrit"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Il y a 2 heures"})]}),e.jsx(U,{variant:"outline",children:"Utilisateurs"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(We,{className:"w-5 h-5 text-green-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Produit approuv"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Il y a 4 heures"})]}),e.jsx(U,{variant:"outline",children:"Produits"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(El,{className:"w-5 h-5 text-red-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Sauvegarde systme"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Hier  23:30"})]}),e.jsx(U,{variant:"outline",children:"Systme"})]})]})})]})})]})})]})]})})};var rF="Separator",jv="horizontal",nF=["horizontal","vertical"],kC=u.forwardRef((t,s)=>{const{decorative:r,orientation:n=jv,...a}=t,i=aF(n)?n:jv,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(me.div,{"data-orientation":i,...l,...a,ref:s})});kC.displayName=rF;function aF(t){return nF.includes(t)}var EC=kC;const PC=u.forwardRef(({className:t,orientation:s="horizontal",decorative:r=!0,...n},a)=>e.jsx(EC,{ref:a,decorative:r,orientation:s,className:ie("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));PC.displayName=EC.displayName;const iF=()=>{const[t,s]=u.useState(!1),[r,n]=u.useState({siteName:"GabMarketHub",siteDescription:"Plateforme e-commerce du Gabon",maintenanceMode:!1,emailEnabled:!0,smtpHost:"smtp.gmail.com",smtpPort:587,smtpUser:"",smtpPassword:"",maxLoginAttempts:5,sessionTimeout:24,requireEmailVerification:!0,requirePhoneVerification:!1,emailNotifications:!0,pushNotifications:!0,adminNotifications:!0,maxFileSize:10,allowedFileTypes:"jpg,jpeg,png,pdf,doc,docx",autoBackup:!0,backupFrequency:"daily"}),a=async()=>{s(!0);try{await new Promise(o=>setTimeout(o,1e3)),M.success("Paramtres sauvegards avec succs")}catch{M.error("Erreur lors de la sauvegarde")}finally{s(!1)}},i=()=>{M.info("Paramtres rinitialiss")};return e.jsx(uo,{activeTab:"settings",onTabChange:()=>{},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Paramtres systme "}),e.jsx("p",{className:"text-gray-600",children:"Configuration de la plateforme et des paramtres administratifs"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(E,{variant:"outline",onClick:i,disabled:t,children:[e.jsx(Us,{className:"w-4 h-4 mr-2"}),"Rinitialiser"]}),e.jsxs(E,{onClick:a,disabled:t,className:"bg-blue-600 hover:bg-blue-700",children:[t?e.jsx(Us,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Vs,{className:"w-5 h-5"}),"Configuration gnrale"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"siteName",children:"Nom du site"}),e.jsx(D,{id:"siteName",value:r.siteName,onChange:o=>n({...r,siteName:o.target.value})})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"siteDescription",children:"Description"}),e.jsx(D,{id:"siteDescription",value:r.siteDescription,onChange:o=>n({...r,siteDescription:o.target.value})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"maintenanceMode",children:"Mode maintenance"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Dsactive l'accs public au site"})]}),e.jsx(kt,{id:"maintenanceMode",checked:r.maintenanceMode,onCheckedChange:o=>n({...r,maintenanceMode:o})})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-5 h-5"}),"Configuration email"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"emailEnabled",children:"Activer les emails"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Permettre l'envoi d'emails automatiques"})]}),e.jsx(kt,{id:"emailEnabled",checked:r.emailEnabled,onCheckedChange:o=>n({...r,emailEnabled:o})})]}),r.emailEnabled&&e.jsxs(e.Fragment,{children:[e.jsx(PC,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"smtpHost",children:"Serveur SMTP"}),e.jsx(D,{id:"smtpHost",value:r.smtpHost,onChange:o=>n({...r,smtpHost:o.target.value})})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"smtpPort",children:"Port SMTP"}),e.jsx(D,{id:"smtpPort",type:"number",value:r.smtpPort,onChange:o=>n({...r,smtpPort:parseInt(o.target.value)})})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"smtpUser",children:"Utilisateur SMTP"}),e.jsx(D,{id:"smtpUser",type:"email",value:r.smtpUser,onChange:o=>n({...r,smtpUser:o.target.value})})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"smtpPassword",children:"Mot de passe SMTP"}),e.jsx(D,{id:"smtpPassword",type:"password",value:r.smtpPassword,onChange:o=>n({...r,smtpPassword:o.target.value})})]})]})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5"}),"Configuration scurit"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"maxLoginAttempts",children:"Tentatives de connexion max"}),e.jsx(D,{id:"maxLoginAttempts",type:"number",value:r.maxLoginAttempts,onChange:o=>n({...r,maxLoginAttempts:parseInt(o.target.value)})})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"sessionTimeout",children:"Timeout session (heures)"}),e.jsx(D,{id:"sessionTimeout",type:"number",value:r.sessionTimeout,onChange:o=>n({...r,sessionTimeout:parseInt(o.target.value)})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"requireEmailVerification",children:"Vrification email obligatoire"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Les utilisateurs doivent vrifier leur email"})]}),e.jsx(kt,{id:"requireEmailVerification",checked:r.requireEmailVerification,onCheckedChange:o=>n({...r,requireEmailVerification:o})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"requirePhoneVerification",children:"Vrification tlphone obligatoire"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Les utilisateurs doivent vrifier leur tlphone"})]}),e.jsx(kt,{id:"requirePhoneVerification",checked:r.requirePhoneVerification,onCheckedChange:o=>n({...r,requirePhoneVerification:o})})]})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"w-5 h-5"}),"Configuration notifications"]})}),e.jsx(q,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"emailNotifications",children:"Notifications email"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Envoyer des notifications par email"})]}),e.jsx(kt,{id:"emailNotifications",checked:r.emailNotifications,onCheckedChange:o=>n({...r,emailNotifications:o})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"pushNotifications",children:"Notifications push"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Notifications en temps rel dans le navigateur"})]}),e.jsx(kt,{id:"pushNotifications",checked:r.pushNotifications,onCheckedChange:o=>n({...r,pushNotifications:o})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"adminNotifications",children:"Notifications admin"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Notifications pour les administrateurs"})]}),e.jsx(kt,{id:"adminNotifications",checked:r.adminNotifications,onCheckedChange:o=>n({...r,adminNotifications:o})})]})]})})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(El,{className:"w-5 h-5"}),"Configuration systme"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"maxFileSize",children:"Taille max fichier (MB)"}),e.jsx(D,{id:"maxFileSize",type:"number",value:r.maxFileSize,onChange:o=>n({...r,maxFileSize:parseInt(o.target.value)})})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"allowedFileTypes",children:"Types de fichiers autoriss"}),e.jsx(D,{id:"allowedFileTypes",value:r.allowedFileTypes,onChange:o=>n({...r,allowedFileTypes:o.target.value})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"autoBackup",children:"Sauvegarde automatique"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Sauvegarder automatiquement la base de donnes"})]}),e.jsx(kt,{id:"autoBackup",checked:r.autoBackup,onCheckedChange:o=>n({...r,autoBackup:o})})]}),r.autoBackup&&e.jsxs("div",{children:[e.jsx(W,{htmlFor:"backupFrequency",children:"Frquence de sauvegarde"}),e.jsxs("select",{id:"backupFrequency",value:r.backupFrequency,onChange:o=>n({...r,backupFrequency:o.target.value}),className:"w-full p-2 border border-gray-300 rounded-md",children:[e.jsx("option",{value:"hourly",children:"Toutes les heures"}),e.jsx("option",{value:"daily",children:"Quotidienne"}),e.jsx("option",{value:"weekly",children:"Hebdomadaire"}),e.jsx("option",{value:"monthly",children:"Mensuelle"})]})]})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"w-5 h-5"}),"Statut systme"]})}),e.jsx(q,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[e.jsx(ye,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-800",children:"Base de donnes"}),e.jsx("p",{className:"text-sm text-green-600",children:"Connecte"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[e.jsx(ye,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-800",children:"Serveur email"}),e.jsx("p",{className:"text-sm text-green-600",children:"Oprationnel"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-yellow-50 rounded-lg",children:[e.jsx(ks,{className:"w-5 h-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-yellow-800",children:"Sauvegarde"}),e.jsx("p",{className:"text-sm text-yellow-600",children:"En attente"})]})]})]})})]})]})})},oF=()=>{const[t,s]=u.useState(1),[r,n]=u.useState(!1),[a,i]=u.useState(!1),[o,l]=u.useState([]),[c,d]=u.useState([]),f=he(),[m,h]=u.useState({email:"",mot_de_passe:"",confirm_password:"",nom:"",prenom:"",telephone:"",role_id:2,entreprise:{nom_entreprise:"",description:"",logo:null,site_web:"",numero_siret:"",numero_registre_commerce:"",numero_tva:"",telephone_professionnel:"",adresse_ligne1:"",adresse_ligne2:"",ville:"",code_postal:"",pays:"Gabon",secteur_activite_id:"",type_entreprise_id:"",annee_creation:"",nombre_employes:"",capacite_production:"",certifications:"",logo_url:"",statut_verification:"en_attente",note_moyenne:0,nombre_avis:0,date_verification:null}});u.useEffect(()=>{j(),y()},[]);const j=async()=>{var P;try{const T=await H.get("/supplier/secteurs");l(((P=T.data)==null?void 0:P.secteurs)||[])}catch(T){console.error("Erreur chargement secteurs:",T),l([{id:1,nom:"Agriculture",description:"Agriculture et levage"},{id:2,nom:"Artisanat",description:"Artisanat traditionnel"},{id:3,nom:"Textile",description:"Textile et vtements"},{id:4,nom:"lectronique",description:"lectronique et technologie"},{id:5,nom:"Alimentaire",description:"Produits alimentaires"}])}},y=async()=>{var P;try{const T=await H.get("/supplier/types-entreprise");d(((P=T.data)==null?void 0:P.types)||[])}catch(T){console.error("Erreur chargement types entreprise:",T),d([{id:1,nom:"SARL",description:"Socit  responsabilit limite"},{id:2,nom:"SA",description:"Socit anonyme"},{id:3,nom:"Entreprise individuelle",description:"Entreprise individuelle"},{id:4,nom:"Cooprative",description:"Cooprative"}])}},g=P=>{const{name:T,value:L}=P.target;if(T.startsWith("entreprise.")){const I=T.replace("entreprise.","");h(O=>({...O,entreprise:{...O.entreprise,[I]:L}}))}else h(I=>({...I,[T]:L}))},N=(P,T)=>{if(P.startsWith("entreprise.")){const L=P.replace("entreprise.","");h(I=>({...I,entreprise:{...I.entreprise,[L]:T}}))}else h(L=>({...L,[P]:T}))},p=P=>{switch(P){case 1:return!m.nom||!m.prenom||!m.email||!m.telephone||!m.mot_de_passe||!m.confirm_password?(M.error("Veuillez remplir tous les champs obligatoires"),!1):m.mot_de_passe!==m.confirm_password?(M.error("Les mots de passe ne correspondent pas"),!1):m.mot_de_passe.length<6?(M.error("Le mot de passe doit contenir au moins 6 caractres"),!1):!0;case 2:const{nom_entreprise:T,telephone_professionnel:L,secteur_activite_id:I,type_entreprise_id:O}=m.entreprise;return!T||!L||!I||!O?(M.error("Veuillez remplir tous les champs obligatoires de l'entreprise"),!1):!0;case 3:const{adresse_ligne1:X,ville:A,code_postal:B,numero_siret:R}=m.entreprise;return!X||!A||!B||!R?(M.error("Veuillez remplir tous les champs obligatoires d'adresse et lgaux"),!1):!0;default:return!0}},v=()=>{p(t)&&s(P=>Math.min(P+1,5))},x=()=>{s(P=>Math.max(P-1,1))},w=async P=>{var T,L,I,O,X;if(P.preventDefault(),t<4){v();return}if(p(t))try{i(!0);const A=new FormData;A.append("nom",m.nom),A.append("prenom",m.prenom),A.append("email",m.email),A.append("telephone",m.telephone),A.append("mot_de_passe",m.mot_de_passe),A.append("role_id",m.role_id.toString()),A.append("nom_entreprise",m.entreprise.nom_entreprise),A.append("description",m.entreprise.description),A.append("site_web",m.entreprise.site_web),A.append("numero_siret",m.entreprise.numero_siret),A.append("numero_registre_commerce",m.entreprise.numero_registre_commerce),A.append("numero_tva",m.entreprise.numero_tva),A.append("telephone_professionnel",m.entreprise.telephone_professionnel),A.append("adresse_ligne1",m.entreprise.adresse_ligne1),A.append("adresse_ligne2",m.entreprise.adresse_ligne2),A.append("ville",m.entreprise.ville),A.append("code_postal",m.entreprise.code_postal),A.append("pays",m.entreprise.pays),A.append("secteur_activite_id",m.entreprise.secteur_activite_id),A.append("type_entreprise_id",m.entreprise.type_entreprise_id),A.append("annee_creation",m.entreprise.annee_creation),A.append("nombre_employes",m.entreprise.nombre_employes),A.append("capacite_production",m.entreprise.capacite_production),A.append("certifications",m.entreprise.certifications),m.entreprise.logo&&A.append("logo",m.entreprise.logo);const B=await H.request("/supplier/register-supplier",{method:"POST",body:A,headers:{}});if(console.log("Rponse inscription:",B),B&&((T=B.data)!=null&&T.token||B.token||B.success||(L=B.message)!=null&&L.includes("succs")||(I=B.message)!=null&&I.includes("russi"))){const R=((O=B.data)==null?void 0:O.token)||B.token,F=((X=B.data)==null?void 0:X.user)||B.user;R&&localStorage.setItem("authToken",R),F&&localStorage.setItem("user",JSON.stringify(F)),M.success("Inscription russie ! Bienvenue sur GabMarketHub"),f("/supplier/login")}else{const R=B.message||B.error||"Erreur lors de l'inscription";M.error(R)}}catch(A){console.error("Erreur inscription:",A);const B=A.message||"Erreur lors de l'inscription";M.error(B)}finally{i(!1)}},k=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informations personnelles"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Vos informations de contact personnel"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom *"}),e.jsxs("div",{className:"relative",children:[e.jsx(we,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"nom",type:"text",required:!0,placeholder:"Votre nom de famille",value:m.nom,onChange:g,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prnom *"}),e.jsxs("div",{className:"relative",children:[e.jsx(we,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"prenom",type:"text",required:!0,placeholder:"Votre prnom",value:m.prenom,onChange:g,className:"pl-10"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email professionnel *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"email",type:"email",required:!0,placeholder:"contact@votre-entreprise.com",value:m.email,onChange:g,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone personnel *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"telephone",type:"tel",required:!0,placeholder:"+241 XX XX XX XX",value:m.telephone,onChange:g,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"mot_de_passe",type:r?"text":"password",required:!0,placeholder:"Minimum 6 caractres",value:m.mot_de_passe,onChange:g,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>n(!r),children:r?e.jsx(Bs,{className:"w-5 h-5"}):e.jsx(Oe,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"confirm_password",type:"password",required:!0,placeholder:"Confirmez votre mot de passe",value:m.confirm_password,onChange:g,className:"pl-10"})]})]})]}),S=P=>{const{name:T,files:L}=P.target;if(L&&L[0]&&T.startsWith("entreprise.")){const I=T.replace("entreprise.","");h(O=>({...O,entreprise:{...O.entreprise,[I]:L[0]}}))}},b=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informations de l'entreprise"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Prsentez votre entreprise"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'entreprise *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"entreprise.nom_entreprise",required:!0,placeholder:"Nom de votre entreprise",value:m.entreprise.nom_entreprise,onChange:g,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo de l'entreprise"}),e.jsx(D,{name:"entreprise.logo",type:"file",accept:"image/*",onChange:S,className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formats accepts: JPG, PNG, GIF (max 2MB)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone professionnel *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"entreprise.telephone_professionnel",required:!0,placeholder:"+241 XX XX XX XX",value:m.entreprise.telephone_professionnel,onChange:g,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site web"}),e.jsxs("div",{className:"relative",children:[e.jsx(Vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"entreprise.site_web",placeholder:"https://www.votre-site.com",value:m.entreprise.site_web,onChange:g,className:"pl-10"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secteur d'activit *"}),e.jsx(fs,{value:m.entreprise.secteur_activite_id,onValueChange:P=>N("entreprise.secteur_activite_id",P),placeholder:"Slectionnez un secteur",options:o})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type d'entreprise *"}),e.jsx(fs,{value:m.entreprise.type_entreprise_id,onValueChange:P=>N("entreprise.type_entreprise_id",P),placeholder:"Slectionnez un type",options:c})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description de l'entreprise"}),e.jsx(Ye,{name:"entreprise.description",placeholder:"Dcrivez votre entreprise, vos produits et services...",value:m.entreprise.description,onChange:g,rows:4})]})]}),C=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Adresse et informations lgales"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Informations de localisation et lgales"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 1 *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"entreprise.adresse_ligne1",required:!0,placeholder:"Numro et nom de rue",value:m.entreprise.adresse_ligne1,onChange:g,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 2"}),e.jsx(D,{name:"entreprise.adresse_ligne2",placeholder:"Complment d'adresse (optionnel)",value:m.entreprise.adresse_ligne2,onChange:g})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville *"}),e.jsx(D,{name:"entreprise.ville",required:!0,placeholder:"Libreville",value:m.entreprise.ville,onChange:g})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code postal *"}),e.jsx(D,{name:"entreprise.code_postal",required:!0,placeholder:"BP 1234",value:m.entreprise.code_postal,onChange:g})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pays *"}),e.jsxs("select",{name:"entreprise.pays",value:m.entreprise.pays,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Slectionnez votre pays"}),e.jsx("option",{value:"Gabon",children:"Gabon"}),e.jsx("option",{value:"Italie",children:"Italie"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro SIRET *"}),e.jsxs("div",{className:"relative",children:[e.jsx(We,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"entreprise.numero_siret",required:!0,placeholder:"Numro d'identification SIRET",value:m.entreprise.numero_siret,onChange:g,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro de registre de commerce"}),e.jsxs("div",{className:"relative",children:[e.jsx(We,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"entreprise.numero_registre_commerce",placeholder:"Numro registre commerce",value:m.entreprise.numero_registre_commerce,onChange:g,className:"pl-10"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro TVA"}),e.jsx(D,{name:"entreprise.numero_tva",placeholder:"Numro TVA (optionnel)",value:m.entreprise.numero_tva,onChange:g})]})]}),_=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informations complmentaires"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Dtails sur votre entreprise"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anne de cration"}),e.jsx(D,{name:"entreprise.annee_creation",type:"number",placeholder:"2020",value:m.entreprise.annee_creation,onChange:g})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre d'employs"}),e.jsx(D,{name:"entreprise.nombre_employes",type:"number",placeholder:"10",value:m.entreprise.nombre_employes,onChange:g})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacit de production"}),e.jsx(D,{name:"entreprise.capacite_production",placeholder:"Ex: 1000 units/mois",value:m.entreprise.capacite_production,onChange:g})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certifications"}),e.jsx(Ye,{name:"entreprise.certifications",placeholder:"Listez vos certifications (ISO, etc.)",value:m.entreprise.certifications,onChange:g,rows:3})]})]});return e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(Ue,{className:"mx-auto h-12 w-12 text-green-600"}),e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Inscription Fournisseur"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Rejoignez GabMarketHub et dveloppez votre business"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map(P=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${P<=t?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:P}),P<4&&e.jsx("div",{className:`w-12 h-1 mx-1 ${P<t?"bg-green-600":"bg-gray-200"}`})]},P))}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:[e.jsx("span",{children:"Compte"}),e.jsx("span",{children:"Entreprise"}),e.jsx("span",{children:"Adresse"}),e.jsx("span",{children:"Finalisation"})]})]}),e.jsx($,{children:e.jsx(q,{className:"p-8",children:e.jsxs("form",{onSubmit:w,children:[t===1&&k(),t===2&&b(),t===3&&C(),t===4&&_(),e.jsxs("div",{className:"flex justify-between mt-8",children:[t>1&&e.jsx(E,{type:"button",variant:"outline",onClick:x,children:"Prcdent"}),e.jsx("div",{className:"ml-auto",children:t<4?e.jsx(E,{type:"submit",children:"Suivant"}):e.jsx(E,{type:"submit",disabled:a,className:"bg-green-600 hover:bg-green-700",children:a?"Inscription...":"Crer mon compte"})})]})]})})}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez dj un compte ?"," ",e.jsx(Br,{to:"/supplier/login",className:"font-medium text-green-600 hover:text-green-500",children:"Connectez-vous"})]})})]})})})},lF=()=>{const[t,s]=u.useState(!1),[r,n]=u.useState(!0),[a,i]=u.useState([]),[o,l]=u.useState([]),[c,d]=u.useState(!1),f=he(),[m,h]=u.useState({nom_entreprise:"",description:"",logo:null,logo_url:"",site_web:"",numero_siret:"",numero_registre_commerce:"",numero_tva:"",telephone_professionnel:"",adresse_ligne1:"",adresse_ligne2:"",ville:"",code_postal:"",pays:"Gabon",secteur_activite_id:"",type_entreprise_id:"",annee_creation:"",nombre_employes:"",capacite_production:"",certifications:"",nom_banque:"",iban:"",nom_titulaire_compte:"",bic_swift:"",statut_verification:"en_attente"});u.useEffect(()=>{j()},[]);const j=async()=>{try{n(!0),await Promise.all([y(),g(),N()])}catch(S){console.error("Erreur chargement donnes:",S),M.error("Erreur lors du chargement des donnes")}finally{n(!1)}},y=async()=>{var S;try{const b=await H.get("/supplier/secteurs");i(((S=b.data)==null?void 0:S.secteurs)||[])}catch(b){console.error("Erreur chargement secteurs:",b),i([{id:1,nom:"Agriculture",description:"Agriculture et levage"},{id:2,nom:"Artisanat",description:"Artisanat traditionnel"},{id:3,nom:"Textile",description:"Textile et vtements"},{id:4,nom:"lectronique",description:"lectronique et technologie"},{id:5,nom:"Alimentaire",description:"Produits alimentaires"}])}},g=async()=>{var S;try{const b=await H.get("/supplier/types-entreprise");l(((S=b.data)==null?void 0:S.types)||[])}catch(b){console.error("Erreur chargement types entreprise:",b),l([{id:1,nom:"SARL",description:"Socit  responsabilit limite"},{id:2,nom:"SA",description:"Socit anonyme"},{id:3,nom:"Entreprise individuelle",description:"Entreprise individuelle"},{id:4,nom:"Cooprative",description:"Cooprative"}])}},N=async()=>{var S,b,C,_,P,T,L,I;try{let O;try{O=await H.get("/supplier/company-info")}catch(A){if((S=A.message)!=null&&S.includes("404")||(b=A.message)!=null&&b.includes("Route non trouve"))console.log(" Fallback vers ancien endpoint..."),O=await H.get("/supplier/profile");else throw A}const X=O.data;if(X&&(X.entreprise||X.nom_entreprise)){d(!0);const A=X.entreprise||X;h({...A,logo:null,secteur_activite_id:((C=A.secteur_activite_id)==null?void 0:C.toString())||"",type_entreprise_id:((_=A.type_entreprise_id)==null?void 0:_.toString())||"",annee_creation:((P=A.annee_creation)==null?void 0:P.toString())||"",nombre_employes:((T=A.nombre_employes)==null?void 0:T.toString())||""})}}catch(O){console.error("Erreur chargement entreprise:",O),(L=O.message)!=null&&L.includes("404")||(I=O.message)!=null&&I.includes("Route non trouve")?d(!1):M.error("Erreur lors du chargement des informations de l'entreprise")}},p=S=>{const{name:b,value:C}=S.target;h(_=>({..._,[b]:C}))},v=(S,b)=>{h(C=>({...C,[S]:b}))},x=S=>{const{files:b}=S.target;b&&b[0]&&h(C=>({...C,logo:b[0]}))},w=()=>{const S=["nom_entreprise","telephone_professionnel","secteur_activite_id","type_entreprise_id","adresse_ligne1","ville","code_postal","numero_siret"];for(const b of S)if(!m[b])return M.error(`Le champ ${b.replace("_"," ")} est obligatoire`),!1;return!0},k=async S=>{var b,C;if(S.preventDefault(),!!w())try{s(!0);const _=new FormData;Object.entries(m).forEach(([T,L])=>{T==="logo"&&L instanceof File?_.append("logo",L):T!=="logo"&&L!==null&&L!==void 0&&_.append(T,L.toString())});let P;try{const T=c?`/supplier/company-info/${m.id}`:"/supplier/company-info",L=c?"PUT":"POST";P=await H.request(T,{method:L,body:_,headers:{}})}catch(T){if((b=T.message)!=null&&b.includes("404")||(C=T.message)!=null&&C.includes("Route non trouve")){console.log(" Fallback vers ancien endpoint de sauvegarde...");const L={};_.forEach((I,O)=>{O!=="logo"&&(L[O]=I)}),P=await H.put("/supplier/profile",L)}else throw T}P.success?(M.success(c?"Informations de l'entreprise mises  jour avec succs":"Informations de l'entreprise cres avec succs"),await N()):M.error("Erreur lors de la sauvegarde")}catch(_){console.error("Erreur sauvegarde:",_);const P=_.message||"Erreur lors de la sauvegarde";M.error(P)}finally{s(!1)}};return r?e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement des informations..."})]})})}):e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(Ue,{className:"mx-auto h-12 w-12 text-green-600"}),e.jsxs("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:[c?"Modifier les informations":"Complter les informations"," de l'entreprise"]}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:c?"Mettez  jour les informations de votre entreprise":"Ajoutez les informations manquantes de votre entreprise"})]}),c&&m.statut_verification&&e.jsxs(ms,{className:"mb-6",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsxs(hs,{children:["Statut de vrification: ",e.jsxs("strong",{children:[m.statut_verification==="en_attente"&&"En attente de vrification",m.statut_verification==="verifie"&&"Vrifi ",m.statut_verification==="rejete"&&"Rejet "]})]})]}),e.jsxs("form",{onSubmit:k,className:"space-y-8",children:[e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(Ue,{className:"mr-2 h-5 w-5"}),"Informations gnrales"]})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'entreprise *"}),e.jsx(D,{name:"nom_entreprise",required:!0,placeholder:"Nom de votre entreprise",value:m.nom_entreprise,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone professionnel *"}),e.jsx(D,{name:"telephone_professionnel",required:!0,placeholder:"+241 XX XX XX XX",value:m.telephone_professionnel,onChange:p})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo de l'entreprise"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[m.logo_url&&e.jsx("img",{src:m.logo_url,alt:"Logo actuel",className:"w-16 h-16 object-cover rounded-lg border"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(D,{name:"logo",type:"file",accept:"image/*",onChange:x,className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m.logo_url?"Choisir un nouveau logo":"Formats accepts: JPG, PNG, GIF (max 2MB)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site web"}),e.jsx(D,{name:"site_web",placeholder:"https://www.votre-site.com",value:m.site_web,onChange:p})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secteur d'activit *"}),e.jsx(fs,{value:m.secteur_activite_id,onValueChange:S=>v("secteur_activite_id",S),placeholder:"Slectionnez un secteur",options:a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type d'entreprise *"}),e.jsx(fs,{value:m.type_entreprise_id,onValueChange:S=>v("type_entreprise_id",S),placeholder:"Slectionnez un type",options:o})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description de l'entreprise"}),e.jsx(Ye,{name:"description",placeholder:"Dcrivez votre entreprise, vos produits et services...",value:m.description,onChange:p,rows:4})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(Ht,{className:"mr-2 h-5 w-5"}),"Adresse et informations lgales"]})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 1 *"}),e.jsx(D,{name:"adresse_ligne1",required:!0,placeholder:"Numro et nom de rue",value:m.adresse_ligne1,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 2"}),e.jsx(D,{name:"adresse_ligne2",placeholder:"Complment d'adresse (optionnel)",value:m.adresse_ligne2,onChange:p})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville *"}),e.jsx(D,{name:"ville",required:!0,placeholder:"Libreville",value:m.ville,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code postal *"}),e.jsx(D,{name:"code_postal",required:!0,placeholder:"BP 1234",value:m.code_postal,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pays"}),e.jsx(D,{name:"pays",value:m.pays,onChange:p,disabled:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro SIRET *"}),e.jsx(D,{name:"numero_siret",required:!0,placeholder:"Numro d'identification SIRET",value:m.numero_siret,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro de registre de commerce"}),e.jsx(D,{name:"numero_registre_commerce",placeholder:"Numro registre commerce",value:m.numero_registre_commerce,onChange:p})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro TVA"}),e.jsx(D,{name:"numero_tva",placeholder:"Numro TVA (optionnel)",value:m.numero_tva,onChange:p})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(We,{className:"mr-2 h-5 w-5"}),"Informations complmentaires"]})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anne de cration"}),e.jsx(D,{name:"annee_creation",type:"number",placeholder:"2020",value:m.annee_creation,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre d'employs"}),e.jsx(D,{name:"nombre_employes",type:"number",placeholder:"10",value:m.nombre_employes,onChange:p})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacit de production"}),e.jsx(D,{name:"capacite_production",placeholder:"Ex: 1000 units/mois",value:m.capacite_production,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certifications"}),e.jsx(Ye,{name:"certifications",placeholder:"Listez vos certifications (ISO, etc.)",value:m.certifications,onChange:p,rows:3})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(Ue,{className:"mr-2 h-5 w-5"}),"Informations bancaires"]})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la banque"}),e.jsx(D,{name:"nom_banque",placeholder:"Ex: BGFI Bank",value:m.nom_banque,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du titulaire du compte"}),e.jsx(D,{name:"nom_titulaire_compte",placeholder:"Nom sur le compte bancaire",value:m.nom_titulaire_compte,onChange:p})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IBAN"}),e.jsx(D,{name:"iban",placeholder:"GA21 1234 5678 9012 3456 7890 12",value:m.iban,onChange:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code BIC/SWIFT"}),e.jsx(D,{name:"bic_swift",placeholder:"BGFIGAXX",value:m.bic_swift,onChange:p})]})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(E,{type:"button",variant:"outline",onClick:()=>f("/supplier/dashboard"),children:"Annuler"}),e.jsx(E,{type:"submit",disabled:t,className:"bg-green-600 hover:bg-green-700",children:t?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sauvegarde..."]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fr,{className:"mr-2 h-4 w-4"}),c?"Mettre  jour":"Enregistrer"]})})]})]})]})})})},cF=()=>{const t=he(),s=Jx(),[r,n]=u.useState(""),[a,i]=u.useState("date_added"),[o,l]=u.useState("grid"),[c,d]=u.useState("all"),[f,m]=u.useState([]),{data:h=[],isLoading:j}=Re({queryKey:["favorites"],queryFn:()=>H.get("/users/favorites")}),y=Z3({mutationFn:S=>H.delete(`/users/favorites/${S}`),onSuccess:()=>{s.invalidateQueries({queryKey:["favorites"]}),M.success("Produit retir des favoris")},onError:S=>{var b,C;M.error(((C=(b=S.response)==null?void 0:b.data)==null?void 0:C.error)||"Erreur lors de la suppression")}}),g=async S=>{var b,C;try{const _={produit_id:S.id,quantite:S.moq||1,prix_unitaire:S.prix_unitaire};await H.post("/cart/add",_),M.success(`${S.nom} ajout au panier`)}catch(_){M.error(((C=(b=_.response)==null?void 0:b.data)==null?void 0:C.error)||"Erreur lors de l'ajout au panier")}},N=u.useMemo(()=>{let S=h.filter(b=>{var C;if(r){const _=b.nom.toLowerCase().includes(r.toLowerCase()),P=(C=b.fournisseur_nom)==null?void 0:C.toLowerCase().includes(r.toLowerCase());if(!_&&!P)return!1}return!(c!=="all"&&b.categorie_nom!==c)});return S.sort((b,C)=>{switch(a){case"name_asc":return b.nom.localeCompare(C.nom);case"name_desc":return C.nom.localeCompare(b.nom);case"price_asc":return b.prix_unitaire-C.prix_unitaire;case"price_desc":return C.prix_unitaire-b.prix_unitaire;case"rating":return(C.note_moyenne||0)-(b.note_moyenne||0);default:return new Date(C.date_ajout||C.created_at).getTime()-new Date(b.date_ajout||b.created_at).getTime()}}),S},[h,r,c,a]),p=u.useMemo(()=>[...new Set(h.map(b=>b.categorie_nom).filter(Boolean))],[h]),v=()=>{m(N.map(S=>S.id))},x=()=>{m([])},w=async()=>{if(f.length!==0)try{await Promise.all(f.map(S=>H.delete(`/users/favorites/${S}`))),s.invalidateQueries({queryKey:["favorites"]}),M.success(`${f.length} favori(s) supprim(s)`),m([])}catch{M.error("Erreur lors de la suppression")}},k=()=>{const b=`Mes favoris GabMarketHub:
${N.filter(C=>f.includes(C.id)).map(C=>` ${C.nom} - ${C.prix_unitaire}`).join(`
`)}`;navigator.share?navigator.share({title:"Mes favoris GabMarketHub",text:b,url:window.location.href}):(navigator.clipboard.writeText(b),M.success("Liste copie dans le presse-papiers"))};return j?e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement de vos favoris..."})]})})}):e.jsx(De,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx(rc,{fallbackPath:"/dashboard",className:"mb-4"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(wt,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Favoris"}),e.jsxs("p",{className:"text-gray-600",children:[h.length," produit",h.length>1?"s":""," dans vos favoris"]})]})]}),f.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(U,{variant:"secondary",className:"text-sm",children:[f.length," slectionn",f.length>1?"s":""]}),e.jsxs(E,{variant:"outline",size:"sm",onClick:k,children:[e.jsx(ao,{className:"w-4 h-4 mr-1"}),"Partager"]}),e.jsxs(E,{variant:"destructive",size:"sm",onClick:w,children:[e.jsx(Cs,{className:"w-4 h-4 mr-1"}),"Supprimer"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(D,{placeholder:"Rechercher dans vos favoris...",value:r,onChange:S=>n(S.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(dr,{value:c,onValueChange:d,children:[e.jsx(Ls,{className:"w-40",children:e.jsx(ur,{placeholder:"Catgorie"})}),e.jsxs(Ds,{children:[e.jsx(be,{value:"all",children:"Toutes les catgories"}),p.map(S=>e.jsx(be,{value:S,children:S},S))]})]}),e.jsxs(dr,{value:a,onValueChange:i,children:[e.jsx(Ls,{className:"w-40",children:e.jsx(ur,{placeholder:"Trier par"})}),e.jsxs(Ds,{children:[e.jsx(be,{value:"date_added",children:"Date d'ajout"}),e.jsx(be,{value:"name_asc",children:"Nom (A-Z)"}),e.jsx(be,{value:"name_desc",children:"Nom (Z-A)"}),e.jsx(be,{value:"price_asc",children:"Prix (croissant)"}),e.jsx(be,{value:"price_desc",children:"Prix (dcroissant)"}),e.jsx(be,{value:"rating",children:"Note"})]})]}),e.jsxs("div",{className:"flex border rounded-md",children:[e.jsx(E,{variant:o==="grid"?"default":"ghost",size:"sm",onClick:()=>l("grid"),className:"rounded-r-none",children:e.jsx(Ua,{className:"w-4 h-4"})}),e.jsx(E,{variant:o==="list"?"default":"ghost",size:"sm",onClick:()=>l("list"),className:"rounded-l-none",children:e.jsx(bu,{className:"w-4 h-4"})})]})]})]}),h.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx(E,{variant:"outline",size:"sm",onClick:v,children:"Tout slectionner"}),f.length>0&&e.jsx(E,{variant:"outline",size:"sm",onClick:x,children:"Dslectionner tout"})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(wt,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Aucun favori pour le moment"}),e.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Dcouvrez nos produits et ajoutez-les  vos favoris pour les retrouver facilement"}),e.jsx(E,{size:"lg",onClick:()=>t("/products"),children:"Dcouvrir les produits"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(S=>e.jsx($,{className:"group hover:shadow-lg transition-shadow",children:e.jsxs(q,{className:"p-4",children:[e.jsxs("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg mb-4 overflow-hidden",children:[S.image_principale?e.jsx("img",{src:Dt(S.image_principale),alt:S.nom,className:"w-full h-full object-cover cursor-pointer",onClick:()=>t(`/products/${S.id}`),onError:b=>{const C=b.target;C.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center cursor-pointer",onClick:()=>t(`/products/${S.id}`),children:e.jsx(Oe,{className:"w-16 h-16 text-gray-400"})}),e.jsx(E,{variant:"outline",size:"sm",className:"absolute top-2 right-2 bg-white/90 hover:bg-white",onClick:()=>y.mutate(S.id),disabled:y.isPending,children:e.jsx(Cs,{className:"w-4 h-4 text-red-600"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 cursor-pointer hover:text-green-600",onClick:()=>t(`/products/${S.id}`),children:S.nom}),e.jsx("p",{className:"text-sm text-gray-600",children:S.fournisseur_nom})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((b,C)=>e.jsx(ot,{className:`w-4 h-4 ${C<Math.floor(S.note_moyenne||0)?"text-yellow-400 fill-current":"text-gray-300"}`},C))}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",S.nombre_avis||0,")"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-xl font-bold text-green-600",children:[S.prix_unitaire,""]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["/",S.unite]})]}),S.featured&&e.jsx(U,{className:"bg-yellow-400 text-gray-800",children:"Vedette"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(E,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>t(`/products/${S.id}`),children:[e.jsx(Oe,{className:"w-4 h-4 mr-1"}),"Voir"]}),e.jsxs(E,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>g(S),disabled:S.stock_disponible===0,children:[e.jsx(zs,{className:"w-4 h-4 mr-1"}),"Panier"]})]}),S.stock_disponible===0&&e.jsx("p",{className:"text-sm text-red-600 text-center",children:"Stock puis"})]})]})},S.id))}),h.length>0&&e.jsx("div",{className:"mt-12 text-center space-y-4",children:e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(E,{variant:"outline",onClick:()=>t("/products"),children:"Continuer mes achats"}),e.jsxs(E,{onClick:()=>t("/cart"),children:[e.jsx(zs,{className:"w-4 h-4 mr-2"}),"Voir mon panier"]})]})})]})]})})},yv=()=>{const t=he(),[s,r]=u.useState(""),[n,a]=u.useState(!1),[i,o]=u.useState(!1),l=async c=>{var d,f;if(c.preventDefault(),!s){M.error("Veuillez saisir votre adresse email");return}a(!0);try{await H.post("/auth/forgot-password",{email:s}),o(!0),M.success("Si cet email existe dans notre systme, vous recevrez un lien de rinitialisation")}catch(m){console.error("Erreur forgot password:",m),M.error(((f=(d=m.response)==null?void 0:d.data)==null?void 0:f.error)||"Erreur lors de l'envoi de l'email")}finally{a(!1)}};return e.jsx(De,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs($,{className:"w-full max-w-md",children:[e.jsxs(K,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Rt,{className:"w-8 h-8 text-green-600"})}),e.jsx(Y,{className:"text-2xl font-bold text-gray-900",children:i?"Email envoy !":"Mot de passe oubli ?"}),e.jsx("p",{className:"text-gray-600 mt-2",children:i?"Vrifiez votre bote email pour rinitialiser votre mot de passe":"Saisissez votre email pour recevoir un lien de rcupration"})]}),e.jsxs(q,{children:[i?e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(ye,{className:"w-8 h-8 text-green-600"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Un email a t envoy  ",e.jsx("strong",{children:s})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cliquez sur le lien dans l'email pour rinitialiser votre mot de passe."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(E,{onClick:()=>t("/login"),className:"w-full bg-green-600 hover:bg-green-700",children:"Retour  la connexion"}),e.jsx(E,{variant:"outline",onClick:()=>{o(!1),r("")},className:"w-full",children:"Renvoyer l'email"})]})]}):e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),e.jsx(D,{id:"email",type:"email",value:s,onChange:c=>r(c.target.value),placeholder:"votre@email.com",required:!0,className:"w-full"})]}),e.jsx(E,{type:"submit",disabled:n,className:"w-full bg-green-600 hover:bg-green-700",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Envoi en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Envoyer le lien de rcupration"]})}),e.jsx("div",{className:"text-center",children:e.jsxs(E,{type:"button",variant:"ghost",onClick:()=>t("/login"),className:"text-gray-600 hover:text-gray-800",children:[e.jsx(Ys,{className:"w-4 h-4 mr-2"}),"Retour  la connexion"]})})]}),e.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Besoin d'aide ?"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" Vrifiez votre dossier spam/courrier indsirable"}),e.jsx("li",{children:" L'email peut prendre quelques minutes  arriver"}),e.jsx("li",{children:" Le lien expire aprs 24 heures"})]}),e.jsxs("p",{className:"text-sm text-blue-800 mt-3",children:["Problme persistant ? Contactez notre support "," ",e.jsx("a",{href:"mailto:support@gabmarkethub.com",className:"underline",children:"support@gabmarkethub.com"})]})]})]})]})})})},dF=()=>{var S;const[t]=ni(),s=he(),r=t.get("token"),[n,a]=u.useState({newPassword:"",confirmPassword:""}),[i,o]=u.useState(!1),[l,c]=u.useState(!1),[d,f]=u.useState(!1),[m,h]=u.useState(!0),[j,y]=u.useState(!1),[g,N]=u.useState(null);u.useEffect(()=>{(async()=>{if(!r){h(!1);return}try{const C=await H.get(`/auth/reset-password/verify/${r}`);y(!0),N(C)}catch(C){console.error("Erreur vrification token:",C),y(!1),M.error("Lien de rinitialisation invalide ou expir")}finally{h(!1)}})()},[r]);const p=b=>{const{name:C,value:_}=b.target;a(P=>({...P,[C]:_}))},x=(b=>{const C=b.length>=6,_=/\d/.test(b),P=/[a-zA-Z]/.test(b);return{minLength:C,hasNumber:_,hasLetter:P,isValid:C&&_&&P}})(n.newPassword),w=n.newPassword===n.confirmPassword&&n.confirmPassword.length>0,k=async b=>{var C,_;if(b.preventDefault(),!x.isValid){M.error("Le mot de passe doit contenir au moins 6 caractres, un chiffre et une lettre");return}if(!w){M.error("Les mots de passe ne correspondent pas");return}f(!0);try{await H.post("/auth/reset-password",{token:r,newPassword:n.newPassword}),M.success("Mot de passe rinitialis avec succs !"),s("/login")}catch(P){console.error("Erreur reset password:",P),M.error(((_=(C=P.response)==null?void 0:C.data)==null?void 0:_.error)||"Erreur lors de la rinitialisation")}finally{f(!1)}};return m?e.jsx(De,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsx($,{className:"w-full max-w-md",children:e.jsx(q,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gabon-green mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Vrification du lien..."})]})})})})}):j?e.jsx(De,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs($,{className:"w-full max-w-md",children:[e.jsxs(K,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ls,{className:"w-8 h-8 text-green-600"})}),e.jsx(Y,{className:"text-2xl font-bold text-gray-900",children:"Nouveau mot de passe"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Crez un nouveau mot de passe pour"}),e.jsx("p",{className:"text-gabon-green font-semibold",children:(S=g==null?void 0:g.user)==null?void 0:S.email})]}),e.jsx(q,{children:e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"newPassword",type:i?"text":"password",required:!0,placeholder:"Votre nouveau mot de passe",value:n.newPassword,onChange:p,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>o(!i),children:i?e.jsx(Bs,{className:"w-5 h-5"}):e.jsx(Oe,{className:"w-5 h-5"})})]}),n.newPassword&&e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("div",{className:`flex items-center text-xs ${x.minLength?"text-green-600":"text-red-600"}`,children:[e.jsx(ye,{className:"w-3 h-3 mr-1"}),"Au moins 6 caractres"]}),e.jsxs("div",{className:`flex items-center text-xs ${x.hasNumber?"text-green-600":"text-red-600"}`,children:[e.jsx(ye,{className:"w-3 h-3 mr-1"}),"Contient un chiffre"]}),e.jsxs("div",{className:`flex items-center text-xs ${x.hasLetter?"text-green-600":"text-red-600"}`,children:[e.jsx(ye,{className:"w-3 h-3 mr-1"}),"Contient une lettre"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{name:"confirmPassword",type:l?"text":"password",required:!0,placeholder:"Confirmez votre mot de passe",value:n.confirmPassword,onChange:p,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>c(!l),children:l?e.jsx(Bs,{className:"w-5 h-5"}):e.jsx(Oe,{className:"w-5 h-5"})})]}),n.confirmPassword&&e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:`flex items-center text-xs ${w?"text-green-600":"text-red-600"}`,children:[e.jsx(ye,{className:"w-3 h-3 mr-1"}),w?"Les mots de passe correspondent":"Les mots de passe ne correspondent pas"]})})]}),e.jsx(E,{type:"submit",disabled:d||!x.isValid||!w,className:"w-full",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Rinitialisation..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-4 h-4 mr-2"}),"Rinitialiser le mot de passe"]})}),e.jsx("div",{className:"text-center",children:e.jsx(Br,{to:"/login",className:"text-sm text-gabon-green hover:text-gabon-green/80",children:"Retour  la connexion"})})]})})]})})}):e.jsx(De,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs($,{className:"w-full max-w-md",children:[e.jsxs(K,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ft,{className:"w-8 h-8 text-red-600"})}),e.jsx(Y,{className:"text-2xl font-bold text-gray-900",children:"Lien invalide"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Ce lien de rinitialisation est invalide ou a expir."})]}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(E,{asChild:!0,className:"w-full",children:e.jsx(Br,{to:"/forgot-password",children:"Demander un nouveau lien"})}),e.jsx(E,{asChild:!0,variant:"outline",className:"w-full",children:e.jsx(Br,{to:"/login",children:"Retour  la connexion"})})]})})]})})})},uF=()=>{const t=he();return e.jsx(De,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs(E,{variant:"ghost",onClick:()=>t(-1),className:"mb-4",children:[e.jsx(Ys,{className:"w-4 h-4 mr-2"}),"Retour"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(We,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Conditions d'utilisation"})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Dernire mise  jour : 15 janvier 2024"})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5 text-green-600"}),"Introduction"]})}),e.jsx(q,{className:"prose max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Bienvenue sur GabMarketHub, la premire plateforme B2B du Gabon connectant les entreprises italiennes et les fournisseurs gabonais. En utilisant notre plateforme, vous acceptez les prsentes conditions d'utilisation."})})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"w-5 h-5 text-blue-600"}),"Dfinitions"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Plateforme"}),e.jsx("p",{className:"text-gray-700",children:"Dsigne le site web GabMarketHub et tous ses services associs."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Utilisateur"}),e.jsx("p",{className:"text-gray-700",children:"Toute personne physique ou morale utilisant la plateforme."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Fournisseur"}),e.jsx("p",{className:"text-gray-700",children:"Entreprise gabonaise proposant des produits ou services sur la plateforme."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Acheteur"}),e.jsx("p",{className:"text-gray-700",children:"Entreprise italienne ou internationale recherchant des produits ou services."})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(at,{className:"w-5 h-5 text-purple-600"}),"Conditions d'accs et d'inscription"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"ligibilit"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"tre une entreprise lgalement constitue"}),e.jsx("li",{children:"Avoir la capacit juridique de contracter"}),e.jsx("li",{children:"Fournir des informations exactes et  jour"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Vrification"}),e.jsx("p",{className:"text-gray-700",children:"GabMarketHub se rserve le droit de vrifier l'identit et la lgitimit de tous les utilisateurs avant l'activation de leur compte."})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5 text-green-600"}),"Utilisation de la plateforme"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Usages autoriss"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Recherche et achat de produits professionnels"}),e.jsx("li",{children:"Communication avec les fournisseurs"}),e.jsx("li",{children:"Gestion des favoris et produits"}),e.jsx("li",{children:"valuation des produits et services"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Usages interdits"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Utilisation  des fins illgales ou frauduleuses"}),e.jsx("li",{children:"Contournement des mesures de scurit"}),e.jsx("li",{children:"Spam ou communications non sollicites"}),e.jsx("li",{children:"Violation des droits de proprit intellectuelle"})]})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5 text-red-600"}),"Responsabilits et garanties"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Responsabilit de GabMarketHub"}),e.jsx("p",{className:"text-gray-700",children:"GabMarketHub agit en tant qu'intermdiaire technique. Nous ne sommes pas responsables de la qualit des produits, des dlais de livraison ou des litiges entre utilisateurs."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Responsabilit des utilisateurs"}),e.jsx("p",{className:"text-gray-700",children:"Chaque utilisateur est responsable de ses actions sur la plateforme et doit respecter la lgislation en vigueur au Gabon et en Italie."})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"w-5 h-5 text-indigo-600"}),"Proprit intellectuelle"]})}),e.jsx(q,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Tous les lments de la plateforme (design, logos, textes, images) sont protgs par les droits de proprit intellectuelle. Toute reproduction non autorise est interdite."})})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Ck,{className:"w-5 h-5 text-yellow-600"}),"Modification des conditions"]})}),e.jsx(q,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"GabMarketHub se rserve le droit de modifier les prsentes conditions  tout moment. Les utilisateurs seront informs des modifications par email et devront accepter les nouvelles conditions pour continuer  utiliser la plateforme."})})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(at,{className:"w-5 h-5 text-green-600"}),"Contact et support"]})}),e.jsxs(q,{children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Pour toute question concernant ces conditions d'utilisation, contactez-nous :"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email :"})," legal@gabmarkethub.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tlphone :"})," +241 XX XX XX XX"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Adresse :"})," Libreville, Gabon"]})]})]})]}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"En utilisant GabMarketHub, vous confirmez avoir lu et accept ces conditions d'utilisation."}),e.jsx(E,{onClick:()=>t(-1),size:"lg",children:"J'ai lu et j'accepte les conditions"})]})]})})]})})},mF=()=>{const t=he();return e.jsx(De,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs(E,{variant:"ghost",onClick:()=>t(-1),className:"mb-4",children:[e.jsx(Ys,{className:"w-4 h-4 mr-2"}),"Retour"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"w-8 h-8 text-green-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Politique de confidentialit"})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Dernire mise  jour : 15 janvier 2024"})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5 text-green-600"}),"Notre engagement"]})}),e.jsx(q,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"GabMarketHub s'engage  protger votre vie prive et vos donnes personnelles. Cette politique explique comment nous collectons, utilisons et protgeons vos informations dans le cadre de notre plateforme B2B reliant l'Italie et le Gabon."})})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(El,{className:"w-5 h-5 text-blue-600"}),"Donnes que nous collectons"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Informations d'entreprise"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Raison sociale et forme juridique"}),e.jsx("li",{children:"Numro d'identification (SIRET, TVA intracommunautaire)"}),e.jsx("li",{children:"Adresse du sige social"}),e.jsx("li",{children:"Secteur d'activit et certifications"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Informations de contact"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Nom et prnom du reprsentant"}),e.jsx("li",{children:"Adresse email professionnelle"}),e.jsx("li",{children:"Numro de tlphone"}),e.jsx("li",{children:"Fonction dans l'entreprise"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Donnes d'utilisation"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Historique de navigation et recherches"}),e.jsx("li",{children:"Interactions avec les fournisseurs"}),e.jsx("li",{children:"Favoris et interactions"}),e.jsx("li",{children:"valuations et commentaires"})]})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"w-5 h-5 text-purple-600"}),"Comment nous utilisons vos donnes"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Services de la plateforme"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Cration et gestion de votre compte"}),e.jsx("li",{children:"Mise en relation avec des partenaires commerciaux"}),e.jsx("li",{children:"Traitement des demandes et communications"}),e.jsx("li",{children:"Support client et rsolution de litiges"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Amlioration de l'exprience"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Personnalisation des recommandations"}),e.jsx("li",{children:"Analyse des tendances du march"}),e.jsx("li",{children:"Optimisation de la plateforme"}),e.jsx("li",{children:"Prvention de la fraude"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Communication"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Notifications sur vos favoris"}),e.jsx("li",{children:"Alertes de scurit importantes"}),e.jsx("li",{children:"Newsletter (avec votre consentement)"}),e.jsx("li",{children:"Enqutes de satisfaction"})]})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(at,{className:"w-5 h-5 text-orange-600"}),"Partage de vos donnes"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Avec les autres utilisateurs"}),e.jsx("p",{className:"text-gray-700",children:"Vos informations d'entreprise (nom, secteur, localisation) sont visibles par les autres utilisateurs pour faciliter les changes commerciaux."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Avec nos partenaires"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Services de validation (pour les documents)"}),e.jsx("li",{children:"Services de livraison (pour l'expdition)"}),e.jsx("li",{children:"Organismes de vrification (pour la certification)"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Obligations lgales"}),e.jsx("p",{className:"text-gray-700",children:"Nous pouvons divulguer vos donnes si requis par la loi, une dcision de justice ou les autorits comptentes du Gabon ou d'Italie."})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"w-5 h-5 text-red-600"}),"Scurit de vos donnes"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Mesures techniques"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Chiffrement SSL/TLS pour toutes les communications"}),e.jsx("li",{children:"Stockage scuris dans des centres de donnes certifis"}),e.jsx("li",{children:"Authentification  deux facteurs disponible"}),e.jsx("li",{children:"Surveillance continue des accs"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Mesures organisationnelles"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Accs limit aux donnes selon le principe du moindre privilge"}),e.jsx("li",{children:"Formation rgulire de nos quipes"}),e.jsx("li",{children:"Audits de scurit priodiques"}),e.jsx("li",{children:"Plan de rponse aux incidents"})]})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5 text-green-600"}),"Vos droits"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Droits d'accs et de rectification"}),e.jsx("p",{className:"text-gray-700",children:"Vous pouvez consulter et modifier vos donnes personnelles  tout moment depuis votre espace utilisateur."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Droit  l'effacement"}),e.jsx("p",{className:"text-gray-700",children:"Vous pouvez demander la suppression de votre compte et de vos donnes, sous rserve de nos obligations lgales de conservation."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Droit  la portabilit"}),e.jsx("p",{className:"text-gray-700",children:"Vous pouvez rcuprer vos donnes dans un format structur et lisible pour les transfrer vers un autre service."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Droit d'opposition"}),e.jsx("p",{className:"text-gray-700",children:"Vous pouvez vous opposer au traitement de vos donnes  des fins de marketing ou d'analyse statistique."})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Vs,{className:"w-5 h-5 text-indigo-600"}),"Transferts internationaux"]})}),e.jsx(q,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Dans le cadre de notre activit reliant l'Italie et le Gabon, vos donnes peuvent tre transfres entre ces pays. Nous nous assurons que ces transferts respectent les rglementations en vigueur et offrent un niveau de protection adquat."})})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(El,{className:"w-5 h-5 text-yellow-600"}),"Conservation des donnes"]})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Dures de conservation"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Donnes de compte : pendant la dure d'utilisation + 3 ans"}),e.jsx("li",{children:"Donnes de transaction : 10 ans (obligations comptables)"}),e.jsx("li",{children:"Donnes de navigation : 13 mois maximum"}),e.jsx("li",{children:"Donnes de support : 3 ans aprs rsolution"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Suppression automatique"}),e.jsx("p",{className:"text-gray-700",children:" l'expiration des dlais de conservation, vos donnes sont automatiquement supprimes de nos systmes de manire scurise et irrversible."})]})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(at,{className:"w-5 h-5 text-green-600"}),"Contact et rclamations"]})}),e.jsxs(q,{children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Pour toute question concernant cette politique de confidentialit ou pour exercer vos droits :"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Dlgu  la protection des donnes :"})," dpo@gabmarkethub.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Support :"})," privacy@gabmarkethub.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tlphone :"})," +241 XX XX XX XX"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Adresse :"})," Libreville, Gabon"]})]}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Autorit de contrle :"})," En cas de litige, vous pouvez saisir l'autorit de protection des donnes comptente de votre pays de rsidence."]})})]})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"w-5 h-5 text-purple-600"}),"Modifications de cette politique"]})}),e.jsx(q,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Nous pouvons modifier cette politique de confidentialit pour reflter les volutions de nos services ou de la rglementation. Vous serez inform de tout changement significatif par email et devrez accepter la nouvelle politique pour continuer  utiliser nos services."})})]}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"En utilisant GabMarketHub, vous confirmez avoir lu et compris cette politique de confidentialit."}),e.jsx(E,{onClick:()=>t(-1),size:"lg",children:"J'ai lu et j'accepte la politique"})]})]})})]})})};var TC=["PageUp","PageDown"],RC=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],AC={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Eo="Slider",[Tf,hF,fF]=Xl(Eo),[MC]=Wr(Eo,[fF]),[xF,Xu]=MC(Eo),IC=u.forwardRef((t,s)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:f,onValueChange:m=()=>{},onValueCommit:h=()=>{},inverted:j=!1,form:y,...g}=t,N=u.useRef(new Set),p=u.useRef(0),x=o==="horizontal"?pF:gF,[w=[],k]=ia({prop:f,defaultProp:d,onChange:T=>{var I;(I=[...N.current][p.current])==null||I.focus(),m(T)}}),S=u.useRef(w);function b(T){const L=NF(w,T);P(T,L)}function C(T){P(T,p.current)}function _(){const T=S.current[p.current];w[p.current]!==T&&h(w)}function P(T,L,{commit:I}={commit:!1}){const O=_F(i),X=kF(Math.round((T-n)/i)*i+n,O),A=Fl(X,[n,a]);k((B=[])=>{const R=yF(B,A,L);if(SF(R,c*i)){p.current=R.indexOf(A);const F=String(R)!==String(B);return F&&I&&h(R),F?R:B}else return B})}return e.jsx(xF,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:p,thumbs:N.current,values:w,orientation:o,form:y,children:e.jsx(Tf.Provider,{scope:t.__scopeSlider,children:e.jsx(Tf.Slot,{scope:t.__scopeSlider,children:e.jsx(x,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:s,onPointerDown:se(g.onPointerDown,()=>{l||(S.current=w)}),min:n,max:a,inverted:j,onSlideStart:l?void 0:b,onSlideMove:l?void 0:C,onSlideEnd:l?void 0:_,onHomeKeyDown:()=>!l&&P(n,0,{commit:!0}),onEndKeyDown:()=>!l&&P(a,w.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:L})=>{if(!l){const X=TC.includes(T.key)||T.shiftKey&&RC.includes(T.key)?10:1,A=p.current,B=w[A],R=i*X*L;P(B+R,A,{commit:!0})}}})})})})});IC.displayName=Eo;var[LC,DC]=MC(Eo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),pF=u.forwardRef((t,s)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=t,[m,h]=u.useState(null),j=Ce(s,x=>h(x)),y=u.useRef(),g=Co(a),N=g==="ltr",p=N&&!i||!N&&i;function v(x){const w=y.current||m.getBoundingClientRect(),k=[0,w.width],b=Lp(k,p?[r,n]:[n,r]);return y.current=w,b(x-w.left)}return e.jsx(LC,{scope:t.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:e.jsx(OC,{dir:g,"data-orientation":"horizontal",...f,ref:j,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const w=v(x.clientX);o==null||o(w)},onSlideMove:x=>{const w=v(x.clientX);l==null||l(w)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:x=>{const k=AC[p?"from-left":"from-right"].includes(x.key);d==null||d({event:x,direction:k?-1:1})}})})}),gF=u.forwardRef((t,s)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,f=u.useRef(null),m=Ce(s,f),h=u.useRef(),j=!a;function y(g){const N=h.current||f.current.getBoundingClientRect(),p=[0,N.height],x=Lp(p,j?[n,r]:[r,n]);return h.current=N,x(g-N.top)}return e.jsx(LC,{scope:t.__scopeSlider,startEdge:j?"bottom":"top",endEdge:j?"top":"bottom",size:"height",direction:j?1:-1,children:e.jsx(OC,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const N=y(g.clientY);i==null||i(N)},onSlideMove:g=>{const N=y(g.clientY);o==null||o(N)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const p=AC[j?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:p?-1:1})}})})}),OC=u.forwardRef((t,s)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=t,f=Xu(Eo,r);return e.jsx(me.span,{...d,ref:s,onKeyDown:se(t.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):TC.concat(RC).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:se(t.onPointerDown,m=>{const h=m.target;h.setPointerCapture(m.pointerId),m.preventDefault(),f.thumbs.has(h)?h.focus():n(m)}),onPointerMove:se(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&a(m)}),onPointerUp:se(t.onPointerUp,m=>{const h=m.target;h.hasPointerCapture(m.pointerId)&&(h.releasePointerCapture(m.pointerId),i(m))})})}),FC="SliderTrack",zC=u.forwardRef((t,s)=>{const{__scopeSlider:r,...n}=t,a=Xu(FC,r);return e.jsx(me.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:s})});zC.displayName=FC;var Rf="SliderRange",$C=u.forwardRef((t,s)=>{const{__scopeSlider:r,...n}=t,a=Xu(Rf,r),i=DC(Rf,r),o=u.useRef(null),l=Ce(s,o),c=a.values.length,d=a.values.map(h=>BC(h,a.min,a.max)),f=c>1?Math.min(...d):0,m=100-Math.max(...d);return e.jsx(me.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...t.style,[i.startEdge]:f+"%",[i.endEdge]:m+"%"}})});$C.displayName=Rf;var Af="SliderThumb",qC=u.forwardRef((t,s)=>{const r=hF(t.__scopeSlider),[n,a]=u.useState(null),i=Ce(s,l=>a(l)),o=u.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return e.jsx(vF,{...t,ref:i,index:o})}),vF=u.forwardRef((t,s)=>{const{__scopeSlider:r,index:n,name:a,...i}=t,o=Xu(Af,r),l=DC(Af,r),[c,d]=u.useState(null),f=Ce(s,v=>d(v)),m=c?o.form||!!c.closest("form"):!0,h=Hb(c),j=o.values[n],y=j===void 0?0:BC(j,o.min,o.max),g=bF(n,o.values.length),N=h==null?void 0:h[l.size],p=N?wF(N,y,l.direction):0;return u.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${p}px)`},children:[e.jsx(Tf.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(me.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":j,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:f,style:j===void 0?{display:"none"}:t.style,onFocus:se(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),m&&e.jsx(jF,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:j},n)]})});qC.displayName=Af;var jF=t=>{const{value:s,...r}=t,n=u.useRef(null),a=V2(s);return u.useEffect(()=>{const i=n.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==s&&c){const d=new Event("input",{bubbles:!0});c.call(i,s),i.dispatchEvent(d)}},[a,s]),e.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:s})};function yF(t=[],s,r){const n=[...t];return n[r]=s,n.sort((a,i)=>a-i)}function BC(t,s,r){const i=100/(r-s)*(t-s);return Fl(i,[0,100])}function bF(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function NF(t,s){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-s)),n=Math.min(...r);return r.indexOf(n)}function wF(t,s,r){const n=t/2,i=Lp([0,50],[0,n]);return(n-i(s)*r)*r}function CF(t){return t.slice(0,-1).map((s,r)=>t[r+1]-s)}function SF(t,s){if(s>0){const r=CF(t);return Math.min(...r)>=s}return!0}function Lp(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const n=(s[1]-s[0])/(t[1]-t[0]);return s[0]+n*(r-t[0])}}function _F(t){return(String(t).split(".")[1]||"").length}function kF(t,s){const r=Math.pow(10,s);return Math.round(t*r)/r}var VC=IC,EF=zC,PF=$C,TF=qC;const Mf=u.forwardRef(({className:t,...s},r)=>e.jsxs(VC,{ref:r,className:ie("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(EF,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(PF,{className:"absolute h-full bg-primary"})}),e.jsx(TF,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Mf.displayName=VC.displayName;const RF=()=>{const t=he(),[s,r]=u.useState(!1),[n,a]=u.useState({query:"",type:"all",category:"all",priceRange:[0,1e4],rating:0,location:"all",sortBy:"relevance",features:[],availability:"all",supplierType:"all"}),{data:i=[]}=Re({queryKey:["categories"],queryFn:async()=>{const v=await H.get("/categories");return v.categories||v.data||v||[]}}),{data:o=[],isLoading:l}=Re({queryKey:["search",n],queryFn:async()=>{if(!n.query.trim())return[];const v=new URLSearchParams({q:n.query,type:n.type,category:n.category,min_price:n.priceRange[0].toString(),max_price:n.priceRange[1].toString(),min_rating:n.rating.toString(),location:n.location,sort:n.sortBy,availability:n.availability,supplier_type:n.supplierType,features:n.features.join(",")}),x=await H.get(`/search?${v}`);return x.results||x.data||x||[]},enabled:!!n.query.trim()}),[c,d]=u.useState([]),[f,m]=u.useState(!1),h=["Produits artisanaux","Fournisseurs locaux","Textiles traditionnels","Poterie gabonaise","Vannerie","Bijoux artisanaux"],j=JSON.parse(localStorage.getItem("recentSearches")||"[]");u.useEffect(()=>{if(n.query.length>2){const v=[`${n.query} artisanaux`,`${n.query} traditionnels`,`${n.query} locaux`,`Fournisseurs ${n.query}`,`Produits ${n.query}`];d(v),m(!0)}else m(!1)},[n.query]);const y=v=>{const x=v||n.query;if(!x.trim())return;const w=[x,...j.filter(k=>k!==x)].slice(0,5);localStorage.setItem("recentSearches",JSON.stringify(w)),a(k=>({...k,query:x})),m(!1)},g=()=>{a({query:"",type:"all",category:"all",priceRange:[0,1e4],rating:0,location:"all",sortBy:"relevance",features:[],availability:"all",supplierType:"all"})},N=v=>{switch(v){case"product":return e.jsx(fe,{className:"w-4 h-4"});case"supplier":return e.jsx(dn,{className:"w-4 h-4"});case"category":return e.jsx(fe,{className:"w-4 h-4"});default:return e.jsx(Ve,{className:"w-4 h-4"})}},p=v=>{switch(v){case"product":return"Produit";case"supplier":return"Fournisseur";case"category":return"Catgorie";default:return"Rsultat"}};return e.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(D,{placeholder:"Rechercher des produits, fournisseurs, catgories...",value:n.query,onChange:v=>a(x=>({...x,query:v.target.value})),onKeyPress:v=>v.key==="Enter"&&y(),onFocus:()=>m(!0),className:"pl-10 pr-20 h-12 text-lg"}),n.query&&e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>a(v=>({...v,query:""})),className:"absolute right-12 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:e.jsx(Ae,{className:"w-4 h-4"})})]}),e.jsxs(E,{onClick:()=>y(),size:"lg",className:"h-12 px-6",children:[e.jsx(Ve,{className:"w-5 h-5 mr-2"}),"Rechercher"]}),e.jsx(E,{variant:"outline",size:"lg",onClick:()=>r(!s),className:"h-12 px-4",children:e.jsx(xs,{className:"w-5 h-5"})})]}),f&&e.jsx($,{className:"absolute top-full left-0 right-0 mt-2 z-50 shadow-lg",children:e.jsx(q,{className:"p-0",children:n.query.length>2?e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2 px-2",children:"Suggestions"}),c.map((v,x)=>e.jsxs(E,{variant:"ghost",className:"w-full justify-start text-left h-auto p-2",onClick:()=>y(v),children:[e.jsx(Ve,{className:"w-4 h-4 mr-2 text-gray-400"}),v]},x))]}):e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[j.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Recherches rcentes"}),e.jsx("div",{className:"space-y-1",children:j.map((v,x)=>e.jsxs(E,{variant:"ghost",size:"sm",className:"w-full justify-start text-left h-auto p-2",onClick:()=>y(v),children:[e.jsx(Tt,{className:"w-3 h-3 mr-2 text-gray-400"}),v]},x))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Recherches populaires"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:h.map((v,x)=>e.jsx(E,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>y(v),children:v},x))})]})]})})})})]}),s&&e.jsxs($,{className:"mt-4",children:[e.jsx(K,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Y,{className:"text-lg",children:"Filtres avancs"}),e.jsx(E,{variant:"ghost",size:"sm",onClick:g,children:"Effacer tout"})]})}),e.jsx(q,{children:e.jsxs(Kr,{defaultValue:"general",className:"w-full",children:[e.jsxs(br,{className:"grid w-full grid-cols-4",children:[e.jsx(ke,{value:"general",children:"Gnral"}),e.jsx(ke,{value:"products",children:"Produits"}),e.jsx(ke,{value:"suppliers",children:"Fournisseurs"}),e.jsx(ke,{value:"location",children:"Localisation"})]}),e.jsxs(Ee,{value:"general",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Type de recherche"}),e.jsxs(dr,{value:n.type,onValueChange:v=>a(x=>({...x,type:v})),children:[e.jsx(Ls,{children:e.jsx(ur,{})}),e.jsxs(Ds,{children:[e.jsx(be,{value:"all",children:"Tout"}),e.jsx(be,{value:"products",children:"Produits"}),e.jsx(be,{value:"suppliers",children:"Fournisseurs"}),e.jsx(be,{value:"categories",children:"Catgories"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Trier par"}),e.jsxs(dr,{value:n.sortBy,onValueChange:v=>a(x=>({...x,sortBy:v})),children:[e.jsx(Ls,{children:e.jsx(ur,{})}),e.jsxs(Ds,{children:[e.jsx(be,{value:"relevance",children:"Pertinence"}),e.jsx(be,{value:"price_asc",children:"Prix croissant"}),e.jsx(be,{value:"price_desc",children:"Prix dcroissant"}),e.jsx(be,{value:"rating",children:"Note"}),e.jsx(be,{value:"newest",children:"Plus rcent"}),e.jsx(be,{value:"popular",children:"Plus populaire"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Catgorie"}),e.jsxs(dr,{value:n.category,onValueChange:v=>a(x=>({...x,category:v})),children:[e.jsx(Ls,{children:e.jsx(ur,{placeholder:"Slectionner une catgorie"})}),e.jsxs(Ds,{children:[e.jsx(be,{value:"all",children:"Toutes les catgories"}),i.map(v=>e.jsx(be,{value:v.slug,children:v.nom},v.id))]})]})]})]}),e.jsxs(Ee,{value:"products",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["Prix: ",n.priceRange[0]," - ",n.priceRange[1],""]}),e.jsx(Mf,{value:n.priceRange,onValueChange:v=>a(x=>({...x,priceRange:v})),max:1e4,min:0,step:100,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["Note minimum: ",n.rating," toiles"]}),e.jsx(Mf,{value:[n.rating],onValueChange:v=>a(x=>({...x,rating:v[0]})),max:5,min:0,step:.5,className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Disponibilit"}),e.jsxs(dr,{value:n.availability,onValueChange:v=>a(x=>({...x,availability:v})),children:[e.jsx(Ls,{children:e.jsx(ur,{})}),e.jsxs(Ds,{children:[e.jsx(be,{value:"all",children:"Tous"}),e.jsx(be,{value:"in_stock",children:"En stock"}),e.jsx(be,{value:"out_of_stock",children:"Rupture de stock"})]})]})]})]}),e.jsx(Ee,{value:"suppliers",className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Type de fournisseur"}),e.jsxs(dr,{value:n.supplierType,onValueChange:v=>a(x=>({...x,supplierType:v})),children:[e.jsx(Ls,{children:e.jsx(ur,{})}),e.jsxs(Ds,{children:[e.jsx(be,{value:"all",children:"Tous"}),e.jsx(be,{value:"verified",children:"Vrifis"}),e.jsx(be,{value:"premium",children:"Premium"})]})]})]})}),e.jsx(Ee,{value:"location",className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Localisation"}),e.jsxs(dr,{value:n.location,onValueChange:v=>a(x=>({...x,location:v})),children:[e.jsx(Ls,{children:e.jsx(ur,{})}),e.jsxs(Ds,{children:[e.jsx(be,{value:"all",children:"Toutes les rgions"}),e.jsx(be,{value:"libreville",children:"Libreville"}),e.jsx(be,{value:"port_gentil",children:"Port-Gentil"}),e.jsx(be,{value:"franceville",children:"Franceville"}),e.jsx(be,{value:"oyem",children:"Oyem"})]})]})]})})]})})]}),n.query&&e.jsxs($,{className:"mt-4",children:[e.jsx(K,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(Y,{children:['Rsultats pour "',n.query,'"',o.length>0&&e.jsxs(U,{variant:"secondary",className:"ml-2",children:[o.length," rsultat",o.length>1?"s":""]})]})})}),e.jsx(q,{children:l?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),e.jsx("span",{className:"ml-2",children:"Recherche en cours..."})]}):o.length>0?e.jsx("div",{className:"space-y-3",children:o.map(v=>e.jsx($,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>t(v.url),children:e.jsx(q,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:N(v.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:v.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:v.description})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx(U,{variant:"outline",className:"text-xs",children:p(v.type)}),v.isVerified&&e.jsx(U,{variant:"default",className:"text-xs bg-green-500",children:"Vrifi"}),v.isFeatured&&e.jsx(U,{variant:"default",className:"text-xs bg-yellow-500",children:"Vedette"})]})]}),e.jsx("div",{className:"flex items-center justify-between mt-3",children:e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[v.price&&e.jsxs("span",{className:"font-medium text-green-600",children:[v.price,""]}),v.rating&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(ot,{className:"w-4 h-4 text-yellow-400 fill-current mr-1"}),v.rating]}),v.location&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ht,{className:"w-4 h-4 mr-1"}),v.location]}),v.category&&e.jsx("span",{children:v.category})]})})]})]})})},`${v.type}-${v.id}`))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ve,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun rsultat trouv"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Essayez de modifier vos critres de recherche"}),e.jsx(E,{variant:"outline",onClick:g,children:"Effacer les filtres"})]})})]})]})},AF=()=>{const t=[{term:"Produits artisanaux",count:1250},{term:"Fournisseurs locaux",count:890},{term:"Textiles traditionnels",count:650},{term:"Poterie gabonaise",count:420},{term:"Vannerie",count:380},{term:"Bijoux artisanaux",count:320}],s=["Produits bio","Fournisseurs Libreville","Artisanat local","Textiles africains"],r=[{icon:e.jsx(Ve,{className:"w-5 h-5"}),title:"Recherche intelligente",description:"Utilisez des mots-cls spcifiques pour des rsultats plus prcis"},{icon:e.jsx(xs,{className:"w-5 h-5"}),title:"Filtres avancs",description:"Affinez votre recherche avec nos filtres par prix, catgorie et localisation"},{icon:e.jsx(nt,{className:"w-5 h-5"}),title:"Tendances",description:"Dcouvrez les recherches populaires et les produits tendance"}];return e.jsx(yn,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Recherche avance"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Trouvez exactement ce que vous cherchez parmi nos produits, fournisseurs et catgories"})]}),e.jsx("div",{className:"mb-8",children:e.jsx(RF,{})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(nt,{className:"w-5 h-5 mr-2 text-green-600"}),"Recherches populaires"]})}),e.jsx(q,{children:e.jsx("div",{className:"space-y-2",children:t.map((n,a)=>e.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded cursor-pointer",children:[e.jsx("span",{className:"text-sm font-medium",children:n.term}),e.jsx(U,{variant:"secondary",className:"text-xs",children:n.count})]},a))})})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(Tt,{className:"w-5 h-5 mr-2 text-blue-600"}),"Recherches rcentes"]})}),e.jsx(q,{children:e.jsx("div",{className:"space-y-2",children:s.map((n,a)=>e.jsx("div",{className:"p-2 hover:bg-gray-50 rounded cursor-pointer",children:e.jsx("span",{className:"text-sm",children:n})},a))})})]}),e.jsxs($,{children:[e.jsx(K,{children:e.jsxs(Y,{className:"flex items-center",children:[e.jsx(Ve,{className:"w-5 h-5 mr-2 text-purple-600"}),"Conseils de recherche"]})}),e.jsx(q,{children:e.jsx("div",{className:"space-y-4",children:r.map((n,a)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-gray-500 mt-0.5",children:n.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:n.title}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:n.description})]})]},a))})})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs($,{children:[e.jsx(K,{children:e.jsx(Y,{children:"Statistiques de recherche"})}),e.jsx(q,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"15,000+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Produits"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"500+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Fournisseurs"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"50+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Catgories"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"24/7"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Disponible"})]})]})})]})})]})})})};class MF extends re.Component{constructor(s){super(s),this.resetError=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("ErrorBoundary caught an error:",s,r)}render(){if(this.state.hasError){if(this.props.fallback){const s=this.props.fallback;return e.jsx(s,{error:this.state.error,resetError:this.resetError})}return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ks,{className:"w-8 h-8 text-red-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Oups ! Une erreur s'est produite"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Nous rencontrons un problme technique. Veuillez ressayer ou retourner  l'accueil."}),!1,e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(E,{onClick:this.resetError,className:"flex-1",variant:"outline",children:[e.jsx(Us,{className:"w-4 h-4 mr-2"}),"Ressayer"]}),e.jsxs(E,{onClick:()=>window.location.href="/",className:"flex-1",children:[e.jsx(Ha,{className:"w-4 h-4 mr-2"}),"Accueil"]})]})]})})}return this.props.children}}const IF=new D3({defaultOptions:{queries:{staleTime:0,gcTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchOnReconnect:!0,retry:!1}}}),LF=()=>e.jsx(q3,{client:IF,children:e.jsxs(y3,{children:[e.jsx(sO,{}),e.jsx(jE,{}),e.jsx(XE,{}),e.jsx(aP,{}),e.jsx(MF,{children:e.jsxs(Q5,{children:[e.jsx(iP,{}),e.jsxs(V5,{children:[e.jsx(je,{path:"/",element:e.jsx(nA,{})}),e.jsx(je,{path:"/products",element:e.jsx(lA,{})}),e.jsx(je,{path:"/search",element:e.jsx(AF,{})}),e.jsx(je,{path:"/suppliers",element:e.jsx(cA,{})}),e.jsx(je,{path:"/suppliers/:id",element:e.jsx(dA,{})}),e.jsx(je,{path:"/categories",element:e.jsx(fA,{})}),e.jsx(je,{path:"/categories/:slug",element:e.jsx(pA,{})}),e.jsx(je,{path:"/products/:id",element:e.jsx($A,{})}),e.jsx(je,{path:"/blog",element:e.jsx(gA,{})}),e.jsx(je,{path:"/blog/:slug",element:e.jsx(NA,{})}),e.jsx(je,{path:"/login",element:e.jsx(kr,{children:e.jsx(CA,{})})}),e.jsx(je,{path:"/register",element:e.jsx(kr,{children:e.jsx(_A,{})})}),e.jsx(je,{path:"/supplier/login",element:e.jsx(kr,{children:e.jsx(VA,{})})}),e.jsx(je,{path:"/supplier/register",element:e.jsx(kr,{children:e.jsx(oF,{})})}),e.jsx(je,{path:"/user-type",element:e.jsx(kr,{children:e.jsx(BA,{})})}),e.jsx(je,{path:"/messages",element:e.jsx(yt,{children:e.jsx(uv,{})})}),e.jsx(je,{path:"/messages/:conversationId",element:e.jsx(yt,{children:e.jsx(uv,{})})}),e.jsx(je,{path:"/supplier/messages",element:e.jsx(yt,{requiredRole:2,children:e.jsx(hv,{})})}),e.jsx(je,{path:"/supplier/messages/:conversationId",element:e.jsx(yt,{requiredRole:2,children:e.jsx(hv,{})})}),e.jsx(je,{path:"/dashboard",element:e.jsx(yt,{children:e.jsx(TA,{})})}),e.jsx(je,{path:"/supplier/dashboard",element:e.jsx(yt,{requiredRole:2,children:e.jsx(f1,{})})}),e.jsx(je,{path:"/buyer/dashboard",element:e.jsx(yt,{requiredRole:1,children:e.jsx(jM,{})})}),e.jsx(je,{path:"/supplier",element:e.jsx(rM,{})}),e.jsx(je,{path:"/supplier/products/add",element:e.jsx(yt,{requiredRole:2,children:e.jsx(pM,{})})}),e.jsx(je,{path:"/supplier/products/edit/:id",element:e.jsx(yt,{requiredRole:2,children:e.jsx(gM,{})})}),e.jsx(je,{path:"/supplier/products/preview/:id",element:e.jsx(yt,{requiredRole:2,children:e.jsx(vM,{})})}),e.jsx(je,{path:"/supplier/company-info",element:e.jsx(yt,{requiredRole:2,children:e.jsx(lF,{})})}),e.jsx(je,{path:"/profile",element:e.jsx(yt,{children:e.jsx(MD,{})})}),e.jsx(je,{path:"/settings",element:e.jsx(yt,{children:e.jsx(tO,{})})}),e.jsx(je,{path:"/admin/login",element:e.jsx(kr,{children:e.jsx(iO,{})})}),e.jsx(je,{path:"/admin",element:e.jsx(yt,{requiredRole:3,children:e.jsx(pv,{})})}),e.jsx(je,{path:"/admin/dashboard",element:e.jsx(yt,{requiredRole:3,children:e.jsx(pv,{})})}),e.jsx(je,{path:"/admin/users",element:e.jsx(yt,{requiredRole:3,children:e.jsx(eF,{})})}),e.jsx(je,{path:"/admin/profile",element:e.jsx(yt,{requiredRole:3,children:e.jsx(sF,{})})}),e.jsx(je,{path:"/admin/settings",element:e.jsx(yt,{requiredRole:3,children:e.jsx(iF,{})})}),e.jsx(je,{path:"/favorites",element:e.jsx(yt,{children:e.jsx(cF,{})})}),e.jsx(je,{path:"/forgot-password",element:e.jsx(kr,{children:e.jsx(yv,{})})}),e.jsx(je,{path:"/supplier/forgot-password",element:e.jsx(kr,{children:e.jsx(yv,{})})}),e.jsx(je,{path:"/reset-password",element:e.jsx(kr,{children:e.jsx(dF,{})})}),e.jsx(je,{path:"/register-verification",element:e.jsx(kr,{children:e.jsx(o1,{})})}),e.jsx(je,{path:"/terms",element:e.jsx(uF,{})}),e.jsx(je,{path:"/privacy",element:e.jsx(mF,{})}),e.jsx(je,{path:"*",element:e.jsx(qA,{})})]})]})})]})});Hy(document.getElementById("root")).render(e.jsx(LF,{}));
