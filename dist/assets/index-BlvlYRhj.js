function tC(t,s){for(var r=0;r<s.length;r++){const a=s[r];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(a,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function mv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cm={exports:{}},_o={},Sm={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function sC(){if(Rg)return Ge;Rg=1;var t=Symbol.for("react.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),f=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=f&&q[f]||q["@@iterator"],typeof q=="function"?q:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,y={};function _(q,se,ee){this.props=q,this.context=se,this.refs=y,this.updater=ee||N}_.prototype.isReactComponent={},_.prototype.setState=function(q,se){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,se,"setState")},_.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function w(){}w.prototype=_.prototype;function E(q,se,ee){this.props=q,this.context=se,this.refs=y,this.updater=ee||N}var C=E.prototype=new w;C.constructor=E,k(C,_.prototype),C.isPureReactComponent=!0;var R=Array.isArray,I=Object.prototype.hasOwnProperty,T={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function P(q,se,ee){var oe,xe={},ve=null,re=null;if(se!=null)for(oe in se.ref!==void 0&&(re=se.ref),se.key!==void 0&&(ve=""+se.key),se)I.call(se,oe)&&!b.hasOwnProperty(oe)&&(xe[oe]=se[oe]);var Ne=arguments.length-2;if(Ne===1)xe.children=ee;else if(1<Ne){for(var Ee=Array(Ne),Le=0;Le<Ne;Le++)Ee[Le]=arguments[Le+2];xe.children=Ee}if(q&&q.defaultProps)for(oe in Ne=q.defaultProps,Ne)xe[oe]===void 0&&(xe[oe]=Ne[oe]);return{$$typeof:t,type:q,key:ve,ref:re,props:xe,_owner:T.current}}function A(q,se){return{$$typeof:t,type:q.type,key:se,ref:q.ref,props:q.props,_owner:q._owner}}function O(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function F(q){var se={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ee){return se[ee]})}var X=/\/+/g;function V(q,se){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):se.toString(36)}function K(q,se,ee,oe,xe){var ve=typeof q;(ve==="undefined"||ve==="boolean")&&(q=null);var re=!1;if(q===null)re=!0;else switch(ve){case"string":case"number":re=!0;break;case"object":switch(q.$$typeof){case t:case s:re=!0}}if(re)return re=q,xe=xe(re),q=oe===""?"."+V(re,0):oe,R(xe)?(ee="",q!=null&&(ee=q.replace(X,"$&/")+"/"),K(xe,se,ee,"",function(Le){return Le})):xe!=null&&(O(xe)&&(xe=A(xe,ee+(!xe.key||re&&re.key===xe.key?"":(""+xe.key).replace(X,"$&/")+"/")+q)),se.push(xe)),1;if(re=0,oe=oe===""?".":oe+":",R(q))for(var Ne=0;Ne<q.length;Ne++){ve=q[Ne];var Ee=oe+V(ve,Ne);re+=K(ve,se,ee,Ee,xe)}else if(Ee=g(q),typeof Ee=="function")for(q=Ee.call(q),Ne=0;!(ve=q.next()).done;)ve=ve.value,Ee=oe+V(ve,Ne++),re+=K(ve,se,ee,Ee,xe);else if(ve==="object")throw se=String(q),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return re}function me(q,se,ee){if(q==null)return q;var oe=[],xe=0;return K(q,oe,"","",function(ve){return se.call(ee,ve,xe++)}),oe}function U(q){if(q._status===-1){var se=q._result;se=se(),se.then(function(ee){(q._status===0||q._status===-1)&&(q._status=1,q._result=ee)},function(ee){(q._status===0||q._status===-1)&&(q._status=2,q._result=ee)}),q._status===-1&&(q._status=0,q._result=se)}if(q._status===1)return q._result.default;throw q._result}var G={current:null},L={transition:null},H={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:L,ReactCurrentOwner:T};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:me,forEach:function(q,se,ee){me(q,function(){se.apply(this,arguments)},ee)},count:function(q){var se=0;return me(q,function(){se++}),se},toArray:function(q){return me(q,function(se){return se})||[]},only:function(q){if(!O(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ge.Component=_,Ge.Fragment=r,Ge.Profiler=o,Ge.PureComponent=E,Ge.StrictMode=a,Ge.Suspense=h,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Ge.act=le,Ge.cloneElement=function(q,se,ee){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var oe=k({},q.props),xe=q.key,ve=q.ref,re=q._owner;if(se!=null){if(se.ref!==void 0&&(ve=se.ref,re=T.current),se.key!==void 0&&(xe=""+se.key),q.type&&q.type.defaultProps)var Ne=q.type.defaultProps;for(Ee in se)I.call(se,Ee)&&!b.hasOwnProperty(Ee)&&(oe[Ee]=se[Ee]===void 0&&Ne!==void 0?Ne[Ee]:se[Ee])}var Ee=arguments.length-2;if(Ee===1)oe.children=ee;else if(1<Ee){Ne=Array(Ee);for(var Le=0;Le<Ee;Le++)Ne[Le]=arguments[Le+2];oe.children=Ne}return{$$typeof:t,type:q.type,key:xe,ref:ve,props:oe,_owner:re}},Ge.createContext=function(q){return q={$$typeof:d,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:l,_context:q},q.Consumer=q},Ge.createElement=P,Ge.createFactory=function(q){var se=P.bind(null,q);return se.type=q,se},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(q){return{$$typeof:u,render:q}},Ge.isValidElement=O,Ge.lazy=function(q){return{$$typeof:v,_payload:{_status:-1,_result:q},_init:U}},Ge.memo=function(q,se){return{$$typeof:p,type:q,compare:se===void 0?null:se}},Ge.startTransition=function(q){var se=L.transition;L.transition={};try{q()}finally{L.transition=se}},Ge.unstable_act=le,Ge.useCallback=function(q,se){return G.current.useCallback(q,se)},Ge.useContext=function(q){return G.current.useContext(q)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(q){return G.current.useDeferredValue(q)},Ge.useEffect=function(q,se){return G.current.useEffect(q,se)},Ge.useId=function(){return G.current.useId()},Ge.useImperativeHandle=function(q,se,ee){return G.current.useImperativeHandle(q,se,ee)},Ge.useInsertionEffect=function(q,se){return G.current.useInsertionEffect(q,se)},Ge.useLayoutEffect=function(q,se){return G.current.useLayoutEffect(q,se)},Ge.useMemo=function(q,se){return G.current.useMemo(q,se)},Ge.useReducer=function(q,se,ee){return G.current.useReducer(q,se,ee)},Ge.useRef=function(q){return G.current.useRef(q)},Ge.useState=function(q){return G.current.useState(q)},Ge.useSyncExternalStore=function(q,se,ee){return G.current.useSyncExternalStore(q,se,ee)},Ge.useTransition=function(){return G.current.useTransition()},Ge.version="18.3.1",Ge}var Ag;function zh(){return Ag||(Ag=1,Sm.exports=sC()),Sm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function rC(){if(Mg)return _o;Mg=1;var t=zh(),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(u,h,p){var v,f={},g=null,N=null;p!==void 0&&(g=""+p),h.key!==void 0&&(g=""+h.key),h.ref!==void 0&&(N=h.ref);for(v in h)a.call(h,v)&&!l.hasOwnProperty(v)&&(f[v]=h[v]);if(u&&u.defaultProps)for(v in h=u.defaultProps,h)f[v]===void 0&&(f[v]=h[v]);return{$$typeof:s,type:u,key:g,ref:N,props:f,_owner:o.current}}return _o.Fragment=r,_o.jsx=d,_o.jsxs=d,_o}var Dg;function nC(){return Dg||(Dg=1,Cm.exports=rC()),Cm.exports}var e=nC(),jc={},_m={exports:{}},fs={},km={exports:{}},Em={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function aC(){return Ig||(Ig=1,(function(t){function s(L,H){var le=L.length;L.push(H);e:for(;0<le;){var q=le-1>>>1,se=L[q];if(0<o(se,H))L[q]=H,L[le]=se,le=q;else break e}}function r(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var H=L[0],le=L.pop();if(le!==H){L[0]=le;e:for(var q=0,se=L.length,ee=se>>>1;q<ee;){var oe=2*(q+1)-1,xe=L[oe],ve=oe+1,re=L[ve];if(0>o(xe,le))ve<se&&0>o(re,xe)?(L[q]=re,L[ve]=le,q=ve):(L[q]=xe,L[oe]=le,q=oe);else if(ve<se&&0>o(re,le))L[q]=re,L[ve]=le,q=ve;else break e}}return H}function o(L,H){var le=L.sortIndex-H.sortIndex;return le!==0?le:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var d=Date,u=d.now();t.unstable_now=function(){return d.now()-u}}var h=[],p=[],v=1,f=null,g=3,N=!1,k=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(L){for(var H=r(p);H!==null;){if(H.callback===null)a(p);else if(H.startTime<=L)a(p),H.sortIndex=H.expirationTime,s(h,H);else break;H=r(p)}}function R(L){if(y=!1,C(L),!k)if(r(h)!==null)k=!0,U(I);else{var H=r(p);H!==null&&G(R,H.startTime-L)}}function I(L,H){k=!1,y&&(y=!1,w(P),P=-1),N=!0;var le=g;try{for(C(H),f=r(h);f!==null&&(!(f.expirationTime>H)||L&&!F());){var q=f.callback;if(typeof q=="function"){f.callback=null,g=f.priorityLevel;var se=q(f.expirationTime<=H);H=t.unstable_now(),typeof se=="function"?f.callback=se:f===r(h)&&a(h),C(H)}else a(h);f=r(h)}if(f!==null)var ee=!0;else{var oe=r(p);oe!==null&&G(R,oe.startTime-H),ee=!1}return ee}finally{f=null,g=le,N=!1}}var T=!1,b=null,P=-1,A=5,O=-1;function F(){return!(t.unstable_now()-O<A)}function X(){if(b!==null){var L=t.unstable_now();O=L;var H=!0;try{H=b(!0,L)}finally{H?V():(T=!1,b=null)}}else T=!1}var V;if(typeof E=="function")V=function(){E(X)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,me=K.port2;K.port1.onmessage=X,V=function(){me.postMessage(null)}}else V=function(){_(X,0)};function U(L){b=L,T||(T=!0,V())}function G(L,H){P=_(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){k||N||(k=!0,U(I))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(L){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var le=g;g=H;try{return L()}finally{g=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var le=g;g=L;try{return H()}finally{g=le}},t.unstable_scheduleCallback=function(L,H,le){var q=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?q+le:q):le=q,L){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=le+se,L={id:v++,callback:H,priorityLevel:L,startTime:le,expirationTime:se,sortIndex:-1},le>q?(L.sortIndex=le,s(p,L),r(h)===null&&L===r(p)&&(y?(w(P),P=-1):y=!0,G(R,le-q))):(L.sortIndex=se,s(h,L),k||N||(k=!0,U(I))),L},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(L){var H=g;return function(){var le=g;g=H;try{return L.apply(this,arguments)}finally{g=le}}}})(Em)),Em}var Lg;function iC(){return Lg||(Lg=1,km.exports=aC()),km.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function oC(){if(Og)return fs;Og=1;var t=zh(),s=iC();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(n,i){d(n,i),d(n+"Capture",i)}function d(n,i){for(o[n]=i,n=0;n<i.length;n++)a.add(i[n])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},f={};function g(n){return h.call(f,n)?!0:h.call(v,n)?!1:p.test(n)?f[n]=!0:(v[n]=!0,!1)}function N(n,i,c,x){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return x?!1:c!==null?!c.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,i,c,x){if(i===null||typeof i>"u"||N(n,i,c,x))return!0;if(x)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function y(n,i,c,x,j,S,M){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=x,this.attributeNamespace=j,this.mustUseProperty=c,this.propertyName=n,this.type=i,this.sanitizeURL=S,this.removeEmptyString=M}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){_[n]=new y(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];_[i]=new y(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){_[n]=new y(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){_[n]=new y(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){_[n]=new y(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){_[n]=new y(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){_[n]=new y(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){_[n]=new y(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){_[n]=new y(n,5,!1,n.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function E(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(w,E);_[i]=new y(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(w,E);_[i]=new y(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(w,E);_[i]=new y(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){_[n]=new y(n,1,!1,n.toLowerCase(),null,!1,!1)}),_.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){_[n]=new y(n,1,!1,n.toLowerCase(),null,!0,!0)});function C(n,i,c,x){var j=_.hasOwnProperty(i)?_[i]:null;(j!==null?j.type!==0:x||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,c,j,x)&&(c=null),x||j===null?g(i)&&(c===null?n.removeAttribute(i):n.setAttribute(i,""+c)):j.mustUseProperty?n[j.propertyName]=c===null?j.type===3?!1:"":c:(i=j.attributeName,x=j.attributeNamespace,c===null?n.removeAttribute(i):(j=j.type,c=j===3||j===4&&c===!0?"":""+c,x?n.setAttributeNS(x,i,c):n.setAttribute(i,c))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),T=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),F=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),L=Symbol.iterator;function H(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var le=Object.assign,q;function se(n){if(q===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);q=i&&i[1]||""}return`
`+q+n}var ee=!1;function oe(n,i){if(!n||ee)return"";ee=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ae){var x=ae}Reflect.construct(n,[],i)}else{try{i.call()}catch(ae){x=ae}n.call(i.prototype)}else{try{throw Error()}catch(ae){x=ae}n()}}catch(ae){if(ae&&x&&typeof ae.stack=="string"){for(var j=ae.stack.split(`
`),S=x.stack.split(`
`),M=j.length-1,z=S.length-1;1<=M&&0<=z&&j[M]!==S[z];)z--;for(;1<=M&&0<=z;M--,z--)if(j[M]!==S[z]){if(M!==1||z!==1)do if(M--,z--,0>z||j[M]!==S[z]){var W=`
`+j[M].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=M&&0<=z);break}}}finally{ee=!1,Error.prepareStackTrace=c}return(n=n?n.displayName||n.name:"")?se(n):""}function xe(n){switch(n.tag){case 5:return se(n.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return n=oe(n.type,!1),n;case 11:return n=oe(n.type.render,!1),n;case 1:return n=oe(n.type,!0),n;default:return""}}function ve(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case b:return"Fragment";case T:return"Portal";case A:return"Profiler";case P:return"StrictMode";case V:return"Suspense";case K:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case F:return(n.displayName||"Context")+".Consumer";case O:return(n._context.displayName||"Context")+".Provider";case X:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case me:return i=n.displayName||null,i!==null?i:ve(n.type)||"Memo";case U:i=n._payload,n=n._init;try{return ve(n(i))}catch{}}return null}function re(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(i);case 8:return i===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ne(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ee(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Le(n){var i=Ee(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),x=""+n[i];if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var j=c.get,S=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return j.call(this)},set:function(M){x=""+M,S.call(this,M)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return x},setValue:function(M){x=""+M},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function st(n){n._valueTracker||(n._valueTracker=Le(n))}function ct(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var c=i.getValue(),x="";return n&&(x=Ee(n)?n.checked?"true":"false":n.value),n=x,n!==c?(i.setValue(n),!0):!1}function Dt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function cs(n,i){var c=i.checked;return le({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??n._wrapperState.initialChecked})}function Xr(n,i){var c=i.defaultValue==null?"":i.defaultValue,x=i.checked!=null?i.checked:i.defaultChecked;c=Ne(i.value!=null?i.value:c),n._wrapperState={initialChecked:x,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ws(n,i){i=i.checked,i!=null&&C(n,"checked",i,!1)}function Yr(n,i){ws(n,i);var c=Ne(i.value),x=i.type;if(c!=null)x==="number"?(c===0&&n.value===""||n.value!=c)&&(n.value=""+c):n.value!==""+c&&(n.value=""+c);else if(x==="submit"||x==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Qt(n,i.type,c):i.hasOwnProperty("defaultValue")&&Qt(n,i.type,Ne(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function ol(n,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var x=i.type;if(!(x!=="submit"&&x!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,c||i===n.value||(n.value=i),n.defaultValue=i}c=n.name,c!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,c!==""&&(n.name=c)}function Qt(n,i,c){(i!=="number"||Dt(n.ownerDocument)!==n)&&(c==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+c&&(n.defaultValue=""+c))}var Ms=Array.isArray;function fn(n,i,c,x){if(n=n.options,i){i={};for(var j=0;j<c.length;j++)i["$"+c[j]]=!0;for(c=0;c<n.length;c++)j=i.hasOwnProperty("$"+n[c].value),n[c].selected!==j&&(n[c].selected=j),j&&x&&(n[c].defaultSelected=!0)}else{for(c=""+Ne(c),i=null,j=0;j<n.length;j++){if(n[j].value===c){n[j].selected=!0,x&&(n[j].defaultSelected=!0);return}i!==null||n[j].disabled||(i=n[j])}i!==null&&(i.selected=!0)}}function Fi(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return le({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function na(n,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(r(92));if(Ms(c)){if(1<c.length)throw Error(r(93));c=c[0]}i=c}i==null&&(i=""),c=i}n._wrapperState={initialValue:Ne(c)}}function ll(n,i){var c=Ne(i.value),x=Ne(i.defaultValue);c!=null&&(c=""+c,c!==n.value&&(n.value=c),i.defaultValue==null&&n.defaultValue!==c&&(n.defaultValue=c)),x!=null&&(n.defaultValue=""+x)}function zi(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Oa(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nr(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Oa(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var aa,Qr=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,x,j){MSApp.execUnsafeLocalFunction(function(){return n(i,c,x,j)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(aa=aa||document.createElement("div"),aa.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=aa.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function xn(n,i){if(i){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=i;return}}n.textContent=i}var ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cl=["Webkit","ms","Moz","O"];Object.keys(ia).forEach(function(n){cl.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),ia[i]=ia[n]})});function $i(n,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||ia.hasOwnProperty(n)&&ia[n]?(""+i).trim():i+"px"}function dl(n,i){n=n.style;for(var c in i)if(i.hasOwnProperty(c)){var x=c.indexOf("--")===0,j=$i(c,i[c],x);c==="float"&&(c="cssFloat"),x?n.setProperty(c,j):n[c]=j}}var qi=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ds(n,i){if(i){if(qi[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Bi(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oe=null;function nt(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rt=null,Ut=null,Ht=null;function oa(n){if(n=uo(n)){if(typeof rt!="function")throw Error(r(280));var i=n.stateNode;i&&(i=Dl(i),rt(n.stateNode,n.type,i))}}function ul(n){Ut?Ht?Ht.push(n):Ht=[n]:Ut=n}function Xp(){if(Ut){var n=Ut,i=Ht;if(Ht=Ut=null,oa(n),i)for(n=0;n<i.length;n++)oa(i[n])}}function Yp(n,i){return n(i)}function Qp(){}var qd=!1;function Jp(n,i,c){if(qd)return n(i,c);qd=!0;try{return Yp(n,i,c)}finally{qd=!1,(Ut!==null||Ht!==null)&&(Qp(),Xp())}}function Vi(n,i){var c=n.stateNode;if(c===null)return null;var x=Dl(c);if(x===null)return null;c=x[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(n=n.type,x=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!x;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(r(231,i,typeof c));return c}var Bd=!1;if(u)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){Bd=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Bd=!1}function o1(n,i,c,x,j,S,M,z,W){var ae=Array.prototype.slice.call(arguments,3);try{i.apply(c,ae)}catch(pe){this.onError(pe)}}var Hi=!1,ml=null,hl=!1,Vd=null,l1={onError:function(n){Hi=!0,ml=n}};function c1(n,i,c,x,j,S,M,z,W){Hi=!1,ml=null,o1.apply(l1,arguments)}function d1(n,i,c,x,j,S,M,z,W){if(c1.apply(this,arguments),Hi){if(Hi){var ae=ml;Hi=!1,ml=null}else throw Error(r(198));hl||(hl=!0,Vd=ae)}}function la(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function Zp(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function ef(n){if(la(n)!==n)throw Error(r(188))}function u1(n){var i=n.alternate;if(!i){if(i=la(n),i===null)throw Error(r(188));return i!==n?null:n}for(var c=n,x=i;;){var j=c.return;if(j===null)break;var S=j.alternate;if(S===null){if(x=j.return,x!==null){c=x;continue}break}if(j.child===S.child){for(S=j.child;S;){if(S===c)return ef(j),n;if(S===x)return ef(j),i;S=S.sibling}throw Error(r(188))}if(c.return!==x.return)c=j,x=S;else{for(var M=!1,z=j.child;z;){if(z===c){M=!0,c=j,x=S;break}if(z===x){M=!0,x=j,c=S;break}z=z.sibling}if(!M){for(z=S.child;z;){if(z===c){M=!0,c=S,x=j;break}if(z===x){M=!0,x=S,c=j;break}z=z.sibling}if(!M)throw Error(r(189))}}if(c.alternate!==x)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?n:i}function tf(n){return n=u1(n),n!==null?sf(n):null}function sf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=sf(n);if(i!==null)return i;n=n.sibling}return null}var rf=s.unstable_scheduleCallback,nf=s.unstable_cancelCallback,m1=s.unstable_shouldYield,h1=s.unstable_requestPaint,kt=s.unstable_now,p1=s.unstable_getCurrentPriorityLevel,Ud=s.unstable_ImmediatePriority,af=s.unstable_UserBlockingPriority,pl=s.unstable_NormalPriority,f1=s.unstable_LowPriority,of=s.unstable_IdlePriority,fl=null,wr=null;function x1(n){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(fl,n,void 0,(n.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:j1,g1=Math.log,v1=Math.LN2;function j1(n){return n>>>=0,n===0?32:31-(g1(n)/v1|0)|0}var xl=64,gl=4194304;function Wi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function vl(n,i){var c=n.pendingLanes;if(c===0)return 0;var x=0,j=n.suspendedLanes,S=n.pingedLanes,M=c&268435455;if(M!==0){var z=M&~j;z!==0?x=Wi(z):(S&=M,S!==0&&(x=Wi(S)))}else M=c&~j,M!==0?x=Wi(M):S!==0&&(x=Wi(S));if(x===0)return 0;if(i!==0&&i!==x&&(i&j)===0&&(j=x&-x,S=i&-i,j>=S||j===16&&(S&4194240)!==0))return i;if((x&4)!==0&&(x|=c&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=x;0<i;)c=31-er(i),j=1<<c,x|=n[c],i&=~j;return x}function y1(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b1(n,i){for(var c=n.suspendedLanes,x=n.pingedLanes,j=n.expirationTimes,S=n.pendingLanes;0<S;){var M=31-er(S),z=1<<M,W=j[M];W===-1?((z&c)===0||(z&x)!==0)&&(j[M]=y1(z,i)):W<=i&&(n.expiredLanes|=z),S&=~z}}function Hd(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function lf(){var n=xl;return xl<<=1,(xl&4194240)===0&&(xl=64),n}function Wd(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function Gi(n,i,c){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-er(i),n[i]=c}function N1(n,i){var c=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var x=n.eventTimes;for(n=n.expirationTimes;0<c;){var j=31-er(c),S=1<<j;i[j]=0,x[j]=-1,n[j]=-1,c&=~S}}function Gd(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var x=31-er(c),j=1<<x;j&i|n[x]&i&&(n[x]|=i),c&=~j}}var at=0;function cf(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var df,Kd,uf,mf,hf,Xd=!1,jl=[],gn=null,vn=null,jn=null,Ki=new Map,Xi=new Map,yn=[],w1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pf(n,i){switch(n){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Ki.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(i.pointerId)}}function Yi(n,i,c,x,j,S){return n===null||n.nativeEvent!==S?(n={blockedOn:i,domEventName:c,eventSystemFlags:x,nativeEvent:S,targetContainers:[j]},i!==null&&(i=uo(i),i!==null&&Kd(i)),n):(n.eventSystemFlags|=x,i=n.targetContainers,j!==null&&i.indexOf(j)===-1&&i.push(j),n)}function C1(n,i,c,x,j){switch(i){case"focusin":return gn=Yi(gn,n,i,c,x,j),!0;case"dragenter":return vn=Yi(vn,n,i,c,x,j),!0;case"mouseover":return jn=Yi(jn,n,i,c,x,j),!0;case"pointerover":var S=j.pointerId;return Ki.set(S,Yi(Ki.get(S)||null,n,i,c,x,j)),!0;case"gotpointercapture":return S=j.pointerId,Xi.set(S,Yi(Xi.get(S)||null,n,i,c,x,j)),!0}return!1}function ff(n){var i=ca(n.target);if(i!==null){var c=la(i);if(c!==null){if(i=c.tag,i===13){if(i=Zp(c),i!==null){n.blockedOn=i,hf(n.priority,function(){uf(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function yl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var c=Qd(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(c===null){c=n.nativeEvent;var x=new c.constructor(c.type,c);Oe=x,c.target.dispatchEvent(x),Oe=null}else return i=uo(c),i!==null&&Kd(i),n.blockedOn=c,!1;i.shift()}return!0}function xf(n,i,c){yl(n)&&c.delete(i)}function S1(){Xd=!1,gn!==null&&yl(gn)&&(gn=null),vn!==null&&yl(vn)&&(vn=null),jn!==null&&yl(jn)&&(jn=null),Ki.forEach(xf),Xi.forEach(xf)}function Qi(n,i){n.blockedOn===i&&(n.blockedOn=null,Xd||(Xd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,S1)))}function Ji(n){function i(j){return Qi(j,n)}if(0<jl.length){Qi(jl[0],n);for(var c=1;c<jl.length;c++){var x=jl[c];x.blockedOn===n&&(x.blockedOn=null)}}for(gn!==null&&Qi(gn,n),vn!==null&&Qi(vn,n),jn!==null&&Qi(jn,n),Ki.forEach(i),Xi.forEach(i),c=0;c<yn.length;c++)x=yn[c],x.blockedOn===n&&(x.blockedOn=null);for(;0<yn.length&&(c=yn[0],c.blockedOn===null);)ff(c),c.blockedOn===null&&yn.shift()}var Fa=R.ReactCurrentBatchConfig,bl=!0;function _1(n,i,c,x){var j=at,S=Fa.transition;Fa.transition=null;try{at=1,Yd(n,i,c,x)}finally{at=j,Fa.transition=S}}function k1(n,i,c,x){var j=at,S=Fa.transition;Fa.transition=null;try{at=4,Yd(n,i,c,x)}finally{at=j,Fa.transition=S}}function Yd(n,i,c,x){if(bl){var j=Qd(n,i,c,x);if(j===null)pu(n,i,x,Nl,c),pf(n,x);else if(C1(j,n,i,c,x))x.stopPropagation();else if(pf(n,x),i&4&&-1<w1.indexOf(n)){for(;j!==null;){var S=uo(j);if(S!==null&&df(S),S=Qd(n,i,c,x),S===null&&pu(n,i,x,Nl,c),S===j)break;j=S}j!==null&&x.stopPropagation()}else pu(n,i,x,null,c)}}var Nl=null;function Qd(n,i,c,x){if(Nl=null,n=nt(x),n=ca(n),n!==null)if(i=la(n),i===null)n=null;else if(c=i.tag,c===13){if(n=Zp(i),n!==null)return n;n=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Nl=n,null}function gf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(p1()){case Ud:return 1;case af:return 4;case pl:case f1:return 16;case of:return 536870912;default:return 16}default:return 16}}var bn=null,Jd=null,wl=null;function vf(){if(wl)return wl;var n,i=Jd,c=i.length,x,j="value"in bn?bn.value:bn.textContent,S=j.length;for(n=0;n<c&&i[n]===j[n];n++);var M=c-n;for(x=1;x<=M&&i[c-x]===j[S-x];x++);return wl=j.slice(n,1<x?1-x:void 0)}function Cl(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Sl(){return!0}function jf(){return!1}function Cs(n){function i(c,x,j,S,M){this._reactName=c,this._targetInst=j,this.type=x,this.nativeEvent=S,this.target=M,this.currentTarget=null;for(var z in n)n.hasOwnProperty(z)&&(c=n[z],this[z]=c?c(S):S[z]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Sl:jf,this.isPropagationStopped=jf,this}return le(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),i}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zd=Cs(za),Zi=le({},za,{view:0,detail:0}),E1=Cs(Zi),eu,tu,eo,_l=le({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ru,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==eo&&(eo&&n.type==="mousemove"?(eu=n.screenX-eo.screenX,tu=n.screenY-eo.screenY):tu=eu=0,eo=n),eu)},movementY:function(n){return"movementY"in n?n.movementY:tu}}),yf=Cs(_l),P1=le({},_l,{dataTransfer:0}),T1=Cs(P1),R1=le({},Zi,{relatedTarget:0}),su=Cs(R1),A1=le({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),M1=Cs(A1),D1=le({},za,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),I1=Cs(D1),L1=le({},za,{data:0}),bf=Cs(L1),O1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $1(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=z1[n])?!!i[n]:!1}function ru(){return $1}var q1=le({},Zi,{key:function(n){if(n.key){var i=O1[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Cl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?F1[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ru,charCode:function(n){return n.type==="keypress"?Cl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Cl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),B1=Cs(q1),V1=le({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nf=Cs(V1),U1=le({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ru}),H1=Cs(U1),W1=le({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),G1=Cs(W1),K1=le({},_l,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),X1=Cs(K1),Y1=[9,13,27,32],nu=u&&"CompositionEvent"in window,to=null;u&&"documentMode"in document&&(to=document.documentMode);var Q1=u&&"TextEvent"in window&&!to,wf=u&&(!nu||to&&8<to&&11>=to),Cf=" ",Sf=!1;function _f(n,i){switch(n){case"keyup":return Y1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $a=!1;function J1(n,i){switch(n){case"compositionend":return kf(i);case"keypress":return i.which!==32?null:(Sf=!0,Cf);case"textInput":return n=i.data,n===Cf&&Sf?null:n;default:return null}}function Z1(n,i){if($a)return n==="compositionend"||!nu&&_f(n,i)?(n=vf(),wl=Jd=bn=null,$a=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wf&&i.locale!=="ko"?null:i.data;default:return null}}var e2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!e2[n.type]:i==="textarea"}function Pf(n,i,c,x){ul(x),i=Rl(i,"onChange"),0<i.length&&(c=new Zd("onChange","change",null,c,x),n.push({event:c,listeners:i}))}var so=null,ro=null;function t2(n){Gf(n,0)}function kl(n){var i=Ha(n);if(ct(i))return n}function s2(n,i){if(n==="change")return i}var Tf=!1;if(u){var au;if(u){var iu="oninput"in document;if(!iu){var Rf=document.createElement("div");Rf.setAttribute("oninput","return;"),iu=typeof Rf.oninput=="function"}au=iu}else au=!1;Tf=au&&(!document.documentMode||9<document.documentMode)}function Af(){so&&(so.detachEvent("onpropertychange",Mf),ro=so=null)}function Mf(n){if(n.propertyName==="value"&&kl(ro)){var i=[];Pf(i,ro,n,nt(n)),Jp(t2,i)}}function r2(n,i,c){n==="focusin"?(Af(),so=i,ro=c,so.attachEvent("onpropertychange",Mf)):n==="focusout"&&Af()}function n2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return kl(ro)}function a2(n,i){if(n==="click")return kl(i)}function i2(n,i){if(n==="input"||n==="change")return kl(i)}function o2(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var tr=typeof Object.is=="function"?Object.is:o2;function no(n,i){if(tr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),x=Object.keys(i);if(c.length!==x.length)return!1;for(x=0;x<c.length;x++){var j=c[x];if(!h.call(i,j)||!tr(n[j],i[j]))return!1}return!0}function Df(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function If(n,i){var c=Df(n);n=0;for(var x;c;){if(c.nodeType===3){if(x=n+c.textContent.length,n<=i&&x>=i)return{node:c,offset:i-n};n=x}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Df(c)}}function Lf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Lf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Of(){for(var n=window,i=Dt();i instanceof n.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)n=i.contentWindow;else break;i=Dt(n.document)}return i}function ou(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function l2(n){var i=Of(),c=n.focusedElem,x=n.selectionRange;if(i!==c&&c&&c.ownerDocument&&Lf(c.ownerDocument.documentElement,c)){if(x!==null&&ou(c)){if(i=x.start,n=x.end,n===void 0&&(n=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(n,c.value.length);else if(n=(i=c.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var j=c.textContent.length,S=Math.min(x.start,j);x=x.end===void 0?S:Math.min(x.end,j),!n.extend&&S>x&&(j=x,x=S,S=j),j=If(c,S);var M=If(c,x);j&&M&&(n.rangeCount!==1||n.anchorNode!==j.node||n.anchorOffset!==j.offset||n.focusNode!==M.node||n.focusOffset!==M.offset)&&(i=i.createRange(),i.setStart(j.node,j.offset),n.removeAllRanges(),S>x?(n.addRange(i),n.extend(M.node,M.offset)):(i.setEnd(M.node,M.offset),n.addRange(i)))}}for(i=[],n=c;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)n=i[c],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var c2=u&&"documentMode"in document&&11>=document.documentMode,qa=null,lu=null,ao=null,cu=!1;function Ff(n,i,c){var x=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;cu||qa==null||qa!==Dt(x)||(x=qa,"selectionStart"in x&&ou(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),ao&&no(ao,x)||(ao=x,x=Rl(lu,"onSelect"),0<x.length&&(i=new Zd("onSelect","select",null,i,c),n.push({event:i,listeners:x}),i.target=qa)))}function El(n,i){var c={};return c[n.toLowerCase()]=i.toLowerCase(),c["Webkit"+n]="webkit"+i,c["Moz"+n]="moz"+i,c}var Ba={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},du={},zf={};u&&(zf=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Pl(n){if(du[n])return du[n];if(!Ba[n])return n;var i=Ba[n],c;for(c in i)if(i.hasOwnProperty(c)&&c in zf)return du[n]=i[c];return n}var $f=Pl("animationend"),qf=Pl("animationiteration"),Bf=Pl("animationstart"),Vf=Pl("transitionend"),Uf=new Map,Hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(n,i){Uf.set(n,i),l(i,[n])}for(var uu=0;uu<Hf.length;uu++){var mu=Hf[uu],d2=mu.toLowerCase(),u2=mu[0].toUpperCase()+mu.slice(1);Nn(d2,"on"+u2)}Nn($f,"onAnimationEnd"),Nn(qf,"onAnimationIteration"),Nn(Bf,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Vf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m2=new Set("cancel close invalid load scroll toggle".split(" ").concat(io));function Wf(n,i,c){var x=n.type||"unknown-event";n.currentTarget=c,d1(x,i,void 0,n),n.currentTarget=null}function Gf(n,i){i=(i&4)!==0;for(var c=0;c<n.length;c++){var x=n[c],j=x.event;x=x.listeners;e:{var S=void 0;if(i)for(var M=x.length-1;0<=M;M--){var z=x[M],W=z.instance,ae=z.currentTarget;if(z=z.listener,W!==S&&j.isPropagationStopped())break e;Wf(j,z,ae),S=W}else for(M=0;M<x.length;M++){if(z=x[M],W=z.instance,ae=z.currentTarget,z=z.listener,W!==S&&j.isPropagationStopped())break e;Wf(j,z,ae),S=W}}}if(hl)throw n=Vd,hl=!1,Vd=null,n}function xt(n,i){var c=i[yu];c===void 0&&(c=i[yu]=new Set);var x=n+"__bubble";c.has(x)||(Kf(i,n,2,!1),c.add(x))}function hu(n,i,c){var x=0;i&&(x|=4),Kf(c,n,x,i)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function oo(n){if(!n[Tl]){n[Tl]=!0,a.forEach(function(c){c!=="selectionchange"&&(m2.has(c)||hu(c,!1,n),hu(c,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Tl]||(i[Tl]=!0,hu("selectionchange",!1,i))}}function Kf(n,i,c,x){switch(gf(i)){case 1:var j=_1;break;case 4:j=k1;break;default:j=Yd}c=j.bind(null,i,c,n),j=void 0,!Bd||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(j=!0),x?j!==void 0?n.addEventListener(i,c,{capture:!0,passive:j}):n.addEventListener(i,c,!0):j!==void 0?n.addEventListener(i,c,{passive:j}):n.addEventListener(i,c,!1)}function pu(n,i,c,x,j){var S=x;if((i&1)===0&&(i&2)===0&&x!==null)e:for(;;){if(x===null)return;var M=x.tag;if(M===3||M===4){var z=x.stateNode.containerInfo;if(z===j||z.nodeType===8&&z.parentNode===j)break;if(M===4)for(M=x.return;M!==null;){var W=M.tag;if((W===3||W===4)&&(W=M.stateNode.containerInfo,W===j||W.nodeType===8&&W.parentNode===j))return;M=M.return}for(;z!==null;){if(M=ca(z),M===null)return;if(W=M.tag,W===5||W===6){x=S=M;continue e}z=z.parentNode}}x=x.return}Jp(function(){var ae=S,pe=nt(c),fe=[];e:{var he=Uf.get(n);if(he!==void 0){var Ce=Zd,_e=n;switch(n){case"keypress":if(Cl(c)===0)break e;case"keydown":case"keyup":Ce=B1;break;case"focusin":_e="focus",Ce=su;break;case"focusout":_e="blur",Ce=su;break;case"beforeblur":case"afterblur":Ce=su;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=T1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=H1;break;case $f:case qf:case Bf:Ce=M1;break;case Vf:Ce=G1;break;case"scroll":Ce=E1;break;case"wheel":Ce=X1;break;case"copy":case"cut":case"paste":Ce=I1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Nf}var ke=(i&4)!==0,Et=!ke&&n==="scroll",Z=ke?he!==null?he+"Capture":null:he;ke=[];for(var Y=ae,te;Y!==null;){te=Y;var je=te.stateNode;if(te.tag===5&&je!==null&&(te=je,Z!==null&&(je=Vi(Y,Z),je!=null&&ke.push(lo(Y,je,te)))),Et)break;Y=Y.return}0<ke.length&&(he=new Ce(he,_e,null,c,pe),fe.push({event:he,listeners:ke}))}}if((i&7)===0){e:{if(he=n==="mouseover"||n==="pointerover",Ce=n==="mouseout"||n==="pointerout",he&&c!==Oe&&(_e=c.relatedTarget||c.fromElement)&&(ca(_e)||_e[Jr]))break e;if((Ce||he)&&(he=pe.window===pe?pe:(he=pe.ownerDocument)?he.defaultView||he.parentWindow:window,Ce?(_e=c.relatedTarget||c.toElement,Ce=ae,_e=_e?ca(_e):null,_e!==null&&(Et=la(_e),_e!==Et||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(Ce=null,_e=ae),Ce!==_e)){if(ke=yf,je="onMouseLeave",Z="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&(ke=Nf,je="onPointerLeave",Z="onPointerEnter",Y="pointer"),Et=Ce==null?he:Ha(Ce),te=_e==null?he:Ha(_e),he=new ke(je,Y+"leave",Ce,c,pe),he.target=Et,he.relatedTarget=te,je=null,ca(pe)===ae&&(ke=new ke(Z,Y+"enter",_e,c,pe),ke.target=te,ke.relatedTarget=Et,je=ke),Et=je,Ce&&_e)t:{for(ke=Ce,Z=_e,Y=0,te=ke;te;te=Va(te))Y++;for(te=0,je=Z;je;je=Va(je))te++;for(;0<Y-te;)ke=Va(ke),Y--;for(;0<te-Y;)Z=Va(Z),te--;for(;Y--;){if(ke===Z||Z!==null&&ke===Z.alternate)break t;ke=Va(ke),Z=Va(Z)}ke=null}else ke=null;Ce!==null&&Xf(fe,he,Ce,ke,!1),_e!==null&&Et!==null&&Xf(fe,Et,_e,ke,!0)}}e:{if(he=ae?Ha(ae):window,Ce=he.nodeName&&he.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&he.type==="file")var Pe=s2;else if(Ef(he))if(Tf)Pe=i2;else{Pe=n2;var Ae=r2}else(Ce=he.nodeName)&&Ce.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Pe=a2);if(Pe&&(Pe=Pe(n,ae))){Pf(fe,Pe,c,pe);break e}Ae&&Ae(n,he,ae),n==="focusout"&&(Ae=he._wrapperState)&&Ae.controlled&&he.type==="number"&&Qt(he,"number",he.value)}switch(Ae=ae?Ha(ae):window,n){case"focusin":(Ef(Ae)||Ae.contentEditable==="true")&&(qa=Ae,lu=ae,ao=null);break;case"focusout":ao=lu=qa=null;break;case"mousedown":cu=!0;break;case"contextmenu":case"mouseup":case"dragend":cu=!1,Ff(fe,c,pe);break;case"selectionchange":if(c2)break;case"keydown":case"keyup":Ff(fe,c,pe)}var Me;if(nu)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else $a?_f(n,c)&&(Ie="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(Ie="onCompositionStart");Ie&&(wf&&c.locale!=="ko"&&($a||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&$a&&(Me=vf()):(bn=pe,Jd="value"in bn?bn.value:bn.textContent,$a=!0)),Ae=Rl(ae,Ie),0<Ae.length&&(Ie=new bf(Ie,n,null,c,pe),fe.push({event:Ie,listeners:Ae}),Me?Ie.data=Me:(Me=kf(c),Me!==null&&(Ie.data=Me)))),(Me=Q1?J1(n,c):Z1(n,c))&&(ae=Rl(ae,"onBeforeInput"),0<ae.length&&(pe=new bf("onBeforeInput","beforeinput",null,c,pe),fe.push({event:pe,listeners:ae}),pe.data=Me))}Gf(fe,i)})}function lo(n,i,c){return{instance:n,listener:i,currentTarget:c}}function Rl(n,i){for(var c=i+"Capture",x=[];n!==null;){var j=n,S=j.stateNode;j.tag===5&&S!==null&&(j=S,S=Vi(n,c),S!=null&&x.unshift(lo(n,S,j)),S=Vi(n,i),S!=null&&x.push(lo(n,S,j))),n=n.return}return x}function Va(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Xf(n,i,c,x,j){for(var S=i._reactName,M=[];c!==null&&c!==x;){var z=c,W=z.alternate,ae=z.stateNode;if(W!==null&&W===x)break;z.tag===5&&ae!==null&&(z=ae,j?(W=Vi(c,S),W!=null&&M.unshift(lo(c,W,z))):j||(W=Vi(c,S),W!=null&&M.push(lo(c,W,z)))),c=c.return}M.length!==0&&n.push({event:i,listeners:M})}var h2=/\r\n?/g,p2=/\u0000|\uFFFD/g;function Yf(n){return(typeof n=="string"?n:""+n).replace(h2,`
`).replace(p2,"")}function Al(n,i,c){if(i=Yf(i),Yf(n)!==i&&c)throw Error(r(425))}function Ml(){}var fu=null,xu=null;function gu(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vu=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,Qf=typeof Promise=="function"?Promise:void 0,x2=typeof queueMicrotask=="function"?queueMicrotask:typeof Qf<"u"?function(n){return Qf.resolve(null).then(n).catch(g2)}:vu;function g2(n){setTimeout(function(){throw n})}function ju(n,i){var c=i,x=0;do{var j=c.nextSibling;if(n.removeChild(c),j&&j.nodeType===8)if(c=j.data,c==="/$"){if(x===0){n.removeChild(j),Ji(i);return}x--}else c!=="$"&&c!=="$?"&&c!=="$!"||x++;c=j}while(c);Ji(i)}function wn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Jf(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return n;i--}else c==="/$"&&i++}n=n.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Ua,co="__reactProps$"+Ua,Jr="__reactContainer$"+Ua,yu="__reactEvents$"+Ua,v2="__reactListeners$"+Ua,j2="__reactHandles$"+Ua;function ca(n){var i=n[Cr];if(i)return i;for(var c=n.parentNode;c;){if(i=c[Jr]||c[Cr]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(n=Jf(n);n!==null;){if(c=n[Cr])return c;n=Jf(n)}return i}n=c,c=n.parentNode}return null}function uo(n){return n=n[Cr]||n[Jr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ha(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Dl(n){return n[co]||null}var bu=[],Wa=-1;function Cn(n){return{current:n}}function gt(n){0>Wa||(n.current=bu[Wa],bu[Wa]=null,Wa--)}function ut(n,i){Wa++,bu[Wa]=n.current,n.current=i}var Sn={},Jt=Cn(Sn),ds=Cn(!1),da=Sn;function Ga(n,i){var c=n.type.contextTypes;if(!c)return Sn;var x=n.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===i)return x.__reactInternalMemoizedMaskedChildContext;var j={},S;for(S in c)j[S]=i[S];return x&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=j),j}function us(n){return n=n.childContextTypes,n!=null}function Il(){gt(ds),gt(Jt)}function Zf(n,i,c){if(Jt.current!==Sn)throw Error(r(168));ut(Jt,i),ut(ds,c)}function ex(n,i,c){var x=n.stateNode;if(i=i.childContextTypes,typeof x.getChildContext!="function")return c;x=x.getChildContext();for(var j in x)if(!(j in i))throw Error(r(108,re(n)||"Unknown",j));return le({},c,x)}function Ll(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Sn,da=Jt.current,ut(Jt,n),ut(ds,ds.current),!0}function tx(n,i,c){var x=n.stateNode;if(!x)throw Error(r(169));c?(n=ex(n,i,da),x.__reactInternalMemoizedMergedChildContext=n,gt(ds),gt(Jt),ut(Jt,n)):gt(ds),ut(ds,c)}var Zr=null,Ol=!1,Nu=!1;function sx(n){Zr===null?Zr=[n]:Zr.push(n)}function y2(n){Ol=!0,sx(n)}function _n(){if(!Nu&&Zr!==null){Nu=!0;var n=0,i=at;try{var c=Zr;for(at=1;n<c.length;n++){var x=c[n];do x=x(!0);while(x!==null)}Zr=null,Ol=!1}catch(j){throw Zr!==null&&(Zr=Zr.slice(n+1)),rf(Ud,_n),j}finally{at=i,Nu=!1}}return null}var Ka=[],Xa=0,Fl=null,zl=0,Is=[],Ls=0,ua=null,en=1,tn="";function ma(n,i){Ka[Xa++]=zl,Ka[Xa++]=Fl,Fl=n,zl=i}function rx(n,i,c){Is[Ls++]=en,Is[Ls++]=tn,Is[Ls++]=ua,ua=n;var x=en;n=tn;var j=32-er(x)-1;x&=~(1<<j),c+=1;var S=32-er(i)+j;if(30<S){var M=j-j%5;S=(x&(1<<M)-1).toString(32),x>>=M,j-=M,en=1<<32-er(i)+j|c<<j|x,tn=S+n}else en=1<<S|c<<j|x,tn=n}function wu(n){n.return!==null&&(ma(n,1),rx(n,1,0))}function Cu(n){for(;n===Fl;)Fl=Ka[--Xa],Ka[Xa]=null,zl=Ka[--Xa],Ka[Xa]=null;for(;n===ua;)ua=Is[--Ls],Is[Ls]=null,tn=Is[--Ls],Is[Ls]=null,en=Is[--Ls],Is[Ls]=null}var Ss=null,_s=null,jt=!1,sr=null;function nx(n,i){var c=$s(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=n,i=n.deletions,i===null?(n.deletions=[c],n.flags|=16):i.push(c)}function ax(n,i){switch(n.tag){case 5:var c=n.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Ss=n,_s=wn(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Ss=n,_s=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=ua!==null?{id:en,overflow:tn}:null,n.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=$s(18,null,null,0),c.stateNode=i,c.return=n,n.child=c,Ss=n,_s=null,!0):!1;default:return!1}}function Su(n){return(n.mode&1)!==0&&(n.flags&128)===0}function _u(n){if(jt){var i=_s;if(i){var c=i;if(!ax(n,i)){if(Su(n))throw Error(r(418));i=wn(c.nextSibling);var x=Ss;i&&ax(n,i)?nx(x,c):(n.flags=n.flags&-4097|2,jt=!1,Ss=n)}}else{if(Su(n))throw Error(r(418));n.flags=n.flags&-4097|2,jt=!1,Ss=n}}}function ix(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ss=n}function $l(n){if(n!==Ss)return!1;if(!jt)return ix(n),jt=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!gu(n.type,n.memoizedProps)),i&&(i=_s)){if(Su(n))throw ox(),Error(r(418));for(;i;)nx(n,i),i=wn(i.nextSibling)}if(ix(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"){if(i===0){_s=wn(n.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}n=n.nextSibling}_s=null}}else _s=Ss?wn(n.stateNode.nextSibling):null;return!0}function ox(){for(var n=_s;n;)n=wn(n.nextSibling)}function Ya(){_s=Ss=null,jt=!1}function ku(n){sr===null?sr=[n]:sr.push(n)}var b2=R.ReactCurrentBatchConfig;function mo(n,i,c){if(n=c.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var x=c.stateNode}if(!x)throw Error(r(147,n));var j=x,S=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===S?i.ref:(i=function(M){var z=j.refs;M===null?delete z[S]:z[S]=M},i._stringRef=S,i)}if(typeof n!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,n))}return n}function ql(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function lx(n){var i=n._init;return i(n._payload)}function cx(n){function i(Z,Y){if(n){var te=Z.deletions;te===null?(Z.deletions=[Y],Z.flags|=16):te.push(Y)}}function c(Z,Y){if(!n)return null;for(;Y!==null;)i(Z,Y),Y=Y.sibling;return null}function x(Z,Y){for(Z=new Map;Y!==null;)Y.key!==null?Z.set(Y.key,Y):Z.set(Y.index,Y),Y=Y.sibling;return Z}function j(Z,Y){return Z=Dn(Z,Y),Z.index=0,Z.sibling=null,Z}function S(Z,Y,te){return Z.index=te,n?(te=Z.alternate,te!==null?(te=te.index,te<Y?(Z.flags|=2,Y):te):(Z.flags|=2,Y)):(Z.flags|=1048576,Y)}function M(Z){return n&&Z.alternate===null&&(Z.flags|=2),Z}function z(Z,Y,te,je){return Y===null||Y.tag!==6?(Y=vm(te,Z.mode,je),Y.return=Z,Y):(Y=j(Y,te),Y.return=Z,Y)}function W(Z,Y,te,je){var Pe=te.type;return Pe===b?pe(Z,Y,te.props.children,je,te.key):Y!==null&&(Y.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===U&&lx(Pe)===Y.type)?(je=j(Y,te.props),je.ref=mo(Z,Y,te),je.return=Z,je):(je=uc(te.type,te.key,te.props,null,Z.mode,je),je.ref=mo(Z,Y,te),je.return=Z,je)}function ae(Z,Y,te,je){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==te.containerInfo||Y.stateNode.implementation!==te.implementation?(Y=jm(te,Z.mode,je),Y.return=Z,Y):(Y=j(Y,te.children||[]),Y.return=Z,Y)}function pe(Z,Y,te,je,Pe){return Y===null||Y.tag!==7?(Y=ya(te,Z.mode,je,Pe),Y.return=Z,Y):(Y=j(Y,te),Y.return=Z,Y)}function fe(Z,Y,te){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=vm(""+Y,Z.mode,te),Y.return=Z,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case I:return te=uc(Y.type,Y.key,Y.props,null,Z.mode,te),te.ref=mo(Z,null,Y),te.return=Z,te;case T:return Y=jm(Y,Z.mode,te),Y.return=Z,Y;case U:var je=Y._init;return fe(Z,je(Y._payload),te)}if(Ms(Y)||H(Y))return Y=ya(Y,Z.mode,te,null),Y.return=Z,Y;ql(Z,Y)}return null}function he(Z,Y,te,je){var Pe=Y!==null?Y.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Pe!==null?null:z(Z,Y,""+te,je);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case I:return te.key===Pe?W(Z,Y,te,je):null;case T:return te.key===Pe?ae(Z,Y,te,je):null;case U:return Pe=te._init,he(Z,Y,Pe(te._payload),je)}if(Ms(te)||H(te))return Pe!==null?null:pe(Z,Y,te,je,null);ql(Z,te)}return null}function Ce(Z,Y,te,je,Pe){if(typeof je=="string"&&je!==""||typeof je=="number")return Z=Z.get(te)||null,z(Y,Z,""+je,Pe);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case I:return Z=Z.get(je.key===null?te:je.key)||null,W(Y,Z,je,Pe);case T:return Z=Z.get(je.key===null?te:je.key)||null,ae(Y,Z,je,Pe);case U:var Ae=je._init;return Ce(Z,Y,te,Ae(je._payload),Pe)}if(Ms(je)||H(je))return Z=Z.get(te)||null,pe(Y,Z,je,Pe,null);ql(Y,je)}return null}function _e(Z,Y,te,je){for(var Pe=null,Ae=null,Me=Y,Ie=Y=0,qt=null;Me!==null&&Ie<te.length;Ie++){Me.index>Ie?(qt=Me,Me=null):qt=Me.sibling;var tt=he(Z,Me,te[Ie],je);if(tt===null){Me===null&&(Me=qt);break}n&&Me&&tt.alternate===null&&i(Z,Me),Y=S(tt,Y,Ie),Ae===null?Pe=tt:Ae.sibling=tt,Ae=tt,Me=qt}if(Ie===te.length)return c(Z,Me),jt&&ma(Z,Ie),Pe;if(Me===null){for(;Ie<te.length;Ie++)Me=fe(Z,te[Ie],je),Me!==null&&(Y=S(Me,Y,Ie),Ae===null?Pe=Me:Ae.sibling=Me,Ae=Me);return jt&&ma(Z,Ie),Pe}for(Me=x(Z,Me);Ie<te.length;Ie++)qt=Ce(Me,Z,Ie,te[Ie],je),qt!==null&&(n&&qt.alternate!==null&&Me.delete(qt.key===null?Ie:qt.key),Y=S(qt,Y,Ie),Ae===null?Pe=qt:Ae.sibling=qt,Ae=qt);return n&&Me.forEach(function(In){return i(Z,In)}),jt&&ma(Z,Ie),Pe}function ke(Z,Y,te,je){var Pe=H(te);if(typeof Pe!="function")throw Error(r(150));if(te=Pe.call(te),te==null)throw Error(r(151));for(var Ae=Pe=null,Me=Y,Ie=Y=0,qt=null,tt=te.next();Me!==null&&!tt.done;Ie++,tt=te.next()){Me.index>Ie?(qt=Me,Me=null):qt=Me.sibling;var In=he(Z,Me,tt.value,je);if(In===null){Me===null&&(Me=qt);break}n&&Me&&In.alternate===null&&i(Z,Me),Y=S(In,Y,Ie),Ae===null?Pe=In:Ae.sibling=In,Ae=In,Me=qt}if(tt.done)return c(Z,Me),jt&&ma(Z,Ie),Pe;if(Me===null){for(;!tt.done;Ie++,tt=te.next())tt=fe(Z,tt.value,je),tt!==null&&(Y=S(tt,Y,Ie),Ae===null?Pe=tt:Ae.sibling=tt,Ae=tt);return jt&&ma(Z,Ie),Pe}for(Me=x(Z,Me);!tt.done;Ie++,tt=te.next())tt=Ce(Me,Z,Ie,tt.value,je),tt!==null&&(n&&tt.alternate!==null&&Me.delete(tt.key===null?Ie:tt.key),Y=S(tt,Y,Ie),Ae===null?Pe=tt:Ae.sibling=tt,Ae=tt);return n&&Me.forEach(function(eC){return i(Z,eC)}),jt&&ma(Z,Ie),Pe}function Et(Z,Y,te,je){if(typeof te=="object"&&te!==null&&te.type===b&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case I:e:{for(var Pe=te.key,Ae=Y;Ae!==null;){if(Ae.key===Pe){if(Pe=te.type,Pe===b){if(Ae.tag===7){c(Z,Ae.sibling),Y=j(Ae,te.props.children),Y.return=Z,Z=Y;break e}}else if(Ae.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===U&&lx(Pe)===Ae.type){c(Z,Ae.sibling),Y=j(Ae,te.props),Y.ref=mo(Z,Ae,te),Y.return=Z,Z=Y;break e}c(Z,Ae);break}else i(Z,Ae);Ae=Ae.sibling}te.type===b?(Y=ya(te.props.children,Z.mode,je,te.key),Y.return=Z,Z=Y):(je=uc(te.type,te.key,te.props,null,Z.mode,je),je.ref=mo(Z,Y,te),je.return=Z,Z=je)}return M(Z);case T:e:{for(Ae=te.key;Y!==null;){if(Y.key===Ae)if(Y.tag===4&&Y.stateNode.containerInfo===te.containerInfo&&Y.stateNode.implementation===te.implementation){c(Z,Y.sibling),Y=j(Y,te.children||[]),Y.return=Z,Z=Y;break e}else{c(Z,Y);break}else i(Z,Y);Y=Y.sibling}Y=jm(te,Z.mode,je),Y.return=Z,Z=Y}return M(Z);case U:return Ae=te._init,Et(Z,Y,Ae(te._payload),je)}if(Ms(te))return _e(Z,Y,te,je);if(H(te))return ke(Z,Y,te,je);ql(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,Y!==null&&Y.tag===6?(c(Z,Y.sibling),Y=j(Y,te),Y.return=Z,Z=Y):(c(Z,Y),Y=vm(te,Z.mode,je),Y.return=Z,Z=Y),M(Z)):c(Z,Y)}return Et}var Qa=cx(!0),dx=cx(!1),Bl=Cn(null),Vl=null,Ja=null,Eu=null;function Pu(){Eu=Ja=Vl=null}function Tu(n){var i=Bl.current;gt(Bl),n._currentValue=i}function Ru(n,i,c){for(;n!==null;){var x=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,x!==null&&(x.childLanes|=i)):x!==null&&(x.childLanes&i)!==i&&(x.childLanes|=i),n===c)break;n=n.return}}function Za(n,i){Vl=n,Eu=Ja=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(ms=!0),n.firstContext=null)}function Os(n){var i=n._currentValue;if(Eu!==n)if(n={context:n,memoizedValue:i,next:null},Ja===null){if(Vl===null)throw Error(r(308));Ja=n,Vl.dependencies={lanes:0,firstContext:n}}else Ja=Ja.next=n;return i}var ha=null;function Au(n){ha===null?ha=[n]:ha.push(n)}function ux(n,i,c,x){var j=i.interleaved;return j===null?(c.next=c,Au(i)):(c.next=j.next,j.next=c),i.interleaved=c,sn(n,x)}function sn(n,i){n.lanes|=i;var c=n.alternate;for(c!==null&&(c.lanes|=i),c=n,n=n.return;n!==null;)n.childLanes|=i,c=n.alternate,c!==null&&(c.childLanes|=i),c=n,n=n.return;return c.tag===3?c.stateNode:null}var kn=!1;function Mu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mx(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function rn(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function En(n,i,c){var x=n.updateQueue;if(x===null)return null;if(x=x.shared,(et&2)!==0){var j=x.pending;return j===null?i.next=i:(i.next=j.next,j.next=i),x.pending=i,sn(n,c)}return j=x.interleaved,j===null?(i.next=i,Au(x)):(i.next=j.next,j.next=i),x.interleaved=i,sn(n,c)}function Ul(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var x=i.lanes;x&=n.pendingLanes,c|=x,i.lanes=c,Gd(n,c)}}function hx(n,i){var c=n.updateQueue,x=n.alternate;if(x!==null&&(x=x.updateQueue,c===x)){var j=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var M={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};S===null?j=S=M:S=S.next=M,c=c.next}while(c!==null);S===null?j=S=i:S=S.next=i}else j=S=i;c={baseState:x.baseState,firstBaseUpdate:j,lastBaseUpdate:S,shared:x.shared,effects:x.effects},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}function Hl(n,i,c,x){var j=n.updateQueue;kn=!1;var S=j.firstBaseUpdate,M=j.lastBaseUpdate,z=j.shared.pending;if(z!==null){j.shared.pending=null;var W=z,ae=W.next;W.next=null,M===null?S=ae:M.next=ae,M=W;var pe=n.alternate;pe!==null&&(pe=pe.updateQueue,z=pe.lastBaseUpdate,z!==M&&(z===null?pe.firstBaseUpdate=ae:z.next=ae,pe.lastBaseUpdate=W))}if(S!==null){var fe=j.baseState;M=0,pe=ae=W=null,z=S;do{var he=z.lane,Ce=z.eventTime;if((x&he)===he){pe!==null&&(pe=pe.next={eventTime:Ce,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var _e=n,ke=z;switch(he=i,Ce=c,ke.tag){case 1:if(_e=ke.payload,typeof _e=="function"){fe=_e.call(Ce,fe,he);break e}fe=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ke.payload,he=typeof _e=="function"?_e.call(Ce,fe,he):_e,he==null)break e;fe=le({},fe,he);break e;case 2:kn=!0}}z.callback!==null&&z.lane!==0&&(n.flags|=64,he=j.effects,he===null?j.effects=[z]:he.push(z))}else Ce={eventTime:Ce,lane:he,tag:z.tag,payload:z.payload,callback:z.callback,next:null},pe===null?(ae=pe=Ce,W=fe):pe=pe.next=Ce,M|=he;if(z=z.next,z===null){if(z=j.shared.pending,z===null)break;he=z,z=he.next,he.next=null,j.lastBaseUpdate=he,j.shared.pending=null}}while(!0);if(pe===null&&(W=fe),j.baseState=W,j.firstBaseUpdate=ae,j.lastBaseUpdate=pe,i=j.shared.interleaved,i!==null){j=i;do M|=j.lane,j=j.next;while(j!==i)}else S===null&&(j.shared.lanes=0);xa|=M,n.lanes=M,n.memoizedState=fe}}function px(n,i,c){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var x=n[i],j=x.callback;if(j!==null){if(x.callback=null,x=c,typeof j!="function")throw Error(r(191,j));j.call(x)}}}var ho={},Sr=Cn(ho),po=Cn(ho),fo=Cn(ho);function pa(n){if(n===ho)throw Error(r(174));return n}function Du(n,i){switch(ut(fo,i),ut(po,n),ut(Sr,ho),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Nr(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Nr(i,n)}gt(Sr),ut(Sr,i)}function ei(){gt(Sr),gt(po),gt(fo)}function fx(n){pa(fo.current);var i=pa(Sr.current),c=Nr(i,n.type);i!==c&&(ut(po,n),ut(Sr,c))}function Iu(n){po.current===n&&(gt(Sr),gt(po))}var Nt=Cn(0);function Wl(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Lu=[];function Ou(){for(var n=0;n<Lu.length;n++)Lu[n]._workInProgressVersionPrimary=null;Lu.length=0}var Gl=R.ReactCurrentDispatcher,Fu=R.ReactCurrentBatchConfig,fa=0,wt=null,It=null,zt=null,Kl=!1,xo=!1,go=0,N2=0;function Zt(){throw Error(r(321))}function zu(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!tr(n[c],i[c]))return!1;return!0}function $u(n,i,c,x,j,S){if(fa=S,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Gl.current=n===null||n.memoizedState===null?_2:k2,n=c(x,j),xo){S=0;do{if(xo=!1,go=0,25<=S)throw Error(r(301));S+=1,zt=It=null,i.updateQueue=null,Gl.current=E2,n=c(x,j)}while(xo)}if(Gl.current=Ql,i=It!==null&&It.next!==null,fa=0,zt=It=wt=null,Kl=!1,i)throw Error(r(300));return n}function qu(){var n=go!==0;return go=0,n}function _r(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?wt.memoizedState=zt=n:zt=zt.next=n,zt}function Fs(){if(It===null){var n=wt.alternate;n=n!==null?n.memoizedState:null}else n=It.next;var i=zt===null?wt.memoizedState:zt.next;if(i!==null)zt=i,It=n;else{if(n===null)throw Error(r(310));It=n,n={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},zt===null?wt.memoizedState=zt=n:zt=zt.next=n}return zt}function vo(n,i){return typeof i=="function"?i(n):i}function Bu(n){var i=Fs(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var x=It,j=x.baseQueue,S=c.pending;if(S!==null){if(j!==null){var M=j.next;j.next=S.next,S.next=M}x.baseQueue=j=S,c.pending=null}if(j!==null){S=j.next,x=x.baseState;var z=M=null,W=null,ae=S;do{var pe=ae.lane;if((fa&pe)===pe)W!==null&&(W=W.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),x=ae.hasEagerState?ae.eagerState:n(x,ae.action);else{var fe={lane:pe,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};W===null?(z=W=fe,M=x):W=W.next=fe,wt.lanes|=pe,xa|=pe}ae=ae.next}while(ae!==null&&ae!==S);W===null?M=x:W.next=z,tr(x,i.memoizedState)||(ms=!0),i.memoizedState=x,i.baseState=M,i.baseQueue=W,c.lastRenderedState=x}if(n=c.interleaved,n!==null){j=n;do S=j.lane,wt.lanes|=S,xa|=S,j=j.next;while(j!==n)}else j===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function Vu(n){var i=Fs(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=n;var x=c.dispatch,j=c.pending,S=i.memoizedState;if(j!==null){c.pending=null;var M=j=j.next;do S=n(S,M.action),M=M.next;while(M!==j);tr(S,i.memoizedState)||(ms=!0),i.memoizedState=S,i.baseQueue===null&&(i.baseState=S),c.lastRenderedState=S}return[S,x]}function xx(){}function gx(n,i){var c=wt,x=Fs(),j=i(),S=!tr(x.memoizedState,j);if(S&&(x.memoizedState=j,ms=!0),x=x.queue,Uu(yx.bind(null,c,x,n),[n]),x.getSnapshot!==i||S||zt!==null&&zt.memoizedState.tag&1){if(c.flags|=2048,jo(9,jx.bind(null,c,x,j,i),void 0,null),$t===null)throw Error(r(349));(fa&30)!==0||vx(c,i,j)}return j}function vx(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=wt.updateQueue,i===null?(i={lastEffect:null,stores:null},wt.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function jx(n,i,c,x){i.value=c,i.getSnapshot=x,bx(i)&&Nx(n)}function yx(n,i,c){return c(function(){bx(i)&&Nx(n)})}function bx(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!tr(n,c)}catch{return!0}}function Nx(n){var i=sn(n,1);i!==null&&ir(i,n,1,-1)}function wx(n){var i=_r();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:n},i.queue=n,n=n.dispatch=S2.bind(null,wt,n),[i.memoizedState,n]}function jo(n,i,c,x){return n={tag:n,create:i,destroy:c,deps:x,next:null},i=wt.updateQueue,i===null?(i={lastEffect:null,stores:null},wt.updateQueue=i,i.lastEffect=n.next=n):(c=i.lastEffect,c===null?i.lastEffect=n.next=n:(x=c.next,c.next=n,n.next=x,i.lastEffect=n)),n}function Cx(){return Fs().memoizedState}function Xl(n,i,c,x){var j=_r();wt.flags|=n,j.memoizedState=jo(1|i,c,void 0,x===void 0?null:x)}function Yl(n,i,c,x){var j=Fs();x=x===void 0?null:x;var S=void 0;if(It!==null){var M=It.memoizedState;if(S=M.destroy,x!==null&&zu(x,M.deps)){j.memoizedState=jo(i,c,S,x);return}}wt.flags|=n,j.memoizedState=jo(1|i,c,S,x)}function Sx(n,i){return Xl(8390656,8,n,i)}function Uu(n,i){return Yl(2048,8,n,i)}function _x(n,i){return Yl(4,2,n,i)}function kx(n,i){return Yl(4,4,n,i)}function Ex(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Px(n,i,c){return c=c!=null?c.concat([n]):null,Yl(4,4,Ex.bind(null,i,n),c)}function Hu(){}function Tx(n,i){var c=Fs();i=i===void 0?null:i;var x=c.memoizedState;return x!==null&&i!==null&&zu(i,x[1])?x[0]:(c.memoizedState=[n,i],n)}function Rx(n,i){var c=Fs();i=i===void 0?null:i;var x=c.memoizedState;return x!==null&&i!==null&&zu(i,x[1])?x[0]:(n=n(),c.memoizedState=[n,i],n)}function Ax(n,i,c){return(fa&21)===0?(n.baseState&&(n.baseState=!1,ms=!0),n.memoizedState=c):(tr(c,i)||(c=lf(),wt.lanes|=c,xa|=c,n.baseState=!0),i)}function w2(n,i){var c=at;at=c!==0&&4>c?c:4,n(!0);var x=Fu.transition;Fu.transition={};try{n(!1),i()}finally{at=c,Fu.transition=x}}function Mx(){return Fs().memoizedState}function C2(n,i,c){var x=An(n);if(c={lane:x,action:c,hasEagerState:!1,eagerState:null,next:null},Dx(n))Ix(i,c);else if(c=ux(n,i,c,x),c!==null){var j=as();ir(c,n,x,j),Lx(c,i,x)}}function S2(n,i,c){var x=An(n),j={lane:x,action:c,hasEagerState:!1,eagerState:null,next:null};if(Dx(n))Ix(i,j);else{var S=n.alternate;if(n.lanes===0&&(S===null||S.lanes===0)&&(S=i.lastRenderedReducer,S!==null))try{var M=i.lastRenderedState,z=S(M,c);if(j.hasEagerState=!0,j.eagerState=z,tr(z,M)){var W=i.interleaved;W===null?(j.next=j,Au(i)):(j.next=W.next,W.next=j),i.interleaved=j;return}}catch{}finally{}c=ux(n,i,j,x),c!==null&&(j=as(),ir(c,n,x,j),Lx(c,i,x))}}function Dx(n){var i=n.alternate;return n===wt||i!==null&&i===wt}function Ix(n,i){xo=Kl=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function Lx(n,i,c){if((c&4194240)!==0){var x=i.lanes;x&=n.pendingLanes,c|=x,i.lanes=c,Gd(n,c)}}var Ql={readContext:Os,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},_2={readContext:Os,useCallback:function(n,i){return _r().memoizedState=[n,i===void 0?null:i],n},useContext:Os,useEffect:Sx,useImperativeHandle:function(n,i,c){return c=c!=null?c.concat([n]):null,Xl(4194308,4,Ex.bind(null,i,n),c)},useLayoutEffect:function(n,i){return Xl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Xl(4,2,n,i)},useMemo:function(n,i){var c=_r();return i=i===void 0?null:i,n=n(),c.memoizedState=[n,i],n},useReducer:function(n,i,c){var x=_r();return i=c!==void 0?c(i):i,x.memoizedState=x.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},x.queue=n,n=n.dispatch=C2.bind(null,wt,n),[x.memoizedState,n]},useRef:function(n){var i=_r();return n={current:n},i.memoizedState=n},useState:wx,useDebugValue:Hu,useDeferredValue:function(n){return _r().memoizedState=n},useTransition:function(){var n=wx(!1),i=n[0];return n=w2.bind(null,n[1]),_r().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,c){var x=wt,j=_r();if(jt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=i(),$t===null)throw Error(r(349));(fa&30)!==0||vx(x,i,c)}j.memoizedState=c;var S={value:c,getSnapshot:i};return j.queue=S,Sx(yx.bind(null,x,S,n),[n]),x.flags|=2048,jo(9,jx.bind(null,x,S,c,i),void 0,null),c},useId:function(){var n=_r(),i=$t.identifierPrefix;if(jt){var c=tn,x=en;c=(x&~(1<<32-er(x)-1)).toString(32)+c,i=":"+i+"R"+c,c=go++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=N2++,i=":"+i+"r"+c.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},k2={readContext:Os,useCallback:Tx,useContext:Os,useEffect:Uu,useImperativeHandle:Px,useInsertionEffect:_x,useLayoutEffect:kx,useMemo:Rx,useReducer:Bu,useRef:Cx,useState:function(){return Bu(vo)},useDebugValue:Hu,useDeferredValue:function(n){var i=Fs();return Ax(i,It.memoizedState,n)},useTransition:function(){var n=Bu(vo)[0],i=Fs().memoizedState;return[n,i]},useMutableSource:xx,useSyncExternalStore:gx,useId:Mx,unstable_isNewReconciler:!1},E2={readContext:Os,useCallback:Tx,useContext:Os,useEffect:Uu,useImperativeHandle:Px,useInsertionEffect:_x,useLayoutEffect:kx,useMemo:Rx,useReducer:Vu,useRef:Cx,useState:function(){return Vu(vo)},useDebugValue:Hu,useDeferredValue:function(n){var i=Fs();return It===null?i.memoizedState=n:Ax(i,It.memoizedState,n)},useTransition:function(){var n=Vu(vo)[0],i=Fs().memoizedState;return[n,i]},useMutableSource:xx,useSyncExternalStore:gx,useId:Mx,unstable_isNewReconciler:!1};function rr(n,i){if(n&&n.defaultProps){i=le({},i),n=n.defaultProps;for(var c in n)i[c]===void 0&&(i[c]=n[c]);return i}return i}function Wu(n,i,c,x){i=n.memoizedState,c=c(x,i),c=c==null?i:le({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var Jl={isMounted:function(n){return(n=n._reactInternals)?la(n)===n:!1},enqueueSetState:function(n,i,c){n=n._reactInternals;var x=as(),j=An(n),S=rn(x,j);S.payload=i,c!=null&&(S.callback=c),i=En(n,S,j),i!==null&&(ir(i,n,j,x),Ul(i,n,j))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var x=as(),j=An(n),S=rn(x,j);S.tag=1,S.payload=i,c!=null&&(S.callback=c),i=En(n,S,j),i!==null&&(ir(i,n,j,x),Ul(i,n,j))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=as(),x=An(n),j=rn(c,x);j.tag=2,i!=null&&(j.callback=i),i=En(n,j,x),i!==null&&(ir(i,n,x,c),Ul(i,n,x))}};function Ox(n,i,c,x,j,S,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(x,S,M):i.prototype&&i.prototype.isPureReactComponent?!no(c,x)||!no(j,S):!0}function Fx(n,i,c){var x=!1,j=Sn,S=i.contextType;return typeof S=="object"&&S!==null?S=Os(S):(j=us(i)?da:Jt.current,x=i.contextTypes,S=(x=x!=null)?Ga(n,j):Sn),i=new i(c,S),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Jl,n.stateNode=i,i._reactInternals=n,x&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=j,n.__reactInternalMemoizedMaskedChildContext=S),i}function zx(n,i,c,x){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,x),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,x),i.state!==n&&Jl.enqueueReplaceState(i,i.state,null)}function Gu(n,i,c,x){var j=n.stateNode;j.props=c,j.state=n.memoizedState,j.refs={},Mu(n);var S=i.contextType;typeof S=="object"&&S!==null?j.context=Os(S):(S=us(i)?da:Jt.current,j.context=Ga(n,S)),j.state=n.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(Wu(n,i,S,c),j.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(i=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),i!==j.state&&Jl.enqueueReplaceState(j,j.state,null),Hl(n,c,j,x),j.state=n.memoizedState),typeof j.componentDidMount=="function"&&(n.flags|=4194308)}function ti(n,i){try{var c="",x=i;do c+=xe(x),x=x.return;while(x);var j=c}catch(S){j=`
Error generating stack: `+S.message+`
`+S.stack}return{value:n,source:i,stack:j,digest:null}}function Ku(n,i,c){return{value:n,source:null,stack:c??null,digest:i??null}}function Xu(n,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var P2=typeof WeakMap=="function"?WeakMap:Map;function $x(n,i,c){c=rn(-1,c),c.tag=3,c.payload={element:null};var x=i.value;return c.callback=function(){ac||(ac=!0,dm=x),Xu(n,i)},c}function qx(n,i,c){c=rn(-1,c),c.tag=3;var x=n.type.getDerivedStateFromError;if(typeof x=="function"){var j=i.value;c.payload=function(){return x(j)},c.callback=function(){Xu(n,i)}}var S=n.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(c.callback=function(){Xu(n,i),typeof x!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var M=i.stack;this.componentDidCatch(i.value,{componentStack:M!==null?M:""})}),c}function Bx(n,i,c){var x=n.pingCache;if(x===null){x=n.pingCache=new P2;var j=new Set;x.set(i,j)}else j=x.get(i),j===void 0&&(j=new Set,x.set(i,j));j.has(c)||(j.add(c),n=V2.bind(null,n,i,c),i.then(n,n))}function Vx(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Ux(n,i,c,x,j){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=rn(-1,1),i.tag=2,En(c,i,1))),c.lanes|=1),n):(n.flags|=65536,n.lanes=j,n)}var T2=R.ReactCurrentOwner,ms=!1;function ns(n,i,c,x){i.child=n===null?dx(i,null,c,x):Qa(i,n.child,c,x)}function Hx(n,i,c,x,j){c=c.render;var S=i.ref;return Za(i,j),x=$u(n,i,c,x,S,j),c=qu(),n!==null&&!ms?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~j,nn(n,i,j)):(jt&&c&&wu(i),i.flags|=1,ns(n,i,x,j),i.child)}function Wx(n,i,c,x,j){if(n===null){var S=c.type;return typeof S=="function"&&!gm(S)&&S.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=S,Gx(n,i,S,x,j)):(n=uc(c.type,null,x,i,i.mode,j),n.ref=i.ref,n.return=i,i.child=n)}if(S=n.child,(n.lanes&j)===0){var M=S.memoizedProps;if(c=c.compare,c=c!==null?c:no,c(M,x)&&n.ref===i.ref)return nn(n,i,j)}return i.flags|=1,n=Dn(S,x),n.ref=i.ref,n.return=i,i.child=n}function Gx(n,i,c,x,j){if(n!==null){var S=n.memoizedProps;if(no(S,x)&&n.ref===i.ref)if(ms=!1,i.pendingProps=x=S,(n.lanes&j)!==0)(n.flags&131072)!==0&&(ms=!0);else return i.lanes=n.lanes,nn(n,i,j)}return Yu(n,i,c,x,j)}function Kx(n,i,c){var x=i.pendingProps,j=x.children,S=n!==null?n.memoizedState:null;if(x.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(ri,ks),ks|=c;else{if((c&1073741824)===0)return n=S!==null?S.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,ut(ri,ks),ks|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=S!==null?S.baseLanes:c,ut(ri,ks),ks|=x}else S!==null?(x=S.baseLanes|c,i.memoizedState=null):x=c,ut(ri,ks),ks|=x;return ns(n,i,j,c),i.child}function Xx(n,i){var c=i.ref;(n===null&&c!==null||n!==null&&n.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Yu(n,i,c,x,j){var S=us(c)?da:Jt.current;return S=Ga(i,S),Za(i,j),c=$u(n,i,c,x,S,j),x=qu(),n!==null&&!ms?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~j,nn(n,i,j)):(jt&&x&&wu(i),i.flags|=1,ns(n,i,c,j),i.child)}function Yx(n,i,c,x,j){if(us(c)){var S=!0;Ll(i)}else S=!1;if(Za(i,j),i.stateNode===null)ec(n,i),Fx(i,c,x),Gu(i,c,x,j),x=!0;else if(n===null){var M=i.stateNode,z=i.memoizedProps;M.props=z;var W=M.context,ae=c.contextType;typeof ae=="object"&&ae!==null?ae=Os(ae):(ae=us(c)?da:Jt.current,ae=Ga(i,ae));var pe=c.getDerivedStateFromProps,fe=typeof pe=="function"||typeof M.getSnapshotBeforeUpdate=="function";fe||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(z!==x||W!==ae)&&zx(i,M,x,ae),kn=!1;var he=i.memoizedState;M.state=he,Hl(i,x,M,j),W=i.memoizedState,z!==x||he!==W||ds.current||kn?(typeof pe=="function"&&(Wu(i,c,pe,x),W=i.memoizedState),(z=kn||Ox(i,c,z,x,he,W,ae))?(fe||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(i.flags|=4194308)):(typeof M.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=x,i.memoizedState=W),M.props=x,M.state=W,M.context=ae,x=z):(typeof M.componentDidMount=="function"&&(i.flags|=4194308),x=!1)}else{M=i.stateNode,mx(n,i),z=i.memoizedProps,ae=i.type===i.elementType?z:rr(i.type,z),M.props=ae,fe=i.pendingProps,he=M.context,W=c.contextType,typeof W=="object"&&W!==null?W=Os(W):(W=us(c)?da:Jt.current,W=Ga(i,W));var Ce=c.getDerivedStateFromProps;(pe=typeof Ce=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(z!==fe||he!==W)&&zx(i,M,x,W),kn=!1,he=i.memoizedState,M.state=he,Hl(i,x,M,j);var _e=i.memoizedState;z!==fe||he!==_e||ds.current||kn?(typeof Ce=="function"&&(Wu(i,c,Ce,x),_e=i.memoizedState),(ae=kn||Ox(i,c,ae,x,he,_e,W)||!1)?(pe||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(x,_e,W),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(x,_e,W)),typeof M.componentDidUpdate=="function"&&(i.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof M.componentDidUpdate!="function"||z===n.memoizedProps&&he===n.memoizedState||(i.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||z===n.memoizedProps&&he===n.memoizedState||(i.flags|=1024),i.memoizedProps=x,i.memoizedState=_e),M.props=x,M.state=_e,M.context=W,x=ae):(typeof M.componentDidUpdate!="function"||z===n.memoizedProps&&he===n.memoizedState||(i.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||z===n.memoizedProps&&he===n.memoizedState||(i.flags|=1024),x=!1)}return Qu(n,i,c,x,S,j)}function Qu(n,i,c,x,j,S){Xx(n,i);var M=(i.flags&128)!==0;if(!x&&!M)return j&&tx(i,c,!1),nn(n,i,S);x=i.stateNode,T2.current=i;var z=M&&typeof c.getDerivedStateFromError!="function"?null:x.render();return i.flags|=1,n!==null&&M?(i.child=Qa(i,n.child,null,S),i.child=Qa(i,null,z,S)):ns(n,i,z,S),i.memoizedState=x.state,j&&tx(i,c,!0),i.child}function Qx(n){var i=n.stateNode;i.pendingContext?Zf(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Zf(n,i.context,!1),Du(n,i.containerInfo)}function Jx(n,i,c,x,j){return Ya(),ku(j),i.flags|=256,ns(n,i,c,x),i.child}var Ju={dehydrated:null,treeContext:null,retryLane:0};function Zu(n){return{baseLanes:n,cachePool:null,transitions:null}}function Zx(n,i,c){var x=i.pendingProps,j=Nt.current,S=!1,M=(i.flags&128)!==0,z;if((z=M)||(z=n!==null&&n.memoizedState===null?!1:(j&2)!==0),z?(S=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(j|=1),ut(Nt,j&1),n===null)return _u(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(M=x.children,n=x.fallback,S?(x=i.mode,S=i.child,M={mode:"hidden",children:M},(x&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=M):S=mc(M,x,0,null),n=ya(n,x,c,null),S.return=i,n.return=i,S.sibling=n,i.child=S,i.child.memoizedState=Zu(c),i.memoizedState=Ju,n):em(i,M));if(j=n.memoizedState,j!==null&&(z=j.dehydrated,z!==null))return R2(n,i,M,x,z,j,c);if(S){S=x.fallback,M=i.mode,j=n.child,z=j.sibling;var W={mode:"hidden",children:x.children};return(M&1)===0&&i.child!==j?(x=i.child,x.childLanes=0,x.pendingProps=W,i.deletions=null):(x=Dn(j,W),x.subtreeFlags=j.subtreeFlags&14680064),z!==null?S=Dn(z,S):(S=ya(S,M,c,null),S.flags|=2),S.return=i,x.return=i,x.sibling=S,i.child=x,x=S,S=i.child,M=n.child.memoizedState,M=M===null?Zu(c):{baseLanes:M.baseLanes|c,cachePool:null,transitions:M.transitions},S.memoizedState=M,S.childLanes=n.childLanes&~c,i.memoizedState=Ju,x}return S=n.child,n=S.sibling,x=Dn(S,{mode:"visible",children:x.children}),(i.mode&1)===0&&(x.lanes=c),x.return=i,x.sibling=null,n!==null&&(c=i.deletions,c===null?(i.deletions=[n],i.flags|=16):c.push(n)),i.child=x,i.memoizedState=null,x}function em(n,i){return i=mc({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Zl(n,i,c,x){return x!==null&&ku(x),Qa(i,n.child,null,c),n=em(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function R2(n,i,c,x,j,S,M){if(c)return i.flags&256?(i.flags&=-257,x=Ku(Error(r(422))),Zl(n,i,M,x)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(S=x.fallback,j=i.mode,x=mc({mode:"visible",children:x.children},j,0,null),S=ya(S,j,M,null),S.flags|=2,x.return=i,S.return=i,x.sibling=S,i.child=x,(i.mode&1)!==0&&Qa(i,n.child,null,M),i.child.memoizedState=Zu(M),i.memoizedState=Ju,S);if((i.mode&1)===0)return Zl(n,i,M,null);if(j.data==="$!"){if(x=j.nextSibling&&j.nextSibling.dataset,x)var z=x.dgst;return x=z,S=Error(r(419)),x=Ku(S,x,void 0),Zl(n,i,M,x)}if(z=(M&n.childLanes)!==0,ms||z){if(x=$t,x!==null){switch(M&-M){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(x.suspendedLanes|M))!==0?0:j,j!==0&&j!==S.retryLane&&(S.retryLane=j,sn(n,j),ir(x,n,j,-1))}return xm(),x=Ku(Error(r(421))),Zl(n,i,M,x)}return j.data==="$?"?(i.flags|=128,i.child=n.child,i=U2.bind(null,n),j._reactRetry=i,null):(n=S.treeContext,_s=wn(j.nextSibling),Ss=i,jt=!0,sr=null,n!==null&&(Is[Ls++]=en,Is[Ls++]=tn,Is[Ls++]=ua,en=n.id,tn=n.overflow,ua=i),i=em(i,x.children),i.flags|=4096,i)}function eg(n,i,c){n.lanes|=i;var x=n.alternate;x!==null&&(x.lanes|=i),Ru(n.return,i,c)}function tm(n,i,c,x,j){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:x,tail:c,tailMode:j}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=x,S.tail=c,S.tailMode=j)}function tg(n,i,c){var x=i.pendingProps,j=x.revealOrder,S=x.tail;if(ns(n,i,x.children,c),x=Nt.current,(x&2)!==0)x=x&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&eg(n,c,i);else if(n.tag===19)eg(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}x&=1}if(ut(Nt,x),(i.mode&1)===0)i.memoizedState=null;else switch(j){case"forwards":for(c=i.child,j=null;c!==null;)n=c.alternate,n!==null&&Wl(n)===null&&(j=c),c=c.sibling;c=j,c===null?(j=i.child,i.child=null):(j=c.sibling,c.sibling=null),tm(i,!1,j,c,S);break;case"backwards":for(c=null,j=i.child,i.child=null;j!==null;){if(n=j.alternate,n!==null&&Wl(n)===null){i.child=j;break}n=j.sibling,j.sibling=c,c=j,j=n}tm(i,!0,c,null,S);break;case"together":tm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ec(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function nn(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),xa|=i.lanes,(c&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,c=Dn(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=Dn(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function A2(n,i,c){switch(i.tag){case 3:Qx(i),Ya();break;case 5:fx(i);break;case 1:us(i.type)&&Ll(i);break;case 4:Du(i,i.stateNode.containerInfo);break;case 10:var x=i.type._context,j=i.memoizedProps.value;ut(Bl,x._currentValue),x._currentValue=j;break;case 13:if(x=i.memoizedState,x!==null)return x.dehydrated!==null?(ut(Nt,Nt.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?Zx(n,i,c):(ut(Nt,Nt.current&1),n=nn(n,i,c),n!==null?n.sibling:null);ut(Nt,Nt.current&1);break;case 19:if(x=(c&i.childLanes)!==0,(n.flags&128)!==0){if(x)return tg(n,i,c);i.flags|=128}if(j=i.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),ut(Nt,Nt.current),x)break;return null;case 22:case 23:return i.lanes=0,Kx(n,i,c)}return nn(n,i,c)}var sg,sm,rg,ng;sg=function(n,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)n.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},sm=function(){},rg=function(n,i,c,x){var j=n.memoizedProps;if(j!==x){n=i.stateNode,pa(Sr.current);var S=null;switch(c){case"input":j=cs(n,j),x=cs(n,x),S=[];break;case"select":j=le({},j,{value:void 0}),x=le({},x,{value:void 0}),S=[];break;case"textarea":j=Fi(n,j),x=Fi(n,x),S=[];break;default:typeof j.onClick!="function"&&typeof x.onClick=="function"&&(n.onclick=Ml)}Ds(c,x);var M;c=null;for(ae in j)if(!x.hasOwnProperty(ae)&&j.hasOwnProperty(ae)&&j[ae]!=null)if(ae==="style"){var z=j[ae];for(M in z)z.hasOwnProperty(M)&&(c||(c={}),c[M]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(o.hasOwnProperty(ae)?S||(S=[]):(S=S||[]).push(ae,null));for(ae in x){var W=x[ae];if(z=j?.[ae],x.hasOwnProperty(ae)&&W!==z&&(W!=null||z!=null))if(ae==="style")if(z){for(M in z)!z.hasOwnProperty(M)||W&&W.hasOwnProperty(M)||(c||(c={}),c[M]="");for(M in W)W.hasOwnProperty(M)&&z[M]!==W[M]&&(c||(c={}),c[M]=W[M])}else c||(S||(S=[]),S.push(ae,c)),c=W;else ae==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,z=z?z.__html:void 0,W!=null&&z!==W&&(S=S||[]).push(ae,W)):ae==="children"?typeof W!="string"&&typeof W!="number"||(S=S||[]).push(ae,""+W):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(o.hasOwnProperty(ae)?(W!=null&&ae==="onScroll"&&xt("scroll",n),S||z===W||(S=[])):(S=S||[]).push(ae,W))}c&&(S=S||[]).push("style",c);var ae=S;(i.updateQueue=ae)&&(i.flags|=4)}},ng=function(n,i,c,x){c!==x&&(i.flags|=4)};function yo(n,i){if(!jt)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var x=null;c!==null;)c.alternate!==null&&(x=c),c=c.sibling;x===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:x.sibling=null}}function es(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,x=0;if(i)for(var j=n.child;j!==null;)c|=j.lanes|j.childLanes,x|=j.subtreeFlags&14680064,x|=j.flags&14680064,j.return=n,j=j.sibling;else for(j=n.child;j!==null;)c|=j.lanes|j.childLanes,x|=j.subtreeFlags,x|=j.flags,j.return=n,j=j.sibling;return n.subtreeFlags|=x,n.childLanes=c,i}function M2(n,i,c){var x=i.pendingProps;switch(Cu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return es(i),null;case 1:return us(i.type)&&Il(),es(i),null;case 3:return x=i.stateNode,ei(),gt(ds),gt(Jt),Ou(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(n===null||n.child===null)&&($l(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sr!==null&&(hm(sr),sr=null))),sm(n,i),es(i),null;case 5:Iu(i);var j=pa(fo.current);if(c=i.type,n!==null&&i.stateNode!=null)rg(n,i,c,x,j),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!x){if(i.stateNode===null)throw Error(r(166));return es(i),null}if(n=pa(Sr.current),$l(i)){x=i.stateNode,c=i.type;var S=i.memoizedProps;switch(x[Cr]=i,x[co]=S,n=(i.mode&1)!==0,c){case"dialog":xt("cancel",x),xt("close",x);break;case"iframe":case"object":case"embed":xt("load",x);break;case"video":case"audio":for(j=0;j<io.length;j++)xt(io[j],x);break;case"source":xt("error",x);break;case"img":case"image":case"link":xt("error",x),xt("load",x);break;case"details":xt("toggle",x);break;case"input":Xr(x,S),xt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!S.multiple},xt("invalid",x);break;case"textarea":na(x,S),xt("invalid",x)}Ds(c,S),j=null;for(var M in S)if(S.hasOwnProperty(M)){var z=S[M];M==="children"?typeof z=="string"?x.textContent!==z&&(S.suppressHydrationWarning!==!0&&Al(x.textContent,z,n),j=["children",z]):typeof z=="number"&&x.textContent!==""+z&&(S.suppressHydrationWarning!==!0&&Al(x.textContent,z,n),j=["children",""+z]):o.hasOwnProperty(M)&&z!=null&&M==="onScroll"&&xt("scroll",x)}switch(c){case"input":st(x),ol(x,S,!0);break;case"textarea":st(x),zi(x);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(x.onclick=Ml)}x=j,i.updateQueue=x,x!==null&&(i.flags|=4)}else{M=j.nodeType===9?j:j.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Oa(c)),n==="http://www.w3.org/1999/xhtml"?c==="script"?(n=M.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof x.is=="string"?n=M.createElement(c,{is:x.is}):(n=M.createElement(c),c==="select"&&(M=n,x.multiple?M.multiple=!0:x.size&&(M.size=x.size))):n=M.createElementNS(n,c),n[Cr]=i,n[co]=x,sg(n,i,!1,!1),i.stateNode=n;e:{switch(M=Bi(c,x),c){case"dialog":xt("cancel",n),xt("close",n),j=x;break;case"iframe":case"object":case"embed":xt("load",n),j=x;break;case"video":case"audio":for(j=0;j<io.length;j++)xt(io[j],n);j=x;break;case"source":xt("error",n),j=x;break;case"img":case"image":case"link":xt("error",n),xt("load",n),j=x;break;case"details":xt("toggle",n),j=x;break;case"input":Xr(n,x),j=cs(n,x),xt("invalid",n);break;case"option":j=x;break;case"select":n._wrapperState={wasMultiple:!!x.multiple},j=le({},x,{value:void 0}),xt("invalid",n);break;case"textarea":na(n,x),j=Fi(n,x),xt("invalid",n);break;default:j=x}Ds(c,j),z=j;for(S in z)if(z.hasOwnProperty(S)){var W=z[S];S==="style"?dl(n,W):S==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Qr(n,W)):S==="children"?typeof W=="string"?(c!=="textarea"||W!=="")&&xn(n,W):typeof W=="number"&&xn(n,""+W):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?W!=null&&S==="onScroll"&&xt("scroll",n):W!=null&&C(n,S,W,M))}switch(c){case"input":st(n),ol(n,x,!1);break;case"textarea":st(n),zi(n);break;case"option":x.value!=null&&n.setAttribute("value",""+Ne(x.value));break;case"select":n.multiple=!!x.multiple,S=x.value,S!=null?fn(n,!!x.multiple,S,!1):x.defaultValue!=null&&fn(n,!!x.multiple,x.defaultValue,!0);break;default:typeof j.onClick=="function"&&(n.onclick=Ml)}switch(c){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return es(i),null;case 6:if(n&&i.stateNode!=null)ng(n,i,n.memoizedProps,x);else{if(typeof x!="string"&&i.stateNode===null)throw Error(r(166));if(c=pa(fo.current),pa(Sr.current),$l(i)){if(x=i.stateNode,c=i.memoizedProps,x[Cr]=i,(S=x.nodeValue!==c)&&(n=Ss,n!==null))switch(n.tag){case 3:Al(x.nodeValue,c,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Al(x.nodeValue,c,(n.mode&1)!==0)}S&&(i.flags|=4)}else x=(c.nodeType===9?c:c.ownerDocument).createTextNode(x),x[Cr]=i,i.stateNode=x}return es(i),null;case 13:if(gt(Nt),x=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(jt&&_s!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ox(),Ya(),i.flags|=98560,S=!1;else if(S=$l(i),x!==null&&x.dehydrated!==null){if(n===null){if(!S)throw Error(r(318));if(S=i.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[Cr]=i}else Ya(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;es(i),S=!1}else sr!==null&&(hm(sr),sr=null),S=!0;if(!S)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(x=x!==null,x!==(n!==null&&n.memoizedState!==null)&&x&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(Nt.current&1)!==0?Lt===0&&(Lt=3):xm())),i.updateQueue!==null&&(i.flags|=4),es(i),null);case 4:return ei(),sm(n,i),n===null&&oo(i.stateNode.containerInfo),es(i),null;case 10:return Tu(i.type._context),es(i),null;case 17:return us(i.type)&&Il(),es(i),null;case 19:if(gt(Nt),S=i.memoizedState,S===null)return es(i),null;if(x=(i.flags&128)!==0,M=S.rendering,M===null)if(x)yo(S,!1);else{if(Lt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(M=Wl(n),M!==null){for(i.flags|=128,yo(S,!1),x=M.updateQueue,x!==null&&(i.updateQueue=x,i.flags|=4),i.subtreeFlags=0,x=c,c=i.child;c!==null;)S=c,n=x,S.flags&=14680066,M=S.alternate,M===null?(S.childLanes=0,S.lanes=n,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=M.childLanes,S.lanes=M.lanes,S.child=M.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=M.memoizedProps,S.memoizedState=M.memoizedState,S.updateQueue=M.updateQueue,S.type=M.type,n=M.dependencies,S.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),c=c.sibling;return ut(Nt,Nt.current&1|2),i.child}n=n.sibling}S.tail!==null&&kt()>ni&&(i.flags|=128,x=!0,yo(S,!1),i.lanes=4194304)}else{if(!x)if(n=Wl(M),n!==null){if(i.flags|=128,x=!0,c=n.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),yo(S,!0),S.tail===null&&S.tailMode==="hidden"&&!M.alternate&&!jt)return es(i),null}else 2*kt()-S.renderingStartTime>ni&&c!==1073741824&&(i.flags|=128,x=!0,yo(S,!1),i.lanes=4194304);S.isBackwards?(M.sibling=i.child,i.child=M):(c=S.last,c!==null?c.sibling=M:i.child=M,S.last=M)}return S.tail!==null?(i=S.tail,S.rendering=i,S.tail=i.sibling,S.renderingStartTime=kt(),i.sibling=null,c=Nt.current,ut(Nt,x?c&1|2:c&1),i):(es(i),null);case 22:case 23:return fm(),x=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==x&&(i.flags|=8192),x&&(i.mode&1)!==0?(ks&1073741824)!==0&&(es(i),i.subtreeFlags&6&&(i.flags|=8192)):es(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function D2(n,i){switch(Cu(i),i.tag){case 1:return us(i.type)&&Il(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ei(),gt(ds),gt(Jt),Ou(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return Iu(i),null;case 13:if(gt(Nt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ya()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return gt(Nt),null;case 4:return ei(),null;case 10:return Tu(i.type._context),null;case 22:case 23:return fm(),null;case 24:return null;default:return null}}var tc=!1,ts=!1,I2=typeof WeakSet=="function"?WeakSet:Set,Se=null;function si(n,i){var c=n.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(x){_t(n,i,x)}else c.current=null}function rm(n,i,c){try{c()}catch(x){_t(n,i,x)}}var ag=!1;function L2(n,i){if(fu=bl,n=Of(),ou(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var x=c.getSelection&&c.getSelection();if(x&&x.rangeCount!==0){c=x.anchorNode;var j=x.anchorOffset,S=x.focusNode;x=x.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var M=0,z=-1,W=-1,ae=0,pe=0,fe=n,he=null;t:for(;;){for(var Ce;fe!==c||j!==0&&fe.nodeType!==3||(z=M+j),fe!==S||x!==0&&fe.nodeType!==3||(W=M+x),fe.nodeType===3&&(M+=fe.nodeValue.length),(Ce=fe.firstChild)!==null;)he=fe,fe=Ce;for(;;){if(fe===n)break t;if(he===c&&++ae===j&&(z=M),he===S&&++pe===x&&(W=M),(Ce=fe.nextSibling)!==null)break;fe=he,he=fe.parentNode}fe=Ce}c=z===-1||W===-1?null:{start:z,end:W}}else c=null}c=c||{start:0,end:0}}else c=null;for(xu={focusedElem:n,selectionRange:c},bl=!1,Se=i;Se!==null;)if(i=Se,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Se=n;else for(;Se!==null;){i=Se;try{var _e=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var ke=_e.memoizedProps,Et=_e.memoizedState,Z=i.stateNode,Y=Z.getSnapshotBeforeUpdate(i.elementType===i.type?ke:rr(i.type,ke),Et);Z.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var te=i.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(je){_t(i,i.return,je)}if(n=i.sibling,n!==null){n.return=i.return,Se=n;break}Se=i.return}return _e=ag,ag=!1,_e}function bo(n,i,c){var x=i.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var j=x=x.next;do{if((j.tag&n)===n){var S=j.destroy;j.destroy=void 0,S!==void 0&&rm(i,c,S)}j=j.next}while(j!==x)}}function sc(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&n)===n){var x=c.create;c.destroy=x()}c=c.next}while(c!==i)}}function nm(n){var i=n.ref;if(i!==null){var c=n.stateNode;switch(n.tag){case 5:n=c;break;default:n=c}typeof i=="function"?i(n):i.current=n}}function ig(n){var i=n.alternate;i!==null&&(n.alternate=null,ig(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Cr],delete i[co],delete i[yu],delete i[v2],delete i[j2])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function og(n){return n.tag===5||n.tag===3||n.tag===4}function lg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||og(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function am(n,i,c){var x=n.tag;if(x===5||x===6)n=n.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(n,i):c.insertBefore(n,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(n,c)):(i=c,i.appendChild(n)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Ml));else if(x!==4&&(n=n.child,n!==null))for(am(n,i,c),n=n.sibling;n!==null;)am(n,i,c),n=n.sibling}function im(n,i,c){var x=n.tag;if(x===5||x===6)n=n.stateNode,i?c.insertBefore(n,i):c.appendChild(n);else if(x!==4&&(n=n.child,n!==null))for(im(n,i,c),n=n.sibling;n!==null;)im(n,i,c),n=n.sibling}var Wt=null,nr=!1;function Pn(n,i,c){for(c=c.child;c!==null;)cg(n,i,c),c=c.sibling}function cg(n,i,c){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(fl,c)}catch{}switch(c.tag){case 5:ts||si(c,i);case 6:var x=Wt,j=nr;Wt=null,Pn(n,i,c),Wt=x,nr=j,Wt!==null&&(nr?(n=Wt,c=c.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)):Wt.removeChild(c.stateNode));break;case 18:Wt!==null&&(nr?(n=Wt,c=c.stateNode,n.nodeType===8?ju(n.parentNode,c):n.nodeType===1&&ju(n,c),Ji(n)):ju(Wt,c.stateNode));break;case 4:x=Wt,j=nr,Wt=c.stateNode.containerInfo,nr=!0,Pn(n,i,c),Wt=x,nr=j;break;case 0:case 11:case 14:case 15:if(!ts&&(x=c.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){j=x=x.next;do{var S=j,M=S.destroy;S=S.tag,M!==void 0&&((S&2)!==0||(S&4)!==0)&&rm(c,i,M),j=j.next}while(j!==x)}Pn(n,i,c);break;case 1:if(!ts&&(si(c,i),x=c.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=c.memoizedProps,x.state=c.memoizedState,x.componentWillUnmount()}catch(z){_t(c,i,z)}Pn(n,i,c);break;case 21:Pn(n,i,c);break;case 22:c.mode&1?(ts=(x=ts)||c.memoizedState!==null,Pn(n,i,c),ts=x):Pn(n,i,c);break;default:Pn(n,i,c)}}function dg(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var c=n.stateNode;c===null&&(c=n.stateNode=new I2),i.forEach(function(x){var j=H2.bind(null,n,x);c.has(x)||(c.add(x),x.then(j,j))})}}function ar(n,i){var c=i.deletions;if(c!==null)for(var x=0;x<c.length;x++){var j=c[x];try{var S=n,M=i,z=M;e:for(;z!==null;){switch(z.tag){case 5:Wt=z.stateNode,nr=!1;break e;case 3:Wt=z.stateNode.containerInfo,nr=!0;break e;case 4:Wt=z.stateNode.containerInfo,nr=!0;break e}z=z.return}if(Wt===null)throw Error(r(160));cg(S,M,j),Wt=null,nr=!1;var W=j.alternate;W!==null&&(W.return=null),j.return=null}catch(ae){_t(j,i,ae)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ug(i,n),i=i.sibling}function ug(n,i){var c=n.alternate,x=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ar(i,n),kr(n),x&4){try{bo(3,n,n.return),sc(3,n)}catch(ke){_t(n,n.return,ke)}try{bo(5,n,n.return)}catch(ke){_t(n,n.return,ke)}}break;case 1:ar(i,n),kr(n),x&512&&c!==null&&si(c,c.return);break;case 5:if(ar(i,n),kr(n),x&512&&c!==null&&si(c,c.return),n.flags&32){var j=n.stateNode;try{xn(j,"")}catch(ke){_t(n,n.return,ke)}}if(x&4&&(j=n.stateNode,j!=null)){var S=n.memoizedProps,M=c!==null?c.memoizedProps:S,z=n.type,W=n.updateQueue;if(n.updateQueue=null,W!==null)try{z==="input"&&S.type==="radio"&&S.name!=null&&ws(j,S),Bi(z,M);var ae=Bi(z,S);for(M=0;M<W.length;M+=2){var pe=W[M],fe=W[M+1];pe==="style"?dl(j,fe):pe==="dangerouslySetInnerHTML"?Qr(j,fe):pe==="children"?xn(j,fe):C(j,pe,fe,ae)}switch(z){case"input":Yr(j,S);break;case"textarea":ll(j,S);break;case"select":var he=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!S.multiple;var Ce=S.value;Ce!=null?fn(j,!!S.multiple,Ce,!1):he!==!!S.multiple&&(S.defaultValue!=null?fn(j,!!S.multiple,S.defaultValue,!0):fn(j,!!S.multiple,S.multiple?[]:"",!1))}j[co]=S}catch(ke){_t(n,n.return,ke)}}break;case 6:if(ar(i,n),kr(n),x&4){if(n.stateNode===null)throw Error(r(162));j=n.stateNode,S=n.memoizedProps;try{j.nodeValue=S}catch(ke){_t(n,n.return,ke)}}break;case 3:if(ar(i,n),kr(n),x&4&&c!==null&&c.memoizedState.isDehydrated)try{Ji(i.containerInfo)}catch(ke){_t(n,n.return,ke)}break;case 4:ar(i,n),kr(n);break;case 13:ar(i,n),kr(n),j=n.child,j.flags&8192&&(S=j.memoizedState!==null,j.stateNode.isHidden=S,!S||j.alternate!==null&&j.alternate.memoizedState!==null||(cm=kt())),x&4&&dg(n);break;case 22:if(pe=c!==null&&c.memoizedState!==null,n.mode&1?(ts=(ae=ts)||pe,ar(i,n),ts=ae):ar(i,n),kr(n),x&8192){if(ae=n.memoizedState!==null,(n.stateNode.isHidden=ae)&&!pe&&(n.mode&1)!==0)for(Se=n,pe=n.child;pe!==null;){for(fe=Se=pe;Se!==null;){switch(he=Se,Ce=he.child,he.tag){case 0:case 11:case 14:case 15:bo(4,he,he.return);break;case 1:si(he,he.return);var _e=he.stateNode;if(typeof _e.componentWillUnmount=="function"){x=he,c=he.return;try{i=x,_e.props=i.memoizedProps,_e.state=i.memoizedState,_e.componentWillUnmount()}catch(ke){_t(x,c,ke)}}break;case 5:si(he,he.return);break;case 22:if(he.memoizedState!==null){pg(fe);continue}}Ce!==null?(Ce.return=he,Se=Ce):pg(fe)}pe=pe.sibling}e:for(pe=null,fe=n;;){if(fe.tag===5){if(pe===null){pe=fe;try{j=fe.stateNode,ae?(S=j.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(z=fe.stateNode,W=fe.memoizedProps.style,M=W!=null&&W.hasOwnProperty("display")?W.display:null,z.style.display=$i("display",M))}catch(ke){_t(n,n.return,ke)}}}else if(fe.tag===6){if(pe===null)try{fe.stateNode.nodeValue=ae?"":fe.memoizedProps}catch(ke){_t(n,n.return,ke)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===n)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===n)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===n)break e;pe===fe&&(pe=null),fe=fe.return}pe===fe&&(pe=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:ar(i,n),kr(n),x&4&&dg(n);break;case 21:break;default:ar(i,n),kr(n)}}function kr(n){var i=n.flags;if(i&2){try{e:{for(var c=n.return;c!==null;){if(og(c)){var x=c;break e}c=c.return}throw Error(r(160))}switch(x.tag){case 5:var j=x.stateNode;x.flags&32&&(xn(j,""),x.flags&=-33);var S=lg(n);im(n,S,j);break;case 3:case 4:var M=x.stateNode.containerInfo,z=lg(n);am(n,z,M);break;default:throw Error(r(161))}}catch(W){_t(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function O2(n,i,c){Se=n,mg(n)}function mg(n,i,c){for(var x=(n.mode&1)!==0;Se!==null;){var j=Se,S=j.child;if(j.tag===22&&x){var M=j.memoizedState!==null||tc;if(!M){var z=j.alternate,W=z!==null&&z.memoizedState!==null||ts;z=tc;var ae=ts;if(tc=M,(ts=W)&&!ae)for(Se=j;Se!==null;)M=Se,W=M.child,M.tag===22&&M.memoizedState!==null?fg(j):W!==null?(W.return=M,Se=W):fg(j);for(;S!==null;)Se=S,mg(S),S=S.sibling;Se=j,tc=z,ts=ae}hg(n)}else(j.subtreeFlags&8772)!==0&&S!==null?(S.return=j,Se=S):hg(n)}}function hg(n){for(;Se!==null;){var i=Se;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:ts||sc(5,i);break;case 1:var x=i.stateNode;if(i.flags&4&&!ts)if(c===null)x.componentDidMount();else{var j=i.elementType===i.type?c.memoizedProps:rr(i.type,c.memoizedProps);x.componentDidUpdate(j,c.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var S=i.updateQueue;S!==null&&px(i,S,x);break;case 3:var M=i.updateQueue;if(M!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}px(i,M,c)}break;case 5:var z=i.stateNode;if(c===null&&i.flags&4){c=z;var W=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&c.focus();break;case"img":W.src&&(c.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ae=i.alternate;if(ae!==null){var pe=ae.memoizedState;if(pe!==null){var fe=pe.dehydrated;fe!==null&&Ji(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ts||i.flags&512&&nm(i)}catch(he){_t(i,i.return,he)}}if(i===n){Se=null;break}if(c=i.sibling,c!==null){c.return=i.return,Se=c;break}Se=i.return}}function pg(n){for(;Se!==null;){var i=Se;if(i===n){Se=null;break}var c=i.sibling;if(c!==null){c.return=i.return,Se=c;break}Se=i.return}}function fg(n){for(;Se!==null;){var i=Se;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{sc(4,i)}catch(W){_t(i,c,W)}break;case 1:var x=i.stateNode;if(typeof x.componentDidMount=="function"){var j=i.return;try{x.componentDidMount()}catch(W){_t(i,j,W)}}var S=i.return;try{nm(i)}catch(W){_t(i,S,W)}break;case 5:var M=i.return;try{nm(i)}catch(W){_t(i,M,W)}}}catch(W){_t(i,i.return,W)}if(i===n){Se=null;break}var z=i.sibling;if(z!==null){z.return=i.return,Se=z;break}Se=i.return}}var F2=Math.ceil,rc=R.ReactCurrentDispatcher,om=R.ReactCurrentOwner,zs=R.ReactCurrentBatchConfig,et=0,$t=null,At=null,Gt=0,ks=0,ri=Cn(0),Lt=0,No=null,xa=0,nc=0,lm=0,wo=null,hs=null,cm=0,ni=1/0,an=null,ac=!1,dm=null,Tn=null,ic=!1,Rn=null,oc=0,Co=0,um=null,lc=-1,cc=0;function as(){return(et&6)!==0?kt():lc!==-1?lc:lc=kt()}function An(n){return(n.mode&1)===0?1:(et&2)!==0&&Gt!==0?Gt&-Gt:b2.transition!==null?(cc===0&&(cc=lf()),cc):(n=at,n!==0||(n=window.event,n=n===void 0?16:gf(n.type)),n)}function ir(n,i,c,x){if(50<Co)throw Co=0,um=null,Error(r(185));Gi(n,c,x),((et&2)===0||n!==$t)&&(n===$t&&((et&2)===0&&(nc|=c),Lt===4&&Mn(n,Gt)),ps(n,x),c===1&&et===0&&(i.mode&1)===0&&(ni=kt()+500,Ol&&_n()))}function ps(n,i){var c=n.callbackNode;b1(n,i);var x=vl(n,n===$t?Gt:0);if(x===0)c!==null&&nf(c),n.callbackNode=null,n.callbackPriority=0;else if(i=x&-x,n.callbackPriority!==i){if(c!=null&&nf(c),i===1)n.tag===0?y2(gg.bind(null,n)):sx(gg.bind(null,n)),x2(function(){(et&6)===0&&_n()}),c=null;else{switch(cf(x)){case 1:c=Ud;break;case 4:c=af;break;case 16:c=pl;break;case 536870912:c=of;break;default:c=pl}c=Sg(c,xg.bind(null,n))}n.callbackPriority=i,n.callbackNode=c}}function xg(n,i){if(lc=-1,cc=0,(et&6)!==0)throw Error(r(327));var c=n.callbackNode;if(ai()&&n.callbackNode!==c)return null;var x=vl(n,n===$t?Gt:0);if(x===0)return null;if((x&30)!==0||(x&n.expiredLanes)!==0||i)i=dc(n,x);else{i=x;var j=et;et|=2;var S=jg();($t!==n||Gt!==i)&&(an=null,ni=kt()+500,va(n,i));do try{q2();break}catch(z){vg(n,z)}while(!0);Pu(),rc.current=S,et=j,At!==null?i=0:($t=null,Gt=0,i=Lt)}if(i!==0){if(i===2&&(j=Hd(n),j!==0&&(x=j,i=mm(n,j))),i===1)throw c=No,va(n,0),Mn(n,x),ps(n,kt()),c;if(i===6)Mn(n,x);else{if(j=n.current.alternate,(x&30)===0&&!z2(j)&&(i=dc(n,x),i===2&&(S=Hd(n),S!==0&&(x=S,i=mm(n,S))),i===1))throw c=No,va(n,0),Mn(n,x),ps(n,kt()),c;switch(n.finishedWork=j,n.finishedLanes=x,i){case 0:case 1:throw Error(r(345));case 2:ja(n,hs,an);break;case 3:if(Mn(n,x),(x&130023424)===x&&(i=cm+500-kt(),10<i)){if(vl(n,0)!==0)break;if(j=n.suspendedLanes,(j&x)!==x){as(),n.pingedLanes|=n.suspendedLanes&j;break}n.timeoutHandle=vu(ja.bind(null,n,hs,an),i);break}ja(n,hs,an);break;case 4:if(Mn(n,x),(x&4194240)===x)break;for(i=n.eventTimes,j=-1;0<x;){var M=31-er(x);S=1<<M,M=i[M],M>j&&(j=M),x&=~S}if(x=j,x=kt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*F2(x/1960))-x,10<x){n.timeoutHandle=vu(ja.bind(null,n,hs,an),x);break}ja(n,hs,an);break;case 5:ja(n,hs,an);break;default:throw Error(r(329))}}}return ps(n,kt()),n.callbackNode===c?xg.bind(null,n):null}function mm(n,i){var c=wo;return n.current.memoizedState.isDehydrated&&(va(n,i).flags|=256),n=dc(n,i),n!==2&&(i=hs,hs=c,i!==null&&hm(i)),n}function hm(n){hs===null?hs=n:hs.push.apply(hs,n)}function z2(n){for(var i=n;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var x=0;x<c.length;x++){var j=c[x],S=j.getSnapshot;j=j.value;try{if(!tr(S(),j))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mn(n,i){for(i&=~lm,i&=~nc,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var c=31-er(i),x=1<<c;n[c]=-1,i&=~x}}function gg(n){if((et&6)!==0)throw Error(r(327));ai();var i=vl(n,0);if((i&1)===0)return ps(n,kt()),null;var c=dc(n,i);if(n.tag!==0&&c===2){var x=Hd(n);x!==0&&(i=x,c=mm(n,x))}if(c===1)throw c=No,va(n,0),Mn(n,i),ps(n,kt()),c;if(c===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,ja(n,hs,an),ps(n,kt()),null}function pm(n,i){var c=et;et|=1;try{return n(i)}finally{et=c,et===0&&(ni=kt()+500,Ol&&_n())}}function ga(n){Rn!==null&&Rn.tag===0&&(et&6)===0&&ai();var i=et;et|=1;var c=zs.transition,x=at;try{if(zs.transition=null,at=1,n)return n()}finally{at=x,zs.transition=c,et=i,(et&6)===0&&_n()}}function fm(){ks=ri.current,gt(ri)}function va(n,i){n.finishedWork=null,n.finishedLanes=0;var c=n.timeoutHandle;if(c!==-1&&(n.timeoutHandle=-1,f2(c)),At!==null)for(c=At.return;c!==null;){var x=c;switch(Cu(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Il();break;case 3:ei(),gt(ds),gt(Jt),Ou();break;case 5:Iu(x);break;case 4:ei();break;case 13:gt(Nt);break;case 19:gt(Nt);break;case 10:Tu(x.type._context);break;case 22:case 23:fm()}c=c.return}if($t=n,At=n=Dn(n.current,null),Gt=ks=i,Lt=0,No=null,lm=nc=xa=0,hs=wo=null,ha!==null){for(i=0;i<ha.length;i++)if(c=ha[i],x=c.interleaved,x!==null){c.interleaved=null;var j=x.next,S=c.pending;if(S!==null){var M=S.next;S.next=j,x.next=M}c.pending=x}ha=null}return n}function vg(n,i){do{var c=At;try{if(Pu(),Gl.current=Ql,Kl){for(var x=wt.memoizedState;x!==null;){var j=x.queue;j!==null&&(j.pending=null),x=x.next}Kl=!1}if(fa=0,zt=It=wt=null,xo=!1,go=0,om.current=null,c===null||c.return===null){Lt=1,No=i,At=null;break}e:{var S=n,M=c.return,z=c,W=i;if(i=Gt,z.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ae=W,pe=z,fe=pe.tag;if((pe.mode&1)===0&&(fe===0||fe===11||fe===15)){var he=pe.alternate;he?(pe.updateQueue=he.updateQueue,pe.memoizedState=he.memoizedState,pe.lanes=he.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Ce=Vx(M);if(Ce!==null){Ce.flags&=-257,Ux(Ce,M,z,S,i),Ce.mode&1&&Bx(S,ae,i),i=Ce,W=ae;var _e=i.updateQueue;if(_e===null){var ke=new Set;ke.add(W),i.updateQueue=ke}else _e.add(W);break e}else{if((i&1)===0){Bx(S,ae,i),xm();break e}W=Error(r(426))}}else if(jt&&z.mode&1){var Et=Vx(M);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),Ux(Et,M,z,S,i),ku(ti(W,z));break e}}S=W=ti(W,z),Lt!==4&&(Lt=2),wo===null?wo=[S]:wo.push(S),S=M;do{switch(S.tag){case 3:S.flags|=65536,i&=-i,S.lanes|=i;var Z=$x(S,W,i);hx(S,Z);break e;case 1:z=W;var Y=S.type,te=S.stateNode;if((S.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(Tn===null||!Tn.has(te)))){S.flags|=65536,i&=-i,S.lanes|=i;var je=qx(S,z,i);hx(S,je);break e}}S=S.return}while(S!==null)}bg(c)}catch(Pe){i=Pe,At===c&&c!==null&&(At=c=c.return);continue}break}while(!0)}function jg(){var n=rc.current;return rc.current=Ql,n===null?Ql:n}function xm(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),$t===null||(xa&268435455)===0&&(nc&268435455)===0||Mn($t,Gt)}function dc(n,i){var c=et;et|=2;var x=jg();($t!==n||Gt!==i)&&(an=null,va(n,i));do try{$2();break}catch(j){vg(n,j)}while(!0);if(Pu(),et=c,rc.current=x,At!==null)throw Error(r(261));return $t=null,Gt=0,Lt}function $2(){for(;At!==null;)yg(At)}function q2(){for(;At!==null&&!m1();)yg(At)}function yg(n){var i=Cg(n.alternate,n,ks);n.memoizedProps=n.pendingProps,i===null?bg(n):At=i,om.current=null}function bg(n){var i=n;do{var c=i.alternate;if(n=i.return,(i.flags&32768)===0){if(c=M2(c,i,ks),c!==null){At=c;return}}else{if(c=D2(c,i),c!==null){c.flags&=32767,At=c;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Lt=6,At=null;return}}if(i=i.sibling,i!==null){At=i;return}At=i=n}while(i!==null);Lt===0&&(Lt=5)}function ja(n,i,c){var x=at,j=zs.transition;try{zs.transition=null,at=1,B2(n,i,c,x)}finally{zs.transition=j,at=x}return null}function B2(n,i,c,x){do ai();while(Rn!==null);if((et&6)!==0)throw Error(r(327));c=n.finishedWork;var j=n.finishedLanes;if(c===null)return null;if(n.finishedWork=null,n.finishedLanes=0,c===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var S=c.lanes|c.childLanes;if(N1(n,S),n===$t&&(At=$t=null,Gt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||ic||(ic=!0,Sg(pl,function(){return ai(),null})),S=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||S){S=zs.transition,zs.transition=null;var M=at;at=1;var z=et;et|=4,om.current=null,L2(n,c),ug(c,n),l2(xu),bl=!!fu,xu=fu=null,n.current=c,O2(c),h1(),et=z,at=M,zs.transition=S}else n.current=c;if(ic&&(ic=!1,Rn=n,oc=j),S=n.pendingLanes,S===0&&(Tn=null),x1(c.stateNode),ps(n,kt()),i!==null)for(x=n.onRecoverableError,c=0;c<i.length;c++)j=i[c],x(j.value,{componentStack:j.stack,digest:j.digest});if(ac)throw ac=!1,n=dm,dm=null,n;return(oc&1)!==0&&n.tag!==0&&ai(),S=n.pendingLanes,(S&1)!==0?n===um?Co++:(Co=0,um=n):Co=0,_n(),null}function ai(){if(Rn!==null){var n=cf(oc),i=zs.transition,c=at;try{if(zs.transition=null,at=16>n?16:n,Rn===null)var x=!1;else{if(n=Rn,Rn=null,oc=0,(et&6)!==0)throw Error(r(331));var j=et;for(et|=4,Se=n.current;Se!==null;){var S=Se,M=S.child;if((Se.flags&16)!==0){var z=S.deletions;if(z!==null){for(var W=0;W<z.length;W++){var ae=z[W];for(Se=ae;Se!==null;){var pe=Se;switch(pe.tag){case 0:case 11:case 15:bo(8,pe,S)}var fe=pe.child;if(fe!==null)fe.return=pe,Se=fe;else for(;Se!==null;){pe=Se;var he=pe.sibling,Ce=pe.return;if(ig(pe),pe===ae){Se=null;break}if(he!==null){he.return=Ce,Se=he;break}Se=Ce}}}var _e=S.alternate;if(_e!==null){var ke=_e.child;if(ke!==null){_e.child=null;do{var Et=ke.sibling;ke.sibling=null,ke=Et}while(ke!==null)}}Se=S}}if((S.subtreeFlags&2064)!==0&&M!==null)M.return=S,Se=M;else e:for(;Se!==null;){if(S=Se,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:bo(9,S,S.return)}var Z=S.sibling;if(Z!==null){Z.return=S.return,Se=Z;break e}Se=S.return}}var Y=n.current;for(Se=Y;Se!==null;){M=Se;var te=M.child;if((M.subtreeFlags&2064)!==0&&te!==null)te.return=M,Se=te;else e:for(M=Y;Se!==null;){if(z=Se,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:sc(9,z)}}catch(Pe){_t(z,z.return,Pe)}if(z===M){Se=null;break e}var je=z.sibling;if(je!==null){je.return=z.return,Se=je;break e}Se=z.return}}if(et=j,_n(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(fl,n)}catch{}x=!0}return x}finally{at=c,zs.transition=i}}return!1}function Ng(n,i,c){i=ti(c,i),i=$x(n,i,1),n=En(n,i,1),i=as(),n!==null&&(Gi(n,1,i),ps(n,i))}function _t(n,i,c){if(n.tag===3)Ng(n,n,c);else for(;i!==null;){if(i.tag===3){Ng(i,n,c);break}else if(i.tag===1){var x=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Tn===null||!Tn.has(x))){n=ti(c,n),n=qx(i,n,1),i=En(i,n,1),n=as(),i!==null&&(Gi(i,1,n),ps(i,n));break}}i=i.return}}function V2(n,i,c){var x=n.pingCache;x!==null&&x.delete(i),i=as(),n.pingedLanes|=n.suspendedLanes&c,$t===n&&(Gt&c)===c&&(Lt===4||Lt===3&&(Gt&130023424)===Gt&&500>kt()-cm?va(n,0):lm|=c),ps(n,i)}function wg(n,i){i===0&&((n.mode&1)===0?i=1:(i=gl,gl<<=1,(gl&130023424)===0&&(gl=4194304)));var c=as();n=sn(n,i),n!==null&&(Gi(n,i,c),ps(n,c))}function U2(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),wg(n,c)}function H2(n,i){var c=0;switch(n.tag){case 13:var x=n.stateNode,j=n.memoizedState;j!==null&&(c=j.retryLane);break;case 19:x=n.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(i),wg(n,c)}var Cg;Cg=function(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps||ds.current)ms=!0;else{if((n.lanes&c)===0&&(i.flags&128)===0)return ms=!1,A2(n,i,c);ms=(n.flags&131072)!==0}else ms=!1,jt&&(i.flags&1048576)!==0&&rx(i,zl,i.index);switch(i.lanes=0,i.tag){case 2:var x=i.type;ec(n,i),n=i.pendingProps;var j=Ga(i,Jt.current);Za(i,c),j=$u(null,i,x,n,j,c);var S=qu();return i.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,us(x)?(S=!0,Ll(i)):S=!1,i.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,Mu(i),j.updater=Jl,i.stateNode=j,j._reactInternals=i,Gu(i,x,n,c),i=Qu(null,i,x,!0,S,c)):(i.tag=0,jt&&S&&wu(i),ns(null,i,j,c),i=i.child),i;case 16:x=i.elementType;e:{switch(ec(n,i),n=i.pendingProps,j=x._init,x=j(x._payload),i.type=x,j=i.tag=G2(x),n=rr(x,n),j){case 0:i=Yu(null,i,x,n,c);break e;case 1:i=Yx(null,i,x,n,c);break e;case 11:i=Hx(null,i,x,n,c);break e;case 14:i=Wx(null,i,x,rr(x.type,n),c);break e}throw Error(r(306,x,""))}return i;case 0:return x=i.type,j=i.pendingProps,j=i.elementType===x?j:rr(x,j),Yu(n,i,x,j,c);case 1:return x=i.type,j=i.pendingProps,j=i.elementType===x?j:rr(x,j),Yx(n,i,x,j,c);case 3:e:{if(Qx(i),n===null)throw Error(r(387));x=i.pendingProps,S=i.memoizedState,j=S.element,mx(n,i),Hl(i,x,null,c);var M=i.memoizedState;if(x=M.element,S.isDehydrated)if(S={element:x,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},i.updateQueue.baseState=S,i.memoizedState=S,i.flags&256){j=ti(Error(r(423)),i),i=Jx(n,i,x,c,j);break e}else if(x!==j){j=ti(Error(r(424)),i),i=Jx(n,i,x,c,j);break e}else for(_s=wn(i.stateNode.containerInfo.firstChild),Ss=i,jt=!0,sr=null,c=dx(i,null,x,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ya(),x===j){i=nn(n,i,c);break e}ns(n,i,x,c)}i=i.child}return i;case 5:return fx(i),n===null&&_u(i),x=i.type,j=i.pendingProps,S=n!==null?n.memoizedProps:null,M=j.children,gu(x,j)?M=null:S!==null&&gu(x,S)&&(i.flags|=32),Xx(n,i),ns(n,i,M,c),i.child;case 6:return n===null&&_u(i),null;case 13:return Zx(n,i,c);case 4:return Du(i,i.stateNode.containerInfo),x=i.pendingProps,n===null?i.child=Qa(i,null,x,c):ns(n,i,x,c),i.child;case 11:return x=i.type,j=i.pendingProps,j=i.elementType===x?j:rr(x,j),Hx(n,i,x,j,c);case 7:return ns(n,i,i.pendingProps,c),i.child;case 8:return ns(n,i,i.pendingProps.children,c),i.child;case 12:return ns(n,i,i.pendingProps.children,c),i.child;case 10:e:{if(x=i.type._context,j=i.pendingProps,S=i.memoizedProps,M=j.value,ut(Bl,x._currentValue),x._currentValue=M,S!==null)if(tr(S.value,M)){if(S.children===j.children&&!ds.current){i=nn(n,i,c);break e}}else for(S=i.child,S!==null&&(S.return=i);S!==null;){var z=S.dependencies;if(z!==null){M=S.child;for(var W=z.firstContext;W!==null;){if(W.context===x){if(S.tag===1){W=rn(-1,c&-c),W.tag=2;var ae=S.updateQueue;if(ae!==null){ae=ae.shared;var pe=ae.pending;pe===null?W.next=W:(W.next=pe.next,pe.next=W),ae.pending=W}}S.lanes|=c,W=S.alternate,W!==null&&(W.lanes|=c),Ru(S.return,c,i),z.lanes|=c;break}W=W.next}}else if(S.tag===10)M=S.type===i.type?null:S.child;else if(S.tag===18){if(M=S.return,M===null)throw Error(r(341));M.lanes|=c,z=M.alternate,z!==null&&(z.lanes|=c),Ru(M,c,i),M=S.sibling}else M=S.child;if(M!==null)M.return=S;else for(M=S;M!==null;){if(M===i){M=null;break}if(S=M.sibling,S!==null){S.return=M.return,M=S;break}M=M.return}S=M}ns(n,i,j.children,c),i=i.child}return i;case 9:return j=i.type,x=i.pendingProps.children,Za(i,c),j=Os(j),x=x(j),i.flags|=1,ns(n,i,x,c),i.child;case 14:return x=i.type,j=rr(x,i.pendingProps),j=rr(x.type,j),Wx(n,i,x,j,c);case 15:return Gx(n,i,i.type,i.pendingProps,c);case 17:return x=i.type,j=i.pendingProps,j=i.elementType===x?j:rr(x,j),ec(n,i),i.tag=1,us(x)?(n=!0,Ll(i)):n=!1,Za(i,c),Fx(i,x,j),Gu(i,x,j,c),Qu(null,i,x,!0,n,c);case 19:return tg(n,i,c);case 22:return Kx(n,i,c)}throw Error(r(156,i.tag))};function Sg(n,i){return rf(n,i)}function W2(n,i,c,x){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $s(n,i,c,x){return new W2(n,i,c,x)}function gm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function G2(n){if(typeof n=="function")return gm(n)?1:0;if(n!=null){if(n=n.$$typeof,n===X)return 11;if(n===me)return 14}return 2}function Dn(n,i){var c=n.alternate;return c===null?(c=$s(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&14680064,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c}function uc(n,i,c,x,j,S){var M=2;if(x=n,typeof n=="function")gm(n)&&(M=1);else if(typeof n=="string")M=5;else e:switch(n){case b:return ya(c.children,j,S,i);case P:M=8,j|=8;break;case A:return n=$s(12,c,i,j|2),n.elementType=A,n.lanes=S,n;case V:return n=$s(13,c,i,j),n.elementType=V,n.lanes=S,n;case K:return n=$s(19,c,i,j),n.elementType=K,n.lanes=S,n;case G:return mc(c,j,S,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case O:M=10;break e;case F:M=9;break e;case X:M=11;break e;case me:M=14;break e;case U:M=16,x=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=$s(M,c,i,j),i.elementType=n,i.type=x,i.lanes=S,i}function ya(n,i,c,x){return n=$s(7,n,x,i),n.lanes=c,n}function mc(n,i,c,x){return n=$s(22,n,x,i),n.elementType=G,n.lanes=c,n.stateNode={isHidden:!1},n}function vm(n,i,c){return n=$s(6,n,null,i),n.lanes=c,n}function jm(n,i,c){return i=$s(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function K2(n,i,c,x,j){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wd(0),this.expirationTimes=Wd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wd(0),this.identifierPrefix=x,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function ym(n,i,c,x,j,S,M,z,W){return n=new K2(n,i,c,z,W),i===1?(i=1,S===!0&&(i|=8)):i=0,S=$s(3,null,null,i),n.current=S,S.stateNode=n,S.memoizedState={element:x,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mu(S),n}function X2(n,i,c){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:x==null?null:""+x,children:n,containerInfo:i,implementation:c}}function _g(n){if(!n)return Sn;n=n._reactInternals;e:{if(la(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(us(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var c=n.type;if(us(c))return ex(n,c,i)}return i}function kg(n,i,c,x,j,S,M,z,W){return n=ym(c,x,!0,n,j,S,M,z,W),n.context=_g(null),c=n.current,x=as(),j=An(c),S=rn(x,j),S.callback=i??null,En(c,S,j),n.current.lanes=j,Gi(n,j,x),ps(n,x),n}function hc(n,i,c,x){var j=i.current,S=as(),M=An(j);return c=_g(c),i.context===null?i.context=c:i.pendingContext=c,i=rn(S,M),i.payload={element:n},x=x===void 0?null:x,x!==null&&(i.callback=x),n=En(j,i,M),n!==null&&(ir(n,j,M,S),Ul(n,j,M)),M}function pc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Eg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function bm(n,i){Eg(n,i),(n=n.alternate)&&Eg(n,i)}function Y2(){return null}var Pg=typeof reportError=="function"?reportError:function(n){console.error(n)};function Nm(n){this._internalRoot=n}fc.prototype.render=Nm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));hc(n,i,null,null)},fc.prototype.unmount=Nm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;ga(function(){hc(null,n,null,null)}),i[Jr]=null}};function fc(n){this._internalRoot=n}fc.prototype.unstable_scheduleHydration=function(n){if(n){var i=mf();n={blockedOn:null,target:n,priority:i};for(var c=0;c<yn.length&&i!==0&&i<yn[c].priority;c++);yn.splice(c,0,n),c===0&&ff(n)}};function wm(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function xc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Tg(){}function Q2(n,i,c,x,j){if(j){if(typeof x=="function"){var S=x;x=function(){var ae=pc(M);S.call(ae)}}var M=kg(i,x,n,0,null,!1,!1,"",Tg);return n._reactRootContainer=M,n[Jr]=M.current,oo(n.nodeType===8?n.parentNode:n),ga(),M}for(;j=n.lastChild;)n.removeChild(j);if(typeof x=="function"){var z=x;x=function(){var ae=pc(W);z.call(ae)}}var W=ym(n,0,!1,null,null,!1,!1,"",Tg);return n._reactRootContainer=W,n[Jr]=W.current,oo(n.nodeType===8?n.parentNode:n),ga(function(){hc(i,W,c,x)}),W}function gc(n,i,c,x,j){var S=c._reactRootContainer;if(S){var M=S;if(typeof j=="function"){var z=j;j=function(){var W=pc(M);z.call(W)}}hc(i,M,n,j)}else M=Q2(c,i,n,j,x);return pc(M)}df=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var c=Wi(i.pendingLanes);c!==0&&(Gd(i,c|1),ps(i,kt()),(et&6)===0&&(ni=kt()+500,_n()))}break;case 13:ga(function(){var x=sn(n,1);if(x!==null){var j=as();ir(x,n,1,j)}}),bm(n,1)}},Kd=function(n){if(n.tag===13){var i=sn(n,134217728);if(i!==null){var c=as();ir(i,n,134217728,c)}bm(n,134217728)}},uf=function(n){if(n.tag===13){var i=An(n),c=sn(n,i);if(c!==null){var x=as();ir(c,n,i,x)}bm(n,i)}},mf=function(){return at},hf=function(n,i){var c=at;try{return at=n,i()}finally{at=c}},rt=function(n,i,c){switch(i){case"input":if(Yr(n,c),i=c.name,c.type==="radio"&&i!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var x=c[i];if(x!==n&&x.form===n.form){var j=Dl(x);if(!j)throw Error(r(90));ct(x),Yr(x,j)}}}break;case"textarea":ll(n,c);break;case"select":i=c.value,i!=null&&fn(n,!!c.multiple,i,!1)}},Yp=pm,Qp=ga;var J2={usingClientEntryPoint:!1,Events:[uo,Ha,Dl,ul,Xp,pm]},So={findFiberByHostInstance:ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z2={bundleType:So.bundleType,version:So.version,rendererPackageName:So.rendererPackageName,rendererConfig:So.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=tf(n),n===null?null:n.stateNode},findFiberByHostInstance:So.findFiberByHostInstance||Y2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{fl=vc.inject(Z2),wr=vc}catch{}}return fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J2,fs.createPortal=function(n,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wm(i))throw Error(r(200));return X2(n,i,null,c)},fs.createRoot=function(n,i){if(!wm(n))throw Error(r(299));var c=!1,x="",j=Pg;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(x=i.identifierPrefix),i.onRecoverableError!==void 0&&(j=i.onRecoverableError)),i=ym(n,1,!1,null,null,c,!1,x,j),n[Jr]=i.current,oo(n.nodeType===8?n.parentNode:n),new Nm(i)},fs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=tf(i),n=n===null?null:n.stateNode,n},fs.flushSync=function(n){return ga(n)},fs.hydrate=function(n,i,c){if(!xc(i))throw Error(r(200));return gc(null,n,i,!0,c)},fs.hydrateRoot=function(n,i,c){if(!wm(n))throw Error(r(405));var x=c!=null&&c.hydratedSources||null,j=!1,S="",M=Pg;if(c!=null&&(c.unstable_strictMode===!0&&(j=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onRecoverableError!==void 0&&(M=c.onRecoverableError)),i=kg(i,null,n,1,c??null,j,!1,S,M),n[Jr]=i.current,oo(n),x)for(n=0;n<x.length;n++)c=x[n],j=c._getVersion,j=j(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,j]:i.mutableSourceEagerHydrationData.push(c,j);return new fc(i)},fs.render=function(n,i,c){if(!xc(i))throw Error(r(200));return gc(null,n,i,!1,c)},fs.unmountComponentAtNode=function(n){if(!xc(n))throw Error(r(40));return n._reactRootContainer?(ga(function(){gc(null,null,n,!1,function(){n._reactRootContainer=null,n[Jr]=null})}),!0):!1},fs.unstable_batchedUpdates=pm,fs.unstable_renderSubtreeIntoContainer=function(n,i,c,x){if(!xc(c))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return gc(n,i,c,!1,x)},fs.version="18.3.1-next-f1338f8080-20240426",fs}var Fg;function hv(){if(Fg)return _m.exports;Fg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),_m.exports=oC(),_m.exports}var zg;function lC(){if(zg)return jc;zg=1;var t=hv();return jc.createRoot=t.createRoot,jc.hydrateRoot=t.hydrateRoot,jc}var cC=lC(),m=zh();const be=mv(m),$h=tC({__proto__:null,default:be},[m]),dC=1,uC=1e6;let Pm=0;function mC(){return Pm=(Pm+1)%Number.MAX_SAFE_INTEGER,Pm.toString()}const Tm=new Map,$g=t=>{if(Tm.has(t))return;const s=setTimeout(()=>{Tm.delete(t),Io({type:"REMOVE_TOAST",toastId:t})},uC);Tm.set(t,s)},hC=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,dC)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===s.toast.id?{...r,...s.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=s;return r?$g(r):t.toasts.forEach(a=>{$g(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==s.toastId)}}},Dc=[];let Ic={toasts:[]};function Io(t){Ic=hC(Ic,t),Dc.forEach(s=>{s(Ic)})}function pC({...t}){const s=mC(),r=o=>Io({type:"UPDATE_TOAST",toast:{...o,id:s}}),a=()=>Io({type:"DISMISS_TOAST",toastId:s});return Io({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:o=>{o||a()}}}),{id:s,dismiss:a,update:r}}function qh(){const[t,s]=m.useState(Ic);return m.useEffect(()=>(Dc.push(s),()=>{const r=Dc.indexOf(s);r>-1&&Dc.splice(r,1)}),[t]),{...t,toast:pC,dismiss:r=>Io({type:"DISMISS_TOAST",toastId:r})}}var wi=hv();const pv=mv(wi);function ye(t,s,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return s?.(o)}}function fC(t,s){typeof t=="function"?t(s):t!=null&&(t.current=s)}function ld(...t){return s=>t.forEach(r=>fC(r,s))}function Be(...t){return m.useCallback(ld(...t),t)}function xC(t,s=[]){let r=[];function a(l,d){const u=m.createContext(d),h=r.length;r=[...r,d];function p(f){const{scope:g,children:N,...k}=f,y=g?.[t][h]||u,_=m.useMemo(()=>k,Object.values(k));return e.jsx(y.Provider,{value:_,children:N})}function v(f,g){const N=g?.[t][h]||u,k=m.useContext(N);if(k)return k;if(d!==void 0)return d;throw new Error(`\`${f}\` must be used within \`${l}\``)}return p.displayName=l+"Provider",[p,v]}const o=()=>{const l=r.map(d=>m.createContext(d));return function(u){const h=u?.[t]||l;return m.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return o.scopeName=t,[a,gC(o,...s)]}function gC(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const a=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const d=a.reduce((u,{useScope:h,scopeName:p})=>{const f=h(l)[`__scope${p}`];return{...u,...f}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:d}),[d])}};return r.scopeName=s.scopeName,r}var Vn=m.forwardRef((t,s)=>{const{children:r,...a}=t,o=m.Children.toArray(r),l=o.find(vC);if(l){const d=l.props.children,u=o.map(h=>h===l?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:h);return e.jsx(Ym,{...a,ref:s,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return e.jsx(Ym,{...a,ref:s,children:r})});Vn.displayName="Slot";var Ym=m.forwardRef((t,s)=>{const{children:r,...a}=t;if(m.isValidElement(r)){const o=yC(r);return m.cloneElement(r,{...jC(a,r.props),ref:s?ld(s,o):o})}return m.Children.count(r)>1?m.Children.only(null):null});Ym.displayName="SlotClone";var fv=({children:t})=>e.jsx(e.Fragment,{children:t});function vC(t){return m.isValidElement(t)&&t.type===fv}function jC(t,s){const r={...s};for(const a in s){const o=t[a],l=s[a];/^on[A-Z]/.test(a)?o&&l?r[a]=(...u)=>{l(...u),o(...u)}:o&&(r[a]=o):a==="style"?r[a]={...o,...l}:a==="className"&&(r[a]=[o,l].filter(Boolean).join(" "))}return{...t,...r}}function yC(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Yo(t){const s=t+"CollectionProvider",[r,a]=xC(s),[o,l]=r(s,{collectionRef:{current:null},itemMap:new Map}),d=N=>{const{scope:k,children:y}=N,_=be.useRef(null),w=be.useRef(new Map).current;return e.jsx(o,{scope:k,itemMap:w,collectionRef:_,children:y})};d.displayName=s;const u=t+"CollectionSlot",h=be.forwardRef((N,k)=>{const{scope:y,children:_}=N,w=l(u,y),E=Be(k,w.collectionRef);return e.jsx(Vn,{ref:E,children:_})});h.displayName=u;const p=t+"CollectionItemSlot",v="data-radix-collection-item",f=be.forwardRef((N,k)=>{const{scope:y,children:_,...w}=N,E=be.useRef(null),C=Be(k,E),R=l(p,y);return be.useEffect(()=>(R.itemMap.set(E,{ref:E,...w}),()=>void R.itemMap.delete(E))),e.jsx(Vn,{[v]:"",ref:C,children:_})});f.displayName=p;function g(N){const k=l(t+"CollectionConsumer",N);return be.useCallback(()=>{const _=k.collectionRef.current;if(!_)return[];const w=Array.from(_.querySelectorAll(`[${v}]`));return Array.from(k.itemMap.values()).sort((R,I)=>w.indexOf(R.ref.current)-w.indexOf(I.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:d,Slot:h,ItemSlot:f},g,a]}function bC(t,s){const r=m.createContext(s),a=l=>{const{children:d,...u}=l,h=m.useMemo(()=>u,Object.values(u));return e.jsx(r.Provider,{value:h,children:d})};a.displayName=t+"Provider";function o(l){const d=m.useContext(r);if(d)return d;if(s!==void 0)return s;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[a,o]}function Ur(t,s=[]){let r=[];function a(l,d){const u=m.createContext(d),h=r.length;r=[...r,d];const p=f=>{const{scope:g,children:N,...k}=f,y=g?.[t]?.[h]||u,_=m.useMemo(()=>k,Object.values(k));return e.jsx(y.Provider,{value:_,children:N})};p.displayName=l+"Provider";function v(f,g){const N=g?.[t]?.[h]||u,k=m.useContext(N);if(k)return k;if(d!==void 0)return d;throw new Error(`\`${f}\` must be used within \`${l}\``)}return[p,v]}const o=()=>{const l=r.map(d=>m.createContext(d));return function(u){const h=u?.[t]||l;return m.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return o.scopeName=t,[a,NC(o,...s)]}function NC(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const a=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const d=a.reduce((u,{useScope:h,scopeName:p})=>{const f=h(l)[`__scope${p}`];return{...u,...f}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:d}),[d])}};return r.scopeName=s.scopeName,r}var wC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Te=wC.reduce((t,s)=>{const r=m.forwardRef((a,o)=>{const{asChild:l,...d}=a,u=l?Vn:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...d,ref:o})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{});function Bh(t,s){t&&wi.flushSync(()=>t.dispatchEvent(s))}function yt(t){const s=m.useRef(t);return m.useEffect(()=>{s.current=t}),m.useMemo(()=>(...r)=>s.current?.(...r),[])}function CC(t,s=globalThis?.document){const r=yt(t);m.useEffect(()=>{const a=o=>{o.key==="Escape"&&r(o)};return s.addEventListener("keydown",a,{capture:!0}),()=>s.removeEventListener("keydown",a,{capture:!0})},[r,s])}var SC="DismissableLayer",Qm="dismissableLayer.update",_C="dismissableLayer.pointerDownOutside",kC="dismissableLayer.focusOutside",qg,xv=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ci=m.forwardRef((t,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:d,onDismiss:u,...h}=t,p=m.useContext(xv),[v,f]=m.useState(null),g=v?.ownerDocument??globalThis?.document,[,N]=m.useState({}),k=Be(s,b=>f(b)),y=Array.from(p.layers),[_]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(_),E=v?y.indexOf(v):-1,C=p.layersWithOutsidePointerEventsDisabled.size>0,R=E>=w,I=PC(b=>{const P=b.target,A=[...p.branches].some(O=>O.contains(P));!R||A||(o?.(b),d?.(b),b.defaultPrevented||u?.())},g),T=TC(b=>{const P=b.target;[...p.branches].some(O=>O.contains(P))||(l?.(b),d?.(b),b.defaultPrevented||u?.())},g);return CC(b=>{E===p.layers.size-1&&(a?.(b),!b.defaultPrevented&&u&&(b.preventDefault(),u()))},g),m.useEffect(()=>{if(v)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(qg=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),Bg(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=qg)}},[v,g,r,p]),m.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),Bg())},[v,p]),m.useEffect(()=>{const b=()=>N({});return document.addEventListener(Qm,b),()=>document.removeEventListener(Qm,b)},[]),e.jsx(Te.div,{...h,ref:k,style:{pointerEvents:C?R?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,T.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,I.onPointerDownCapture)})});Ci.displayName=SC;var EC="DismissableLayerBranch",gv=m.forwardRef((t,s)=>{const r=m.useContext(xv),a=m.useRef(null),o=Be(s,a);return m.useEffect(()=>{const l=a.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),e.jsx(Te.div,{...t,ref:o})});gv.displayName=EC;function PC(t,s=globalThis?.document){const r=yt(t),a=m.useRef(!1),o=m.useRef(()=>{});return m.useEffect(()=>{const l=u=>{if(u.target&&!a.current){let h=function(){vv(_C,r,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(s.removeEventListener("click",o.current),o.current=h,s.addEventListener("click",o.current,{once:!0})):h()}else s.removeEventListener("click",o.current);a.current=!1},d=window.setTimeout(()=>{s.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(d),s.removeEventListener("pointerdown",l),s.removeEventListener("click",o.current)}},[s,r]),{onPointerDownCapture:()=>a.current=!0}}function TC(t,s=globalThis?.document){const r=yt(t),a=m.useRef(!1);return m.useEffect(()=>{const o=l=>{l.target&&!a.current&&vv(kC,r,{originalEvent:l},{discrete:!1})};return s.addEventListener("focusin",o),()=>s.removeEventListener("focusin",o)},[s,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Bg(){const t=new CustomEvent(Qm);document.dispatchEvent(t)}function vv(t,s,r,{discrete:a}){const o=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});s&&o.addEventListener(t,s,{once:!0}),a?Bh(o,l):o.dispatchEvent(l)}var RC=Ci,AC=gv,Ft=globalThis?.document?m.useLayoutEffect:()=>{},MC="Portal",Qo=m.forwardRef((t,s)=>{const{container:r,...a}=t,[o,l]=m.useState(!1);Ft(()=>l(!0),[]);const d=r||o&&globalThis?.document?.body;return d?pv.createPortal(e.jsx(Te.div,{...a,ref:s}),d):null});Qo.displayName=MC;function DC(t,s){return m.useReducer((r,a)=>s[r][a]??r,t)}var is=t=>{const{present:s,children:r}=t,a=IC(s),o=typeof r=="function"?r({present:a.isPresent}):m.Children.only(r),l=Be(a.ref,LC(o));return typeof r=="function"||a.isPresent?m.cloneElement(o,{ref:l}):null};is.displayName="Presence";function IC(t){const[s,r]=m.useState(),a=m.useRef({}),o=m.useRef(t),l=m.useRef("none"),d=t?"mounted":"unmounted",[u,h]=DC(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const p=yc(a.current);l.current=u==="mounted"?p:"none"},[u]),Ft(()=>{const p=a.current,v=o.current;if(v!==t){const g=l.current,N=yc(p);t?h("MOUNT"):N==="none"||p?.display==="none"?h("UNMOUNT"):h(v&&g!==N?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,h]),Ft(()=>{if(s){let p;const v=s.ownerDocument.defaultView??window,f=N=>{const y=yc(a.current).includes(N.animationName);if(N.target===s&&y&&(h("ANIMATION_END"),!o.current)){const _=s.style.animationFillMode;s.style.animationFillMode="forwards",p=v.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=_)})}},g=N=>{N.target===s&&(l.current=yc(a.current))};return s.addEventListener("animationstart",g),s.addEventListener("animationcancel",f),s.addEventListener("animationend",f),()=>{v.clearTimeout(p),s.removeEventListener("animationstart",g),s.removeEventListener("animationcancel",f),s.removeEventListener("animationend",f)}}else h("ANIMATION_END")},[s,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:m.useCallback(p=>{p&&(a.current=getComputedStyle(p)),r(p)},[])}}function yc(t){return t?.animationName||"none"}function LC(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Un({prop:t,defaultProp:s,onChange:r=()=>{}}){const[a,o]=OC({defaultProp:s,onChange:r}),l=t!==void 0,d=l?t:a,u=yt(r),h=m.useCallback(p=>{if(l){const f=typeof p=="function"?p(t):p;f!==t&&u(f)}else o(p)},[l,t,o,u]);return[d,h]}function OC({defaultProp:t,onChange:s}){const r=m.useState(t),[a]=r,o=m.useRef(a),l=yt(s);return m.useEffect(()=>{o.current!==a&&(l(a),o.current=a)},[a,o,l]),r}var FC="VisuallyHidden",Jo=m.forwardRef((t,s)=>e.jsx(Te.span,{...t,ref:s,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Jo.displayName=FC;var zC=Jo,Vh="ToastProvider",[Uh,$C,qC]=Yo("Toast"),[jv]=Ur("Toast",[qC]),[BC,cd]=jv(Vh),yv=t=>{const{__scopeToast:s,label:r="Notification",duration:a=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:d}=t,[u,h]=m.useState(null),[p,v]=m.useState(0),f=m.useRef(!1),g=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Vh}\`. Expected non-empty \`string\`.`),e.jsx(Uh.Provider,{scope:s,children:e.jsx(BC,{scope:s,label:r,duration:a,swipeDirection:o,swipeThreshold:l,toastCount:p,viewport:u,onViewportChange:h,onToastAdd:m.useCallback(()=>v(N=>N+1),[]),onToastRemove:m.useCallback(()=>v(N=>N-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:d})})};yv.displayName=Vh;var bv="ToastViewport",VC=["F8"],Jm="toast.viewportPause",Zm="toast.viewportResume",Nv=m.forwardRef((t,s)=>{const{__scopeToast:r,hotkey:a=VC,label:o="Notifications ({hotkey})",...l}=t,d=cd(bv,r),u=$C(r),h=m.useRef(null),p=m.useRef(null),v=m.useRef(null),f=m.useRef(null),g=Be(s,f,d.onViewportChange),N=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=d.toastCount>0;m.useEffect(()=>{const _=w=>{a.length!==0&&a.every(C=>w[C]||w.code===C)&&f.current?.focus()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[a]),m.useEffect(()=>{const _=h.current,w=f.current;if(k&&_&&w){const E=()=>{if(!d.isClosePausedRef.current){const T=new CustomEvent(Jm);w.dispatchEvent(T),d.isClosePausedRef.current=!0}},C=()=>{if(d.isClosePausedRef.current){const T=new CustomEvent(Zm);w.dispatchEvent(T),d.isClosePausedRef.current=!1}},R=T=>{!_.contains(T.relatedTarget)&&C()},I=()=>{_.contains(document.activeElement)||C()};return _.addEventListener("focusin",E),_.addEventListener("focusout",R),_.addEventListener("pointermove",E),_.addEventListener("pointerleave",I),window.addEventListener("blur",E),window.addEventListener("focus",C),()=>{_.removeEventListener("focusin",E),_.removeEventListener("focusout",R),_.removeEventListener("pointermove",E),_.removeEventListener("pointerleave",I),window.removeEventListener("blur",E),window.removeEventListener("focus",C)}}},[k,d.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:_})=>{const E=u().map(C=>{const R=C.ref.current,I=[R,...sS(R)];return _==="forwards"?I:I.reverse()});return(_==="forwards"?E.reverse():E).flat()},[u]);return m.useEffect(()=>{const _=f.current;if(_){const w=E=>{const C=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!C){const I=document.activeElement,T=E.shiftKey;if(E.target===_&&T){p.current?.focus();return}const A=y({tabbingDirection:T?"backwards":"forwards"}),O=A.findIndex(F=>F===I);Rm(A.slice(O+1))?E.preventDefault():T?p.current?.focus():v.current?.focus()}};return _.addEventListener("keydown",w),()=>_.removeEventListener("keydown",w)}},[u,y]),e.jsxs(AC,{ref:h,role:"region","aria-label":o.replace("{hotkey}",N),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&e.jsx(eh,{ref:p,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"forwards"});Rm(_)}}),e.jsx(Uh.Slot,{scope:r,children:e.jsx(Te.ol,{tabIndex:-1,...l,ref:g})}),k&&e.jsx(eh,{ref:v,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"backwards"});Rm(_)}})]})});Nv.displayName=bv;var wv="ToastFocusProxy",eh=m.forwardRef((t,s)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...o}=t,l=cd(wv,r);return e.jsx(Jo,{"aria-hidden":!0,tabIndex:0,...o,ref:s,style:{position:"fixed"},onFocus:d=>{const u=d.relatedTarget;!l.viewport?.contains(u)&&a()}})});eh.displayName=wv;var dd="Toast",UC="toast.swipeStart",HC="toast.swipeMove",WC="toast.swipeCancel",GC="toast.swipeEnd",Cv=m.forwardRef((t,s)=>{const{forceMount:r,open:a,defaultOpen:o,onOpenChange:l,...d}=t,[u=!0,h]=Un({prop:a,defaultProp:o,onChange:l});return e.jsx(is,{present:r||u,children:e.jsx(YC,{open:u,...d,ref:s,onClose:()=>h(!1),onPause:yt(t.onPause),onResume:yt(t.onResume),onSwipeStart:ye(t.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(t.onSwipeMove,p=>{const{x:v,y:f}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ye(t.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(t.onSwipeEnd,p=>{const{x:v,y:f}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),h(!1)})})})});Cv.displayName=dd;var[KC,XC]=jv(dd,{onClose(){}}),YC=m.forwardRef((t,s)=>{const{__scopeToast:r,type:a="foreground",duration:o,open:l,onClose:d,onEscapeKeyDown:u,onPause:h,onResume:p,onSwipeStart:v,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:N,...k}=t,y=cd(dd,r),[_,w]=m.useState(null),E=Be(s,K=>w(K)),C=m.useRef(null),R=m.useRef(null),I=o||y.duration,T=m.useRef(0),b=m.useRef(I),P=m.useRef(0),{onToastAdd:A,onToastRemove:O}=y,F=yt(()=>{_?.contains(document.activeElement)&&y.viewport?.focus(),d()}),X=m.useCallback(K=>{!K||K===1/0||(window.clearTimeout(P.current),T.current=new Date().getTime(),P.current=window.setTimeout(F,K))},[F]);m.useEffect(()=>{const K=y.viewport;if(K){const me=()=>{X(b.current),p?.()},U=()=>{const G=new Date().getTime()-T.current;b.current=b.current-G,window.clearTimeout(P.current),h?.()};return K.addEventListener(Jm,U),K.addEventListener(Zm,me),()=>{K.removeEventListener(Jm,U),K.removeEventListener(Zm,me)}}},[y.viewport,I,h,p,X]),m.useEffect(()=>{l&&!y.isClosePausedRef.current&&X(I)},[l,I,y.isClosePausedRef,X]),m.useEffect(()=>(A(),()=>O()),[A,O]);const V=m.useMemo(()=>_?Rv(_):null,[_]);return y.viewport?e.jsxs(e.Fragment,{children:[V&&e.jsx(QC,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),e.jsx(KC,{scope:r,onClose:F,children:wi.createPortal(e.jsx(Uh.ItemSlot,{scope:r,children:e.jsx(RC,{asChild:!0,onEscapeKeyDown:ye(u,()=>{y.isFocusedToastEscapeKeyDownRef.current||F(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":y.swipeDirection,...k,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ye(t.onKeyDown,K=>{K.key==="Escape"&&(u?.(K.nativeEvent),K.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:ye(t.onPointerDown,K=>{K.button===0&&(C.current={x:K.clientX,y:K.clientY})}),onPointerMove:ye(t.onPointerMove,K=>{if(!C.current)return;const me=K.clientX-C.current.x,U=K.clientY-C.current.y,G=!!R.current,L=["left","right"].includes(y.swipeDirection),H=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,le=L?H(0,me):0,q=L?0:H(0,U),se=K.pointerType==="touch"?10:2,ee={x:le,y:q},oe={originalEvent:K,delta:ee};G?(R.current=ee,bc(HC,f,oe,{discrete:!1})):Vg(ee,y.swipeDirection,se)?(R.current=ee,bc(UC,v,oe,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(me)>se||Math.abs(U)>se)&&(C.current=null)}),onPointerUp:ye(t.onPointerUp,K=>{const me=R.current,U=K.target;if(U.hasPointerCapture(K.pointerId)&&U.releasePointerCapture(K.pointerId),R.current=null,C.current=null,me){const G=K.currentTarget,L={originalEvent:K,delta:me};Vg(me,y.swipeDirection,y.swipeThreshold)?bc(GC,N,L,{discrete:!0}):bc(WC,g,L,{discrete:!0}),G.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),QC=t=>{const{__scopeToast:s,children:r,...a}=t,o=cd(dd,s),[l,d]=m.useState(!1),[u,h]=m.useState(!1);return eS(()=>d(!0)),m.useEffect(()=>{const p=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(p)},[]),u?null:e.jsx(Qo,{asChild:!0,children:e.jsx(Jo,{...a,children:l&&e.jsxs(e.Fragment,{children:[o.label," ",r]})})})},JC="ToastTitle",Sv=m.forwardRef((t,s)=>{const{__scopeToast:r,...a}=t;return e.jsx(Te.div,{...a,ref:s})});Sv.displayName=JC;var ZC="ToastDescription",_v=m.forwardRef((t,s)=>{const{__scopeToast:r,...a}=t;return e.jsx(Te.div,{...a,ref:s})});_v.displayName=ZC;var kv="ToastAction",Ev=m.forwardRef((t,s)=>{const{altText:r,...a}=t;return r.trim()?e.jsx(Tv,{altText:r,asChild:!0,children:e.jsx(Hh,{...a,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${kv}\`. Expected non-empty \`string\`.`),null)});Ev.displayName=kv;var Pv="ToastClose",Hh=m.forwardRef((t,s)=>{const{__scopeToast:r,...a}=t,o=XC(Pv,r);return e.jsx(Tv,{asChild:!0,children:e.jsx(Te.button,{type:"button",...a,ref:s,onClick:ye(t.onClick,o.onClose)})})});Hh.displayName=Pv;var Tv=m.forwardRef((t,s)=>{const{__scopeToast:r,altText:a,...o}=t;return e.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...o,ref:s})});function Rv(t){const s=[];return Array.from(t.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&s.push(a.textContent),tS(a)){const o=a.ariaHidden||a.hidden||a.style.display==="none",l=a.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const d=a.dataset.radixToastAnnounceAlt;d&&s.push(d)}else s.push(...Rv(a))}}),s}function bc(t,s,r,{discrete:a}){const o=r.originalEvent.currentTarget,l=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});s&&o.addEventListener(t,s,{once:!0}),a?Bh(o,l):o.dispatchEvent(l)}var Vg=(t,s,r=0)=>{const a=Math.abs(t.x),o=Math.abs(t.y),l=a>o;return s==="left"||s==="right"?l&&a>r:!l&&o>r};function eS(t=()=>{}){const s=yt(t);Ft(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[s])}function tS(t){return t.nodeType===t.ELEMENT_NODE}function sS(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Rm(t){const s=document.activeElement;return t.some(r=>r===s?!0:(r.focus(),document.activeElement!==s))}var rS=yv,Av=Nv,Mv=Cv,Dv=Sv,Iv=_v,Lv=Ev,Ov=Hh;function Fv(t){var s,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(s=0;s<o;s++)t[s]&&(r=Fv(t[s]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}function zv(){for(var t,s,r=0,a="",o=arguments.length;r<o;r++)(t=arguments[r])&&(s=Fv(t))&&(a&&(a+=" "),a+=s);return a}const Ug=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Hg=zv,Zo=(t,s)=>r=>{var a;if(s?.variants==null)return Hg(t,r?.class,r?.className);const{variants:o,defaultVariants:l}=s,d=Object.keys(o).map(p=>{const v=r?.[p],f=l?.[p];if(v===null)return null;const g=Ug(v)||Ug(f);return o[p][g]}),u=r&&Object.entries(r).reduce((p,v)=>{let[f,g]=v;return g===void 0||(p[f]=g),p},{}),h=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((p,v)=>{let{class:f,className:g,...N}=v;return Object.entries(N).every(k=>{let[y,_]=k;return Array.isArray(_)?_.includes({...l,...u}[y]):{...l,...u}[y]===_})?[...p,f,g]:p},[]);return Hg(t,d,h,r?.class,r?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$v=(...t)=>t.filter((s,r,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=m.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:d,...u},h)=>m.createElement("svg",{ref:h,...aS,width:s,height:s,stroke:t,strokeWidth:a?Number(r)*24/Number(s):r,className:$v("lucide",o),...u},[...d.map(([p,v])=>m.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(t,s)=>{const r=m.forwardRef(({className:a,...o},l)=>m.createElement(iS,{ref:l,iconNode:s,className:$v(`lucide-${nS(t)}`,a),...o}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=ge("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=ge("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=ge("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=ge("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=ge("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=ge("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ge("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=ge("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=ge("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=ge("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=ge("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ge("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=ge("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=ge("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=ge("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=ge("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=ge("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ge("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ge("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=ge("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=ge("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=ge("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=ge("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=ge("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=ge("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=ge("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=ge("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=ge("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=ge("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=ge("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=ge("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=ge("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=ge("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=ge("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=ge("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=ge("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=ge("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=ge("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=ge("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=ge("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=ge("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=ge("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=ge("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=ge("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Kh="-",RS=t=>{const s=MS(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:d=>{const u=d.split(Kh);return u[0]===""&&u.length!==1&&u.shift(),Wv(u,s)||AS(d)},getConflictingClassGroupIds:(d,u)=>{const h=r[d]||[];return u&&a[d]?[...h,...a[d]]:h}}},Wv=(t,s)=>{if(t.length===0)return s.classGroupId;const r=t[0],a=s.nextPart.get(r),o=a?Wv(t.slice(1),a):void 0;if(o)return o;if(s.validators.length===0)return;const l=t.join(Kh);return s.validators.find(({validator:d})=>d(l))?.classGroupId},Zg=/^\[(.+)\]$/,AS=t=>{if(Zg.test(t)){const s=Zg.exec(t)[1],r=s?.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},MS=t=>{const{theme:s,prefix:r}=t,a={nextPart:new Map,validators:[]};return IS(Object.entries(t.classGroups),r).forEach(([l,d])=>{rh(d,a,l,s)}),a},rh=(t,s,r,a)=>{t.forEach(o=>{if(typeof o=="string"){const l=o===""?s:e0(s,o);l.classGroupId=r;return}if(typeof o=="function"){if(DS(o)){rh(o(a),s,r,a);return}s.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([l,d])=>{rh(d,e0(s,l),r,a)})})},e0=(t,s)=>{let r=t;return s.split(Kh).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},DS=t=>t.isThemeGetter,IS=(t,s)=>s?t.map(([r,a])=>{const o=a.map(l=>typeof l=="string"?s+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([d,u])=>[s+d,u])):l);return[r,o]}):t,LS=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,a=new Map;const o=(l,d)=>{r.set(l,d),s++,s>t&&(s=0,a=r,r=new Map)};return{get(l){let d=r.get(l);if(d!==void 0)return d;if((d=a.get(l))!==void 0)return o(l,d),d},set(l,d){r.has(l)?r.set(l,d):o(l,d)}}},Gv="!",OS=t=>{const{separator:s,experimentalParseClassName:r}=t,a=s.length===1,o=s[0],l=s.length,d=u=>{const h=[];let p=0,v=0,f;for(let _=0;_<u.length;_++){let w=u[_];if(p===0){if(w===o&&(a||u.slice(_,_+l)===s)){h.push(u.slice(v,_)),v=_+l;continue}if(w==="/"){f=_;continue}}w==="["?p++:w==="]"&&p--}const g=h.length===0?u:u.substring(v),N=g.startsWith(Gv),k=N?g.substring(1):g,y=f&&f>v?f-v:void 0;return{modifiers:h,hasImportantModifier:N,baseClassName:k,maybePostfixModifierPosition:y}};return r?u=>r({className:u,parseClassName:d}):d},FS=t=>{if(t.length<=1)return t;const s=[];let r=[];return t.forEach(a=>{a[0]==="["?(s.push(...r.sort(),a),r=[]):r.push(a)}),s.push(...r.sort()),s},zS=t=>({cache:LS(t.cacheSize),parseClassName:OS(t),...RS(t)}),$S=/\s+/,qS=(t,s)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:o}=s,l=[],d=t.trim().split($S);let u="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{modifiers:v,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:N}=r(p);let k=!!N,y=a(k?g.substring(0,N):g);if(!y){if(!k){u=p+(u.length>0?" "+u:u);continue}if(y=a(g),!y){u=p+(u.length>0?" "+u:u);continue}k=!1}const _=FS(v).join(":"),w=f?_+Gv:_,E=w+y;if(l.includes(E))continue;l.push(E);const C=o(y,k);for(let R=0;R<C.length;++R){const I=C[R];l.push(w+I)}u=p+(u.length>0?" "+u:u)}return u};function BS(){let t=0,s,r,a="";for(;t<arguments.length;)(s=arguments[t++])&&(r=Kv(s))&&(a&&(a+=" "),a+=r);return a}const Kv=t=>{if(typeof t=="string")return t;let s,r="";for(let a=0;a<t.length;a++)t[a]&&(s=Kv(t[a]))&&(r&&(r+=" "),r+=s);return r};function VS(t,...s){let r,a,o,l=d;function d(h){const p=s.reduce((v,f)=>f(v),t());return r=zS(p),a=r.cache.get,o=r.cache.set,l=u,u(h)}function u(h){const p=a(h);if(p)return p;const v=qS(h,r);return o(h,v),v}return function(){return l(BS.apply(null,arguments))}}const vt=t=>{const s=r=>r[t]||[];return s.isThemeGetter=!0,s},Xv=/^\[(?:([a-z-]+):)?(.+)\]$/i,US=/^\d+\/\d+$/,HS=new Set(["px","full","screen"]),WS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,XS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,on=t=>mi(t)||HS.has(t)||US.test(t),Ln=t=>_i(t,"length",n4),mi=t=>!!t&&!Number.isNaN(Number(t)),Am=t=>_i(t,"number",mi),ko=t=>!!t&&Number.isInteger(Number(t)),QS=t=>t.endsWith("%")&&mi(t.slice(0,-1)),Ve=t=>Xv.test(t),On=t=>WS.test(t),JS=new Set(["length","size","percentage"]),ZS=t=>_i(t,JS,Yv),e4=t=>_i(t,"position",Yv),t4=new Set(["image","url"]),s4=t=>_i(t,t4,i4),r4=t=>_i(t,"",a4),Eo=()=>!0,_i=(t,s,r)=>{const a=Xv.exec(t);return a?a[1]?typeof s=="string"?a[1]===s:s.has(a[1]):r(a[2]):!1},n4=t=>GS.test(t)&&!KS.test(t),Yv=()=>!1,a4=t=>XS.test(t),i4=t=>YS.test(t),o4=()=>{const t=vt("colors"),s=vt("spacing"),r=vt("blur"),a=vt("brightness"),o=vt("borderColor"),l=vt("borderRadius"),d=vt("borderSpacing"),u=vt("borderWidth"),h=vt("contrast"),p=vt("grayscale"),v=vt("hueRotate"),f=vt("invert"),g=vt("gap"),N=vt("gradientColorStops"),k=vt("gradientColorStopPositions"),y=vt("inset"),_=vt("margin"),w=vt("opacity"),E=vt("padding"),C=vt("saturate"),R=vt("scale"),I=vt("sepia"),T=vt("skew"),b=vt("space"),P=vt("translate"),A=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ve,s],X=()=>[Ve,s],V=()=>["",on,Ln],K=()=>["auto",mi,Ve],me=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Ve],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[mi,Ve];return{cacheSize:500,separator:":",theme:{colors:[Eo],spacing:[on,Ln],blur:["none","",On,Ve],brightness:q(),borderColor:[t],borderRadius:["none","","full",On,Ve],borderSpacing:X(),borderWidth:V(),contrast:q(),grayscale:H(),hueRotate:q(),invert:H(),gap:X(),gradientColorStops:[t],gradientColorStopPositions:[QS,Ln],inset:F(),margin:F(),opacity:q(),padding:X(),saturate:q(),scale:q(),sepia:H(),skew:q(),space:X(),translate:X()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[On]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...me(),Ve]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ko,Ve]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",ko,Ve]}],"grid-cols":[{"grid-cols":[Eo]}],"col-start-end":[{col:["auto",{span:["full",ko,Ve]},Ve]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[Eo]}],"row-start-end":[{row:["auto",{span:[ko,Ve]},Ve]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,s]}],"min-w":[{"min-w":[Ve,s,"min","max","fit"]}],"max-w":[{"max-w":[Ve,s,"none","full","min","max","fit","prose",{screen:[On]},On]}],h:[{h:[Ve,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,s,"auto","min","max","fit"]}],"font-size":[{text:["base",On,Ln]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Am]}],"font-family":[{font:[Eo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",mi,Am]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",on,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",on,Ln]}],"underline-offset":[{"underline-offset":["auto",on,Ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...me(),e4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},s4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[N]}],"gradient-via":[{via:[N]}],"gradient-to":[{to:[N]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:U()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[on,Ve]}],"outline-w":[{outline:[on,Ln]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[on,Ln]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",On,r4]}],"shadow-color":[{shadow:[Eo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",On,Ve]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[f]}],saturate:[{saturate:[C]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[ko,Ve]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[on,Ln,Am]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},l4=VS(o4);function we(...t){return l4(zv(t))}const c4=rS,Qv=m.forwardRef(({className:t,...s},r)=>e.jsx(Av,{ref:r,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));Qv.displayName=Av.displayName;const d4=Zo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Jv=m.forwardRef(({className:t,variant:s,...r},a)=>e.jsx(Mv,{ref:a,className:we(d4({variant:s}),t),...r}));Jv.displayName=Mv.displayName;const u4=m.forwardRef(({className:t,...s},r)=>e.jsx(Lv,{ref:r,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));u4.displayName=Lv.displayName;const Zv=m.forwardRef(({className:t,...s},r)=>e.jsx(Ov,{ref:r,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(Je,{className:"h-4 w-4"})}));Zv.displayName=Ov.displayName;const ej=m.forwardRef(({className:t,...s},r)=>e.jsx(Dv,{ref:r,className:we("text-sm font-semibold",t),...s}));ej.displayName=Dv.displayName;const tj=m.forwardRef(({className:t,...s},r)=>e.jsx(Iv,{ref:r,className:we("text-sm opacity-90",t),...s}));tj.displayName=Iv.displayName;function m4(){const{toasts:t}=qh();return e.jsxs(c4,{children:[t.map(function({id:s,title:r,description:a,action:o,...l}){return e.jsxs(Jv,{...l,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(ej,{children:r}),a&&e.jsx(tj,{children:a})]}),o,e.jsx(Zv,{})]},s)}),e.jsx(Qv,{})]})}var t0=["light","dark"],h4="(prefers-color-scheme: dark)",p4=m.createContext(void 0),f4={setTheme:t=>{},themes:[]},x4=()=>{var t;return(t=m.useContext(p4))!=null?t:f4};m.memo(({forcedTheme:t,storageKey:s,attribute:r,enableSystem:a,enableColorScheme:o,defaultTheme:l,value:d,attrs:u,nonce:h})=>{let p=l==="system",v=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(k=>`'${k}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=o?t0.includes(l)&&l?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${l}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(k,y=!1,_=!0)=>{let w=d?d[k]:k,E=y?k+"|| ''":`'${w}'`,C="";return o&&_&&!y&&t0.includes(k)&&(C+=`d.style.colorScheme = '${k}';`),r==="class"?y||w?C+=`c.add(${E})`:C+="null":w&&(C+=`d[s](n,${E})`),C},N=t?`!function(){${v}${g(t)}}()`:a?`!function(){try{${v}var e=localStorage.getItem('${s}');if('system'===e||(!e&&${p})){var t='${h4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${d?`var x=${JSON.stringify(d)};`:""}${g(d?"x[e]":"e",!0)}}${p?"":"else{"+g(l,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${v}var e=localStorage.getItem('${s}');if(e){${d?`var x=${JSON.stringify(d)};`:""}${g(d?"x[e]":"e",!0)}}else{${g(l,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:h,dangerouslySetInnerHTML:{__html:N}})});var g4=t=>{switch(t){case"success":return y4;case"info":return N4;case"warning":return b4;case"error":return w4;default:return null}},v4=Array(12).fill(0),j4=({visible:t})=>be.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},be.createElement("div",{className:"sonner-spinner"},v4.map((s,r)=>be.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),y4=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),b4=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),N4=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),w4=be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),C4=()=>{let[t,s]=be.useState(document.hidden);return be.useEffect(()=>{let r=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},nh=1,S4=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;let{message:r,...a}=t,o=typeof t?.id=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:nh++,l=this.toasts.find(u=>u.id===o),d=t.dismissible===void 0?!0:t.dismissible;return l?this.toasts=this.toasts.map(u=>u.id===o?(this.publish({...u,...t,id:o,title:r}),{...u,...t,id:o,dismissible:d,title:r}):u):this.addToast({title:r,...a,dismissible:d,id:o}),o},this.dismiss=t=>(t||this.toasts.forEach(s=>{this.subscribers.forEach(r=>r({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:t,dismiss:!0})),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let r;s.loading!==void 0&&(r=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let a=t instanceof Promise?t:t(),o=r!==void 0;return a.then(async l=>{if(k4(l)&&!l.ok){o=!1;let d=typeof s.error=="function"?await s.error(`HTTP error! status: ${l.status}`):s.error,u=typeof s.description=="function"?await s.description(`HTTP error! status: ${l.status}`):s.description;this.create({id:r,type:"error",message:d,description:u})}else if(s.success!==void 0){o=!1;let d=typeof s.success=="function"?await s.success(l):s.success,u=typeof s.description=="function"?await s.description(l):s.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async l=>{if(s.error!==void 0){o=!1;let d=typeof s.error=="function"?await s.error(l):s.error,u=typeof s.description=="function"?await s.description(l):s.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var l;o&&(this.dismiss(r),r=void 0),(l=s.finally)==null||l.call(s)}),r},this.custom=(t,s)=>{let r=s?.id||nh++;return this.create({jsx:t(r),id:r,...s}),r},this.subscribers=[],this.toasts=[]}},Es=new S4,_4=(t,s)=>{let r=s?.id||nh++;return Es.addToast({title:t,...s,id:r}),r},k4=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",E4=_4,P4=()=>Es.toasts,$=Object.assign(E4,{success:Es.success,info:Es.info,warning:Es.warning,error:Es.error,custom:Es.custom,message:Es.message,promise:Es.promise,dismiss:Es.dismiss,loading:Es.loading},{getHistory:P4});function T4(t,{insertAt:s}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}T4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Nc(t){return t.label!==void 0}var R4=3,A4="32px",M4=4e3,D4=356,I4=14,L4=20,O4=200;function F4(...t){return t.filter(Boolean).join(" ")}var z4=t=>{var s,r,a,o,l,d,u,h,p,v;let{invert:f,toast:g,unstyled:N,interacting:k,setHeights:y,visibleToasts:_,heights:w,index:E,toasts:C,expanded:R,removeToast:I,defaultRichColors:T,closeButton:b,style:P,cancelButtonStyle:A,actionButtonStyle:O,className:F="",descriptionClassName:X="",duration:V,position:K,gap:me,loadingIcon:U,expandByDefault:G,classNames:L,icons:H,closeButtonAriaLabel:le="Close toast",pauseWhenPageIsHidden:q,cn:se}=t,[ee,oe]=be.useState(!1),[xe,ve]=be.useState(!1),[re,Ne]=be.useState(!1),[Ee,Le]=be.useState(!1),[st,ct]=be.useState(0),[Dt,cs]=be.useState(0),Xr=be.useRef(null),ws=be.useRef(null),Yr=E===0,ol=E+1<=_,Qt=g.type,Ms=g.dismissible!==!1,fn=g.className||"",Fi=g.descriptionClassName||"",na=be.useMemo(()=>w.findIndex(Oe=>Oe.toastId===g.id)||0,[w,g.id]),ll=be.useMemo(()=>{var Oe;return(Oe=g.closeButton)!=null?Oe:b},[g.closeButton,b]),zi=be.useMemo(()=>g.duration||V||M4,[g.duration,V]),Oa=be.useRef(0),Nr=be.useRef(0),aa=be.useRef(0),Qr=be.useRef(null),[xn,ia]=K.split("-"),cl=be.useMemo(()=>w.reduce((Oe,nt,rt)=>rt>=na?Oe:Oe+nt.height,0),[w,na]),$i=C4(),dl=g.invert||f,qi=Qt==="loading";Nr.current=be.useMemo(()=>na*me+cl,[na,cl]),be.useEffect(()=>{oe(!0)},[]),be.useLayoutEffect(()=>{if(!ee)return;let Oe=ws.current,nt=Oe.style.height;Oe.style.height="auto";let rt=Oe.getBoundingClientRect().height;Oe.style.height=nt,cs(rt),y(Ut=>Ut.find(Ht=>Ht.toastId===g.id)?Ut.map(Ht=>Ht.toastId===g.id?{...Ht,height:rt}:Ht):[{toastId:g.id,height:rt,position:g.position},...Ut])},[ee,g.title,g.description,y,g.id]);let Ds=be.useCallback(()=>{ve(!0),ct(Nr.current),y(Oe=>Oe.filter(nt=>nt.toastId!==g.id)),setTimeout(()=>{I(g)},O4)},[g,I,y,Nr]);be.useEffect(()=>{if(g.promise&&Qt==="loading"||g.duration===1/0||g.type==="loading")return;let Oe,nt=zi;return R||k||q&&$i?(()=>{if(aa.current<Oa.current){let rt=new Date().getTime()-Oa.current;nt=nt-rt}aa.current=new Date().getTime()})():nt!==1/0&&(Oa.current=new Date().getTime(),Oe=setTimeout(()=>{var rt;(rt=g.onAutoClose)==null||rt.call(g,g),Ds()},nt)),()=>clearTimeout(Oe)},[R,k,G,g,zi,Ds,g.promise,Qt,q,$i]),be.useEffect(()=>{let Oe=ws.current;if(Oe){let nt=Oe.getBoundingClientRect().height;return cs(nt),y(rt=>[{toastId:g.id,height:nt,position:g.position},...rt]),()=>y(rt=>rt.filter(Ut=>Ut.toastId!==g.id))}},[y,g.id]),be.useEffect(()=>{g.delete&&Ds()},[Ds,g.delete]);function Bi(){return H!=null&&H.loading?be.createElement("div",{className:"sonner-loader","data-visible":Qt==="loading"},H.loading):U?be.createElement("div",{className:"sonner-loader","data-visible":Qt==="loading"},U):be.createElement(j4,{visible:Qt==="loading"})}return be.createElement("li",{"aria-live":g.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ws,className:se(F,fn,L?.toast,(s=g?.classNames)==null?void 0:s.toast,L?.default,L?.[Qt],(r=g?.classNames)==null?void 0:r[Qt]),"data-sonner-toast":"","data-rich-colors":(a=g.richColors)!=null?a:T,"data-styled":!(g.jsx||g.unstyled||N),"data-mounted":ee,"data-promise":!!g.promise,"data-removed":xe,"data-visible":ol,"data-y-position":xn,"data-x-position":ia,"data-index":E,"data-front":Yr,"data-swiping":re,"data-dismissible":Ms,"data-type":Qt,"data-invert":dl,"data-swipe-out":Ee,"data-expanded":!!(R||G&&ee),style:{"--index":E,"--toasts-before":E,"--z-index":C.length-E,"--offset":`${xe?st:Nr.current}px`,"--initial-height":G?"auto":`${Dt}px`,...P,...g.style},onPointerDown:Oe=>{qi||!Ms||(Xr.current=new Date,ct(Nr.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(Ne(!0),Qr.current={x:Oe.clientX,y:Oe.clientY}))},onPointerUp:()=>{var Oe,nt,rt,Ut;if(Ee||!Ms)return;Qr.current=null;let Ht=Number(((Oe=ws.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),oa=new Date().getTime()-((nt=Xr.current)==null?void 0:nt.getTime()),ul=Math.abs(Ht)/oa;if(Math.abs(Ht)>=L4||ul>.11){ct(Nr.current),(rt=g.onDismiss)==null||rt.call(g,g),Ds(),Le(!0);return}(Ut=ws.current)==null||Ut.style.setProperty("--swipe-amount","0px"),Ne(!1)},onPointerMove:Oe=>{var nt;if(!Qr.current||!Ms)return;let rt=Oe.clientY-Qr.current.y,Ut=Oe.clientX-Qr.current.x,Ht=(xn==="top"?Math.min:Math.max)(0,rt),oa=Oe.pointerType==="touch"?10:2;Math.abs(Ht)>oa?(nt=ws.current)==null||nt.style.setProperty("--swipe-amount",`${rt}px`):Math.abs(Ut)>oa&&(Qr.current=null)}},ll&&!g.jsx?be.createElement("button",{"aria-label":le,"data-disabled":qi,"data-close-button":!0,onClick:qi||!Ms?()=>{}:()=>{var Oe;Ds(),(Oe=g.onDismiss)==null||Oe.call(g,g)},className:se(L?.closeButton,(o=g?.classNames)==null?void 0:o.closeButton)},be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},be.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),be.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,g.jsx||be.isValidElement(g.title)?g.jsx||g.title:be.createElement(be.Fragment,null,Qt||g.icon||g.promise?be.createElement("div",{"data-icon":"",className:se(L?.icon,(l=g?.classNames)==null?void 0:l.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Bi():null,g.type!=="loading"?g.icon||H?.[Qt]||g4(Qt):null):null,be.createElement("div",{"data-content":"",className:se(L?.content,(d=g?.classNames)==null?void 0:d.content)},be.createElement("div",{"data-title":"",className:se(L?.title,(u=g?.classNames)==null?void 0:u.title)},g.title),g.description?be.createElement("div",{"data-description":"",className:se(X,Fi,L?.description,(h=g?.classNames)==null?void 0:h.description)},g.description):null),be.isValidElement(g.cancel)?g.cancel:g.cancel&&Nc(g.cancel)?be.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||A,onClick:Oe=>{var nt,rt;Nc(g.cancel)&&Ms&&((rt=(nt=g.cancel).onClick)==null||rt.call(nt,Oe),Ds())},className:se(L?.cancelButton,(p=g?.classNames)==null?void 0:p.cancelButton)},g.cancel.label):null,be.isValidElement(g.action)?g.action:g.action&&Nc(g.action)?be.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||O,onClick:Oe=>{var nt,rt;Nc(g.action)&&(Oe.defaultPrevented||((rt=(nt=g.action).onClick)==null||rt.call(nt,Oe),Ds()))},className:se(L?.actionButton,(v=g?.classNames)==null?void 0:v.actionButton)},g.action.label):null))};function s0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var $4=t=>{let{invert:s,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:l,className:d,offset:u,theme:h="light",richColors:p,duration:v,style:f,visibleToasts:g=R4,toastOptions:N,dir:k=s0(),gap:y=I4,loadingIcon:_,icons:w,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:C,cn:R=F4}=t,[I,T]=be.useState([]),b=be.useMemo(()=>Array.from(new Set([r].concat(I.filter(q=>q.position).map(q=>q.position)))),[I,r]),[P,A]=be.useState([]),[O,F]=be.useState(!1),[X,V]=be.useState(!1),[K,me]=be.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=be.useRef(null),G=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=be.useRef(null),H=be.useRef(!1),le=be.useCallback(q=>{var se;(se=I.find(ee=>ee.id===q.id))!=null&&se.delete||Es.dismiss(q.id),T(ee=>ee.filter(({id:oe})=>oe!==q.id))},[I]);return be.useEffect(()=>Es.subscribe(q=>{if(q.dismiss){T(se=>se.map(ee=>ee.id===q.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{pv.flushSync(()=>{T(se=>{let ee=se.findIndex(oe=>oe.id===q.id);return ee!==-1?[...se.slice(0,ee),{...se[ee],...q},...se.slice(ee+1)]:[q,...se]})})})}),[]),be.useEffect(()=>{if(h!=="system"){me(h);return}h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?me("dark"):me("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:q})=>{me(q?"dark":"light")})},[h]),be.useEffect(()=>{I.length<=1&&F(!1)},[I]),be.useEffect(()=>{let q=se=>{var ee,oe;a.every(xe=>se[xe]||se.code===xe)&&(F(!0),(ee=U.current)==null||ee.focus()),se.code==="Escape"&&(document.activeElement===U.current||(oe=U.current)!=null&&oe.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[a]),be.useEffect(()=>{if(U.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,H.current=!1)}},[U.current]),I.length?be.createElement("section",{"aria-label":`${E} ${G}`,tabIndex:-1},b.map((q,se)=>{var ee;let[oe,xe]=q.split("-");return be.createElement("ol",{key:q,dir:k==="auto"?s0():k,tabIndex:-1,ref:U,className:d,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":oe,"data-x-position":xe,style:{"--front-toast-height":`${((ee=P[0])==null?void 0:ee.height)||0}px`,"--offset":typeof u=="number"?`${u}px`:u||A4,"--width":`${D4}px`,"--gap":`${y}px`,...f},onBlur:ve=>{H.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(H.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||H.current||(H.current=!0,L.current=ve.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{X||F(!1)},onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},I.filter(ve=>!ve.position&&se===0||ve.position===q).map((ve,re)=>{var Ne,Ee;return be.createElement(z4,{key:ve.id,icons:w,index:re,toast:ve,defaultRichColors:p,duration:(Ne=N?.duration)!=null?Ne:v,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:s,visibleToasts:g,closeButton:(Ee=N?.closeButton)!=null?Ee:l,interacting:X,position:q,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,removeToast:le,toasts:I.filter(Le=>Le.position==ve.position),heights:P.filter(Le=>Le.position==ve.position),setHeights:A,expandByDefault:o,gap:y,loadingIcon:_,expanded:O,pauseWhenPageIsHidden:C,cn:R})}))})):null};const q4=({...t})=>{const{theme:s="system"}=x4();return e.jsx($4,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var B4=$h.useId||(()=>{}),V4=0;function Or(t){const[s,r]=m.useState(B4());return Ft(()=>{r(a=>a??String(V4++))},[t]),s?`radix-${s}`:""}const U4=["top","right","bottom","left"],Hn=Math.min,Ts=Math.max,Gc=Math.round,wc=Math.floor,Wn=t=>({x:t,y:t}),H4={left:"right",right:"left",bottom:"top",top:"bottom"},W4={start:"end",end:"start"};function ah(t,s,r){return Ts(t,Hn(s,r))}function un(t,s){return typeof t=="function"?t(s):t}function mn(t){return t.split("-")[0]}function ki(t){return t.split("-")[1]}function Xh(t){return t==="x"?"y":"x"}function Yh(t){return t==="y"?"height":"width"}function Gn(t){return["top","bottom"].includes(mn(t))?"y":"x"}function Qh(t){return Xh(Gn(t))}function G4(t,s,r){r===void 0&&(r=!1);const a=ki(t),o=Qh(t),l=Yh(o);let d=o==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return s.reference[l]>s.floating[l]&&(d=Kc(d)),[d,Kc(d)]}function K4(t){const s=Kc(t);return[ih(t),s,ih(s)]}function ih(t){return t.replace(/start|end/g,s=>W4[s])}function X4(t,s,r){const a=["left","right"],o=["right","left"],l=["top","bottom"],d=["bottom","top"];switch(t){case"top":case"bottom":return r?s?o:a:s?a:o;case"left":case"right":return s?l:d;default:return[]}}function Y4(t,s,r,a){const o=ki(t);let l=X4(mn(t),r==="start",a);return o&&(l=l.map(d=>d+"-"+o),s&&(l=l.concat(l.map(ih)))),l}function Kc(t){return t.replace(/left|right|bottom|top/g,s=>H4[s])}function Q4(t){return{top:0,right:0,bottom:0,left:0,...t}}function sj(t){return typeof t!="number"?Q4(t):{top:t,right:t,bottom:t,left:t}}function Xc(t){const{x:s,y:r,width:a,height:o}=t;return{width:a,height:o,top:r,left:s,right:s+a,bottom:r+o,x:s,y:r}}function r0(t,s,r){let{reference:a,floating:o}=t;const l=Gn(s),d=Qh(s),u=Yh(d),h=mn(s),p=l==="y",v=a.x+a.width/2-o.width/2,f=a.y+a.height/2-o.height/2,g=a[u]/2-o[u]/2;let N;switch(h){case"top":N={x:v,y:a.y-o.height};break;case"bottom":N={x:v,y:a.y+a.height};break;case"right":N={x:a.x+a.width,y:f};break;case"left":N={x:a.x-o.width,y:f};break;default:N={x:a.x,y:a.y}}switch(ki(s)){case"start":N[d]-=g*(r&&p?-1:1);break;case"end":N[d]+=g*(r&&p?-1:1);break}return N}const J4=async(t,s,r)=>{const{placement:a="bottom",strategy:o="absolute",middleware:l=[],platform:d}=r,u=l.filter(Boolean),h=await(d.isRTL==null?void 0:d.isRTL(s));let p=await d.getElementRects({reference:t,floating:s,strategy:o}),{x:v,y:f}=r0(p,a,h),g=a,N={},k=0;for(let y=0;y<u.length;y++){const{name:_,fn:w}=u[y],{x:E,y:C,data:R,reset:I}=await w({x:v,y:f,initialPlacement:a,placement:g,strategy:o,middlewareData:N,rects:p,platform:d,elements:{reference:t,floating:s}});v=E??v,f=C??f,N={...N,[_]:{...N[_],...R}},I&&k<=50&&(k++,typeof I=="object"&&(I.placement&&(g=I.placement),I.rects&&(p=I.rects===!0?await d.getElementRects({reference:t,floating:s,strategy:o}):I.rects),{x:v,y:f}=r0(p,g,h)),y=-1)}return{x:v,y:f,placement:g,strategy:o,middlewareData:N}};async function zo(t,s){var r;s===void 0&&(s={});const{x:a,y:o,platform:l,rects:d,elements:u,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:f="floating",altBoundary:g=!1,padding:N=0}=un(s,t),k=sj(N),_=u[g?f==="floating"?"reference":"floating":f],w=Xc(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(_)))==null||r?_:_.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:p,rootBoundary:v,strategy:h})),E=f==="floating"?{x:a,y:o,width:d.floating.width,height:d.floating.height}:d.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),R=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},I=Xc(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:E,offsetParent:C,strategy:h}):E);return{top:(w.top-I.top+k.top)/R.y,bottom:(I.bottom-w.bottom+k.bottom)/R.y,left:(w.left-I.left+k.left)/R.x,right:(I.right-w.right+k.right)/R.x}}const Z4=t=>({name:"arrow",options:t,async fn(s){const{x:r,y:a,placement:o,rects:l,platform:d,elements:u,middlewareData:h}=s,{element:p,padding:v=0}=un(t,s)||{};if(p==null)return{};const f=sj(v),g={x:r,y:a},N=Qh(o),k=Yh(N),y=await d.getDimensions(p),_=N==="y",w=_?"top":"left",E=_?"bottom":"right",C=_?"clientHeight":"clientWidth",R=l.reference[k]+l.reference[N]-g[N]-l.floating[k],I=g[N]-l.reference[N],T=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p));let b=T?T[C]:0;(!b||!await(d.isElement==null?void 0:d.isElement(T)))&&(b=u.floating[C]||l.floating[k]);const P=R/2-I/2,A=b/2-y[k]/2-1,O=Hn(f[w],A),F=Hn(f[E],A),X=O,V=b-y[k]-F,K=b/2-y[k]/2+P,me=ah(X,K,V),U=!h.arrow&&ki(o)!=null&&K!==me&&l.reference[k]/2-(K<X?O:F)-y[k]/2<0,G=U?K<X?K-X:K-V:0;return{[N]:g[N]+G,data:{[N]:me,centerOffset:K-me-G,...U&&{alignmentOffset:G}},reset:U}}}),e_=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var r,a;const{placement:o,middlewareData:l,rects:d,initialPlacement:u,platform:h,elements:p}=s,{mainAxis:v=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:y=!0,..._}=un(t,s);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const w=mn(o),E=Gn(u),C=mn(u)===u,R=await(h.isRTL==null?void 0:h.isRTL(p.floating)),I=g||(C||!y?[Kc(u)]:K4(u)),T=k!=="none";!g&&T&&I.push(...Y4(u,y,k,R));const b=[u,...I],P=await zo(s,_),A=[];let O=((a=l.flip)==null?void 0:a.overflows)||[];if(v&&A.push(P[w]),f){const K=G4(o,d,R);A.push(P[K[0]],P[K[1]])}if(O=[...O,{placement:o,overflows:A}],!A.every(K=>K<=0)){var F,X;const K=(((F=l.flip)==null?void 0:F.index)||0)+1,me=b[K];if(me)return{data:{index:K,overflows:O},reset:{placement:me}};let U=(X=O.filter(G=>G.overflows[0]<=0).sort((G,L)=>G.overflows[1]-L.overflows[1])[0])==null?void 0:X.placement;if(!U)switch(N){case"bestFit":{var V;const G=(V=O.filter(L=>{if(T){const H=Gn(L.placement);return H===E||H==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(H=>H>0).reduce((H,le)=>H+le,0)]).sort((L,H)=>L[1]-H[1])[0])==null?void 0:V[0];G&&(U=G);break}case"initialPlacement":U=u;break}if(o!==U)return{reset:{placement:U}}}return{}}}};function n0(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function a0(t){return U4.some(s=>t[s]>=0)}const t_=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:r}=s,{strategy:a="referenceHidden",...o}=un(t,s);switch(a){case"referenceHidden":{const l=await zo(s,{...o,elementContext:"reference"}),d=n0(l,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:a0(d)}}}case"escaped":{const l=await zo(s,{...o,altBoundary:!0}),d=n0(l,r.floating);return{data:{escapedOffsets:d,escaped:a0(d)}}}default:return{}}}}};async function s_(t,s){const{placement:r,platform:a,elements:o}=t,l=await(a.isRTL==null?void 0:a.isRTL(o.floating)),d=mn(r),u=ki(r),h=Gn(r)==="y",p=["left","top"].includes(d)?-1:1,v=l&&h?-1:1,f=un(s,t);let{mainAxis:g,crossAxis:N,alignmentAxis:k}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return u&&typeof k=="number"&&(N=u==="end"?k*-1:k),h?{x:N*v,y:g*p}:{x:g*p,y:N*v}}const r_=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var r,a;const{x:o,y:l,placement:d,middlewareData:u}=s,h=await s_(s,t);return d===((r=u.offset)==null?void 0:r.placement)&&(a=u.arrow)!=null&&a.alignmentOffset?{}:{x:o+h.x,y:l+h.y,data:{...h,placement:d}}}}},n_=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:r,y:a,placement:o}=s,{mainAxis:l=!0,crossAxis:d=!1,limiter:u={fn:_=>{let{x:w,y:E}=_;return{x:w,y:E}}},...h}=un(t,s),p={x:r,y:a},v=await zo(s,h),f=Gn(mn(o)),g=Xh(f);let N=p[g],k=p[f];if(l){const _=g==="y"?"top":"left",w=g==="y"?"bottom":"right",E=N+v[_],C=N-v[w];N=ah(E,N,C)}if(d){const _=f==="y"?"top":"left",w=f==="y"?"bottom":"right",E=k+v[_],C=k-v[w];k=ah(E,k,C)}const y=u.fn({...s,[g]:N,[f]:k});return{...y,data:{x:y.x-r,y:y.y-a,enabled:{[g]:l,[f]:d}}}}}},a_=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:r,y:a,placement:o,rects:l,middlewareData:d}=s,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=un(t,s),v={x:r,y:a},f=Gn(o),g=Xh(f);let N=v[g],k=v[f];const y=un(u,s),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(h){const C=g==="y"?"height":"width",R=l.reference[g]-l.floating[C]+_.mainAxis,I=l.reference[g]+l.reference[C]-_.mainAxis;N<R?N=R:N>I&&(N=I)}if(p){var w,E;const C=g==="y"?"width":"height",R=["top","left"].includes(mn(o)),I=l.reference[f]-l.floating[C]+(R&&((w=d.offset)==null?void 0:w[f])||0)+(R?0:_.crossAxis),T=l.reference[f]+l.reference[C]+(R?0:((E=d.offset)==null?void 0:E[f])||0)-(R?_.crossAxis:0);k<I?k=I:k>T&&(k=T)}return{[g]:N,[f]:k}}}},i_=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var r,a;const{placement:o,rects:l,platform:d,elements:u}=s,{apply:h=()=>{},...p}=un(t,s),v=await zo(s,p),f=mn(o),g=ki(o),N=Gn(o)==="y",{width:k,height:y}=l.floating;let _,w;f==="top"||f==="bottom"?(_=f,w=g===(await(d.isRTL==null?void 0:d.isRTL(u.floating))?"start":"end")?"left":"right"):(w=f,_=g==="end"?"top":"bottom");const E=y-v.top-v.bottom,C=k-v.left-v.right,R=Hn(y-v[_],E),I=Hn(k-v[w],C),T=!s.middlewareData.shift;let b=R,P=I;if((r=s.middlewareData.shift)!=null&&r.enabled.x&&(P=C),(a=s.middlewareData.shift)!=null&&a.enabled.y&&(b=E),T&&!g){const O=Ts(v.left,0),F=Ts(v.right,0),X=Ts(v.top,0),V=Ts(v.bottom,0);N?P=k-2*(O!==0||F!==0?O+F:Ts(v.left,v.right)):b=y-2*(X!==0||V!==0?X+V:Ts(v.top,v.bottom))}await h({...s,availableWidth:P,availableHeight:b});const A=await d.getDimensions(u.floating);return k!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function pd(){return typeof window<"u"}function Ei(t){return rj(t)?(t.nodeName||"").toLowerCase():"#document"}function As(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function Hr(t){var s;return(s=(rj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function rj(t){return pd()?t instanceof Node||t instanceof As(t).Node:!1}function vr(t){return pd()?t instanceof Element||t instanceof As(t).Element:!1}function Br(t){return pd()?t instanceof HTMLElement||t instanceof As(t).HTMLElement:!1}function i0(t){return!pd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof As(t).ShadowRoot}function el(t){const{overflow:s,overflowX:r,overflowY:a,display:o}=jr(t);return/auto|scroll|overlay|hidden|clip/.test(s+a+r)&&!["inline","contents"].includes(o)}function o_(t){return["table","td","th"].includes(Ei(t))}function fd(t){return[":popover-open",":modal"].some(s=>{try{return t.matches(s)}catch{return!1}})}function Jh(t){const s=Zh(),r=vr(t)?jr(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!s&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!s&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(r.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(r.contain||"").includes(a))}function l_(t){let s=Kn(t);for(;Br(s)&&!yi(s);){if(Jh(s))return s;if(fd(s))return null;s=Kn(s)}return null}function Zh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function yi(t){return["html","body","#document"].includes(Ei(t))}function jr(t){return As(t).getComputedStyle(t)}function xd(t){return vr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Kn(t){if(Ei(t)==="html")return t;const s=t.assignedSlot||t.parentNode||i0(t)&&t.host||Hr(t);return i0(s)?s.host:s}function nj(t){const s=Kn(t);return yi(s)?t.ownerDocument?t.ownerDocument.body:t.body:Br(s)&&el(s)?s:nj(s)}function $o(t,s,r){var a;s===void 0&&(s=[]),r===void 0&&(r=!0);const o=nj(t),l=o===((a=t.ownerDocument)==null?void 0:a.body),d=As(o);if(l){const u=oh(d);return s.concat(d,d.visualViewport||[],el(o)?o:[],u&&r?$o(u):[])}return s.concat(o,$o(o,[],r))}function oh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function aj(t){const s=jr(t);let r=parseFloat(s.width)||0,a=parseFloat(s.height)||0;const o=Br(t),l=o?t.offsetWidth:r,d=o?t.offsetHeight:a,u=Gc(r)!==l||Gc(a)!==d;return u&&(r=l,a=d),{width:r,height:a,$:u}}function ep(t){return vr(t)?t:t.contextElement}function hi(t){const s=ep(t);if(!Br(s))return Wn(1);const r=s.getBoundingClientRect(),{width:a,height:o,$:l}=aj(s);let d=(l?Gc(r.width):r.width)/a,u=(l?Gc(r.height):r.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!u||!Number.isFinite(u))&&(u=1),{x:d,y:u}}const c_=Wn(0);function ij(t){const s=As(t);return!Zh()||!s.visualViewport?c_:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function d_(t,s,r){return s===void 0&&(s=!1),!r||s&&r!==As(t)?!1:s}function _a(t,s,r,a){s===void 0&&(s=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),l=ep(t);let d=Wn(1);s&&(a?vr(a)&&(d=hi(a)):d=hi(t));const u=d_(l,r,a)?ij(l):Wn(0);let h=(o.left+u.x)/d.x,p=(o.top+u.y)/d.y,v=o.width/d.x,f=o.height/d.y;if(l){const g=As(l),N=a&&vr(a)?As(a):a;let k=g,y=oh(k);for(;y&&a&&N!==k;){const _=hi(y),w=y.getBoundingClientRect(),E=jr(y),C=w.left+(y.clientLeft+parseFloat(E.paddingLeft))*_.x,R=w.top+(y.clientTop+parseFloat(E.paddingTop))*_.y;h*=_.x,p*=_.y,v*=_.x,f*=_.y,h+=C,p+=R,k=As(y),y=oh(k)}}return Xc({width:v,height:f,x:h,y:p})}function u_(t){let{elements:s,rect:r,offsetParent:a,strategy:o}=t;const l=o==="fixed",d=Hr(a),u=s?fd(s.floating):!1;if(a===d||u&&l)return r;let h={scrollLeft:0,scrollTop:0},p=Wn(1);const v=Wn(0),f=Br(a);if((f||!f&&!l)&&((Ei(a)!=="body"||el(d))&&(h=xd(a)),Br(a))){const g=_a(a);p=hi(a),v.x=g.x+a.clientLeft,v.y=g.y+a.clientTop}return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-h.scrollLeft*p.x+v.x,y:r.y*p.y-h.scrollTop*p.y+v.y}}function m_(t){return Array.from(t.getClientRects())}function lh(t,s){const r=xd(t).scrollLeft;return s?s.left+r:_a(Hr(t)).left+r}function h_(t){const s=Hr(t),r=xd(t),a=t.ownerDocument.body,o=Ts(s.scrollWidth,s.clientWidth,a.scrollWidth,a.clientWidth),l=Ts(s.scrollHeight,s.clientHeight,a.scrollHeight,a.clientHeight);let d=-r.scrollLeft+lh(t);const u=-r.scrollTop;return jr(a).direction==="rtl"&&(d+=Ts(s.clientWidth,a.clientWidth)-o),{width:o,height:l,x:d,y:u}}function p_(t,s){const r=As(t),a=Hr(t),o=r.visualViewport;let l=a.clientWidth,d=a.clientHeight,u=0,h=0;if(o){l=o.width,d=o.height;const p=Zh();(!p||p&&s==="fixed")&&(u=o.offsetLeft,h=o.offsetTop)}return{width:l,height:d,x:u,y:h}}function f_(t,s){const r=_a(t,!0,s==="fixed"),a=r.top+t.clientTop,o=r.left+t.clientLeft,l=Br(t)?hi(t):Wn(1),d=t.clientWidth*l.x,u=t.clientHeight*l.y,h=o*l.x,p=a*l.y;return{width:d,height:u,x:h,y:p}}function o0(t,s,r){let a;if(s==="viewport")a=p_(t,r);else if(s==="document")a=h_(Hr(t));else if(vr(s))a=f_(s,r);else{const o=ij(t);a={...s,x:s.x-o.x,y:s.y-o.y}}return Xc(a)}function oj(t,s){const r=Kn(t);return r===s||!vr(r)||yi(r)?!1:jr(r).position==="fixed"||oj(r,s)}function x_(t,s){const r=s.get(t);if(r)return r;let a=$o(t,[],!1).filter(u=>vr(u)&&Ei(u)!=="body"),o=null;const l=jr(t).position==="fixed";let d=l?Kn(t):t;for(;vr(d)&&!yi(d);){const u=jr(d),h=Jh(d);!h&&u.position==="fixed"&&(o=null),(l?!h&&!o:!h&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||el(d)&&!h&&oj(t,d))?a=a.filter(v=>v!==d):o=u,d=Kn(d)}return s.set(t,a),a}function g_(t){let{element:s,boundary:r,rootBoundary:a,strategy:o}=t;const d=[...r==="clippingAncestors"?fd(s)?[]:x_(s,this._c):[].concat(r),a],u=d[0],h=d.reduce((p,v)=>{const f=o0(s,v,o);return p.top=Ts(f.top,p.top),p.right=Hn(f.right,p.right),p.bottom=Hn(f.bottom,p.bottom),p.left=Ts(f.left,p.left),p},o0(s,u,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function v_(t){const{width:s,height:r}=aj(t);return{width:s,height:r}}function j_(t,s,r){const a=Br(s),o=Hr(s),l=r==="fixed",d=_a(t,!0,l,s);let u={scrollLeft:0,scrollTop:0};const h=Wn(0);if(a||!a&&!l)if((Ei(s)!=="body"||el(o))&&(u=xd(s)),a){const N=_a(s,!0,l,s);h.x=N.x+s.clientLeft,h.y=N.y+s.clientTop}else o&&(h.x=lh(o));let p=0,v=0;if(o&&!a&&!l){const N=o.getBoundingClientRect();v=N.top+u.scrollTop,p=N.left+u.scrollLeft-lh(o,N)}const f=d.left+u.scrollLeft-h.x-p,g=d.top+u.scrollTop-h.y-v;return{x:f,y:g,width:d.width,height:d.height}}function Mm(t){return jr(t).position==="static"}function l0(t,s){if(!Br(t)||jr(t).position==="fixed")return null;if(s)return s(t);let r=t.offsetParent;return Hr(t)===r&&(r=r.ownerDocument.body),r}function lj(t,s){const r=As(t);if(fd(t))return r;if(!Br(t)){let o=Kn(t);for(;o&&!yi(o);){if(vr(o)&&!Mm(o))return o;o=Kn(o)}return r}let a=l0(t,s);for(;a&&o_(a)&&Mm(a);)a=l0(a,s);return a&&yi(a)&&Mm(a)&&!Jh(a)?r:a||l_(t)||r}const y_=async function(t){const s=this.getOffsetParent||lj,r=this.getDimensions,a=await r(t.floating);return{reference:j_(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function b_(t){return jr(t).direction==="rtl"}const N_={convertOffsetParentRelativeRectToViewportRelativeRect:u_,getDocumentElement:Hr,getClippingRect:g_,getOffsetParent:lj,getElementRects:y_,getClientRects:m_,getDimensions:v_,getScale:hi,isElement:vr,isRTL:b_};function w_(t,s){let r=null,a;const o=Hr(t);function l(){var u;clearTimeout(a),(u=r)==null||u.disconnect(),r=null}function d(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),l();const{left:p,top:v,width:f,height:g}=t.getBoundingClientRect();if(u||s(),!f||!g)return;const N=wc(v),k=wc(o.clientWidth-(p+f)),y=wc(o.clientHeight-(v+g)),_=wc(p),E={rootMargin:-N+"px "+-k+"px "+-y+"px "+-_+"px",threshold:Ts(0,Hn(1,h))||1};let C=!0;function R(I){const T=I[0].intersectionRatio;if(T!==h){if(!C)return d();T?d(!1,T):a=setTimeout(()=>{d(!1,1e-7)},1e3)}C=!1}try{r=new IntersectionObserver(R,{...E,root:o.ownerDocument})}catch{r=new IntersectionObserver(R,E)}r.observe(t)}return d(!0),l}function C_(t,s,r,a){a===void 0&&(a={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=a,p=ep(t),v=o||l?[...p?$o(p):[],...$o(s)]:[];v.forEach(w=>{o&&w.addEventListener("scroll",r,{passive:!0}),l&&w.addEventListener("resize",r)});const f=p&&u?w_(p,r):null;let g=-1,N=null;d&&(N=new ResizeObserver(w=>{let[E]=w;E&&E.target===p&&N&&(N.unobserve(s),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=N)==null||C.observe(s)})),r()}),p&&!h&&N.observe(p),N.observe(s));let k,y=h?_a(t):null;h&&_();function _(){const w=_a(t);y&&(w.x!==y.x||w.y!==y.y||w.width!==y.width||w.height!==y.height)&&r(),y=w,k=requestAnimationFrame(_)}return r(),()=>{var w;v.forEach(E=>{o&&E.removeEventListener("scroll",r),l&&E.removeEventListener("resize",r)}),f?.(),(w=N)==null||w.disconnect(),N=null,h&&cancelAnimationFrame(k)}}const S_=r_,__=n_,k_=e_,E_=i_,P_=t_,c0=Z4,T_=a_,R_=(t,s,r)=>{const a=new Map,o={platform:N_,...r},l={...o.platform,_c:a};return J4(t,s,{...o,platform:l})};var Lc=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Yc(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let r,a,o;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==s.length)return!1;for(a=r;a--!==0;)if(!Yc(t[a],s[a]))return!1;return!0}if(o=Object.keys(t),r=o.length,r!==Object.keys(s).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(s,o[a]))return!1;for(a=r;a--!==0;){const l=o[a];if(!(l==="_owner"&&t.$$typeof)&&!Yc(t[l],s[l]))return!1}return!0}return t!==t&&s!==s}function cj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function d0(t,s){const r=cj(t);return Math.round(s*r)/r}function Dm(t){const s=m.useRef(t);return Lc(()=>{s.current=t}),s}function A_(t){t===void 0&&(t={});const{placement:s="bottom",strategy:r="absolute",middleware:a=[],platform:o,elements:{reference:l,floating:d}={},transform:u=!0,whileElementsMounted:h,open:p}=t,[v,f]=m.useState({x:0,y:0,strategy:r,placement:s,middlewareData:{},isPositioned:!1}),[g,N]=m.useState(a);Yc(g,a)||N(a);const[k,y]=m.useState(null),[_,w]=m.useState(null),E=m.useCallback(L=>{L!==T.current&&(T.current=L,y(L))},[]),C=m.useCallback(L=>{L!==b.current&&(b.current=L,w(L))},[]),R=l||k,I=d||_,T=m.useRef(null),b=m.useRef(null),P=m.useRef(v),A=h!=null,O=Dm(h),F=Dm(o),X=Dm(p),V=m.useCallback(()=>{if(!T.current||!b.current)return;const L={placement:s,strategy:r,middleware:g};F.current&&(L.platform=F.current),R_(T.current,b.current,L).then(H=>{const le={...H,isPositioned:X.current!==!1};K.current&&!Yc(P.current,le)&&(P.current=le,wi.flushSync(()=>{f(le)}))})},[g,s,r,F,X]);Lc(()=>{p===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[p]);const K=m.useRef(!1);Lc(()=>(K.current=!0,()=>{K.current=!1}),[]),Lc(()=>{if(R&&(T.current=R),I&&(b.current=I),R&&I){if(O.current)return O.current(R,I,V);V()}},[R,I,V,O,A]);const me=m.useMemo(()=>({reference:T,floating:b,setReference:E,setFloating:C}),[E,C]),U=m.useMemo(()=>({reference:R,floating:I}),[R,I]),G=m.useMemo(()=>{const L={position:r,left:0,top:0};if(!U.floating)return L;const H=d0(U.floating,v.x),le=d0(U.floating,v.y);return u?{...L,transform:"translate("+H+"px, "+le+"px)",...cj(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:le}},[r,u,U.floating,v.x,v.y]);return m.useMemo(()=>({...v,update:V,refs:me,elements:U,floatingStyles:G}),[v,V,me,U,G])}const M_=t=>{function s(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:a,padding:o}=typeof t=="function"?t(r):t;return a&&s(a)?a.current!=null?c0({element:a.current,padding:o}).fn(r):{}:a?c0({element:a,padding:o}).fn(r):{}}}},D_=(t,s)=>({...S_(t),options:[t,s]}),I_=(t,s)=>({...__(t),options:[t,s]}),L_=(t,s)=>({...T_(t),options:[t,s]}),O_=(t,s)=>({...k_(t),options:[t,s]}),F_=(t,s)=>({...E_(t),options:[t,s]}),z_=(t,s)=>({...P_(t),options:[t,s]}),$_=(t,s)=>({...M_(t),options:[t,s]});var q_="Arrow",dj=m.forwardRef((t,s)=>{const{children:r,width:a=10,height:o=5,...l}=t;return e.jsx(Te.svg,{...l,ref:s,width:a,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});dj.displayName=q_;var B_=dj;function V_(t,s=[]){let r=[];function a(l,d){const u=m.createContext(d),h=r.length;r=[...r,d];function p(f){const{scope:g,children:N,...k}=f,y=g?.[t][h]||u,_=m.useMemo(()=>k,Object.values(k));return e.jsx(y.Provider,{value:_,children:N})}function v(f,g){const N=g?.[t][h]||u,k=m.useContext(N);if(k)return k;if(d!==void 0)return d;throw new Error(`\`${f}\` must be used within \`${l}\``)}return p.displayName=l+"Provider",[p,v]}const o=()=>{const l=r.map(d=>m.createContext(d));return function(u){const h=u?.[t]||l;return m.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return o.scopeName=t,[a,U_(o,...s)]}function U_(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const a=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const d=a.reduce((u,{useScope:h,scopeName:p})=>{const f=h(l)[`__scope${p}`];return{...u,...f}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:d}),[d])}};return r.scopeName=s.scopeName,r}function uj(t){const[s,r]=m.useState(void 0);return Ft(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let d,u;if("borderBoxSize"in l){const h=l.borderBoxSize,p=Array.isArray(h)?h[0]:h;d=p.inlineSize,u=p.blockSize}else d=t.offsetWidth,u=t.offsetHeight;r({width:d,height:u})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else r(void 0)},[t]),s}var tp="Popper",[mj,Pi]=V_(tp),[H_,hj]=mj(tp),pj=t=>{const{__scopePopper:s,children:r}=t,[a,o]=m.useState(null);return e.jsx(H_,{scope:s,anchor:a,onAnchorChange:o,children:r})};pj.displayName=tp;var fj="PopperAnchor",xj=m.forwardRef((t,s)=>{const{__scopePopper:r,virtualRef:a,...o}=t,l=hj(fj,r),d=m.useRef(null),u=Be(s,d);return m.useEffect(()=>{l.onAnchorChange(a?.current||d.current)}),a?null:e.jsx(Te.div,{...o,ref:u})});xj.displayName=fj;var sp="PopperContent",[W_,G_]=mj(sp),gj=m.forwardRef((t,s)=>{const{__scopePopper:r,side:a="bottom",sideOffset:o=0,align:l="center",alignOffset:d=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:N="optimized",onPlaced:k,...y}=t,_=hj(sp,r),[w,E]=m.useState(null),C=Be(s,re=>E(re)),[R,I]=m.useState(null),T=uj(R),b=T?.width??0,P=T?.height??0,A=a+(l!=="center"?"-"+l:""),O=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},F=Array.isArray(p)?p:[p],X=F.length>0,V={padding:O,boundary:F.filter(X_),altBoundary:X},{refs:K,floatingStyles:me,placement:U,isPositioned:G,middlewareData:L}=A_({strategy:"fixed",placement:A,whileElementsMounted:(...re)=>C_(...re,{animationFrame:N==="always"}),elements:{reference:_.anchor},middleware:[D_({mainAxis:o+P,alignmentAxis:d}),h&&I_({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?L_():void 0,...V}),h&&O_({...V}),F_({...V,apply:({elements:re,rects:Ne,availableWidth:Ee,availableHeight:Le})=>{const{width:st,height:ct}=Ne.reference,Dt=re.floating.style;Dt.setProperty("--radix-popper-available-width",`${Ee}px`),Dt.setProperty("--radix-popper-available-height",`${Le}px`),Dt.setProperty("--radix-popper-anchor-width",`${st}px`),Dt.setProperty("--radix-popper-anchor-height",`${ct}px`)}}),R&&$_({element:R,padding:u}),Y_({arrowWidth:b,arrowHeight:P}),g&&z_({strategy:"referenceHidden",...V})]}),[H,le]=yj(U),q=yt(k);Ft(()=>{G&&q?.()},[G,q]);const se=L.arrow?.x,ee=L.arrow?.y,oe=L.arrow?.centerOffset!==0,[xe,ve]=m.useState();return Ft(()=>{w&&ve(window.getComputedStyle(w).zIndex)},[w]),e.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:G?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(W_,{scope:r,placedSide:H,onArrowChange:I,arrowX:se,arrowY:ee,shouldHideArrow:oe,children:e.jsx(Te.div,{"data-side":H,"data-align":le,...y,ref:C,style:{...y.style,animation:G?void 0:"none"}})})})});gj.displayName=sp;var vj="PopperArrow",K_={top:"bottom",right:"left",bottom:"top",left:"right"},jj=m.forwardRef(function(s,r){const{__scopePopper:a,...o}=s,l=G_(vj,a),d=K_[l.placedSide];return e.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:e.jsx(B_,{...o,ref:r,style:{...o.style,display:"block"}})})});jj.displayName=vj;function X_(t){return t!==null}var Y_=t=>({name:"transformOrigin",options:t,fn(s){const{placement:r,rects:a,middlewareData:o}=s,d=o.arrow?.centerOffset!==0,u=d?0:t.arrowWidth,h=d?0:t.arrowHeight,[p,v]=yj(r),f={start:"0%",center:"50%",end:"100%"}[v],g=(o.arrow?.x??0)+u/2,N=(o.arrow?.y??0)+h/2;let k="",y="";return p==="bottom"?(k=d?f:`${g}px`,y=`${-h}px`):p==="top"?(k=d?f:`${g}px`,y=`${a.floating.height+h}px`):p==="right"?(k=`${-h}px`,y=d?f:`${N}px`):p==="left"&&(k=`${a.floating.width+h}px`,y=d?f:`${N}px`),{data:{x:k,y}}}});function yj(t){const[s,r="center"]=t.split("-");return[s,r]}var bj=pj,rp=xj,np=gj,ap=jj,[gd]=Ur("Tooltip",[Pi]),ip=Pi(),Nj="TooltipProvider",Q_=700,u0="tooltip.open",[J_,wj]=gd(Nj),Cj=t=>{const{__scopeTooltip:s,delayDuration:r=Q_,skipDelayDuration:a=300,disableHoverableContent:o=!1,children:l}=t,[d,u]=m.useState(!0),h=m.useRef(!1),p=m.useRef(0);return m.useEffect(()=>{const v=p.current;return()=>window.clearTimeout(v)},[]),e.jsx(J_,{scope:s,isOpenDelayed:d,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(p.current),u(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>u(!0),a)},[a]),isPointerInTransitRef:h,onPointerInTransitChange:m.useCallback(v=>{h.current=v},[]),disableHoverableContent:o,children:l})};Cj.displayName=Nj;var Sj="Tooltip",[vI,vd]=gd(Sj),ch="TooltipTrigger",Z_=m.forwardRef((t,s)=>{const{__scopeTooltip:r,...a}=t,o=vd(ch,r),l=wj(ch,r),d=ip(r),u=m.useRef(null),h=Be(s,u,o.onTriggerChange),p=m.useRef(!1),v=m.useRef(!1),f=m.useCallback(()=>p.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),e.jsx(rp,{asChild:!0,...d,children:e.jsx(Te.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...a,ref:h,onPointerMove:ye(t.onPointerMove,g=>{g.pointerType!=="touch"&&!v.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),v.current=!0)}),onPointerLeave:ye(t.onPointerLeave,()=>{o.onTriggerLeave(),v.current=!1}),onPointerDown:ye(t.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ye(t.onFocus,()=>{p.current||o.onOpen()}),onBlur:ye(t.onBlur,o.onClose),onClick:ye(t.onClick,o.onClose)})})});Z_.displayName=ch;var ek="TooltipPortal",[jI,tk]=gd(ek,{forceMount:void 0}),bi="TooltipContent",_j=m.forwardRef((t,s)=>{const r=tk(bi,t.__scopeTooltip),{forceMount:a=r.forceMount,side:o="top",...l}=t,d=vd(bi,t.__scopeTooltip);return e.jsx(is,{present:a||d.open,children:d.disableHoverableContent?e.jsx(kj,{side:o,...l,ref:s}):e.jsx(sk,{side:o,...l,ref:s})})}),sk=m.forwardRef((t,s)=>{const r=vd(bi,t.__scopeTooltip),a=wj(bi,t.__scopeTooltip),o=m.useRef(null),l=Be(s,o),[d,u]=m.useState(null),{trigger:h,onClose:p}=r,v=o.current,{onPointerInTransitChange:f}=a,g=m.useCallback(()=>{u(null),f(!1)},[f]),N=m.useCallback((k,y)=>{const _=k.currentTarget,w={x:k.clientX,y:k.clientY},E=ik(w,_.getBoundingClientRect()),C=ok(w,E),R=lk(y.getBoundingClientRect()),I=dk([...C,...R]);u(I),f(!0)},[f]);return m.useEffect(()=>()=>g(),[g]),m.useEffect(()=>{if(h&&v){const k=_=>N(_,v),y=_=>N(_,h);return h.addEventListener("pointerleave",k),v.addEventListener("pointerleave",y),()=>{h.removeEventListener("pointerleave",k),v.removeEventListener("pointerleave",y)}}},[h,v,N,g]),m.useEffect(()=>{if(d){const k=y=>{const _=y.target,w={x:y.clientX,y:y.clientY},E=h?.contains(_)||v?.contains(_),C=!ck(w,d);E?g():C&&(g(),p())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[h,v,d,p,g]),e.jsx(kj,{...t,ref:l})}),[rk,nk]=gd(Sj,{isInside:!1}),kj=m.forwardRef((t,s)=>{const{__scopeTooltip:r,children:a,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:d,...u}=t,h=vd(bi,r),p=ip(r),{onClose:v}=h;return m.useEffect(()=>(document.addEventListener(u0,v),()=>document.removeEventListener(u0,v)),[v]),m.useEffect(()=>{if(h.trigger){const f=g=>{g.target?.contains(h.trigger)&&v()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[h.trigger,v]),e.jsx(Ci,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:f=>f.preventDefault(),onDismiss:v,children:e.jsxs(np,{"data-state":h.stateAttribute,...p,...u,ref:s,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(fv,{children:a}),e.jsx(rk,{scope:r,isInside:!0,children:e.jsx(zC,{id:h.contentId,role:"tooltip",children:o||a})})]})})});_j.displayName=bi;var Ej="TooltipArrow",ak=m.forwardRef((t,s)=>{const{__scopeTooltip:r,...a}=t,o=ip(r);return nk(Ej,r).isInside?null:e.jsx(ap,{...o,...a,ref:s})});ak.displayName=Ej;function ik(t,s){const r=Math.abs(s.top-t.y),a=Math.abs(s.bottom-t.y),o=Math.abs(s.right-t.x),l=Math.abs(s.left-t.x);switch(Math.min(r,a,o,l)){case l:return"left";case o:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function ok(t,s,r=5){const a=[];switch(s){case"top":a.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":a.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":a.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":a.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return a}function lk(t){const{top:s,right:r,bottom:a,left:o}=t;return[{x:o,y:s},{x:r,y:s},{x:r,y:a},{x:o,y:a}]}function ck(t,s){const{x:r,y:a}=t;let o=!1;for(let l=0,d=s.length-1;l<s.length;d=l++){const u=s[l].x,h=s[l].y,p=s[d].x,v=s[d].y;h>a!=v>a&&r<(p-u)*(a-h)/(v-h)+u&&(o=!o)}return o}function dk(t){const s=t.slice();return s.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),uk(s)}function uk(t){if(t.length<=1)return t.slice();const s=[];for(let a=0;a<t.length;a++){const o=t[a];for(;s.length>=2;){const l=s[s.length-1],d=s[s.length-2];if((l.x-d.x)*(o.y-d.y)>=(l.y-d.y)*(o.x-d.x))s.pop();else break}s.push(o)}s.pop();const r=[];for(let a=t.length-1;a>=0;a--){const o=t[a];for(;r.length>=2;){const l=r[r.length-1],d=r[r.length-2];if((l.x-d.x)*(o.y-d.y)>=(l.y-d.y)*(o.x-d.x))r.pop();else break}r.push(o)}return r.pop(),s.length===1&&r.length===1&&s[0].x===r[0].x&&s[0].y===r[0].y?s:s.concat(r)}var mk=Cj,Pj=_j;const hk=mk,pk=m.forwardRef(({className:t,sideOffset:s=4,...r},a)=>e.jsx(Pj,{ref:a,sideOffset:s,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));pk.displayName=Pj.displayName;var Ti=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ka=typeof window>"u"||"Deno"in globalThis;function qs(){}function fk(t,s){return typeof t=="function"?t(s):t}function dh(t){return typeof t=="number"&&t>=0&&t!==1/0}function Tj(t,s){return Math.max(t+(s||0)-Date.now(),0)}function pi(t,s){return typeof t=="function"?t(s):t}function ur(t,s){return typeof t=="function"?t(s):t}function m0(t,s){const{type:r="all",exact:a,fetchStatus:o,predicate:l,queryKey:d,stale:u}=t;if(d){if(a){if(s.queryHash!==op(d,s.options))return!1}else if(!qo(s.queryKey,d))return!1}if(r!=="all"){const h=s.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof u=="boolean"&&s.isStale()!==u||o&&o!==s.state.fetchStatus||l&&!l(s))}function h0(t,s){const{exact:r,status:a,predicate:o,mutationKey:l}=t;if(l){if(!s.options.mutationKey)return!1;if(r){if(Ea(s.options.mutationKey)!==Ea(l))return!1}else if(!qo(s.options.mutationKey,l))return!1}return!(a&&s.state.status!==a||o&&!o(s))}function op(t,s){return(s?.queryKeyHashFn||Ea)(t)}function Ea(t){return JSON.stringify(t,(s,r)=>uh(r)?Object.keys(r).sort().reduce((a,o)=>(a[o]=r[o],a),{}):r)}function qo(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?!Object.keys(s).some(r=>!qo(t[r],s[r])):!1}function Rj(t,s){if(t===s)return t;const r=p0(t)&&p0(s);if(r||uh(t)&&uh(s)){const a=r?t:Object.keys(t),o=a.length,l=r?s:Object.keys(s),d=l.length,u=r?[]:{};let h=0;for(let p=0;p<d;p++){const v=r?p:l[p];(!r&&a.includes(v)||r)&&t[v]===void 0&&s[v]===void 0?(u[v]=void 0,h++):(u[v]=Rj(t[v],s[v]),u[v]===t[v]&&t[v]!==void 0&&h++)}return o===d&&h===o?t:u}return s}function Qc(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}function p0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function uh(t){if(!f0(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!f0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function f0(t){return Object.prototype.toString.call(t)==="[object Object]"}function xk(t){return new Promise(s=>{setTimeout(s,t)})}function mh(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?Rj(t,s):s}function gk(t,s,r=0){const a=[...t,s];return r&&a.length>r?a.slice(1):a}function vk(t,s,r=0){const a=[s,...t];return r&&a.length>r?a.slice(0,-1):a}var lp=Symbol();function Aj(t,s){return!t.queryFn&&s?.initialPromise?()=>s.initialPromise:!t.queryFn||t.queryFn===lp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jk=class extends Ti{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!ka&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},cp=new jk,yk=class extends Ti{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!ka&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Jc=new yk;function hh(){let t,s;const r=new Promise((o,l)=>{t=o,s=l});r.status="pending",r.catch(()=>{});function a(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{a({status:"fulfilled",value:o}),t(o)},r.reject=o=>{a({status:"rejected",reason:o}),s(o)},r}function bk(t){return Math.min(1e3*2**t,3e4)}function Mj(t){return(t??"online")==="online"?Jc.isOnline():!0}var Dj=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Im(t){return t instanceof Dj}function Ij(t){let s=!1,r=0,a=!1,o;const l=hh(),d=y=>{a||(g(new Dj(y)),t.abort?.())},u=()=>{s=!0},h=()=>{s=!1},p=()=>cp.isFocused()&&(t.networkMode==="always"||Jc.isOnline())&&t.canRun(),v=()=>Mj(t.networkMode)&&t.canRun(),f=y=>{a||(a=!0,t.onSuccess?.(y),o?.(),l.resolve(y))},g=y=>{a||(a=!0,t.onError?.(y),o?.(),l.reject(y))},N=()=>new Promise(y=>{o=_=>{(a||p())&&y(_)},t.onPause?.()}).then(()=>{o=void 0,a||t.onContinue?.()}),k=()=>{if(a)return;let y;const _=r===0?t.initialPromise:void 0;try{y=_??t.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(f).catch(w=>{if(a)return;const E=t.retry??(ka?0:3),C=t.retryDelay??bk,R=typeof C=="function"?C(r,w):C,I=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,w);if(s||!I){g(w);return}r++,t.onFail?.(r,w),xk(R).then(()=>p()?void 0:N()).then(()=>{s?g(w):k()})})};return{promise:l,cancel:d,continue:()=>(o?.(),l),cancelRetry:u,continueRetry:h,canStart:v,start:()=>(v()?k():N().then(k),l)}}function Nk(){let t=[],s=0,r=u=>{u()},a=u=>{u()},o=u=>setTimeout(u,0);const l=u=>{s?t.push(u):o(()=>{r(u)})},d=()=>{const u=t;t=[],u.length&&o(()=>{a(()=>{u.forEach(h=>{r(h)})})})};return{batch:u=>{let h;s++;try{h=u()}finally{s--,s||d()}return h},batchCalls:u=>(...h)=>{l(()=>{u(...h)})},schedule:l,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{a=u},setScheduler:u=>{o=u}}}var Ot=Nk(),Lj=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dh(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ka?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},wk=class extends Lj{#e;#t;#r;#s;#i;#a;constructor(t){super(),this.#a=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Ck(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,s){const r=mh(this.state.data,t,this.options);return this.#n({data:r,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),r}setState(t,s){this.#n({type:"setState",state:t,setStateOptions:s})}cancel(t){const s=this.#s?.promise;return this.#s?.cancel(t),s?s.then(qs).catch(qs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>ur(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Tj(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(this.#s&&(this.#a?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}fetch(t,s){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,a=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},o=()=>{const u=Aj(this.options,s),h={queryKey:this.queryKey,meta:this.meta};return a(h),this.#a=!1,this.options.persister?this.options.persister(u,h,this):u(h)},l={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(l),this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#n({type:"fetch",meta:l.fetchOptions?.meta});const d=u=>{Im(u)&&u.silent||this.#n({type:"error",error:u}),Im(u)||(this.#r.config.onError?.(u,this),this.#r.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#s=Ij({initialPromise:s?.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{if(u===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(h){d(h);return}this.#r.config.onSuccess?.(u,this),this.#r.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:d,onFail:(u,h)=>{this.#n({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#s.start()}#n(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Oj(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Im(a)&&a.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),Ot.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function Oj(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Mj(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ck(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,a=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Sk=class extends Ti{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,s,r){const a=s.queryKey,o=s.queryHash??op(a,s);let l=this.get(o);return l||(l=new wk({cache:this,queryKey:a,queryHash:o,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=this.#e.get(t.queryHash);s&&(t.destroy(),s===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ot.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>m0(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>m0(t,r)):s}notify(t){Ot.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Ot.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ot.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_k=class extends Lj{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||Fj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(s=>s!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=Ij({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{this.#s({type:"failed",failureCount:a,error:o})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",r=!this.#r.canStart();try{if(!s){this.#s({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#s({type:"pending",context:o,variables:t,isPaused:r})}const a=await this.#r.start();return await this.#t.config.onSuccess?.(a,t,this.state.context,this),await this.options.onSuccess?.(a,t,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,t,this.state.context),this.#s({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,t,this.state.context,this),await this.options.onError?.(a,t,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,t,this.state.context),a}finally{this.#s({type:"error",error:a})}}finally{this.#t.runNext(this)}}#s(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Ot.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function Fj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kk=class extends Ti{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,s,r){const a=new _k({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(s),state:r});return this.add(a),a}add(t){const s=Cc(t),r=this.#e.get(s)??[];r.push(t),this.#e.set(s,r),this.notify({type:"added",mutation:t})}remove(t){const s=Cc(t);if(this.#e.has(s)){const r=this.#e.get(s)?.filter(a=>a!==t);r&&(r.length===0?this.#e.delete(s):this.#e.set(s,r))}this.notify({type:"removed",mutation:t})}canRun(t){const s=this.#e.get(Cc(t))?.find(r=>r.state.status==="pending");return!s||s===t}runNext(t){return this.#e.get(Cc(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){Ot.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const s={exact:!0,...t};return this.getAll().find(r=>h0(s,r))}findAll(t={}){return this.getAll().filter(s=>h0(t,s))}notify(t){Ot.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Ot.batch(()=>Promise.all(t.map(s=>s.continue().catch(qs))))}};function Cc(t){return t.options.scope?.id??String(t.mutationId)}function x0(t){return{onFetch:(s,r)=>{const a=s.options,o=s.fetchOptions?.meta?.fetchMore?.direction,l=s.state.data?.pages||[],d=s.state.data?.pageParams||[];let u={pages:[],pageParams:[]},h=0;const p=async()=>{let v=!1;const f=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(s.signal.aborted?v=!0:s.signal.addEventListener("abort",()=>{v=!0}),s.signal)})},g=Aj(s.options,s.fetchOptions),N=async(k,y,_)=>{if(v)return Promise.reject();if(y==null&&k.pages.length)return Promise.resolve(k);const w={queryKey:s.queryKey,pageParam:y,direction:_?"backward":"forward",meta:s.options.meta};f(w);const E=await g(w),{maxPages:C}=s.options,R=_?vk:gk;return{pages:R(k.pages,E,C),pageParams:R(k.pageParams,y,C)}};if(o&&l.length){const k=o==="backward",y=k?Ek:g0,_={pages:l,pageParams:d},w=y(a,_);u=await N(_,w,k)}else{const k=t??l.length;do{const y=h===0?d[0]??a.initialPageParam:g0(a,u);if(h>0&&y==null)break;u=await N(u,y),h++}while(h<k)}return u};s.options.persister?s.fetchFn=()=>s.options.persister?.(p,{queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r):s.fetchFn=p}}}function g0(t,{pages:s,pageParams:r}){const a=s.length-1;return s.length>0?t.getNextPageParam(s[a],s,r[a],r):void 0}function Ek(t,{pages:s,pageParams:r}){return s.length>0?t.getPreviousPageParam?.(s[0],s,r[0],r):void 0}var Pk=class{#e;#t;#r;#s;#i;#a;#n;#o;constructor(t={}){this.#e=t.queryCache||new Sk,this.#t=t.mutationCache||new kk,this.#r=t.defaultOptions||{},this.#s=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#n=cp.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Jc.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#n?.(),this.#n=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(t){const s=this.getQueryData(t.queryKey);if(s===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),a=this.#e.build(this,r);return t.revalidateIfStale&&a.isStaleByTime(pi(r.staleTime,a))&&this.prefetchQuery(r),Promise.resolve(s)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:s,state:r})=>{const a=r.data;return[s,a]})}setQueryData(t,s,r){const a=this.defaultQueryOptions({queryKey:t}),l=this.#e.get(a.queryHash)?.state.data,d=fk(s,l);if(d!==void 0)return this.#e.build(this,a).setData(d,{...r,manual:!0})}setQueriesData(t,s,r){return Ot.batch(()=>this.#e.findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,s,r)]))}getQueryState(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state}removeQueries(t){const s=this.#e;Ot.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=this.#e,a={type:"active",...t};return Ot.batch(()=>(r.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries(a,s)))}cancelQueries(t={},s={}){const r={revert:!0,...s},a=Ot.batch(()=>this.#e.findAll(t).map(o=>o.cancel(r)));return Promise.all(a).then(qs).catch(qs)}invalidateQueries(t={},s={}){return Ot.batch(()=>{if(this.#e.findAll(t).forEach(a=>{a.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,s)})}refetchQueries(t={},s){const r={...s,cancelRefetch:s?.cancelRefetch??!0},a=Ot.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()).map(o=>{let l=o.fetch(void 0,r);return r.throwOnError||(l=l.catch(qs)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(qs)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=this.#e.build(this,s);return r.isStaleByTime(pi(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(qs).catch(qs)}fetchInfiniteQuery(t){return t.behavior=x0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(qs).catch(qs)}ensureInfiniteQueryData(t){return t.behavior=x0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,s){this.#s.set(Ea(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...this.#s.values()];let r={};return s.forEach(a=>{qo(t,a.queryKey)&&(r={...r,...a.defaultOptions})}),r}setMutationDefaults(t,s){this.#i.set(Ea(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...this.#i.values()];let r={};return s.forEach(a=>{qo(t,a.mutationKey)&&(r={...r,...a.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=op(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.enabled!==!0&&s.queryFn===lp&&(s.enabled=!1),s}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Tk=class extends Ti{constructor(t,s){super(),this.options=s,this.#e=t,this.#o=null,this.#n=hh(),this.options.experimental_prefetchInRender||this.#n.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}#e;#t=void 0;#r=void 0;#s=void 0;#i;#a;#n;#o;#f;#m;#h;#c;#d;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),v0(this.#t,this.options)?this.#u():this.updateResult(),this.#j())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ph(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ph(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#b(),this.#t.removeObserver(this)}setOptions(t,s){const r=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ur(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),r._defaulted&&!Qc(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&j0(this.#t,a,this.options,r)&&this.#u(),this.updateResult(s),o&&(this.#t!==a||ur(this.options.enabled,this.#t)!==ur(r.enabled,this.#t)||pi(this.options.staleTime,this.#t)!==pi(r.staleTime,this.#t))&&this.#x();const l=this.#g();o&&(this.#t!==a||ur(this.options.enabled,this.#t)!==ur(r.enabled,this.#t)||l!==this.#l)&&this.#v(l)}getOptimisticResult(t){const s=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(s,t);return Ak(this,r)&&(this.#s=r,this.#a=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#s}trackResult(t,s){const r={};return Object.keys(t).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),s?.(a),t[a])})}),r}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return this.#u({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#u(t){this.#N();let s=this.#t.fetch(this.options,t);return t?.throwOnError||(s=s.catch(qs)),s}#x(){this.#y();const t=pi(this.options.staleTime,this.#t);if(ka||this.#s.isStale||!dh(t))return;const r=Tj(this.#s.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#s.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#b(),this.#l=t,!(ka||ur(this.options.enabled,this.#t)===!1||!dh(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||cp.isFocused())&&this.#u()},this.#l))}#j(){this.#x(),this.#v(this.#g())}#y(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#b(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(t,s){const r=this.#t,a=this.options,o=this.#s,l=this.#i,d=this.#a,h=t!==r?t.state:this.#r,{state:p}=t;let v={...p},f=!1,g;if(s._optimisticResults){const b=this.hasListeners(),P=!b&&v0(t,s),A=b&&j0(t,r,s,a);(P||A)&&(v={...v,...Oj(p.data,t.options)}),s._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:N,errorUpdatedAt:k,status:y}=v;if(s.select&&v.data!==void 0)if(o&&v.data===l?.data&&s.select===this.#f)g=this.#m;else try{this.#f=s.select,g=s.select(v.data),g=mh(o?.data,g,s),this.#m=g,this.#o=null}catch(b){this.#o=b}else g=v.data;if(s.placeholderData!==void 0&&g===void 0&&y==="pending"){let b;if(o?.isPlaceholderData&&s.placeholderData===d?.placeholderData)b=o.data;else if(b=typeof s.placeholderData=="function"?s.placeholderData(this.#h?.state.data,this.#h):s.placeholderData,s.select&&b!==void 0)try{b=s.select(b),this.#o=null}catch(P){this.#o=P}b!==void 0&&(y="success",g=mh(o?.data,b,s),f=!0)}this.#o&&(N=this.#o,g=this.#m,k=Date.now(),y="error");const _=v.fetchStatus==="fetching",w=y==="pending",E=y==="error",C=w&&_,R=g!==void 0,T={status:y,fetchStatus:v.fetchStatus,isPending:w,isSuccess:y==="success",isError:E,isInitialLoading:C,isLoading:C,data:g,dataUpdatedAt:v.dataUpdatedAt,error:N,errorUpdatedAt:k,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>h.dataUpdateCount||v.errorUpdateCount>h.errorUpdateCount,isFetching:_,isRefetching:_&&!w,isLoadingError:E&&!R,isPaused:v.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:E&&R,isStale:dp(t,s),refetch:this.refetch,promise:this.#n};if(this.options.experimental_prefetchInRender){const b=O=>{T.status==="error"?O.reject(T.error):T.data!==void 0&&O.resolve(T.data)},P=()=>{const O=this.#n=T.promise=hh();b(O)},A=this.#n;switch(A.status){case"pending":t.queryHash===r.queryHash&&b(A);break;case"fulfilled":(T.status==="error"||T.data!==A.value)&&P();break;case"rejected":(T.status!=="error"||T.error!==A.reason)&&P();break}}return T}updateResult(t){const s=this.#s,r=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#t),Qc(r,s))return;this.#s=r;const a={},o=()=>{if(!s)return!0;const{notifyOnChangeProps:l}=this.options,d=typeof l=="function"?l():l;if(d==="all"||!d&&!this.#p.size)return!0;const u=new Set(d??this.#p);return this.options.throwOnError&&u.add("error"),Object.keys(this.#s).some(h=>{const p=h;return this.#s[p]!==s[p]&&u.has(p)})};t?.listeners!==!1&&o()&&(a.listeners=!0),this.#w({...a,...t})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const s=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(s?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#j()}#w(t){Ot.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Rk(t,s){return ur(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function v0(t,s){return Rk(t,s)||t.state.data!==void 0&&ph(t,s,s.refetchOnMount)}function ph(t,s,r){if(ur(s.enabled,t)!==!1){const a=typeof r=="function"?r(t):r;return a==="always"||a!==!1&&dp(t,s)}return!1}function j0(t,s,r,a){return(t!==s||ur(a.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&dp(t,r)}function dp(t,s){return ur(s.enabled,t)!==!1&&t.isStaleByTime(pi(s.staleTime,t))}function Ak(t,s){return!Qc(t.getCurrentResult(),s)}var Mk=class extends Ti{#e;#t=void 0;#r;#s;constructor(s,r){super(),this.#e=s,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){const r=this.options;this.options=this.#e.defaultMutationOptions(s),Qc(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ea(r.mutationKey)!==Ea(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(s){this.#i(),this.#a(s)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(s,r){return this.#s=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(s)}#i(){const s=this.#r?.state??Fj();this.#t={...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset}}#a(s){Ot.batch(()=>{if(this.#s&&this.hasListeners()){const r=this.#t.variables,a=this.#t.context;s?.type==="success"?(this.#s.onSuccess?.(s.data,r,a),this.#s.onSettled?.(s.data,null,r,a)):s?.type==="error"&&(this.#s.onError?.(s.error,r,a),this.#s.onSettled?.(void 0,s.error,r,a))}this.listeners.forEach(r=>{r(this.#t)})})}},zj=m.createContext(void 0),up=t=>{const s=m.useContext(zj);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},Dk=({client:t,children:s})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(zj.Provider,{value:t,children:s})),$j=m.createContext(!1),Ik=()=>m.useContext($j);$j.Provider;function Lk(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Ok=m.createContext(Lk()),Fk=()=>m.useContext(Ok);function qj(t,s){return typeof t=="function"?t(...s):!!t}function Bj(){}var zk=(t,s)=>{(t.suspense||t.throwOnError)&&(s.isReset()||(t.retryOnMount=!1))},$k=t=>{m.useEffect(()=>{t.clearReset()},[t])},qk=({result:t,errorResetBoundary:s,throwOnError:r,query:a})=>t.isError&&!s.isReset()&&!t.isFetching&&a&&qj(r,[t.error,a]),Bk=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Vk=(t,s)=>t.isLoading&&t.isFetching&&!s,Uk=(t,s)=>t?.suspense&&s.isPending,y0=(t,s,r)=>s.fetchOptimistic(t).catch(()=>{r.clearReset()});function Hk(t,s,r){const a=up(),o=Ik(),l=Fk(),d=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=o?"isRestoring":"optimistic",Bk(d),zk(d,l),$k(l);const u=!a.getQueryCache().get(d.queryHash),[h]=m.useState(()=>new s(a,d)),p=h.getOptimisticResult(d);if(m.useSyncExternalStore(m.useCallback(v=>{const f=o?()=>{}:h.subscribe(Ot.batchCalls(v));return h.updateResult(),f},[h,o]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),m.useEffect(()=>{h.setOptions(d,{listeners:!1})},[d,h]),Uk(d,p))throw y0(d,h,l);if(qk({result:p,errorResetBoundary:l,throwOnError:d.throwOnError,query:a.getQueryCache().get(d.queryHash)}))throw p.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(d,p),d.experimental_prefetchInRender&&!ka&&Vk(p,o)&&(u?y0(d,h,l):a.getQueryCache().get(d.queryHash)?.promise)?.catch(Bj).finally(()=>{h.updateResult()}),d.notifyOnChangeProps?p:h.trackResult(p)}function We(t,s){return Hk(t,Tk)}function Wk(t,s){const r=up(),[a]=m.useState(()=>new Mk(r,t));m.useEffect(()=>{a.setOptions(t)},[a,t]);const o=m.useSyncExternalStore(m.useCallback(d=>a.subscribe(Ot.batchCalls(d)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=m.useCallback((d,u)=>{a.mutate(d,u).catch(Bj)},[a]);if(o.error&&qj(a.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Bo.apply(this,arguments)}var $n;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($n||($n={}));const b0="popstate";function Gk(t){t===void 0&&(t={});function s(a,o){let{pathname:l,search:d,hash:u}=a.location;return fh("",{pathname:l,search:d,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){return typeof o=="string"?o:Zc(o)}return Xk(s,r,null,t)}function Tt(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Vj(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Kk(){return Math.random().toString(36).substr(2,8)}function N0(t,s){return{usr:t.state,key:t.key,idx:s}}function fh(t,s,r,a){return r===void 0&&(r=null),Bo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Ri(s):s,{state:r,key:s&&s.key||a||Kk()})}function Zc(t){let{pathname:s="/",search:r="",hash:a=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Ri(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let a=t.indexOf("?");a>=0&&(s.search=t.substr(a),t=t.substr(0,a)),t&&(s.pathname=t)}return s}function Xk(t,s,r,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:l=!1}=a,d=o.history,u=$n.Pop,h=null,p=v();p==null&&(p=0,d.replaceState(Bo({},d.state,{idx:p}),""));function v(){return(d.state||{idx:null}).idx}function f(){u=$n.Pop;let _=v(),w=_==null?null:_-p;p=_,h&&h({action:u,location:y.location,delta:w})}function g(_,w){u=$n.Push;let E=fh(y.location,_,w);p=v()+1;let C=N0(E,p),R=y.createHref(E);try{d.pushState(C,"",R)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;o.location.assign(R)}l&&h&&h({action:u,location:y.location,delta:1})}function N(_,w){u=$n.Replace;let E=fh(y.location,_,w);p=v();let C=N0(E,p),R=y.createHref(E);d.replaceState(C,"",R),l&&h&&h({action:u,location:y.location,delta:0})}function k(_){let w=o.location.origin!=="null"?o.location.origin:o.location.href,E=typeof _=="string"?_:Zc(_);return E=E.replace(/ $/,"%20"),Tt(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let y={get action(){return u},get location(){return t(o,d)},listen(_){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(b0,f),h=_,()=>{o.removeEventListener(b0,f),h=null}},createHref(_){return s(o,_)},createURL:k,encodeLocation(_){let w=k(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:N,go(_){return d.go(_)}};return y}var w0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(w0||(w0={}));function Yk(t,s,r){return r===void 0&&(r="/"),Qk(t,s,r)}function Qk(t,s,r,a){let o=typeof s=="string"?Ri(s):s,l=mp(o.pathname||"/",r);if(l==null)return null;let d=Uj(t);Jk(d);let u=null;for(let h=0;u==null&&h<d.length;++h){let p=dE(l);u=oE(d[h],p)}return u}function Uj(t,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let o=(l,d,u)=>{let h={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};h.relativePath.startsWith("/")&&(Tt(h.relativePath.startsWith(a),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(a.length));let p=qn([a,h.relativePath]),v=r.concat(h);l.children&&l.children.length>0&&(Tt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Uj(l.children,s,v,p)),!(l.path==null&&!l.index)&&s.push({path:p,score:aE(p,l.index),routesMeta:v})};return t.forEach((l,d)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,d);else for(let h of Hj(l.path))o(l,d,h)}),s}function Hj(t){let s=t.split("/");if(s.length===0)return[];let[r,...a]=s,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let d=Hj(a.join("/")),u=[];return u.push(...d.map(h=>h===""?l:[l,h].join("/"))),o&&u.push(...d),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function Jk(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:iE(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const Zk=/^:[\w-]+$/,eE=3,tE=2,sE=1,rE=10,nE=-2,C0=t=>t==="*";function aE(t,s){let r=t.split("/"),a=r.length;return r.some(C0)&&(a+=nE),s&&(a+=tE),r.filter(o=>!C0(o)).reduce((o,l)=>o+(Zk.test(l)?eE:l===""?sE:rE),a)}function iE(t,s){return t.length===s.length&&t.slice(0,-1).every((a,o)=>a===s[o])?t[t.length-1]-s[s.length-1]:0}function oE(t,s,r){let{routesMeta:a}=t,o={},l="/",d=[];for(let u=0;u<a.length;++u){let h=a[u],p=u===a.length-1,v=l==="/"?s:s.slice(l.length)||"/",f=lE({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),g=h.route;if(!f)return null;Object.assign(o,f.params),d.push({params:o,pathname:qn([l,f.pathname]),pathnameBase:pE(qn([l,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(l=qn([l,f.pathnameBase]))}return d}function lE(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=cE(t.path,t.caseSensitive,t.end),o=s.match(r);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:a.reduce((p,v,f)=>{let{paramName:g,isOptional:N}=v;if(g==="*"){let y=u[f]||"";d=l.slice(0,l.length-y.length).replace(/(.)\/+$/,"$1")}const k=u[f];return N&&!k?p[g]=void 0:p[g]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:d,pattern:t}}function cE(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Vj(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,h)=>(a.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,s?void 0:"i"),a]}function dE(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Vj(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function mp(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}function uE(t,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:o=""}=typeof t=="string"?Ri(t):t;return{pathname:r?r.startsWith("/")?r:mE(r,s):s,search:fE(a),hash:xE(o)}}function mE(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Lm(t,s,r,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hE(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function hp(t,s){let r=hE(t);return s?r.map((a,o)=>o===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function pp(t,s,r,a){a===void 0&&(a=!1);let o;typeof t=="string"?o=Ri(t):(o=Bo({},t),Tt(!o.pathname||!o.pathname.includes("?"),Lm("?","pathname","search",o)),Tt(!o.pathname||!o.pathname.includes("#"),Lm("#","pathname","hash",o)),Tt(!o.search||!o.search.includes("#"),Lm("#","search","hash",o)));let l=t===""||o.pathname==="",d=l?"/":o.pathname,u;if(d==null)u=r;else{let f=s.length-1;if(!a&&d.startsWith("..")){let g=d.split("/");for(;g[0]==="..";)g.shift(),f-=1;o.pathname=g.join("/")}u=f>=0?s[f]:"/"}let h=uE(o,u),p=d&&d!=="/"&&d.endsWith("/"),v=(l||d===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}const qn=t=>t.join("/").replace(/\/\/+/g,"/"),pE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Wj=["post","put","patch","delete"];new Set(Wj);const vE=["get",...Wj];new Set(vE);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Vo.apply(this,arguments)}const fp=m.createContext(null),jE=m.createContext(null),Zn=m.createContext(null),jd=m.createContext(null),hn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Gj=m.createContext(null);function yE(t,s){let{relative:r}=s===void 0?{}:s;Ai()||Tt(!1);let{basename:a,navigator:o}=m.useContext(Zn),{hash:l,pathname:d,search:u}=Xj(t,{relative:r}),h=d;return a!=="/"&&(h=d==="/"?a:qn([a,d])),o.createHref({pathname:h,search:u,hash:l})}function Ai(){return m.useContext(jd)!=null}function pn(){return Ai()||Tt(!1),m.useContext(jd).location}function Kj(t){m.useContext(Zn).static||m.useLayoutEffect(t)}function Re(){let{isDataRoute:t}=m.useContext(hn);return t?ME():bE()}function bE(){Ai()||Tt(!1);let t=m.useContext(fp),{basename:s,future:r,navigator:a}=m.useContext(Zn),{matches:o}=m.useContext(hn),{pathname:l}=pn(),d=JSON.stringify(hp(o,r.v7_relativeSplatPath)),u=m.useRef(!1);return Kj(()=>{u.current=!0}),m.useCallback(function(p,v){if(v===void 0&&(v={}),!u.current)return;if(typeof p=="number"){a.go(p);return}let f=pp(p,JSON.parse(d),l,v.relative==="path");t==null&&s!=="/"&&(f.pathname=f.pathname==="/"?s:qn([s,f.pathname])),(v.replace?a.replace:a.push)(f,v.state,v)},[s,a,d,l,t])}function Ma(){let{matches:t}=m.useContext(hn),s=t[t.length-1];return s?s.params:{}}function Xj(t,s){let{relative:r}=s===void 0?{}:s,{future:a}=m.useContext(Zn),{matches:o}=m.useContext(hn),{pathname:l}=pn(),d=JSON.stringify(hp(o,a.v7_relativeSplatPath));return m.useMemo(()=>pp(t,JSON.parse(d),l,r==="path"),[t,d,l,r])}function NE(t,s){return wE(t,s)}function wE(t,s,r,a){Ai()||Tt(!1);let{navigator:o}=m.useContext(Zn),{matches:l}=m.useContext(hn),d=l[l.length-1],u=d?d.params:{};d&&d.pathname;let h=d?d.pathnameBase:"/";d&&d.route;let p=pn(),v;if(s){var f;let _=typeof s=="string"?Ri(s):s;h==="/"||(f=_.pathname)!=null&&f.startsWith(h)||Tt(!1),v=_}else v=p;let g=v.pathname||"/",N=g;if(h!=="/"){let _=h.replace(/^\//,"").split("/");N="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let k=Yk(t,{pathname:N}),y=EE(k&&k.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:qn([h,o.encodeLocation?o.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:qn([h,o.encodeLocation?o.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),l,r,a);return s&&y?m.createElement(jd.Provider,{value:{location:Vo({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:$n.Pop}},y):y}function CE(){let t=AE(),s=gE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},s),r?m.createElement("pre",{style:o},r):null,null)}const SE=m.createElement(CE,null);class _E extends m.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?m.createElement(hn.Provider,{value:this.props.routeContext},m.createElement(Gj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kE(t){let{routeContext:s,match:r,children:a}=t,o=m.useContext(fp);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(hn.Provider,{value:s},a)}function EE(t,s,r,a){var o;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=a)!=null&&l.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let d=t,u=(o=r)==null?void 0:o.errors;if(u!=null){let v=d.findIndex(f=>f.route.id&&u?.[f.route.id]!==void 0);v>=0||Tt(!1),d=d.slice(0,Math.min(d.length,v+1))}let h=!1,p=-1;if(r&&a&&a.v7_partialHydration)for(let v=0;v<d.length;v++){let f=d[v];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(p=v),f.route.id){let{loaderData:g,errors:N}=r,k=f.route.loader&&g[f.route.id]===void 0&&(!N||N[f.route.id]===void 0);if(f.route.lazy||k){h=!0,p>=0?d=d.slice(0,p+1):d=[d[0]];break}}}return d.reduceRight((v,f,g)=>{let N,k=!1,y=null,_=null;r&&(N=u&&f.route.id?u[f.route.id]:void 0,y=f.route.errorElement||SE,h&&(p<0&&g===0?(DE("route-fallback"),k=!0,_=null):p===g&&(k=!0,_=f.route.hydrateFallbackElement||null)));let w=s.concat(d.slice(0,g+1)),E=()=>{let C;return N?C=y:k?C=_:f.route.Component?C=m.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=v,m.createElement(kE,{match:f,routeContext:{outlet:v,matches:w,isDataRoute:r!=null},children:C})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?m.createElement(_E,{location:r.location,revalidation:r.revalidation,component:y,error:N,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}var Yj=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Yj||{}),Qj=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Qj||{});function PE(t){let s=m.useContext(fp);return s||Tt(!1),s}function TE(t){let s=m.useContext(jE);return s||Tt(!1),s}function RE(t){let s=m.useContext(hn);return s||Tt(!1),s}function Jj(t){let s=RE(),r=s.matches[s.matches.length-1];return r.route.id||Tt(!1),r.route.id}function AE(){var t;let s=m.useContext(Gj),r=TE(),a=Jj();return s!==void 0?s:(t=r.errors)==null?void 0:t[a]}function ME(){let{router:t}=PE(Yj.UseNavigateStable),s=Jj(Qj.UseNavigateStable),r=m.useRef(!1);return Kj(()=>{r.current=!0}),m.useCallback(function(o,l){l===void 0&&(l={}),r.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Vo({fromRouteId:s},l)))},[t,s])}const S0={};function DE(t,s,r){S0[t]||(S0[t]=!0)}function Ro(t){let{to:s,replace:r,state:a,relative:o}=t;Ai()||Tt(!1);let{future:l,static:d}=m.useContext(Zn),{matches:u}=m.useContext(hn),{pathname:h}=pn(),p=Re(),v=pp(s,hp(u,l.v7_relativeSplatPath),h,o==="path"),f=JSON.stringify(v);return m.useEffect(()=>p(JSON.parse(f),{replace:r,state:a,relative:o}),[p,f,o,r,a]),null}function Fe(t){Tt(!1)}function IE(t){let{basename:s="/",children:r=null,location:a,navigationType:o=$n.Pop,navigator:l,static:d=!1,future:u}=t;Ai()&&Tt(!1);let h=s.replace(/^\/*/,"/"),p=m.useMemo(()=>({basename:h,navigator:l,static:d,future:Vo({v7_relativeSplatPath:!1},u)}),[h,u,l,d]);typeof a=="string"&&(a=Ri(a));let{pathname:v="/",search:f="",hash:g="",state:N=null,key:k="default"}=a,y=m.useMemo(()=>{let _=mp(v,h);return _==null?null:{location:{pathname:_,search:f,hash:g,state:N,key:k},navigationType:o}},[h,v,f,g,N,k,o]);return y==null?null:m.createElement(Zn.Provider,{value:p},m.createElement(jd.Provider,{children:r,value:y}))}function LE(t){let{children:s,location:r}=t;return NE(xh(s),r)}new Promise(()=>{});function xh(t,s){s===void 0&&(s=[]);let r=[];return m.Children.forEach(t,(a,o)=>{if(!m.isValidElement(a))return;let l=[...s,o];if(a.type===m.Fragment){r.push.apply(r,xh(a.props.children,l));return}a.type!==Fe&&Tt(!1),!a.props.index||!a.props.children||Tt(!1);let d={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=xh(a.props.children,l)),r.push(d)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},gh.apply(this,arguments)}function OE(t,s){if(t==null)return{};var r={},a=Object.keys(t),o,l;for(l=0;l<a.length;l++)o=a[l],!(s.indexOf(o)>=0)&&(r[o]=t[o]);return r}function FE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zE(t,s){return t.button===0&&(!s||s==="_self")&&!FE(t)}function vh(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,r)=>{let a=t[r];return s.concat(Array.isArray(a)?a.map(o=>[r,o]):[[r,a]])},[]))}function $E(t,s){let r=vh(t);return s&&s.forEach((a,o)=>{r.has(o)||s.getAll(o).forEach(l=>{r.append(o,l)})}),r}const qE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BE="6";try{window.__reactRouterVersion=BE}catch{}const VE="startTransition",_0=$h[VE];function UE(t){let{basename:s,children:r,future:a,window:o}=t,l=m.useRef();l.current==null&&(l.current=Gk({window:o,v5Compat:!0}));let d=l.current,[u,h]=m.useState({action:d.action,location:d.location}),{v7_startTransition:p}=a||{},v=m.useCallback(f=>{p&&_0?_0(()=>h(f)):h(f)},[h,p]);return m.useLayoutEffect(()=>d.listen(v),[d,v]),m.createElement(IE,{basename:s,children:r,location:u.location,navigationType:u.action,navigator:d,future:a})}const HE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fr=m.forwardRef(function(s,r){let{onClick:a,relative:o,reloadDocument:l,replace:d,state:u,target:h,to:p,preventScrollReset:v,viewTransition:f}=s,g=OE(s,qE),{basename:N}=m.useContext(Zn),k,y=!1;if(typeof p=="string"&&WE.test(p)&&(k=p,HE))try{let C=new URL(window.location.href),R=p.startsWith("//")?new URL(C.protocol+p):new URL(p),I=mp(R.pathname,N);R.origin===C.origin&&I!=null?p=I+R.search+R.hash:y=!0}catch{}let _=yE(p,{relative:o}),w=GE(p,{replace:d,state:u,target:h,preventScrollReset:v,relative:o,viewTransition:f});function E(C){a&&a(C),C.defaultPrevented||w(C)}return m.createElement("a",gh({},g,{href:k||_,onClick:y||l?a:E,ref:r,target:h}))});var k0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(k0||(k0={}));var E0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(E0||(E0={}));function GE(t,s){let{target:r,replace:a,state:o,preventScrollReset:l,relative:d,viewTransition:u}=s===void 0?{}:s,h=Re(),p=pn(),v=Xj(t,{relative:d});return m.useCallback(f=>{if(zE(f,r)){f.preventDefault();let g=a!==void 0?a:Zc(p)===Zc(v);h(t,{replace:g,state:o,preventScrollReset:l,relative:d,viewTransition:u})}},[p,h,v,a,o,r,t,l,d,u])}function Da(t){let s=m.useRef(vh(t)),r=m.useRef(!1),a=pn(),o=m.useMemo(()=>$E(a.search,r.current?null:s.current),[a.search]),l=Re(),d=m.useCallback((u,h)=>{const p=vh(typeof u=="function"?u(o):u);r.current=!0,l("?"+p,h)},[l,o]);return[o,d]}const KE=Zo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),js=m.forwardRef(({className:t,variant:s,...r},a)=>e.jsx("div",{ref:a,role:"alert",className:we(KE({variant:s}),t),...r}));js.displayName="Alert";const XE=m.forwardRef(({className:t,...s},r)=>e.jsx("h5",{ref:r,className:we("mb-1 font-medium leading-none tracking-tight",t),...s}));XE.displayName="AlertTitle";const ys=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:we("text-sm [&_p]:leading-relaxed",t),...s}));ys.displayName="AlertDescription";const YE="/api";class QE{constructor(s=YE){this.baseURL=s}getAuthHeaders(){const s=localStorage.getItem("authToken");return{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`}}}getAuthHeadersOnly(){const s=localStorage.getItem("authToken");return{...s&&{Authorization:`Bearer ${s}`}}}async request(s,r={}){const a=`${this.baseURL}${s}`,l={headers:r.body instanceof FormData?this.getAuthHeadersOnly():this.getAuthHeaders(),...r};try{const d=new AbortController,u=setTimeout(()=>d.abort(),1e4),h=await fetch(a,{...l,signal:d.signal});if(clearTimeout(u),h.status===401){const v=await h.json().catch(()=>({}));throw new Error(v.error||v.message||"Non autoris")}if(h.status===403){const v=await h.json().catch(()=>({}));if(v.error==="Token invalide"){if(or.removeToken(),typeof window<"u"){const f=window.location.pathname;["/login","/register","/user-type","/"].includes(f)||(window.location.href="/login")}throw new Error("Token invalide, veuillez vous reconnecter")}throw new Error(v.error||v.message||"Accs refus")}if(!h.ok){let v={};try{const g=await h.text();console.error(` [ApiClient] Erreur ${h.status} pour ${a}:`,g),g&&(v=JSON.parse(g))}catch{v={message:`Erreur HTTP ${h.status}`}}const f=v.error||v.message||`Erreur HTTP ${h.status}`;throw console.error(" [ApiClient] Message d'erreur final:",f),new Error(f)}const p=await h.text();if(!p)return{};try{return JSON.parse(p)}catch{throw console.error("Erreur parsing JSON:",p),new Error("Rponse invalide du serveur (JSON invalide)")}}catch(d){if(console.error("API request failed:",d),d instanceof Error){if(d.name==="AbortError")throw new Error("Dlai d'attente dpass. Vrifiez votre connexion internet.");if(d.message.includes("Failed to fetch")||d.message.includes("NetworkError"))throw new Error("Erreur de connexion rseau. Vrifiez votre connexion internet.")}throw d}}async get(s){return this.request(s,{method:"GET"})}async post(s,r){return this.request(s,{method:"POST",body:r instanceof FormData?r:r?JSON.stringify(r):void 0})}async put(s,r){return this.request(s,{method:"PUT",body:r?JSON.stringify(r):void 0})}async patch(s,r){return this.request(s,{method:"PATCH",body:r?JSON.stringify(r):void 0})}async delete(s){return this.request(s,{method:"DELETE"})}}const ie=new QE,or={setToken:t=>{let s=t?.trim()||"";s.toLowerCase().startsWith("bearer ")&&(s=s.slice(7).trim()),localStorage.setItem("authToken",s)},getToken:()=>{const t=localStorage.getItem("authToken");if(!t)return null;let s=t.trim();return(s.startsWith('"')&&s.endsWith('"')||s.startsWith("'")&&s.endsWith("'"))&&(s=s.slice(1,-1).trim()),s.toLowerCase().startsWith("bearer ")&&(s=s.slice(7).trim()),s},removeToken:()=>{localStorage.removeItem("authToken")},isAuthenticated:()=>!!localStorage.getItem("authToken"),setUserType:t=>{const s=t===2?"supplier":t===3?"admin":"buyer";localStorage.setItem("user_type",s)},getUserType:()=>localStorage.getItem("user_type"),setUserData:t=>localStorage.setItem("user_data",JSON.stringify(t||{})),getUserData:()=>{try{const t=localStorage.getItem("user_data");return t?JSON.parse(t):null}catch{return null}},clearUserMeta:()=>{localStorage.removeItem("user_type"),localStorage.removeItem("user_data")}},JE=()=>{const[t,s]=m.useState(!0),[r,a]=m.useState("checking"),[o,l]=m.useState(null),d=async()=>{try{a("checking"),l(null),await ie.get("/health"),a("online")}catch(u){console.warn("Serveur non accessible:",u),a("offline"),u instanceof Error?l(u.message):l("Erreur de connexion au serveur")}};return m.useEffect(()=>{const u=()=>s(!0),h=()=>s(!1);window.addEventListener("online",u),window.addEventListener("offline",h),s(navigator.onLine),d();const p=setInterval(d,3e4);return()=>{window.removeEventListener("online",u),window.removeEventListener("offline",h),clearInterval(p)}},[]),t&&r==="online"?null:e.jsxs("div",{className:"fixed top-4 right-4 z-50 max-w-sm",children:[!t&&e.jsxs(js,{variant:"destructive",className:"mb-2",children:[e.jsx(PS,{className:"h-4 w-4"}),e.jsxs(ys,{children:[e.jsx("strong",{children:"Pas de connexion internet"}),e.jsx("br",{}),"Vrifiez votre connexion rseau."]})]}),t&&r==="offline"&&e.jsxs(js,{variant:"destructive",children:[e.jsx(Pt,{className:"h-4 w-4"}),e.jsxs(ys,{children:[e.jsx("strong",{children:"Serveur backend inaccessible"}),e.jsx("br",{}),"Vrifiez que le serveur backend est dmarr sur le port 3000.",o&&e.jsxs("span",{className:"text-sm block mt-1",children:["Erreur: ",o]}),e.jsxs("div",{className:"text-xs mt-2 text-red-700",children:[" Solution: Dmarrez le serveur avec ",e.jsx("code",{children:"npm run dev"})," dans le dossier Backend_Ecommerce"]})]})]}),t&&r==="checking"&&e.jsxs(js,{children:[e.jsx(TS,{className:"h-4 w-4 animate-pulse"}),e.jsxs(ys,{children:[e.jsx("strong",{children:"Vrification du serveur..."}),e.jsx("br",{}),"Test de connexion en cours..."]})]})]})},ZE=()=>{const[t]=Da(),s=Re();return m.useEffect(()=>{const r=t.get("oauth"),a=t.get("token"),o=t.get("user");if(r==="success"&&a&&o)try{const l=JSON.parse(decodeURIComponent(o));localStorage.setItem("authToken",a),localStorage.setItem("user",JSON.stringify(l)),$.success(`Connexion OAuth russie avec ${l.email} !`),l.role_id===1?s("/dashboard"):l.role_id===2?s("/supplier/dashboard"):l.role_id===3?s("/admin/dashboard"):s("/")}catch(l){console.error("Erreur parsing OAuth data:",l),$.error("Erreur lors de la connexion OAuth")}else if(r==="error"){const l=t.get("error");$.error(`Erreur de connexion OAuth: ${l||"Erreur inconnue"}`)}},[t,s]),null},e6=Zo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-semibold transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gradient-to-r from-green-600 to-green-700 text-white hover:shadow-lg hover:scale-105 active:scale-100",destructive:"bg-red-600 text-white hover:bg-red-700 hover:shadow-sm",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 hover:shadow-sm",secondary:"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:shadow-lg hover:scale-105 active:scale-100",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"text-green-600 underline-offset-4 hover:underline hover:text-green-700",accent:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-800 hover:shadow-lg hover:scale-105 active:scale-100",hero:"bg-gradient-to-r from-green-600 to-blue-600 text-white shadow-lg hover:shadow-xl hover:scale-105 active:scale-100"},size:{default:"h-11 px-6 py-3",sm:"h-9 rounded-md px-4 text-sm",lg:"h-14 rounded-lg px-8 text-lg",icon:"h-11 w-11"}},defaultVariants:{variant:"default",size:"default"}}),D=m.forwardRef(({className:t,variant:s,size:r,asChild:a=!1,...o},l)=>{const d=a?Vn:"button";return e.jsx(d,{className:we(e6({variant:s,size:r,className:t})),ref:l,...o})});D.displayName="Button";const B=m.forwardRef(({className:t,type:s,...r},a)=>e.jsx("input",{type:s,className:we("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-gray-900 placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...r}));B.displayName="Input";var t6=m.createContext(void 0);function Mi(t){const s=m.useContext(t6);return t||s||"ltr"}var Om=0;function xp(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??P0()),document.body.insertAdjacentElement("beforeend",t[1]??P0()),Om++,()=>{Om===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Om--}},[])}function P0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Fm="focusScope.autoFocusOnMount",zm="focusScope.autoFocusOnUnmount",T0={bubbles:!1,cancelable:!0},s6="FocusScope",yd=m.forwardRef((t,s)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...d}=t,[u,h]=m.useState(null),p=yt(o),v=yt(l),f=m.useRef(null),g=Be(s,y=>h(y)),N=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(a){let y=function(C){if(N.paused||!u)return;const R=C.target;u.contains(R)?f.current=R:zn(f.current,{select:!0})},_=function(C){if(N.paused||!u)return;const R=C.relatedTarget;R!==null&&(u.contains(R)||zn(f.current,{select:!0}))},w=function(C){if(document.activeElement===document.body)for(const I of C)I.removedNodes.length>0&&zn(u)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const E=new MutationObserver(w);return u&&E.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),E.disconnect()}}},[a,u,N.paused]),m.useEffect(()=>{if(u){A0.add(N);const y=document.activeElement;if(!u.contains(y)){const w=new CustomEvent(Fm,T0);u.addEventListener(Fm,p),u.dispatchEvent(w),w.defaultPrevented||(r6(l6(Zj(u)),{select:!0}),document.activeElement===y&&zn(u))}return()=>{u.removeEventListener(Fm,p),setTimeout(()=>{const w=new CustomEvent(zm,T0);u.addEventListener(zm,v),u.dispatchEvent(w),w.defaultPrevented||zn(y??document.body,{select:!0}),u.removeEventListener(zm,v),A0.remove(N)},0)}}},[u,p,v,N]);const k=m.useCallback(y=>{if(!r&&!a||N.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(_&&w){const E=y.currentTarget,[C,R]=n6(E);C&&R?!y.shiftKey&&w===R?(y.preventDefault(),r&&zn(C,{select:!0})):y.shiftKey&&w===C&&(y.preventDefault(),r&&zn(R,{select:!0})):w===E&&y.preventDefault()}},[r,a,N.paused]);return e.jsx(Te.div,{tabIndex:-1,...d,ref:g,onKeyDown:k})});yd.displayName=s6;function r6(t,{select:s=!1}={}){const r=document.activeElement;for(const a of t)if(zn(a,{select:s}),document.activeElement!==r)return}function n6(t){const s=Zj(t),r=R0(s,t),a=R0(s.reverse(),t);return[r,a]}function Zj(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function R0(t,s){for(const r of t)if(!a6(r,{upTo:s}))return r}function a6(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function i6(t){return t instanceof HTMLInputElement&&"select"in t}function zn(t,{select:s=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&i6(t)&&s&&t.select()}}var A0=o6();function o6(){let t=[];return{add(s){const r=t[0];s!==r&&r?.pause(),t=M0(t,s),t.unshift(s)},remove(s){t=M0(t,s),t[0]?.resume()}}}function M0(t,s){const r=[...t],a=r.indexOf(s);return a!==-1&&r.splice(a,1),r}function l6(t){return t.filter(s=>s.tagName!=="A")}function c6(t,s=[]){let r=[];function a(l,d){const u=m.createContext(d),h=r.length;r=[...r,d];function p(f){const{scope:g,children:N,...k}=f,y=g?.[t][h]||u,_=m.useMemo(()=>k,Object.values(k));return e.jsx(y.Provider,{value:_,children:N})}function v(f,g){const N=g?.[t][h]||u,k=m.useContext(N);if(k)return k;if(d!==void 0)return d;throw new Error(`\`${f}\` must be used within \`${l}\``)}return p.displayName=l+"Provider",[p,v]}const o=()=>{const l=r.map(d=>m.createContext(d));return function(u){const h=u?.[t]||l;return m.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return o.scopeName=t,[a,d6(o,...s)]}function d6(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const a=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const d=a.reduce((u,{useScope:h,scopeName:p})=>{const f=h(l)[`__scope${p}`];return{...u,...f}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:d}),[d])}};return r.scopeName=s.scopeName,r}var $m="rovingFocusGroup.onEntryFocus",u6={bubbles:!1,cancelable:!0},bd="RovingFocusGroup",[jh,ey,m6]=Yo(bd),[h6,Nd]=c6(bd,[m6]),[p6,f6]=h6(bd),ty=m.forwardRef((t,s)=>e.jsx(jh.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(jh.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(x6,{...t,ref:s})})}));ty.displayName=bd;var x6=m.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:o=!1,dir:l,currentTabStopId:d,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,...f}=t,g=m.useRef(null),N=Be(s,g),k=Mi(l),[y=null,_]=Un({prop:d,defaultProp:u,onChange:h}),[w,E]=m.useState(!1),C=yt(p),R=ey(r),I=m.useRef(!1),[T,b]=m.useState(0);return m.useEffect(()=>{const P=g.current;if(P)return P.addEventListener($m,C),()=>P.removeEventListener($m,C)},[C]),e.jsx(p6,{scope:r,orientation:a,dir:k,loop:o,currentTabStopId:y,onItemFocus:m.useCallback(P=>_(P),[_]),onItemShiftTab:m.useCallback(()=>E(!0),[]),onFocusableItemAdd:m.useCallback(()=>b(P=>P+1),[]),onFocusableItemRemove:m.useCallback(()=>b(P=>P-1),[]),children:e.jsx(Te.div,{tabIndex:w||T===0?-1:0,"data-orientation":a,...f,ref:N,style:{outline:"none",...t.style},onMouseDown:ye(t.onMouseDown,()=>{I.current=!0}),onFocus:ye(t.onFocus,P=>{const A=!I.current;if(P.target===P.currentTarget&&A&&!w){const O=new CustomEvent($m,u6);if(P.currentTarget.dispatchEvent(O),!O.defaultPrevented){const F=R().filter(U=>U.focusable),X=F.find(U=>U.active),V=F.find(U=>U.id===y),me=[X,V,...F].filter(Boolean).map(U=>U.ref.current);ny(me,v)}}I.current=!1}),onBlur:ye(t.onBlur,()=>E(!1))})})}),sy="RovingFocusGroupItem",ry=m.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:o=!1,tabStopId:l,...d}=t,u=Or(),h=l||u,p=f6(sy,r),v=p.currentTabStopId===h,f=ey(r),{onFocusableItemAdd:g,onFocusableItemRemove:N}=p;return m.useEffect(()=>{if(a)return g(),()=>N()},[a,g,N]),e.jsx(jh.ItemSlot,{scope:r,id:h,focusable:a,active:o,children:e.jsx(Te.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...d,ref:s,onMouseDown:ye(t.onMouseDown,k=>{a?p.onItemFocus(h):k.preventDefault()}),onFocus:ye(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:ye(t.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){p.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const y=j6(k,p.orientation,p.dir);if(y!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let w=f().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const E=w.indexOf(k.currentTarget);w=p.loop?y6(w,E+1):w.slice(E+1)}setTimeout(()=>ny(w))}})})})});ry.displayName=sy;var g6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function v6(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function j6(t,s,r){const a=v6(t.key,r);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return g6[a]}function ny(t,s=!1){const r=document.activeElement;for(const a of t)if(a===r||(a.focus({preventScroll:s}),document.activeElement!==r))return}function y6(t,s){return t.map((r,a)=>t[(s+a)%t.length])}var ay=ty,iy=ry,b6=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},ii=new WeakMap,Sc=new WeakMap,_c={},qm=0,oy=function(t){return t&&(t.host||oy(t.parentNode))},N6=function(t,s){return s.map(function(r){if(t.contains(r))return r;var a=oy(r);return a&&t.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},w6=function(t,s,r,a){var o=N6(s,Array.isArray(t)?t:[t]);_c[r]||(_c[r]=new WeakMap);var l=_c[r],d=[],u=new Set,h=new Set(o),p=function(f){!f||u.has(f)||(u.add(f),p(f.parentNode))};o.forEach(p);var v=function(f){!f||h.has(f)||Array.prototype.forEach.call(f.children,function(g){if(u.has(g))v(g);else try{var N=g.getAttribute(a),k=N!==null&&N!=="false",y=(ii.get(g)||0)+1,_=(l.get(g)||0)+1;ii.set(g,y),l.set(g,_),d.push(g),y===1&&k&&Sc.set(g,!0),_===1&&g.setAttribute(r,"true"),k||g.setAttribute(a,"true")}catch(w){console.error("aria-hidden: cannot operate on ",g,w)}})};return v(s),u.clear(),qm++,function(){d.forEach(function(f){var g=ii.get(f)-1,N=l.get(f)-1;ii.set(f,g),l.set(f,N),g||(Sc.has(f)||f.removeAttribute(a),Sc.delete(f)),N||f.removeAttribute(r)}),qm--,qm||(ii=new WeakMap,ii=new WeakMap,Sc=new WeakMap,_c={})}},gp=function(t,s,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),o=b6(t);return o?(a.push.apply(a,Array.from(o.querySelectorAll("[aria-live]"))),w6(a,o,r,"aria-hidden")):function(){return null}},Tr=function(){return Tr=Object.assign||function(s){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l])}return s},Tr.apply(this,arguments)};function ly(t,s){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&s.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)s.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(r[a[o]]=t[a[o]]);return r}function C6(t,s,r){if(r||arguments.length===2)for(var a=0,o=s.length,l;a<o;a++)(l||!(a in s))&&(l||(l=Array.prototype.slice.call(s,0,a)),l[a]=s[a]);return t.concat(l||Array.prototype.slice.call(s))}var Oc="right-scroll-bar-position",Fc="width-before-scroll-bar",S6="with-scroll-bars-hidden",_6="--removed-body-scroll-bar-size";function Bm(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function k6(t,s){var r=m.useState(function(){return{value:t,callback:s,facade:{get current(){return r.value},set current(a){var o=r.value;o!==a&&(r.value=a,r.callback(a,o))}}}})[0];return r.callback=s,r.facade}var E6=typeof window<"u"?m.useLayoutEffect:m.useEffect,D0=new WeakMap;function P6(t,s){var r=k6(null,function(a){return t.forEach(function(o){return Bm(o,a)})});return E6(function(){var a=D0.get(r);if(a){var o=new Set(a),l=new Set(t),d=r.current;o.forEach(function(u){l.has(u)||Bm(u,null)}),l.forEach(function(u){o.has(u)||Bm(u,d)})}D0.set(r,t)},[t]),r}function T6(t){return t}function R6(t,s){s===void 0&&(s=T6);var r=[],a=!1,o={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var d=s(l,a);return r.push(d),function(){r=r.filter(function(u){return u!==d})}},assignSyncMedium:function(l){for(a=!0;r.length;){var d=r;r=[],d.forEach(l)}r={push:function(u){return l(u)},filter:function(){return r}}},assignMedium:function(l){a=!0;var d=[];if(r.length){var u=r;r=[],u.forEach(l),d=r}var h=function(){var v=d;d=[],v.forEach(l)},p=function(){return Promise.resolve().then(h)};p(),r={push:function(v){d.push(v),p()},filter:function(v){return d=d.filter(v),r}}}};return o}function A6(t){t===void 0&&(t={});var s=R6(null);return s.options=Tr({async:!0,ssr:!1},t),s}var cy=function(t){var s=t.sideCar,r=ly(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=s.read();if(!a)throw new Error("Sidecar medium not found");return m.createElement(a,Tr({},r))};cy.isSideCarExport=!0;function M6(t,s){return t.useMedium(s),cy}var dy=A6(),Vm=function(){},wd=m.forwardRef(function(t,s){var r=m.useRef(null),a=m.useState({onScrollCapture:Vm,onWheelCapture:Vm,onTouchMoveCapture:Vm}),o=a[0],l=a[1],d=t.forwardProps,u=t.children,h=t.className,p=t.removeScrollBar,v=t.enabled,f=t.shards,g=t.sideCar,N=t.noIsolation,k=t.inert,y=t.allowPinchZoom,_=t.as,w=_===void 0?"div":_,E=t.gapMode,C=ly(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,I=P6([r,s]),T=Tr(Tr({},C),o);return m.createElement(m.Fragment,null,v&&m.createElement(R,{sideCar:dy,removeScrollBar:p,shards:f,noIsolation:N,inert:k,setCallbacks:l,allowPinchZoom:!!y,lockRef:r,gapMode:E}),d?m.cloneElement(m.Children.only(u),Tr(Tr({},T),{ref:I})):m.createElement(w,Tr({},T,{className:h,ref:I}),u))});wd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wd.classNames={fullWidth:Fc,zeroRight:Oc};var D6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=D6();return s&&t.setAttribute("nonce",s),t}function L6(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function O6(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var F6=function(){var t=0,s=null;return{add:function(r){t==0&&(s=I6())&&(L6(s,r),O6(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},z6=function(){var t=F6();return function(s,r){m.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&r])}},uy=function(){var t=z6(),s=function(r){var a=r.styles,o=r.dynamic;return t(a,o),null};return s},$6={left:0,top:0,right:0,gap:0},Um=function(t){return parseInt(t||"",10)||0},q6=function(t){var s=window.getComputedStyle(document.body),r=s[t==="padding"?"paddingLeft":"marginLeft"],a=s[t==="padding"?"paddingTop":"marginTop"],o=s[t==="padding"?"paddingRight":"marginRight"];return[Um(r),Um(a),Um(o)]},B6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $6;var s=q6(t),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,a-r+s[2]-s[0])}},V6=uy(),fi="data-scroll-locked",U6=function(t,s,r,a){var o=t.left,l=t.top,d=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(S6,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(u,"px ").concat(a,`;
  }
  body[`).concat(fi,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oc,` {
    right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(Fc,` {
    margin-right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(Oc," .").concat(Oc,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Fc," .").concat(Fc,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(fi,`] {
    `).concat(_6,": ").concat(u,`px;
  }
`)},I0=function(){var t=parseInt(document.body.getAttribute(fi)||"0",10);return isFinite(t)?t:0},H6=function(){m.useEffect(function(){return document.body.setAttribute(fi,(I0()+1).toString()),function(){var t=I0()-1;t<=0?document.body.removeAttribute(fi):document.body.setAttribute(fi,t.toString())}},[])},W6=function(t){var s=t.noRelative,r=t.noImportant,a=t.gapMode,o=a===void 0?"margin":a;H6();var l=m.useMemo(function(){return B6(o)},[o]);return m.createElement(V6,{styles:U6(l,!s,o,r?"":"!important")})},yh=!1;if(typeof window<"u")try{var kc=Object.defineProperty({},"passive",{get:function(){return yh=!0,!0}});window.addEventListener("test",kc,kc),window.removeEventListener("test",kc,kc)}catch{yh=!1}var oi=yh?{passive:!1}:!1,G6=function(t){return t.tagName==="TEXTAREA"},my=function(t,s){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!G6(t)&&r[s]==="visible")},K6=function(t){return my(t,"overflowY")},X6=function(t){return my(t,"overflowX")},L0=function(t,s){var r=s.ownerDocument,a=s;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var o=hy(t,a);if(o){var l=py(t,a),d=l[1],u=l[2];if(d>u)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},Y6=function(t){var s=t.scrollTop,r=t.scrollHeight,a=t.clientHeight;return[s,r,a]},Q6=function(t){var s=t.scrollLeft,r=t.scrollWidth,a=t.clientWidth;return[s,r,a]},hy=function(t,s){return t==="v"?K6(s):X6(s)},py=function(t,s){return t==="v"?Y6(s):Q6(s)},J6=function(t,s){return t==="h"&&s==="rtl"?-1:1},Z6=function(t,s,r,a,o){var l=J6(t,window.getComputedStyle(s).direction),d=l*a,u=r.target,h=s.contains(u),p=!1,v=d>0,f=0,g=0;do{var N=py(t,u),k=N[0],y=N[1],_=N[2],w=y-_-l*k;(k||w)&&hy(t,u)&&(f+=w,g+=k),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!h&&u!==document.body||h&&(s.contains(u)||s===u));return(v&&Math.abs(f)<1||!v&&Math.abs(g)<1)&&(p=!0),p},Ec=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},O0=function(t){return[t.deltaX,t.deltaY]},F0=function(t){return t&&"current"in t?t.current:t},e3=function(t,s){return t[0]===s[0]&&t[1]===s[1]},t3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},s3=0,li=[];function r3(t){var s=m.useRef([]),r=m.useRef([0,0]),a=m.useRef(),o=m.useState(s3++)[0],l=m.useState(uy)[0],d=m.useRef(t);m.useEffect(function(){d.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var y=C6([t.lockRef.current],(t.shards||[]).map(F0),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var u=m.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!d.current.allowPinchZoom;var w=Ec(y),E=r.current,C="deltaX"in y?y.deltaX:E[0]-w[0],R="deltaY"in y?y.deltaY:E[1]-w[1],I,T=y.target,b=Math.abs(C)>Math.abs(R)?"h":"v";if("touches"in y&&b==="h"&&T.type==="range")return!1;var P=L0(b,T);if(!P)return!0;if(P?I=b:(I=b==="v"?"h":"v",P=L0(b,T)),!P)return!1;if(!a.current&&"changedTouches"in y&&(C||R)&&(a.current=I),!I)return!0;var A=a.current||I;return Z6(A,_,y,A==="h"?C:R)},[]),h=m.useCallback(function(y){var _=y;if(!(!li.length||li[li.length-1]!==l)){var w="deltaY"in _?O0(_):Ec(_),E=s.current.filter(function(I){return I.name===_.type&&(I.target===_.target||_.target===I.shadowParent)&&e3(I.delta,w)})[0];if(E&&E.should){_.cancelable&&_.preventDefault();return}if(!E){var C=(d.current.shards||[]).map(F0).filter(Boolean).filter(function(I){return I.contains(_.target)}),R=C.length>0?u(_,C[0]):!d.current.noIsolation;R&&_.cancelable&&_.preventDefault()}}},[]),p=m.useCallback(function(y,_,w,E){var C={name:y,delta:_,target:w,should:E,shadowParent:n3(w)};s.current.push(C),setTimeout(function(){s.current=s.current.filter(function(R){return R!==C})},1)},[]),v=m.useCallback(function(y){r.current=Ec(y),a.current=void 0},[]),f=m.useCallback(function(y){p(y.type,O0(y),y.target,u(y,t.lockRef.current))},[]),g=m.useCallback(function(y){p(y.type,Ec(y),y.target,u(y,t.lockRef.current))},[]);m.useEffect(function(){return li.push(l),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",h,oi),document.addEventListener("touchmove",h,oi),document.addEventListener("touchstart",v,oi),function(){li=li.filter(function(y){return y!==l}),document.removeEventListener("wheel",h,oi),document.removeEventListener("touchmove",h,oi),document.removeEventListener("touchstart",v,oi)}},[]);var N=t.removeScrollBar,k=t.inert;return m.createElement(m.Fragment,null,k?m.createElement(l,{styles:t3(o)}):null,N?m.createElement(W6,{gapMode:t.gapMode}):null)}function n3(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const a3=M6(dy,r3);var Cd=m.forwardRef(function(t,s){return m.createElement(wd,Tr({},t,{ref:s,sideCar:a3}))});Cd.classNames=wd.classNames;var bh=["Enter"," "],i3=["ArrowDown","PageUp","Home"],fy=["ArrowUp","PageDown","End"],o3=[...i3,...fy],l3={ltr:[...bh,"ArrowRight"],rtl:[...bh,"ArrowLeft"]},c3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tl="Menu",[Uo,d3,u3]=Yo(tl),[Ia,xy]=Ur(tl,[u3,Pi,Nd]),Sd=Pi(),gy=Nd(),[m3,La]=Ia(tl),[h3,sl]=Ia(tl),vy=t=>{const{__scopeMenu:s,open:r=!1,children:a,dir:o,onOpenChange:l,modal:d=!0}=t,u=Sd(s),[h,p]=m.useState(null),v=m.useRef(!1),f=yt(l),g=Mi(o);return m.useEffect(()=>{const N=()=>{v.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>v.current=!1;return document.addEventListener("keydown",N,{capture:!0}),()=>{document.removeEventListener("keydown",N,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),e.jsx(bj,{...u,children:e.jsx(m3,{scope:s,open:r,onOpenChange:f,content:h,onContentChange:p,children:e.jsx(h3,{scope:s,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:v,dir:g,modal:d,children:a})})})};vy.displayName=tl;var p3="MenuAnchor",vp=m.forwardRef((t,s)=>{const{__scopeMenu:r,...a}=t,o=Sd(r);return e.jsx(rp,{...o,...a,ref:s})});vp.displayName=p3;var jp="MenuPortal",[f3,jy]=Ia(jp,{forceMount:void 0}),yy=t=>{const{__scopeMenu:s,forceMount:r,children:a,container:o}=t,l=La(jp,s);return e.jsx(f3,{scope:s,forceMount:r,children:e.jsx(is,{present:r||l.open,children:e.jsx(Qo,{asChild:!0,container:o,children:a})})})};yy.displayName=jp;var Xs="MenuContent",[x3,yp]=Ia(Xs),by=m.forwardRef((t,s)=>{const r=jy(Xs,t.__scopeMenu),{forceMount:a=r.forceMount,...o}=t,l=La(Xs,t.__scopeMenu),d=sl(Xs,t.__scopeMenu);return e.jsx(Uo.Provider,{scope:t.__scopeMenu,children:e.jsx(is,{present:a||l.open,children:e.jsx(Uo.Slot,{scope:t.__scopeMenu,children:d.modal?e.jsx(g3,{...o,ref:s}):e.jsx(v3,{...o,ref:s})})})})}),g3=m.forwardRef((t,s)=>{const r=La(Xs,t.__scopeMenu),a=m.useRef(null),o=Be(s,a);return m.useEffect(()=>{const l=a.current;if(l)return gp(l)},[]),e.jsx(bp,{...t,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ye(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),v3=m.forwardRef((t,s)=>{const r=La(Xs,t.__scopeMenu);return e.jsx(bp,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),bp=m.forwardRef((t,s)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:d,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:f,onInteractOutside:g,onDismiss:N,disableOutsideScroll:k,...y}=t,_=La(Xs,r),w=sl(Xs,r),E=Sd(r),C=gy(r),R=d3(r),[I,T]=m.useState(null),b=m.useRef(null),P=Be(s,b,_.onContentChange),A=m.useRef(0),O=m.useRef(""),F=m.useRef(0),X=m.useRef(null),V=m.useRef("right"),K=m.useRef(0),me=k?Cd:m.Fragment,U=k?{as:Vn,allowPinchZoom:!0}:void 0,G=H=>{const le=O.current+H,q=R().filter(re=>!re.disabled),se=document.activeElement,ee=q.find(re=>re.ref.current===se)?.textValue,oe=q.map(re=>re.textValue),xe=T3(oe,le,ee),ve=q.find(re=>re.textValue===xe)?.ref.current;(function re(Ne){O.current=Ne,window.clearTimeout(A.current),Ne!==""&&(A.current=window.setTimeout(()=>re(""),1e3))})(le),ve&&setTimeout(()=>ve.focus())};m.useEffect(()=>()=>window.clearTimeout(A.current),[]),xp();const L=m.useCallback(H=>V.current===X.current?.side&&A3(H,X.current?.area),[]);return e.jsx(x3,{scope:r,searchRef:O,onItemEnter:m.useCallback(H=>{L(H)&&H.preventDefault()},[L]),onItemLeave:m.useCallback(H=>{L(H)||(b.current?.focus(),T(null))},[L]),onTriggerLeave:m.useCallback(H=>{L(H)&&H.preventDefault()},[L]),pointerGraceTimerRef:F,onPointerGraceIntentChange:m.useCallback(H=>{X.current=H},[]),children:e.jsx(me,{...U,children:e.jsx(yd,{asChild:!0,trapped:o,onMountAutoFocus:ye(l,H=>{H.preventDefault(),b.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:e.jsx(Ci,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:f,onInteractOutside:g,onDismiss:N,children:e.jsx(ay,{asChild:!0,...C,dir:w.dir,orientation:"vertical",loop:a,currentTabStopId:I,onCurrentTabStopIdChange:T,onEntryFocus:ye(h,H=>{w.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(np,{role:"menu","aria-orientation":"vertical","data-state":Oy(_.open),"data-radix-menu-content":"",dir:w.dir,...E,...y,ref:P,style:{outline:"none",...y.style},onKeyDown:ye(y.onKeyDown,H=>{const q=H.target.closest("[data-radix-menu-content]")===H.currentTarget,se=H.ctrlKey||H.altKey||H.metaKey,ee=H.key.length===1;q&&(H.key==="Tab"&&H.preventDefault(),!se&&ee&&G(H.key));const oe=b.current;if(H.target!==oe||!o3.includes(H.key))return;H.preventDefault();const ve=R().filter(re=>!re.disabled).map(re=>re.ref.current);fy.includes(H.key)&&ve.reverse(),E3(ve)}),onBlur:ye(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(A.current),O.current="")}),onPointerMove:ye(t.onPointerMove,Ho(H=>{const le=H.target,q=K.current!==H.clientX;if(H.currentTarget.contains(le)&&q){const se=H.clientX>K.current?"right":"left";V.current=se,K.current=H.clientX}}))})})})})})})});by.displayName=Xs;var j3="MenuGroup",Np=m.forwardRef((t,s)=>{const{__scopeMenu:r,...a}=t;return e.jsx(Te.div,{role:"group",...a,ref:s})});Np.displayName=j3;var y3="MenuLabel",Ny=m.forwardRef((t,s)=>{const{__scopeMenu:r,...a}=t;return e.jsx(Te.div,{...a,ref:s})});Ny.displayName=y3;var ed="MenuItem",z0="menu.itemSelect",_d=m.forwardRef((t,s)=>{const{disabled:r=!1,onSelect:a,...o}=t,l=m.useRef(null),d=sl(ed,t.__scopeMenu),u=yp(ed,t.__scopeMenu),h=Be(s,l),p=m.useRef(!1),v=()=>{const f=l.current;if(!r&&f){const g=new CustomEvent(z0,{bubbles:!0,cancelable:!0});f.addEventListener(z0,N=>a?.(N),{once:!0}),Bh(f,g),g.defaultPrevented?p.current=!1:d.onClose()}};return e.jsx(wy,{...o,ref:h,disabled:r,onClick:ye(t.onClick,v),onPointerDown:f=>{t.onPointerDown?.(f),p.current=!0},onPointerUp:ye(t.onPointerUp,f=>{p.current||f.currentTarget?.click()}),onKeyDown:ye(t.onKeyDown,f=>{const g=u.searchRef.current!=="";r||g&&f.key===" "||bh.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});_d.displayName=ed;var wy=m.forwardRef((t,s)=>{const{__scopeMenu:r,disabled:a=!1,textValue:o,...l}=t,d=yp(ed,r),u=gy(r),h=m.useRef(null),p=Be(s,h),[v,f]=m.useState(!1),[g,N]=m.useState("");return m.useEffect(()=>{const k=h.current;k&&N((k.textContent??"").trim())},[l.children]),e.jsx(Uo.ItemSlot,{scope:r,disabled:a,textValue:o??g,children:e.jsx(iy,{asChild:!0,...u,focusable:!a,children:e.jsx(Te.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...l,ref:p,onPointerMove:ye(t.onPointerMove,Ho(k=>{a?d.onItemLeave(k):(d.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(t.onPointerLeave,Ho(k=>d.onItemLeave(k))),onFocus:ye(t.onFocus,()=>f(!0)),onBlur:ye(t.onBlur,()=>f(!1))})})})}),b3="MenuCheckboxItem",Cy=m.forwardRef((t,s)=>{const{checked:r=!1,onCheckedChange:a,...o}=t;return e.jsx(Py,{scope:t.__scopeMenu,checked:r,children:e.jsx(_d,{role:"menuitemcheckbox","aria-checked":td(r)?"mixed":r,...o,ref:s,"data-state":Cp(r),onSelect:ye(o.onSelect,()=>a?.(td(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Cy.displayName=b3;var Sy="MenuRadioGroup",[N3,w3]=Ia(Sy,{value:void 0,onValueChange:()=>{}}),_y=m.forwardRef((t,s)=>{const{value:r,onValueChange:a,...o}=t,l=yt(a);return e.jsx(N3,{scope:t.__scopeMenu,value:r,onValueChange:l,children:e.jsx(Np,{...o,ref:s})})});_y.displayName=Sy;var ky="MenuRadioItem",Ey=m.forwardRef((t,s)=>{const{value:r,...a}=t,o=w3(ky,t.__scopeMenu),l=r===o.value;return e.jsx(Py,{scope:t.__scopeMenu,checked:l,children:e.jsx(_d,{role:"menuitemradio","aria-checked":l,...a,ref:s,"data-state":Cp(l),onSelect:ye(a.onSelect,()=>o.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});Ey.displayName=ky;var wp="MenuItemIndicator",[Py,C3]=Ia(wp,{checked:!1}),Ty=m.forwardRef((t,s)=>{const{__scopeMenu:r,forceMount:a,...o}=t,l=C3(wp,r);return e.jsx(is,{present:a||td(l.checked)||l.checked===!0,children:e.jsx(Te.span,{...o,ref:s,"data-state":Cp(l.checked)})})});Ty.displayName=wp;var S3="MenuSeparator",Ry=m.forwardRef((t,s)=>{const{__scopeMenu:r,...a}=t;return e.jsx(Te.div,{role:"separator","aria-orientation":"horizontal",...a,ref:s})});Ry.displayName=S3;var _3="MenuArrow",Ay=m.forwardRef((t,s)=>{const{__scopeMenu:r,...a}=t,o=Sd(r);return e.jsx(ap,{...o,...a,ref:s})});Ay.displayName=_3;var k3="MenuSub",[bI,My]=Ia(k3),Ao="MenuSubTrigger",Dy=m.forwardRef((t,s)=>{const r=La(Ao,t.__scopeMenu),a=sl(Ao,t.__scopeMenu),o=My(Ao,t.__scopeMenu),l=yp(Ao,t.__scopeMenu),d=m.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=l,p={__scopeMenu:t.__scopeMenu},v=m.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return m.useEffect(()=>v,[v]),m.useEffect(()=>{const f=u.current;return()=>{window.clearTimeout(f),h(null)}},[u,h]),e.jsx(vp,{asChild:!0,...p,children:e.jsx(wy,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":Oy(r.open),...t,ref:ld(s,o.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ye(t.onPointerMove,Ho(f=>{l.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!d.current&&(l.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{r.onOpenChange(!0),v()},100))})),onPointerLeave:ye(t.onPointerLeave,Ho(f=>{v();const g=r.content?.getBoundingClientRect();if(g){const N=r.content?.dataset.side,k=N==="right",y=k?-5:5,_=g[k?"left":"right"],w=g[k?"right":"left"];l.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:_,y:g.top},{x:w,y:g.top},{x:w,y:g.bottom},{x:_,y:g.bottom}],side:N}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(f),f.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:ye(t.onKeyDown,f=>{const g=l.searchRef.current!=="";t.disabled||g&&f.key===" "||l3[a.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});Dy.displayName=Ao;var Iy="MenuSubContent",Ly=m.forwardRef((t,s)=>{const r=jy(Xs,t.__scopeMenu),{forceMount:a=r.forceMount,...o}=t,l=La(Xs,t.__scopeMenu),d=sl(Xs,t.__scopeMenu),u=My(Iy,t.__scopeMenu),h=m.useRef(null),p=Be(s,h);return e.jsx(Uo.Provider,{scope:t.__scopeMenu,children:e.jsx(is,{present:a||l.open,children:e.jsx(Uo.Slot,{scope:t.__scopeMenu,children:e.jsx(bp,{id:u.contentId,"aria-labelledby":u.triggerId,...o,ref:p,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{d.isUsingKeyboardRef.current&&h.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:ye(t.onFocusOutside,v=>{v.target!==u.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:ye(t.onEscapeKeyDown,v=>{d.onClose(),v.preventDefault()}),onKeyDown:ye(t.onKeyDown,v=>{const f=v.currentTarget.contains(v.target),g=c3[d.dir].includes(v.key);f&&g&&(l.onOpenChange(!1),u.trigger?.focus(),v.preventDefault())})})})})})});Ly.displayName=Iy;function Oy(t){return t?"open":"closed"}function td(t){return t==="indeterminate"}function Cp(t){return td(t)?"indeterminate":t?"checked":"unchecked"}function E3(t){const s=document.activeElement;for(const r of t)if(r===s||(r.focus(),document.activeElement!==s))return}function P3(t,s){return t.map((r,a)=>t[(s+a)%t.length])}function T3(t,s,r){const o=s.length>1&&Array.from(s).every(p=>p===s[0])?s[0]:s,l=r?t.indexOf(r):-1;let d=P3(t,Math.max(l,0));o.length===1&&(d=d.filter(p=>p!==r));const h=d.find(p=>p.toLowerCase().startsWith(o.toLowerCase()));return h!==r?h:void 0}function R3(t,s){const{x:r,y:a}=t;let o=!1;for(let l=0,d=s.length-1;l<s.length;d=l++){const u=s[l].x,h=s[l].y,p=s[d].x,v=s[d].y;h>a!=v>a&&r<(p-u)*(a-h)/(v-h)+u&&(o=!o)}return o}function A3(t,s){if(!s)return!1;const r={x:t.clientX,y:t.clientY};return R3(r,s)}function Ho(t){return s=>s.pointerType==="mouse"?t(s):void 0}var M3=vy,D3=vp,I3=yy,L3=by,O3=Np,F3=Ny,z3=_d,$3=Cy,q3=_y,B3=Ey,V3=Ty,U3=Ry,H3=Ay,W3=Dy,G3=Ly,Sp="DropdownMenu",[K3]=Ur(Sp,[xy]),ls=xy(),[X3,Fy]=K3(Sp),zy=t=>{const{__scopeDropdownMenu:s,children:r,dir:a,open:o,defaultOpen:l,onOpenChange:d,modal:u=!0}=t,h=ls(s),p=m.useRef(null),[v=!1,f]=Un({prop:o,defaultProp:l,onChange:d});return e.jsx(X3,{scope:s,triggerId:Or(),triggerRef:p,contentId:Or(),open:v,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(g=>!g),[f]),modal:u,children:e.jsx(M3,{...h,open:v,onOpenChange:f,dir:a,modal:u,children:r})})};zy.displayName=Sp;var $y="DropdownMenuTrigger",qy=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...o}=t,l=Fy($y,r),d=ls(r);return e.jsx(D3,{asChild:!0,...d,children:e.jsx(Te.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...o,ref:ld(s,l.triggerRef),onPointerDown:ye(t.onPointerDown,u=>{!a&&u.button===0&&u.ctrlKey===!1&&(l.onOpenToggle(),l.open||u.preventDefault())}),onKeyDown:ye(t.onKeyDown,u=>{a||(["Enter"," "].includes(u.key)&&l.onOpenToggle(),u.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});qy.displayName=$y;var Y3="DropdownMenuPortal",By=t=>{const{__scopeDropdownMenu:s,...r}=t,a=ls(s);return e.jsx(I3,{...a,...r})};By.displayName=Y3;var Vy="DropdownMenuContent",Uy=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,o=Fy(Vy,r),l=ls(r),d=m.useRef(!1);return e.jsx(L3,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...a,ref:s,onCloseAutoFocus:ye(t.onCloseAutoFocus,u=>{d.current||o.triggerRef.current?.focus(),d.current=!1,u.preventDefault()}),onInteractOutside:ye(t.onInteractOutside,u=>{const h=u.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,v=h.button===2||p;(!o.modal||v)&&(d.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Uy.displayName=Vy;var Q3="DropdownMenuGroup",J3=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,o=ls(r);return e.jsx(O3,{...o,...a,ref:s})});J3.displayName=Q3;var Z3="DropdownMenuLabel",Hy=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,o=ls(r);return e.jsx(F3,{...o,...a,ref:s})});Hy.displayName=Z3;var e5="DropdownMenuItem",Wy=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,o=ls(r);return e.jsx(z3,{...o,...a,ref:s})});Wy.displayName=e5;var t5="DropdownMenuCheckboxItem",Gy=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,o=ls(r);return e.jsx($3,{...o,...a,ref:s})});Gy.displayName=t5;var s5="DropdownMenuRadioGroup",r5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,o=ls(r);return e.jsx(q3,{...o,...a,ref:s})});r5.displayName=s5;var n5="DropdownMenuRadioItem",Ky=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,o=ls(r);return e.jsx(B3,{...o,...a,ref:s})});Ky.displayName=n5;var a5="DropdownMenuItemIndicator",Xy=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,o=ls(r);return e.jsx(V3,{...o,...a,ref:s})});Xy.displayName=a5;var i5="DropdownMenuSeparator",Yy=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,o=ls(r);return e.jsx(U3,{...o,...a,ref:s})});Yy.displayName=i5;var o5="DropdownMenuArrow",l5=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,o=ls(r);return e.jsx(H3,{...o,...a,ref:s})});l5.displayName=o5;var c5="DropdownMenuSubTrigger",Qy=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,o=ls(r);return e.jsx(W3,{...o,...a,ref:s})});Qy.displayName=c5;var d5="DropdownMenuSubContent",Jy=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...a}=t,o=ls(r);return e.jsx(G3,{...o,...a,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Jy.displayName=d5;var u5=zy,m5=qy,h5=By,Zy=Uy,eb=Hy,tb=Wy,sb=Gy,rb=Ky,nb=Xy,ab=Yy,ib=Qy,ob=Jy;const zr=u5,$r=m5,p5=m.forwardRef(({className:t,inset:s,children:r,...a},o)=>e.jsxs(ib,{ref:o,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...a,children:[r,e.jsx(Dr,{className:"ml-auto h-4 w-4"})]}));p5.displayName=ib.displayName;const f5=m.forwardRef(({className:t,...s},r)=>e.jsx(ob,{ref:r,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));f5.displayName=ob.displayName;const fr=m.forwardRef(({className:t,sideOffset:s=4,...r},a)=>e.jsx(h5,{children:e.jsx(Zy,{ref:a,sideOffset:s,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));fr.displayName=Zy.displayName;const Ke=m.forwardRef(({className:t,inset:s,...r},a)=>e.jsx(tb,{ref:a,className:we("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...r}));Ke.displayName=tb.displayName;const x5=m.forwardRef(({className:t,children:s,checked:r,...a},o)=>e.jsxs(sb,{ref:o,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(nb,{children:e.jsx(Ps,{className:"h-4 w-4"})})}),s]}));x5.displayName=sb.displayName;const g5=m.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(rb,{ref:a,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(nb,{children:e.jsx(uS,{className:"h-2 w-2 fill-current"})})}),s]}));g5.displayName=rb.displayName;const v5=m.forwardRef(({className:t,inset:s,...r},a)=>e.jsx(eb,{ref:a,className:we("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...r}));v5.displayName=eb.displayName;const kd=m.forwardRef(({className:t,...s},r)=>e.jsx(ab,{ref:r,className:we("-mx-1 my-1 h-px bg-muted",t),...s}));kd.displayName=ab.displayName;const j5=()=>{const[t,s]=m.useState(0),[r,a]=m.useState(!0),[o,l]=m.useState(null),d=m.useCallback(async(u=0)=>{try{if(a(!0),l(null),!localStorage.getItem("authToken")){s(0),a(!1);return}const p=await ie.get("/conversations"),f=(p?.data||p||[]).reduce((g,N)=>g+(N.messages_non_lus_acheteur||0)+(N.messages_non_lus_fournisseur||0),0);s(f)}catch(h){const p=h instanceof Error?h.message:"Erreur inconnue";if(console.error("Erreur rcupration compteur messages:",p),u<2&&(p.includes("connexion")||p.includes("timeout")||p.includes("rseau"))){console.log(`Tentative de reconnexion ${u+1}/2...`),setTimeout(()=>d(u+1),2e3);return}l(p),s(0)}finally{a(!1)}},[]);return m.useEffect(()=>{d();const u=setInterval(d,3e4);return()=>clearInterval(u)},[d]),{count:t,isLoading:r,error:o,refetch:d}},Ed=void 0,Yt=t=>t?(t.startsWith("http://")||t.startsWith("https://")||console.error("VITE_BACKEND_URL n'est pas dfinie dans les variables d'environnement"),t):"",Pd=t=>{try{const s=t.split(".");return s.length!==3?null:JSON.parse(atob(s[1]))}catch(s){return console.error("Erreur dcodage token:",s),null}},lb=t=>{const s=Pd(t);if(!s||!s.exp)return!0;const r=Math.floor(Date.now()/1e3);return s.exp<r},y5=t=>{const s=Pd(t);if(!s||!s.exp)return 0;const r=Math.floor(Date.now()/1e3);return Math.max(0,s.exp-r)},b5=t=>!t||typeof t!="string"||!Pd(t)?!1:!lb(t),N5=t=>{const s=Pd(t);return s?{userId:s.id,email:s.email,roleId:s.role_id,issuedAt:new Date(s.iat*1e3),expiresAt:new Date(s.exp*1e3),isExpired:lb(t),timeRemaining:y5(t)}:null};let Rr={user:null,isAuthenticated:!1,isLoading:!0,token:null};const Wo=new Set,w5=()=>{Wo.forEach(t=>t())},lr=t=>{Rr={...Rr,...t},w5()},Rt=()=>{const[t,s]=m.useState(Rr.user),[r,a]=m.useState(Rr.isLoading),[o,l]=m.useState(null);m.useEffect(()=>{const u=()=>{s(Rr.user),a(Rr.isLoading)};return Wo.add(u),()=>{Wo.delete(u)}},[]);const d=m.useCallback(async()=>{try{lr({isLoading:!0}),l(null);const u=localStorage.getItem("authToken");if(!u){lr({user:null,isAuthenticated:!1,isLoading:!1});return}const h=await fetch(`${Ed}/auth/me`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok){if(h.status===401){console.warn(" Token invalide dtect, suppression du localStorage"),localStorage.removeItem("authToken"),lr({user:null,isAuthenticated:!1,isLoading:!1});return}console.warn(` Erreur ${h.status} lors de la vrification utilisateur:`,h.statusText),lr({isLoading:!1});return}const p=await h.json();if(p&&p.id)lr({user:p,isAuthenticated:!0,isLoading:!1});else throw new Error("Donnes utilisateur invalides")}catch(u){const h=u instanceof Error?u.message:"Erreur inconnue";console.error("Erreur rcupration utilisateur:",h),l(h),h.includes("fetch")||h.includes("network")||h.includes("Failed to fetch")?(console.warn(" Erreur rseau - token conserv"),lr({isLoading:!1})):lr({user:null,isAuthenticated:!1,isLoading:!1})}},[]);return m.useEffect(()=>{const u=localStorage.getItem("authToken");if(u){if(!b5(u)){console.warn(" Token expir dtect ct client, suppression"),localStorage.removeItem("authToken"),lr({user:null,isAuthenticated:!1,isLoading:!1});return}const h=N5(u);console.log(" Token trouv, expire dans:",Math.floor(h?.timeRemaining||0/60),"minutes"),Rr.user||d()}else console.log(" Aucun token trouv"),lr({user:null,isAuthenticated:!1,isLoading:!1})},[d]),m.useEffect(()=>{const u=()=>{d()};return window.addEventListener("tokenChanged",u),window.addEventListener("storage",h=>{h.key==="authToken"&&d()}),()=>{window.removeEventListener("tokenChanged",u),window.removeEventListener("storage",u)}},[d]),{data:t,isLoading:r,error:o,refetch:d}},Td=()=>{const{data:t,isLoading:s,error:r,refetch:a}=Rt(),[o,l]=m.useState(null),d=m.useCallback(async h=>{try{l(null);const p=await fetch(`${Ed}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}),v=await p.json();if(!p.ok)throw new Error(v.error||v.message||"Erreur de connexion");return v.token&&(localStorage.setItem("authToken",v.token),v.user&&lr({user:v.user,isAuthenticated:!0,isLoading:!1,token:v.token}),window.dispatchEvent(new Event("tokenChanged")),setTimeout(()=>a(),100)),{success:!0,data:{user:v.user,token:v.token,expires_in:1440*60},message:v.message}}catch(p){const v=p instanceof Error?p.message:"Erreur de connexion";throw l(v),p}},[a]),u=m.useCallback(()=>{localStorage.removeItem("authToken"),l(null),lr({user:null,isAuthenticated:!1,isLoading:!1,token:null}),window.dispatchEvent(new Event("tokenChanged"))},[]);return{user:t,isAuthenticated:Rr.isAuthenticated,isLoading:s,error:r||o,login:d,logout:u,refetchUser:a}},Wr=()=>{const[t,s]=m.useState(Rr.isAuthenticated);return m.useEffect(()=>{const r=()=>{s(Rr.isAuthenticated)};return Wo.add(r),()=>{Wo.delete(r)}},[]),t},ea=()=>{const{logout:t}=Td();return t},_p=()=>{const{login:t}=Td();return t},C5=()=>({register:m.useCallback(async s=>{try{const r=await fetch(`${Ed}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),a=await r.json();if(!r.ok)throw new Error(a.error||a.message||"Erreur lors de l'inscription");return a}catch(r){throw console.error("Erreur inscription:",r),r}},[])}),S5=()=>{const{refetchUser:t}=Td();return{updateProfile:m.useCallback(async r=>{try{const a=localStorage.getItem("authToken"),o=await fetch(`${Ed}/auth/profile`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(r)}),l=await o.json();if(!o.ok||!l.success)throw new Error(l.error||"Erreur lors de la mise  jour du profil");return await t(),l}catch(a){throw console.error("Erreur mise  jour profil:",a),a}},[t])}},Di=t=>{const[s,r]=m.useState(null),[a,o]=m.useState(!0),[l,d]=m.useState(null),u=async()=>{try{o(!0),d(null);const h=localStorage.getItem("authToken");if(!h){r(null),o(!1);return}const p=t?`undefined/profile-photo/${t}`:"undefined/profile-photo",v=await fetch(p,{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}}),f=await v.json();if(!v.ok)throw new Error(f.error||"Erreur lors de la rcupration");r(f.data)}catch(h){h instanceof Error&&!h.message.includes("Token d'authentification manquant")&&console.error("Erreur rcupration photo profil:",h),d(h instanceof Error?h.message:"Erreur lors de la rcupration")}finally{o(!1)}};return m.useEffect(()=>{u()},[t]),{photoData:s,isLoading:a,error:l,refetch:u}},_5={xs:"w-6 h-6",sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-20 h-20"},k5={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-10 h-10"},Rd=({photoUrl:t,name:s,size:r="md",className:a="",showFallback:o=!0})=>{const l=_5[r],d=k5[r],u=h=>h?h.split(" ").map(p=>p.charAt(0)).join("").toUpperCase().slice(0,2):"U";return e.jsxs("div",{className:`${l} rounded-full overflow-hidden bg-gray-100 flex items-center justify-center ${a}`,children:[t?e.jsx("img",{src:Yt(t),alt:s?`Photo de ${s}`:"Photo de profil",className:"w-full h-full object-cover",onError:h=>{o&&(h.currentTarget.style.display="none",h.currentTarget.nextElementSibling?.classList.remove("hidden"))}}):null,o&&e.jsx("div",{className:`${t?"hidden":""} flex items-center justify-center w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 text-white font-semibold`,children:s?e.jsx("span",{className:"text-xs font-bold",children:u(s)}):e.jsx(Xe,{className:d})})]})},E5=Zo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-green-600 text-white hover:bg-green-700",secondary:"border-transparent bg-blue-600 text-white hover:bg-blue-700",destructive:"border-transparent bg-red-600 text-white hover:bg-red-700",outline:"text-gray-900 border-gray-300"}},defaultVariants:{variant:"default"}});function ne({className:t,variant:s,...r}){return e.jsx("div",{className:we(E5({variant:s}),t),...r})}const Q=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));Q.displayName="Card";const de=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:we("flex flex-col space-y-1.5 p-6",t),...s}));de.displayName="CardHeader";const ue=m.forwardRef(({className:t,...s},r)=>e.jsx("h3",{ref:r,className:we("text-2xl font-semibold leading-none tracking-tight",t),...s}));ue.displayName="CardTitle";const cb=m.forwardRef(({className:t,...s},r)=>e.jsx("p",{ref:r,className:we("text-sm text-muted-foreground",t),...s}));cb.displayName="CardDescription";const J=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:we("p-6 pt-0",t),...s}));J.displayName="CardContent";const P5=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:we("flex items-center p-6 pt-0",t),...s}));P5.displayName="CardFooter";var kp="Tabs",[T5]=Ur(kp,[Nd]),db=Nd(),[R5,Ep]=T5(kp),ub=m.forwardRef((t,s)=>{const{__scopeTabs:r,value:a,onValueChange:o,defaultValue:l,orientation:d="horizontal",dir:u,activationMode:h="automatic",...p}=t,v=Mi(u),[f,g]=Un({prop:a,onChange:o,defaultProp:l});return e.jsx(R5,{scope:r,baseId:Or(),value:f,onValueChange:g,orientation:d,dir:v,activationMode:h,children:e.jsx(Te.div,{dir:v,"data-orientation":d,...p,ref:s})})});ub.displayName=kp;var mb="TabsList",hb=m.forwardRef((t,s)=>{const{__scopeTabs:r,loop:a=!0,...o}=t,l=Ep(mb,r),d=db(r);return e.jsx(ay,{asChild:!0,...d,orientation:l.orientation,dir:l.dir,loop:a,children:e.jsx(Te.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:s})})});hb.displayName=mb;var pb="TabsTrigger",fb=m.forwardRef((t,s)=>{const{__scopeTabs:r,value:a,disabled:o=!1,...l}=t,d=Ep(pb,r),u=db(r),h=vb(d.baseId,a),p=jb(d.baseId,a),v=a===d.value;return e.jsx(iy,{asChild:!0,...u,focusable:!o,active:v,children:e.jsx(Te.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":p,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...l,ref:s,onMouseDown:ye(t.onMouseDown,f=>{!o&&f.button===0&&f.ctrlKey===!1?d.onValueChange(a):f.preventDefault()}),onKeyDown:ye(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&d.onValueChange(a)}),onFocus:ye(t.onFocus,()=>{const f=d.activationMode!=="manual";!v&&!o&&f&&d.onValueChange(a)})})})});fb.displayName=pb;var xb="TabsContent",gb=m.forwardRef((t,s)=>{const{__scopeTabs:r,value:a,forceMount:o,children:l,...d}=t,u=Ep(xb,r),h=vb(u.baseId,a),p=jb(u.baseId,a),v=a===u.value,f=m.useRef(v);return m.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),e.jsx(is,{present:o||v,children:({present:g})=>e.jsx(Te.div,{"data-state":v?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!g,id:p,tabIndex:0,...d,ref:s,style:{...t.style,animationDuration:f.current?"0s":void 0},children:g&&l})})});gb.displayName=xb;function vb(t,s){return`${t}-trigger-${s}`}function jb(t,s){return`${t}-content-${s}`}var A5=ub,yb=hb,bb=fb,Nb=gb;const Gr=A5,yr=m.forwardRef(({className:t,...s},r)=>e.jsx(yb,{ref:r,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));yr.displayName=yb.displayName;const Ue=m.forwardRef(({className:t,...s},r)=>e.jsx(bb,{ref:r,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));Ue.displayName=bb.displayName;const He=m.forwardRef(({className:t,...s},r)=>e.jsx(Nb,{ref:r,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));He.displayName=Nb.displayName;class M5{constructor(){this.listeners=[],this.pollingInterval=null}async getNotifications(s={}){try{console.log(" [UserNotificationService] Rcupration des notifications");const r=await ie.get("/notifications",{params:s});return r.data||r}catch(r){return console.error(" [UserNotificationService] Erreur rcupration notifications:",r),{notifications:[],total:0,page:1,limit:50,totalPages:0}}}async getNotificationCounts(){try{console.log(" [UserNotificationService] Rcupration des compteurs");const s=await ie.get("/notifications/counts");return s.data||s}catch(s){return console.error(" [UserNotificationService] Erreur rcupration compteurs:",s),{total:0,unread:0,urgent:0,high:0,messages:0,products:0,system:0}}}async markAsRead(s){try{await ie.patch(`/notifications/${s}/read`),console.log(" [UserNotificationService] Notification marque comme lue:",s)}catch(r){throw console.error(" [UserNotificationService] Erreur marquage notification:",r),r}}async markAllAsRead(){try{await ie.patch("/notifications/mark-all-read"),console.log(" [UserNotificationService] Toutes les notifications marques comme lues")}catch(s){throw console.error(" [UserNotificationService] Erreur marquage toutes notifications:",s),s}}async deleteNotification(s){try{await ie.delete(`/notifications/${s}`),console.log(" [UserNotificationService] Notification supprime:",s)}catch(r){throw console.error(" [UserNotificationService] Erreur suppression notification:",r),r}}async deleteAllRead(){try{await ie.delete("/notifications/delete-read"),console.log(" [UserNotificationService] Notifications lues supprimes")}catch(s){throw console.error(" [UserNotificationService] Erreur suppression notifications lues:",s),s}}async createTestNotifications(s,r=5){try{await ie.post("/notifications/test",{type:s,count:r}),console.log(" [UserNotificationService] Notifications de test cres")}catch(a){throw console.error(" [UserNotificationService] Erreur cration notifications test:",a),a}}addListener(s){this.listeners.push(s)}removeListener(s){this.listeners=this.listeners.filter(r=>r!==s)}notifyListeners(s){this.listeners.forEach(r=>r(s))}startPolling(s=3e4){this.pollingInterval&&clearInterval(this.pollingInterval),this.pollingInterval=setInterval(async()=>{try{const r=await this.getNotificationCounts();this.notifyListeners(r)}catch(r){console.error(" [UserNotificationService] Erreur polling:",r)}},s),console.log(" [UserNotificationService] Polling dmarr")}stopPolling(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null,console.log(" [UserNotificationService] Polling arrt"))}getNotificationIcon(s,r){switch(s){case"message":return"";case"produit":return"";case"commande":return"";case"promotion":return"";case"systeme":return"";default:return""}}getPriorityColor(s){switch(s){case"urgent":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"medium":return"text-blue-600 bg-blue-50";case"low":return"text-gray-600 bg-gray-50";default:return"text-gray-600 bg-gray-50"}}getTypeLabel(s){switch(s){case"message":return"Message";case"produit":return"Produit";case"commande":return"Commande";case"promotion":return"Promotion";case"systeme":return"Systme";default:return"Autre"}}getCategoryLabel(s){switch(s){case"new_message":return"Nouveau message";case"conversation_created":return"Conversation cre";case"new_product":return"Nouveau produit";case"price_change":return"Prix modifi";case"out_of_stock":return"Rupture de stock";case"contact_request":return"Demande de contact";case"product_approved":return"Produit approuv";case"product_rejected":return"Produit rejet";case"modification_request":return"Modification demande";case"pending_moderation":return"En attente de modration";case"system_message":return"Message systme";case"maintenance":return"Maintenance";case"important_update":return"Mise  jour importante";default:return"Gnral"}}}const mt=new M5,D5=()=>{const[t,s]=m.useState([]),[r,a]=m.useState({total:0,unread:0,urgent:0,high:0,messages:0,products:0,system:0}),[o,l]=m.useState(!1),[d,u]=m.useState(!1),[h,p]=m.useState(""),[v,f]=m.useState("all"),[g,N]=m.useState("all"),k=async()=>{try{u(!0);const[b,P]=await Promise.all([mt.getNotifications(),mt.getNotificationCounts()]);s(b.notifications||[]),a(P)}catch(b){console.error("Erreur chargement notifications:",b),$.error("Erreur lors du chargement des notifications")}finally{u(!1)}},y=async b=>{try{await mt.markAsRead(b),await k(),$.success("Notification marque comme lue")}catch(P){console.error("Erreur marquage notification:",P),$.error("Erreur lors du marquage de la notification")}},_=async()=>{try{await mt.markAllAsRead(),await k(),$.success("Toutes les notifications marques comme lues")}catch(b){console.error("Erreur marquage toutes notifications:",b),$.error("Erreur lors du marquage des notifications")}},w=async b=>{try{await mt.deleteNotification(b),await k(),$.success("Notification supprime")}catch(P){console.error("Erreur suppression notification:",P),$.error("Erreur lors de la suppression de la notification")}},E=async()=>{try{await mt.deleteAllRead(),await k(),$.success("Notifications lues supprimes")}catch(b){console.error("Erreur suppression notifications lues:",b),$.error("Erreur lors de la suppression des notifications")}},C=async()=>{try{await mt.createTestNotifications("all",3),await k(),$.success("Notifications de test cres")}catch(b){console.error("Erreur cration notifications test:",b),$.error("Erreur lors de la cration des notifications de test")}};m.useEffect(()=>{k(),mt.startPolling(3e4);const b=P=>{a(P)};return mt.addListener(b),()=>{mt.removeListener(b),mt.stopPolling()}},[]);const R=(Array.isArray(t)?t:[]).filter(b=>{const P=!h||b.titre.toLowerCase().includes(h.toLowerCase())||b.message.toLowerCase().includes(h.toLowerCase()),A=v==="all"||b.type===v,O=g==="all"||b.priority===g;return P&&A&&O});R.reduce((b,P)=>(b[P.type]||(b[P.type]=[]),b[P.type].push(P),b),{});const I=b=>{switch(b){case"message":return e.jsx(Ye,{className:"w-4 h-4"});case"produit":return e.jsx(De,{className:"w-4 h-4"});case"commande":return e.jsx(pr,{className:"w-4 h-4"});case"promotion":return e.jsx(ui,{className:"w-4 h-4"});case"systeme":return e.jsx(Ws,{className:"w-4 h-4"});default:return e.jsx(vs,{className:"w-4 h-4"})}},T=b=>{const P=new Date(b),O=Math.floor((new Date().getTime()-P.getTime())/(1e3*60*60));return O<1?" l'instant":O<24?`Il y a ${O}h`:P.toLocaleDateString("fr-FR")};return e.jsxs("div",{className:"relative",children:[e.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>l(!o),className:"relative",children:[e.jsx(vs,{className:"w-5 h-5"}),r.unread>0&&e.jsx(ne,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:r.unread>99?"99+":r.unread})]}),o&&e.jsxs(Q,{className:"absolute right-0 top-12 w-96 max-h-[600px] z-50 shadow-lg",children:[e.jsxs(de,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ue,{className:"text-lg",children:"Notifications"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(D,{variant:"ghost",size:"sm",onClick:_,disabled:r.unread===0,children:[e.jsx(Ps,{className:"w-4 h-4 mr-1"}),"Tout marquer"]}),e.jsxs(D,{variant:"ghost",size:"sm",onClick:E,disabled:(Array.isArray(t)?t:[]).filter(b=>b.lu).length===0,children:[e.jsx(Rs,{className:"w-4 h-4 mr-1"}),"Nettoyer"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{placeholder:"Rechercher...",value:h,onChange:b=>p(b.target.value),className:"h-8"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(zr,{children:[e.jsx($r,{asChild:!0,children:e.jsxs(D,{variant:"outline",size:"sm",className:"h-8",children:[e.jsx(Ns,{className:"w-3 h-3 mr-1"}),v==="all"?"Tous les types":mt.getTypeLabel(v)]})}),e.jsxs(fr,{children:[e.jsx(Ke,{onClick:()=>f("all"),children:"Tous les types"}),e.jsx(Ke,{onClick:()=>f("message"),children:"Messages"}),e.jsx(Ke,{onClick:()=>f("produit"),children:"Produits"}),e.jsx(Ke,{onClick:()=>f("commande"),children:"Commandes"}),e.jsx(Ke,{onClick:()=>f("systeme"),children:"Systme"})]})]}),e.jsxs(zr,{children:[e.jsx($r,{asChild:!0,children:e.jsxs(D,{variant:"outline",size:"sm",className:"h-8",children:[e.jsx(Ns,{className:"w-3 h-3 mr-1"}),g==="all"?"Toutes priorits":g]})}),e.jsxs(fr,{children:[e.jsx(Ke,{onClick:()=>N("all"),children:"Toutes priorits"}),e.jsx(Ke,{onClick:()=>N("urgent"),children:"Urgent"}),e.jsx(Ke,{onClick:()=>N("high"),children:"leve"}),e.jsx(Ke,{onClick:()=>N("medium"),children:"Moyenne"}),e.jsx(Ke,{onClick:()=>N("low"),children:"Faible"})]})]})]})]})]}),e.jsx(J,{className:"p-0",children:d?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):R.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(vs,{className:"w-12 h-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"Aucune notification"}),e.jsx(D,{variant:"outline",size:"sm",onClick:C,children:"Crer des notifications de test"})]}):e.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:e.jsxs(Gr,{defaultValue:"all",className:"w-full",children:[e.jsxs(yr,{className:"grid w-full grid-cols-4",children:[e.jsxs(Ue,{value:"all",children:["Toutes (",R.length,")"]}),e.jsxs(Ue,{value:"messages",children:["Messages (",r.messages,")"]}),e.jsxs(Ue,{value:"products",children:["Produits (",r.products,")"]}),e.jsxs(Ue,{value:"system",children:["Systme (",r.system,")"]})]}),e.jsx(He,{value:"all",className:"space-y-2 p-2",children:R.map(b=>e.jsx("div",{className:`p-3 rounded-lg border ${b.lu?"bg-gray-50":"bg-blue-50 border-blue-200"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:I(b.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:b.titre}),!b.lu&&e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:b.message}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{variant:"outline",className:`text-xs ${mt.getPriorityColor(b.priority)}`,children:b.priority}),e.jsx("span",{className:"text-xs text-gray-500",children:T(b.date_creation)})]})]})]}),e.jsxs(zr,{children:[e.jsx($r,{asChild:!0,children:e.jsx(D,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:e.jsx(Wh,{className:"w-3 h-3"})})}),e.jsxs(fr,{align:"end",children:[!b.lu&&e.jsxs(Ke,{onClick:()=>y(b.id),children:[e.jsx(Ps,{className:"w-3 h-3 mr-2"}),"Marquer comme lu"]}),e.jsxs(Ke,{onClick:()=>w(b.id),className:"text-red-600",children:[e.jsx(Rs,{className:"w-3 h-3 mr-2"}),"Supprimer"]})]})]})]})},b.id))}),e.jsx(He,{value:"messages",className:"space-y-2 p-2",children:R.filter(b=>b.type==="message").map(b=>e.jsx("div",{className:`p-3 rounded-lg border ${b.lu?"bg-gray-50":"bg-blue-50 border-blue-200"}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(Ye,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.titre}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:b.message}),e.jsx("span",{className:"text-xs text-gray-500",children:T(b.date_creation)})]})]})})},b.id))}),e.jsx(He,{value:"products",className:"space-y-2 p-2",children:R.filter(b=>b.type==="produit").map(b=>e.jsx("div",{className:`p-3 rounded-lg border ${b.lu?"bg-gray-50":"bg-green-50 border-green-200"}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(De,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.titre}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:b.message}),e.jsx("span",{className:"text-xs text-gray-500",children:T(b.date_creation)})]})]})})},b.id))}),e.jsx(He,{value:"system",className:"space-y-2 p-2",children:R.filter(b=>b.type==="systeme").map(b=>e.jsx("div",{className:`p-3 rounded-lg border ${b.lu?"bg-gray-50":"bg-purple-50 border-purple-200"}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(Ws,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.titre}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:b.message}),e.jsx("span",{className:"text-xs text-gray-500",children:T(b.date_creation)})]})]})})},b.id))})]})})})]})]})},ta=({size:t="md",className:s,onClick:r,showText:a=!0,text:o="GabMarketHub"})=>{const l={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-20 h-20"},d={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl"};return e.jsxs("div",{className:we("flex items-center space-x-2",r&&"cursor-pointer",s),onClick:r,children:[e.jsx("img",{src:"/images/logo.png",alt:"GabMarketHub Logo",className:we(l[t],"object-contain")}),a&&e.jsx("span",{className:we(d[t],"font-bold text-gray-900"),children:o})]})},wb=()=>{const[t,s]=m.useState(!1),r=Wr(),{data:a}=Rt(),o=ea(),l=Re(),{count:d=0}=j5(),[u,h]=m.useState(!1),{photoData:p}=Di(),v=async()=>{try{h(!0),o(),$.success("Dconnexion russie"),setTimeout(()=>{l("/"),h(!1)},100)}catch{$.error("Erreur lors de la dconnexion"),h(!1)}};return e.jsxs("header",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white py-2 px-4 text-center text-sm",children:e.jsx("span",{className:"font-medium",children:" GabMarketHub - Premire plateforme B2B du Gabon"})}),e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(ta,{size:"md",onClick:()=>l("/")})}),e.jsxs("nav",{className:"hidden lg:flex items-center space-x-6",children:[e.jsx("button",{onClick:()=>l("/"),className:"text-gray-900 hover:text-green-600 transition-colors font-medium",children:"Accueil"}),e.jsx("button",{onClick:()=>l("/products"),className:"text-gray-900 hover:text-green-600 transition-colors",children:"Produits"}),e.jsx("button",{onClick:()=>l("/search"),className:"text-gray-900 hover:text-green-600 transition-colors",children:"Recherche"}),e.jsx("button",{onClick:()=>l("/categories"),className:"text-gray-900 hover:text-green-600 font-medium transition-colors",children:"Catgories"}),e.jsx("button",{onClick:()=>l("/suppliers"),className:"text-gray-900 hover:text-green-600 transition-colors",children:"Fournisseurs"}),r&&e.jsx(e.Fragment,{})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[r&&e.jsxs(D,{variant:"ghost",size:"icon",className:"relative",onClick:()=>l("/messages"),children:[e.jsx(Ye,{className:"w-5 h-5"}),d>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-green-600 text-white rounded-full text-xs flex items-center justify-center",children:d>9?"9+":d})]}),r&&e.jsx(D5,{}),e.jsx("div",{className:"hidden md:flex items-center space-x-2",children:r?e.jsxs(zr,{children:[e.jsx($r,{asChild:!0,children:e.jsxs(D,{variant:"ghost",className:"flex items-center space-x-2",children:[e.jsx(Rd,{photoUrl:p?.photo_profil,name:`${a?.nom} ${a?.prenom}`,size:"sm"}),e.jsx("span",{children:a?.nom||a?.prenom||"Mon compte"})]})}),e.jsxs(fr,{align:"end",children:[e.jsxs(Ke,{onClick:()=>l("/dashboard"),children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Tableau de bord"]}),e.jsxs(Ke,{onClick:()=>l("/profile"),children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Mon profil"]}),e.jsx(kd,{}),e.jsxs(Ke,{onClick:v,disabled:u,className:"text-red-600",children:[e.jsx(Ca,{className:"w-4 h-4 mr-2"}),u?"Dconnexion...":"Se dconnecter"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"ghost",onClick:()=>l("/login"),children:"Se connecter"}),e.jsx(D,{variant:"default",onClick:()=>l("/user-type"),children:"S'inscrire"})]})}),e.jsx(D,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>s(!t),children:e.jsx(Gh,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"md:hidden pb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-4 h-4"}),e.jsx(B,{placeholder:"Rechercher...",className:"pl-10 pr-4 h-10",onKeyPress:f=>{if(f.key==="Enter"){const g=f.target.value;g.trim()&&l(`/products?search=${encodeURIComponent(g.trim())}`)}}})]})}),t&&e.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:e.jsxs("nav",{className:"flex flex-col space-y-3",children:[e.jsx("button",{onClick:()=>l("/"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full font-medium",children:"Accueil"}),e.jsx("button",{onClick:()=>l("/products"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full",children:"Produits"}),e.jsx("button",{onClick:()=>l("/search"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full",children:"Recherche"}),e.jsx("button",{onClick:()=>l("/categories"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full",children:"Catgories"}),e.jsx("button",{onClick:()=>l("/suppliers"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full",children:"Fournisseurs"}),r&&e.jsx(e.Fragment,{children:e.jsx("button",{onClick:()=>l("/messages"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full",children:"Messages"})}),e.jsx("div",{className:"flex flex-col space-y-2 pt-3 border-t border-gray-200",children:r?e.jsxs(e.Fragment,{children:[e.jsxs(D,{variant:"ghost",className:"justify-start",onClick:()=>l("/dashboard"),children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Tableau de bord"]}),e.jsxs(D,{variant:"ghost",className:"justify-start",onClick:()=>l("/profile"),children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Mon profil"]}),e.jsxs(D,{variant:"ghost",className:"justify-start text-red-600",onClick:v,disabled:u,children:[e.jsx(Ca,{className:"w-4 h-4 mr-2"}),u?"Dconnexion...":"Se dconnecter"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"ghost",className:"justify-start",onClick:()=>l("/login"),children:"Se connecter"}),e.jsx(D,{variant:"default",className:"justify-start",onClick:()=>l("/user-type"),children:"S'inscrire"})]})})]})})]})]})},Cb=()=>e.jsxs("footer",{className:"bg-gray-900 text-white",children:[e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsx(ta,{size:"lg",className:"mb-4 text-white"}),e.jsx("p",{className:"text-gray-300 text-sm leading-relaxed mb-4",children:"GabMarketHub est la premire plateforme B2B du Gabon, connectant les entreprises locales et internationales pour favoriser le commerce et l'innovation."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(hS,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(_S,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(jS,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(gS,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Liens rapides"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"/products",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Produits"})}),e.jsx("li",{children:e.jsx("a",{href:"/suppliers",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Fournisseurs"})}),e.jsx("li",{children:e.jsx("a",{href:"/categories",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Catgories"})}),e.jsx("li",{children:e.jsx("a",{href:"/about",className:"text-gray-300 hover:text-white transition-colors text-sm",children:" propos"})}),e.jsx("li",{children:e.jsx("a",{href:"/contact",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Contact"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Services"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"/supplier/register",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Devenir fournisseur"})}),e.jsx("li",{children:e.jsx("a",{href:"/register",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Crer un compte"})}),e.jsx("li",{children:e.jsx("a",{href:"/help",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Centre d'aide"})}),e.jsx("li",{children:e.jsx("a",{href:"/api",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"API pour dveloppeurs"})}),e.jsx("li",{children:e.jsx("a",{href:"/partnership",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Partenariats"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(os,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-gray-300 text-sm",children:"Libreville, Gabon"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ks,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-gray-300 text-sm",children:"+241 XX XX XX XX"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(rs,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-gray-300 text-sm",children:"contact@gabmarkethub.com"})]})]})]})]})}),e.jsx("div",{className:"border-t border-gray-800",children:e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-2 md:space-y-0",children:[e.jsx("div",{className:"text-gray-400 text-sm",children:" 2024 GabMarketHub. Tous droits rservs."}),e.jsxs("div",{className:"flex space-x-6 text-sm",children:[e.jsx("a",{href:"/privacy",className:"text-gray-400 hover:text-white transition-colors",children:"Politique de confidentialit"}),e.jsx("a",{href:"/terms",className:"text-gray-400 hover:text-white transition-colors",children:"Conditions d'utilisation"}),e.jsx("a",{href:"/cookies",className:"text-gray-400 hover:text-white transition-colors",children:"Cookies"})]})]})})})]}),$e=({children:t,showHeader:s=!0,showFooter:r=!0})=>e.jsxs("div",{className:"min-h-screen flex flex-col",children:[s&&e.jsx(wb,{}),e.jsx("main",{className:"flex-1",children:t}),r&&e.jsx(Cb,{})]}),I5="/assets/hero-bg-C4fmBnIk.jpg",L5=()=>{const{data:t}=We({queryKey:["hero-stats"],queryFn:async()=>{try{const r=await ie.get("/products/public?limit=1"),a=r.pagination?.total||r.total||500,o=await ie.get("/categories"),d=(o.categories||o.data||[]).length;return{products:a,categories:d,suppliers:Math.floor(a/3)+50,exchanges:Math.floor(a*150)}}catch(r){return console.error("Erreur lors du chargement des statistiques:",r),{products:500,categories:50,suppliers:150,exchanges:1e6}}},staleTime:6e5}),s=r=>r>=1e6?`${(r/1e6).toFixed(1)}M`:r>=1e3?`${Math.floor(r/1e3)}k`:r.toString();return e.jsxs("section",{className:"relative bg-gradient-to-r from-green-600 to-blue-600 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`url(${I5})`,backgroundSize:"cover",backgroundPosition:"center"}}),e.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-yellow-400/20 rounded-full blur-xl"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-green-400/20 rounded-full blur-xl"}),e.jsx("div",{className:"relative container mx-auto px-4 py-20 lg:py-32",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold mb-6 opacity-0 animate-[fadeIn_0.5s_ease-in-out_forwards]",children:["Connecter l'",e.jsx("span",{className:"bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent",children:"Italie"})," et le",e.jsx("span",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 bg-clip-text text-transparent",children:"Gabon"})]}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 text-white/90 opacity-0 animate-[slideUp_0.3s_ease-out_0.2s_forwards]",children:"Plateforme ddie aux changes commerciaux entre entreprises italiennes et artisans gabonais. Dcouvrez des produits authentiques, ngociez directement et dveloppez vos partenariats."}),e.jsx("div",{className:"max-w-2xl mx-auto mb-12 opacity-0 animate-[slideUp_0.3s_ease-out_0.4s_forwards]",children:e.jsxs("div",{className:"relative",children:[e.jsx(pt,{className:"absolute left-6 top-1/2 transform -translate-y-1/2 text-gray-500 w-6 h-6"}),e.jsx(B,{placeholder:"Rechercher des produits (ex: masques traditionnels, lectronique, vtements...)",className:"pl-16 pr-6 h-16 text-lg border-2 border-green-400/30 bg-white/10 backdrop-blur-sm text-gray-900 placeholder:text-gray-500 focus:border-yellow-400",onKeyDown:r=>{if(r.key==="Enter"){const a=r.target.value;a.trim()?window.location.href=`/products?search=${encodeURIComponent(a.trim())}`:window.location.href="/products"}}}),e.jsx(D,{variant:"accent",size:"lg",className:"absolute right-3 top-1/2 transform -translate-y-1/2",onClick:()=>{const a=document.querySelector('input[placeholder*="masques traditionnels"]')?.value;a?.trim()?window.location.href=`/products?search=${encodeURIComponent(a.trim())}`:window.location.href="/products"},children:"Rechercher"})]})}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-16",children:[e.jsx(D,{variant:"outline",size:"lg",className:"bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20",onClick:()=>window.location.href="/register?userType=2&origin=italian-company",children:"Entreprise italienne"}),e.jsx(D,{variant:"outline",size:"lg",className:"bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20",onClick:()=>window.location.href="/supplier/login",children:"Fournisseur gabonais"}),e.jsx(D,{variant:"outline",size:"lg",className:"bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20",onClick:()=>window.location.href="/products",children:"Dcouvrir les produits"})]}),e.jsx("div",{className:"max-w-2xl mx-auto mb-16"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center animate-[bounceSoft_1s_ease-in-out_infinite]",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-yellow-400/20 rounded-full mx-auto mb-3",children:e.jsx(De,{className:"w-8 h-8 text-yellow-400"})}),e.jsxs("div",{className:"text-3xl font-bold mb-1",children:[t?s(t.products):"500","+"]}),e.jsx("div",{className:"text-sm text-white/80",children:"Produits"})]}),e.jsxs("div",{className:"text-center animate-[bounceSoft_1s_ease-in-out_infinite] [animation-delay:0.1s]",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-yellow-400/20 rounded-full mx-auto mb-3",children:e.jsx(St,{className:"w-8 h-8 text-yellow-400"})}),e.jsxs("div",{className:"text-3xl font-bold mb-1",children:[t?s(t.suppliers):"150","+"]}),e.jsx("div",{className:"text-sm text-white/80",children:"Partenaires"})]}),e.jsxs("div",{className:"text-center animate-[bounceSoft_1s_ease-in-out_infinite] [animation-delay:0.2s]",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-yellow-400/20 rounded-full mx-auto mb-3",children:e.jsx(bt,{className:"w-8 h-8 text-yellow-400"})}),e.jsxs("div",{className:"text-3xl font-bold mb-1",children:[t?t.categories:"50","+"]}),e.jsx("div",{className:"text-sm text-white/80",children:"Catgories"})]}),e.jsxs("div",{className:"text-center animate-[bounceSoft_1s_ease-in-out_infinite] [animation-delay:0.3s]",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-yellow-400/20 rounded-full mx-auto mb-3",children:e.jsx(De,{className:"w-8 h-8 text-yellow-400"})}),e.jsxs("div",{className:"text-3xl font-bold mb-1",children:[t?s(t.exchanges):"1M","+"]}),e.jsx("div",{className:"text-sm text-white/80",children:" d'changes"})]})]})]})})]})},O5=()=>{const{data:t}=Rt();if(!t)return{isBuyer:!1,isSupplier:!1,canInitiateConversation:!1,canRespondToConversation:!1,roleId:null,roleName:"Non connect"};const s=t.role_id===1,r=t.role_id===2;return{isBuyer:s,isSupplier:r,canInitiateConversation:s,canRespondToConversation:!0,roleId:t.role_id,roleName:s?"Acheteur":r?"Fournisseur":"Utilisateur"}},Sb=()=>{const{canInitiateConversation:t,isBuyer:s}=O5();return{canContact:t,reason:t?null:"Seuls les acheteurs peuvent initier des conversations avec les fournisseurs",suggestedAction:s?null:"Crer un compte acheteur pour contacter les fournisseurs"}},F5=[{id:1,name:"TechnoElite Gabon",logo:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=100&h=100&fit=crop",country:"Gabon",city:"Libreville",rating:4.9,reviews:1247,yearsActive:8,employees:"50-100",productsCount:2543,verified:!0,goldSupplier:!0,certifications:["ISO 9001","CE","RoHS"],specialties:["lectronique","Tlcommunications","Informatique"],description:"Leader en quipements lectroniques et solutions IT pour l'Afrique centrale"},{id:2,name:"AfricaTextile Pro",logo:"https://images.unsplash.com/photo-1556742502-ec7c0e9f34b1?w=100&h=100&fit=crop",country:"Cameroun",city:"Douala",rating:4.8,reviews:856,yearsActive:12,employees:"100-200",productsCount:1892,verified:!0,goldSupplier:!0,certifications:["OEKO-TEX","GOTS","ISO 14001"],specialties:["Textile","Mode","Artisanat"],description:"Fabricant de textiles cologiques et vtements personnaliss"},{id:3,name:"SolarTech Solutions",logo:"https://images.unsplash.com/photo-1497435334941-8c899ee9e8e9?w=100&h=100&fit=crop",country:"Sngal",city:"Dakar",rating:4.7,reviews:634,yearsActive:6,employees:"20-50",productsCount:687,verified:!0,goldSupplier:!1,certifications:["IEC 61215","TUV","ISO 9001"],specialties:["nergie solaire","clairage LED","Batteries"],description:"Solutions nergtiques durables pour l'Afrique de l'Ouest"},{id:4,name:"EquipHotel Afrique",logo:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=100&h=100&fit=crop",country:"Cte d'Ivoire",city:"Abidjan",rating:4.6,reviews:423,yearsActive:15,employees:"200-500",productsCount:1234,verified:!0,goldSupplier:!0,certifications:["CE","NSF","ISO 22000"],specialties:["quipement htelier","Restauration","Cuisine professionnelle"],description:"quipements professionnels pour l'htellerie et la restauration"}],z5=()=>{const t=Re(),s=Wr(),{canContact:r,reason:a,suggestedAction:o}=Sb(),[l,d]=m.useState("all"),{data:u}=We({queryKey:["home-suppliers"],queryFn:async()=>{try{let g;try{g=await ie.get("/entreprises?limit=4&verified=true")}catch{console.log("Premier endpoint chou, essai avec /suppliers");try{g=await ie.get("/suppliers?limit=4&verified=true")}catch{console.log("Deuxime endpoint chou, essai avec /users?role=supplier"),g=await ie.get("/users?role=supplier&limit=4")}}return g.entreprises||g.suppliers||g.data||g.users||[]}catch(g){return console.error("Erreur lors de la rcupration des fournisseurs:",g),[]}},retry:!1,staleTime:300*1e3}),h=[...(u||[]).map(g=>({id:`real-${g.id}`,name:g.nom_entreprise,logo:g.logo||"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=100&h=100&fit=crop",country:g.pays||"Gabon",city:g.ville||"Libreville",rating:Number(g.note_moyenne)||4.5,reviews:g.nombre_avis||0,yearsActive:g.annee_creation?new Date().getFullYear()-new Date(g.annee_creation).getFullYear():5,employees:g.taille_entreprise||"10-50",productsCount:g.nombre_produits||0,verified:g.statut_verification==="verifie",goldSupplier:g.statut_verification==="verifie"&&g.note_moyenne>=4.5,certifications:g.certifications?g.certifications.split(","):["Certifi B2B"],specialties:g.secteur_activite?[g.secteur_activite]:["Commerce gnral"],description:g.description||"Fournisseur professionnel spcialis",realSupplierId:g.id,utilisateur_id:g.utilisateur_id||g.user_id})),...(u?.length||0)<4?F5.slice(0,4-(u?.length||0)):[]],p=l==="all"?h:h.filter(g=>g.country===l),v=g=>{if(!s){$.error("Veuillez vous connecter pour voir le profil du fournisseur"),t("/login");return}g.realSupplierId?t(`/suppliers/${g.realSupplierId}`):t("/suppliers")},f=async g=>{if(console.log("Tentative de contact avec le fournisseur:",g),!s){$.error("Veuillez vous connecter pour contacter un fournisseur"),t("/login");return}if(!r){$.error(a||"Vous n'tes pas autoris  contacter les fournisseurs"),o&&($.info(o),t("/register?role=buyer"));return}if(g.realSupplierId){if(!g.utilisateur_id){console.warn("Pas d'utilisateur_id trouv pour le fournisseur:",g),$.error("Impossible de contacter ce fournisseur (pas d'utilisateur associ)");return}const k=new URLSearchParams({supplier:g.realSupplierId,supplierName:g.name});t(`/messages?${k.toString()}`),$.success(`Redirection vers le chat avec ${g.name}`)}else $.info("Dcouvrez nos fournisseurs vrifis"),t("/suppliers")};return e.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Fournisseurs vrifis"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Dcouvrez nos partenaires de confiance. Tous nos fournisseurs sont vrifis et certifis pour garantir la qualit et la fiabilit de vos achats."})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"flex gap-2 bg-white rounded-lg p-1 shadow-sm border",children:[e.jsx("button",{onClick:()=>d("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${l==="all"?"bg-green-600 text-white":"text-gray-600 hover:text-gray-900"}`,children:"Tous"}),e.jsx("button",{onClick:()=>d("Gabon"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${l==="Gabon"?"bg-green-600 text-white":"text-gray-600 hover:text-gray-900"}`,children:" Gabon"}),e.jsx("button",{onClick:()=>d("Italie"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${l==="Italie"?"bg-green-600 text-white":"text-gray-600 hover:text-gray-900"}`,children:" Italie"})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-16",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(qe,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"100% Vrifis"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Documents lgaux valids"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Ct,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Notes leves"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Moyenne 4.7/5 toiles"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(De,{className:"w-8 h-8 text-yellow-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Livraison sre"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Garantie de livraison"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(St,{className:"w-8 h-8 text-green-500"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Support 24/7"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Assistance ddie"})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:p.map((g,N)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 p-6 group opacity-0 animate-[fadeIn_0.5s_ease-in-out_forwards]",style:{animationDelay:`${N*.1}s`},children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:g.logo,alt:g.name,className:"w-16 h-16 rounded-lg object-cover"}),g.verified&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-600 rounded-full flex items-center justify-center",children:e.jsx(qe,{className:"w-4 h-4 text-white"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-green-600 transition-colors",children:g.name}),g.goldSupplier&&e.jsx(ne,{className:"bg-yellow-400 text-gray-800 text-xs",children:" Gold"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[e.jsx(os,{className:"w-4 h-4"}),e.jsxs("span",{children:[g.city,", ",g.country]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((k,y)=>e.jsx(Ct,{className:`w-4 h-4 ${y<Math.floor(g.rating)?"text-yellow-400 fill-current":"text-gray-400"}`},y))}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:g.rating}),e.jsxs("span",{className:"text-xs text-gray-600",children:["(",g.reviews," avis)"]})]})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:g.description}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:g.specialties.map((k,y)=>e.jsx(ne,{variant:"outline",className:"text-xs",children:k},y))}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:g.yearsActive}),e.jsx("div",{className:"text-xs text-gray-600",children:"Annes"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:g.productsCount.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-600",children:"Produits"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:g.employees}),e.jsx("div",{className:"text-xs text-gray-600",children:"Employs"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:g.certifications.map((k,y)=>e.jsx(ne,{variant:"secondary",className:"text-xs bg-blue-100",children:k},y))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>v(g),children:"Voir profil"}),e.jsxs(D,{variant:"default",size:"sm",className:`flex-1 ${r?"bg-green-600 hover:bg-green-700":"bg-gray-400 hover:bg-gray-500"}`,onClick:()=>f(g),disabled:!s,title:s?r?"Contacter ce fournisseur":"Seuls les acheteurs peuvent contacter les fournisseurs":"Connectez-vous pour contacter",children:[!r&&s?e.jsx(Pt,{className:"w-4 h-4 mr-1"}):e.jsx(Ye,{className:"w-4 h-4 mr-1"}),!r&&s?"Acheteurs uniquement":"Contacter"]})]}),s&&!r&&e.jsx("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Pt,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-amber-700",children:[e.jsx("p",{className:"font-medium",children:"Acheteurs uniquement"}),e.jsx("p",{children:"Seuls les acheteurs peuvent initier des conversations avec les fournisseurs."}),e.jsx("button",{onClick:()=>t("/register?role=buyer"),className:"text-amber-800 underline hover:no-underline mt-1",children:"Crer un compte acheteur"})]})]})})]},g.id))}),e.jsx("div",{className:"text-center",children:e.jsx(D,{variant:"secondary",size:"lg",onClick:()=>t("/suppliers"),children:"Voir tous les fournisseurs"})})]})})},$5=({maxOffers:t=6,showCountdown:s=!0,title:r="Offres du Moment",subtitle:a="Dcouvrez nos meilleures promotions limites dans le temps"})=>{const o=Re(),[l,d]=m.useState({}),[u,h]=m.useState(0),{data:p=[],isLoading:v}=We({queryKey:["special-offers"],queryFn:async()=>{try{const R=new URLSearchParams({limit:t.toString(),sort:"created_at_desc"}),I=await ie.get(`/products/public?${R}`);return(I.products||I.data||I||[]).filter(b=>b.prix_reduit&&b.prix_reduit<b.prix&&new Date(b.date_fin_offre||b.created_at)>new Date)}catch(R){return console.error("Erreur lors du chargement des offres spciales:",R),[]}},staleTime:120*1e3,refetchInterval:60*1e3});m.useEffect(()=>{const R=T=>{const b=new Date().getTime(),A=new Date(T).getTime()-b;return A>0?{days:Math.floor(A/864e5),hours:Math.floor(A%864e5/36e5),minutes:Math.floor(A%36e5/6e4),seconds:Math.floor(A%6e4/1e3)}:{days:0,hours:0,minutes:0,seconds:0}},I=()=>{const T={};p.forEach(b=>{T[b.id]=R(b.date_fin_promo)}),d(T)};if(p.length>0){I();const T=setInterval(I,1e3);return()=>clearInterval(T)}},[p.length]),be.useMemo(()=>{const R={flash_sale:[],reduction:[],bundle:[],clearance:[]};return p.forEach(I=>{R[I.type_offre]&&R[I.type_offre].push(I)}),R},[p]);const f=3,g=Math.ceil(p.length/f),N=()=>{h(R=>(R+1)%g)},k=()=>{h(R=>(R-1+g)%g)},y=R=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XAF",minimumFractionDigits:0}).format(R),_=R=>{switch(R){case"flash_sale":return{label:"Flash Sale",icon:e.jsx(ji,{className:"w-4 h-4"}),color:"bg-red-500",bgColor:"bg-red-50",textColor:"text-red-700"};case"bundle":return{label:"Pack",icon:e.jsx(ui,{className:"w-4 h-4"}),color:"bg-purple-500",bgColor:"bg-purple-50",textColor:"text-purple-700"};case"clearance":return{label:"Liquidation",icon:e.jsx(Pt,{className:"w-4 h-4"}),color:"bg-orange-500",bgColor:"bg-orange-50",textColor:"text-orange-700"};default:return{label:"Rduction",icon:e.jsx(NS,{className:"w-4 h-4"}),color:"bg-green-500",bgColor:"bg-green-50",textColor:"text-green-700"}}},w=R=>new Date(R).getTime()<=new Date().getTime(),E=R=>{const I=R.days*24+R.hours;return I<=2?"critical":I<=24?"high":I<=72?"medium":"low"};if(v)return e.jsx("div",{className:"py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des offres spciales..."})]})});return e.jsx("section",{className:"py-16 bg-gradient-to-br from-red-50 to-orange-50",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(ji,{className:"w-8 h-8 text-red-600 mr-3"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:r})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-8",children:a}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:p.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Offres actives"})]})}),e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Math.max(...p.map(R=>R.pourcentage_reduction)),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Plus forte rduction"})]})}),e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.filter(R=>R.type_offre==="flash_sale").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Flash Sales"})]})}),e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:p.reduce((R,I)=>R+I.ventes_30j,0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Ventes (30j)"})]})})]})]}),p.length>0?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${u*100}%)`},children:Array.from({length:g}).map((R,I)=>e.jsx("div",{className:"w-full flex-shrink-0",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.slice(I*f,(I+1)*f).map(T=>e.jsx(C,{offer:T},T.id))})},I))})}),g>1&&e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white shadow-lg",onClick:k,children:""}),e.jsx(D,{variant:"outline",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white shadow-lg",onClick:N,children:""})]}),g>1&&e.jsx("div",{className:"flex justify-center mt-6 gap-2",children:Array.from({length:g}).map((R,I)=>e.jsx("button",{className:we("w-2 h-2 rounded-full transition-colors",I===u?"bg-red-600":"bg-gray-300"),onClick:()=>h(I)},I))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ui,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune offre spciale pour le moment"}),e.jsx("p",{className:"text-gray-600",children:"Revenez bientt pour dcouvrir nos prochaines promotions !"})]}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(D,{size:"lg",onClick:()=>o("/products?offers=true"),className:"bg-red-600 hover:bg-red-700",children:["Voir toutes les offres",e.jsx(Xt,{className:"w-5 h-5 ml-2"})]})})]})});function C({offer:R}){const I=_(R.type_offre),T=l[R.id],b=T?E(T):"low",P=w(R.date_fin_promo);return e.jsx(Q,{className:we("group hover:shadow-xl transition-all duration-300 cursor-pointer relative overflow-hidden",P?"opacity-60":"",b==="critical"?"ring-2 ring-red-500":""),children:e.jsxs(J,{className:"p-0",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[R.image_principale?e.jsx("img",{src:Yt(R.image_principale),alt:R.nom,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:A=>{const O=A.target;O.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(ui,{className:"w-16 h-16 text-gray-400"})}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[e.jsxs(ne,{className:we("text-xs flex items-center gap-1",I.color),children:[I.icon,I.label]}),e.jsxs(ne,{variant:"destructive",className:"text-xs font-bold",children:["-",R.pourcentage_reduction,"%"]})]}),b==="critical"&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(ne,{variant:"destructive",className:"text-xs animate-pulse",children:"URGENT"})}),P&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx(ne,{variant:"secondary",className:"text-lg",children:"Offre expire"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:R.nom}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:R.fournisseur_nom})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xl font-bold text-green-600",children:y(R.prix_promo)}),e.jsx("span",{className:"text-sm text-gray-500 line-through ml-2",children:y(R.prix_unitaire)})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-sm font-medium text-red-600",children:["conomisez ",y(R.prix_unitaire-R.prix_promo)]})})]}),s&&T&&!P&&e.jsxs("div",{className:we("p-3 rounded-lg mb-3 text-center",b==="critical"?"bg-red-100":b==="high"?"bg-orange-100":b==="medium"?"bg-yellow-100":"bg-green-100"),children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(SS,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:b==="critical"?"Dernire chance !":b==="high"?"Bientt termin":b==="medium"?"Temps limit":"Offre limite"})]}),e.jsxs("div",{className:"flex justify-center gap-2 text-sm",children:[T.days>0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:T.days}),e.jsx("div",{className:"text-xs",children:"j"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:T.hours}),e.jsx("div",{className:"text-xs",children:"h"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:T.minutes}),e.jsx("div",{className:"text-xs",children:"m"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:T.seconds}),e.jsx("div",{className:"text-xs",children:"s"})]})]})]}),R.quantite_offre&&R.quantite_offre<=10&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-orange-600 font-medium",children:"Stock limit"}),e.jsxs("span",{className:"text-gray-600",children:[R.quantite_offre," restants"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${R.quantite_offre/10*100}%`}})})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((A,O)=>e.jsx(Ct,{className:we("w-4 h-4",O<Math.floor(R.note_moyenne)?"text-yellow-400 fill-current":"text-gray-300")},O))}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",R.nombre_avis,")  ",R.vues_30j," vues"]})]}),e.jsx(D,{className:we("w-full",P?"opacity-50 cursor-not-allowed":""),disabled:P,onClick:()=>!P&&o(`/products/${R.id}`),children:P?"Offre expire":"Voir l'offre"})]})]})})}},q5=({maxEvents:t=4,showUpcoming:s=!0,title:r="vnements Commerciaux",subtitle:a="Dcouvrez les vnements qui faonnent l'avenir du commerce au Gabon"})=>{const o=Re(),[l,d]=m.useState({}),[u,h]=m.useState(0),[p,v]=m.useState("all"),{data:f=[],isLoading:g}=We({queryKey:["commercial-events",p],queryFn:async()=>{try{const P=new URLSearchParams({limit:t.toString(),upcoming_only:s.toString(),type:p!=="all"?p:"",status:"programme,en_cours"}),A=await ie.get(`/events/commercial?${P}`);return A.events||A.data||A||[]}catch(P){return console.error("Erreur lors du chargement des vnements:",P),[]}},staleTime:300*1e3}),N=m.useMemo(()=>f,[f]);m.useEffect(()=>{const P=O=>{const F=new Date().getTime(),V=new Date(O).getTime()-F;return V>0?{days:Math.floor(V/864e5),hours:Math.floor(V%864e5/36e5),minutes:Math.floor(V%36e5/6e4),seconds:Math.floor(V%6e4/1e3)}:{days:0,hours:0,minutes:0,seconds:0}},A=()=>{const O={};N.forEach(F=>{O[F.id]=P(F.date_debut)}),d(O)};if(N.length>0){A();const O=setInterval(A,1e3);return()=>clearInterval(O)}},[N.length]),be.useMemo(()=>{const P={salon:[],conference:[],webinar:[],promotion:[],lancement:[],flash_sale:[],partenariat:[]};return N.forEach(A=>{P[A.type]&&P[A.type].push(A)}),P},[N]);const k=2,y=Math.ceil(N.length/k),_=()=>{h(P=>(P+1)%y)},w=()=>{h(P=>(P-1+y)%y)},E=P=>P===0?"Gratuit":new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XAF",minimumFractionDigits:0}).format(P),C=P=>{switch(P){case"salon":return{label:"Salon",icon:e.jsx(cn,{className:"w-4 h-4"}),color:"bg-blue-500",bgColor:"bg-blue-50",textColor:"text-blue-700"};case"conference":return{label:"Confrence",icon:e.jsx(yS,{className:"w-4 h-4"}),color:"bg-purple-500",bgColor:"bg-purple-50",textColor:"text-purple-700"};case"webinar":return{label:"Webinaire",icon:e.jsx(Qg,{className:"w-4 h-4"}),color:"bg-green-500",bgColor:"bg-green-50",textColor:"text-green-700"};case"promotion":return{label:"Promotion",icon:e.jsx(ui,{className:"w-4 h-4"}),color:"bg-orange-500",bgColor:"bg-orange-50",textColor:"text-orange-700"};case"lancement":return{label:"Lancement",icon:e.jsx(ji,{className:"w-4 h-4"}),color:"bg-yellow-500",bgColor:"bg-yellow-50",textColor:"text-yellow-700"};case"flash_sale":return{label:"Flash Sale",icon:e.jsx(ji,{className:"w-4 h-4"}),color:"bg-red-500",bgColor:"bg-red-50",textColor:"text-red-700"};case"partenariat":return{label:"Partenariat",icon:e.jsx(St,{className:"w-4 h-4"}),color:"bg-indigo-500",bgColor:"bg-indigo-50",textColor:"text-indigo-700"};default:return{label:"vnement",icon:e.jsx(Hs,{className:"w-4 h-4"}),color:"bg-gray-500",bgColor:"bg-gray-50",textColor:"text-gray-700"}}},R=P=>{const A=new Date,O=new Date(P.date_debut),F=P.date_fin?new Date(P.date_fin):null;return P.statut==="annule"?{label:"Annul",color:"bg-red-500"}:P.statut==="termine"?{label:"Termin",color:"bg-gray-500"}:A>=O&&(!F||A<=F)?{label:"En cours",color:"bg-green-500"}:A<O?{label:" venir",color:"bg-blue-500"}:{label:"Programm",color:"bg-yellow-500"}},I=P=>{const A=P.days*24+P.hours;return A<=24?"critical":A<=72?"high":A<=168?"medium":"low"},T=[{value:"all",label:"Tous"},{value:"salon",label:"Salons"},{value:"conference",label:"Confrences"},{value:"webinar",label:"Webinaires"},{value:"promotion",label:"Promotions"},{value:"lancement",label:"Lancements"},{value:"flash_sale",label:"Flash Sales"},{value:"partenariat",label:"Partenariats"}];if(g)return e.jsx("div",{className:"py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des vnements..."})]})});return e.jsx("section",{className:"py-16 bg-gradient-to-br from-blue-50 to-purple-50",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(Hs,{className:"w-8 h-8 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:r})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-8",children:a}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:T.map(P=>e.jsx(D,{variant:p===P.value?"default":"outline",size:"sm",onClick:()=>v(P.value),children:P.label},P.value))}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:N.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"vnements"})]})}),e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.filter(P=>P.est_gratuit).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Gratuits"})]})}),e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:N.reduce((P,A)=>P+(A.participants_inscrits||0),0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Participants"})]})}),e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:N.filter(P=>P.est_en_ligne).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"En ligne"})]})})]})]}),N.length>0?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${u*100}%)`},children:Array.from({length:y}).map((P,A)=>e.jsx("div",{className:"w-full flex-shrink-0",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:N.slice(A*k,(A+1)*k).map(O=>e.jsx(b,{event:O},O.id))})},A))})}),y>1&&e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white shadow-lg",onClick:w,children:""}),e.jsx(D,{variant:"outline",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white shadow-lg",onClick:_,children:""})]}),y>1&&e.jsx("div",{className:"flex justify-center mt-6 gap-2",children:Array.from({length:y}).map((P,A)=>e.jsx("button",{className:we("w-2 h-2 rounded-full transition-colors",A===u?"bg-blue-600":"bg-gray-300"),onClick:()=>h(A)},A))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Hs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun vnement programm"}),e.jsx("p",{className:"text-gray-600",children:"Revenez bientt pour dcouvrir nos prochains vnements !"})]}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(D,{size:"lg",onClick:()=>o("/events"),className:"bg-blue-600 hover:bg-blue-700",children:["Voir tous les vnements",e.jsx(Xt,{className:"w-5 h-5 ml-2"})]})})]})});function b({event:P}){const A=C(P.type),O=R(P),F=l[P.id],X=F?I(F):"low",V=new Date(P.date_debut)>new Date;return e.jsx(Q,{className:"group hover:shadow-xl transition-all duration-300 cursor-pointer relative overflow-hidden",children:e.jsxs(J,{className:"p-0",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[P.image_principale?e.jsx("img",{src:Yt(P.image_principale),alt:P.titre,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:K=>{const me=K.target;me.src="https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=500&h=300&fit=crop"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Hs,{className:"w-16 h-16 text-gray-400"})}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[e.jsxs(ne,{className:we("text-xs flex items-center gap-1",A.color),children:[A.icon,A.label]}),e.jsx(ne,{className:we("text-xs",O.color),children:O.label}),P.est_populaire&&e.jsxs(ne,{variant:"secondary",className:"text-xs",children:[e.jsx(Ct,{className:"w-3 h-3 mr-1"}),"Populaire"]})]}),V&&X==="critical"&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(ne,{variant:"destructive",className:"text-xs animate-pulse",children:"Bientt !"})}),P.est_en_ligne&&e.jsx("div",{className:"absolute bottom-2 right-2",children:e.jsxs(ne,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[e.jsx(Ir,{className:"w-3 h-3"}),"En ligne"]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:P.titre}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:P.description_courte}),e.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Organis par ",e.jsx("span",{className:"font-medium",children:P.organisateur_nom})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Hs,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(P.date_debut).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),!P.est_en_ligne&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(os,{className:"w-4 h-4"}),e.jsx("span",{children:P.lieu})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(St,{className:"w-4 h-4"}),e.jsxs("span",{children:[P.participants_inscrits||0," participants",P.nombre_max_participants&&` / ${P.nombre_max_participants} max`]})]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:e.jsx("span",{className:"font-medium",children:E(P.prix_participation)})})]}),V&&F&&e.jsxs("div",{className:we("p-3 rounded-lg mb-4 text-center",X==="critical"?"bg-red-100":X==="high"?"bg-orange-100":X==="medium"?"bg-yellow-100":"bg-green-100"),children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(Vt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:X==="critical"?"Dmarre bientt !":X==="high"?"Dans moins de 3 jours":X==="medium"?"Dans moins d'une semaine":"vnement  venir"})]}),e.jsxs("div",{className:"flex justify-center gap-2 text-sm",children:[F.days>0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:F.days}),e.jsx("div",{className:"text-xs",children:"j"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:F.hours}),e.jsx("div",{className:"text-xs",children:"h"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold",children:F.minutes}),e.jsx("div",{className:"text-xs",children:"m"})]})]})]}),P.tags&&P.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[P.tags.slice(0,3).map((K,me)=>e.jsx(ne,{variant:"outline",className:"text-xs",children:K},me)),P.tags.length>3&&e.jsxs(ne,{variant:"outline",className:"text-xs",children:["+",P.tags.length-3]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{className:"flex-1",onClick:()=>o(`/events/${P.id}`),children:"Voir dtails"}),P.est_en_ligne&&P.lien_webinaire&&e.jsx(D,{variant:"outline",onClick:()=>window.open(P.lien_webinaire,"_blank"),children:e.jsx(Qg,{className:"w-4 h-4"})})]})]})]})})}},B5=()=>{const t=Re(),{data:s=[],isLoading:r}=We({queryKey:["popular-categories"],queryFn:async()=>{try{const u=await ie.get("/categories");console.log(" Rponse API reue:",u);let h=[];if(u&&typeof u=="object"){const f=u;h=f.categories||f.data||f||[],console.log(" Catgories extraites:",h.length)}if(!Array.isArray(h))return console.warn(" Rponse API inattendue:",u),[];const p=new Map,v=[];return h.forEach(f=>{p.set(f.id,{...f,children:[]})}),h.forEach(f=>{const g=p.get(f.id);if(f.parent_id){const N=p.get(f.parent_id);N&&N.children.push(g)}else v.push(g)}),v.sort((f,g)=>f.ordre-g.ordre)}catch(u){return console.error("Erreur lors du chargement des catgories:",u),[]}},staleTime:300*1e3}),a=[{id:1,nom:"lectronique",slug:"electronique",description:"Smartphones, ordinateurs, quipements tech",ordre:1,icon:sh,productCount:1250,supplierCount:45,image:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400&h=300&fit=crop",color:"text-blue-600",bgColor:"bg-blue-50",trending:!0,growth:"+15%"},{id:2,nom:"Vtements",slug:"vetements",description:"Mode professionnelle, uniformes, textiles",ordre:2,icon:Xg,productCount:890,supplierCount:32,image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop",color:"text-purple-600",bgColor:"bg-purple-50",growth:"+8%"},{id:3,nom:"Maison & Jardin",slug:"maison-jardin",description:"Mobilier, dcoration, quipements extrieurs",ordre:3,icon:gi,productCount:675,supplierCount:28,image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=300&fit=crop",color:"text-green-600",bgColor:"bg-green-50",trending:!0,growth:"+12%"},{id:4,nom:"Fournitures Industrielles",slug:"fournitures-industrielles",description:"Outils, machines, quipements professionnels",ordre:4,icon:Jg,productCount:1100,supplierCount:38,image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=400&h=300&fit=crop",color:"text-orange-600",bgColor:"bg-orange-50",growth:"+20%"},{id:5,nom:"Automobile",slug:"automobile",description:"Pices dtaches, accessoires, quipements",ordre:5,icon:Kg,productCount:520,supplierCount:22,image:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=400&h=300&fit=crop",color:"text-red-600",bgColor:"bg-red-50",growth:"+5%"},{id:6,nom:"Alimentation",slug:"alimentation",description:"Produits alimentaires, boissons, quipements",ordre:6,icon:Yg,productCount:780,supplierCount:35,image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=400&h=300&fit=crop",color:"text-yellow-600",bgColor:"bg-yellow-50",trending:!0,growth:"+18%"},{id:7,nom:"Bureau & Papeterie",slug:"bureau-papeterie",description:"Fournitures de bureau, mobilier professionnel",ordre:7,icon:Gg,productCount:450,supplierCount:18,image:"https://images.unsplash.com/photo-1497032628192-86f99bcd76bc?w=400&h=300&fit=crop",color:"text-indigo-600",bgColor:"bg-indigo-50",growth:"+7%"},{id:8,nom:"nergie & lectricit",slug:"energie-electricite",description:"quipements lectriques, solutions nergtiques",ordre:8,icon:ji,productCount:320,supplierCount:15,image:"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?w=400&h=300&fit=crop",color:"text-cyan-600",bgColor:"bg-cyan-50",growth:"+25%"}],o=(u,h)=>{const p=[{icon:sh,color:"text-blue-600",bgColor:"bg-blue-50",image:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400&h=300&fit=crop"},{icon:Xg,color:"text-purple-600",bgColor:"bg-purple-50",image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop"},{icon:gi,color:"text-green-600",bgColor:"bg-green-50",image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=300&fit=crop"},{icon:Jg,color:"text-orange-600",bgColor:"bg-orange-50",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=400&h=300&fit=crop"},{icon:Kg,color:"text-red-600",bgColor:"bg-red-50",image:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=400&h=300&fit=crop"},{icon:Yg,color:"text-yellow-600",bgColor:"bg-yellow-50",image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=400&h=300&fit=crop"},{icon:Gg,color:"text-indigo-600",bgColor:"bg-indigo-50",image:"https://images.unsplash.com/photo-1497032628192-86f99bcd76bc?w=400&h=300&fit=crop"},{icon:ji,color:"text-cyan-600",bgColor:"bg-cyan-50",image:"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?w=400&h=300&fit=crop"}];return u.toLowerCase().includes("lectron")||u.toLowerCase().includes("tech")?p[0]:u.toLowerCase().includes("vt")||u.toLowerCase().includes("textile")?p[1]:u.toLowerCase().includes("maison")||u.toLowerCase().includes("jardin")?p[2]:u.toLowerCase().includes("outil")||u.toLowerCase().includes("industri")?p[3]:u.toLowerCase().includes("auto")||u.toLowerCase().includes("vhicule")?p[4]:u.toLowerCase().includes("aliment")||u.toLowerCase().includes("boisson")?p[5]:u.toLowerCase().includes("bureau")||u.toLowerCase().includes("papeterie")?p[6]:p[h%p.length]},l=m.useMemo(()=>s.length>0?s.slice(0,8).map((u,h)=>{const p=o(u.nom,h),v=(h+1)*150,f=(h+1)*8,g=5+h*2;return{...u,icon:p.icon,productCount:u.productCount||v,supplierCount:f,image:p.image,color:p.color,bgColor:p.bgColor,trending:h<3,growth:`+${g}%`}}):a,[s]),d=u=>{u.children&&u.children.length>0?t(`/categories/${u.slug}`):t(`/products?category=${u.slug}`)};return e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Catgories Populaires"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Explorez nos catgories les plus demandes par les professionnels gabonais"})]}),r&&e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(gr,{className:"w-8 h-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Chargement des catgories..."})]}),!r&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:l.map(u=>(u.icon,e.jsxs(Q,{className:"group cursor-pointer hover:shadow-xl transition-all duration-300 border-0 shadow-md overflow-hidden",onClick:()=>d(u),children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"h-32 overflow-hidden",children:[e.jsx("img",{src:u.image,alt:u.nom,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/30 transition-colors"})]}),u.trending&&e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs(ne,{className:"bg-red-500 text-white font-bold px-2 py-1 text-xs animate-pulse",children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),"Tendance"]})})]}),e.jsxs(J,{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:u.nom}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:u.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.jsxs("span",{children:[(u.productCount||0).toLocaleString()," produits"]}),e.jsxs("span",{children:[u.supplierCount," fournisseurs"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-green-600 text-sm font-medium",children:[e.jsx(bt,{className:"w-3 h-3 mr-1"}),u.growth]}),e.jsx(Xt,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]})]})]},u.id)))}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(D,{size:"lg",onClick:()=>t("/categories"),className:"bg-blue-600 hover:bg-blue-700 text-white px-8",children:["Voir toutes les catgories",e.jsx(Xt,{className:"w-4 h-4 ml-2"})]})})]})})},V5=()=>{const t=Re(),{data:s=[],isLoading:r}=We({queryKey:["trending-products"],queryFn:async()=>{try{const d=await ie.get("/products/public?sort=trending&limit=6");return d.products||d.data||d||[]}catch(d){return console.error("Erreur lors du chargement des produits tendances:",d),[]}},staleTime:300*1e3}),a=m.useMemo(()=>s.length>0?s.map((d,u)=>({id:d.id,name:d.nom||"Produit sans nom",description:d.description||"Description non disponible",price:d.prix_unitaire||0,originalPrice:d.prix_promo?d.prix_unitaire:void 0,image:d.image_principale?Yt(d.image_principale):"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=400&fit=crop",supplier:d.nom_entreprise||d.fournisseur||"Fournisseur non spcifi",category:d.categorie||"Non catgoris",rating:d.note_moyenne||4+u*.1,reviewCount:d.nombre_avis||Math.floor(Math.random()*100)+10,views:d.nombre_vues||Math.floor(Math.random()*2e3)+500,sales:Math.floor(Math.random()*200)+10,trend:u<2?"hot":u<4?"up":"new",trendPercentage:10+u*3,inStock:d.stock_disponible>0,minOrder:d.quantite_minimale||1,unit:d.unite||"unit"})):[],[s]),o=d=>{switch(d){case"hot":return{color:"bg-red-500 text-white",label:" Hot",icon:bt};case"up":return{color:"bg-green-500 text-white",label:" Tendance",icon:bt};case"new":return{color:"bg-blue-500 text-white",label:" Nouveau",icon:Ct};default:return{color:"bg-gray-500 text-white",label:"Tendance",icon:bt}}},l=d=>{t(`/products/${d}`)};return e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx(bt,{className:"w-8 h-8 text-green-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Produits Tendance"})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Dcouvrez les produits les plus populaires et les mieux nots par nos clients professionnels"})]}),r&&e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(gr,{className:"w-8 h-8 animate-spin text-green-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Chargement des produits tendances..."})]}),!r&&a.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(bt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Aucun produit tendance disponible"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Les produits tendances seront bientt disponibles."}),e.jsx(D,{onClick:()=>t("/products"),variant:"outline",children:"Voir tous les produits"})]}),!r&&a.length>0&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:a.map(d=>{const u=o(d.trend),h=d.originalPrice&&d.originalPrice>d.price,p=h?Math.round((d.originalPrice-d.price)/d.originalPrice*100):0;return e.jsxs(Q,{className:"group cursor-pointer hover:shadow-xl transition-all duration-300 overflow-hidden border-0 shadow-md",onClick:()=>l(d.id),children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-64 overflow-hidden",children:e.jsx("img",{src:d.image,alt:d.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.jsx(ne,{className:`${u.color} font-bold px-3 py-1`,children:u.label}),h&&e.jsxs(ne,{className:"bg-red-600 text-white font-bold px-3 py-1",children:["-",p,"%"]}),!d.inStock&&e.jsx(ne,{className:"bg-gray-500 text-white font-bold px-3 py-1",children:"Rupture"})]}),e.jsxs("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:["+",d.trendPercentage,"%"]}),e.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(D,{size:"sm",variant:"secondary",className:"p-2",children:e.jsx(Kt,{className:"w-4 h-4"})}),e.jsx(D,{size:"sm",variant:"secondary",className:"p-2",children:e.jsx(Ze,{className:"w-4 h-4"})})]})]}),e.jsxs(J,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(ne,{variant:"outline",className:"text-xs",children:d.category}),e.jsxs("span",{className:"text-xs text-gray-500",children:["par ",d.supplier]})]}),e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 group-hover:text-blue-600 transition-colors line-clamp-2",children:d.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:d.description}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"font-medium",children:d.rating}),e.jsxs("span",{className:"text-gray-500",children:["(",d.reviewCount,")"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(Ze,{className:"w-4 h-4"}),e.jsx("span",{children:d.views.toLocaleString()})]}),e.jsxs("div",{className:"text-green-600 font-medium",children:[d.sales," vendus"]})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[d.price.toLocaleString()," FCFA"]}),h&&e.jsxs("span",{className:"text-lg text-gray-400 line-through",children:[d.originalPrice.toLocaleString()," FCFA"]})]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Commande minimum: ",d.minOrder," ",d.unit,d.minOrder>1&&"s"]}),e.jsxs(D,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold group/btn",disabled:!d.inStock,children:[e.jsx(pr,{className:"w-4 h-4 mr-2"}),d.inStock?"Ajouter au panier":"Rupture de stock",e.jsx(Xt,{className:"w-4 h-4 ml-2 group-hover/btn:translate-x-1 transition-transform"})]})]})]},d.id)})}),e.jsx("div",{className:"text-center",children:e.jsxs(D,{size:"lg",onClick:()=>t("/products?trending=true"),className:"bg-green-600 hover:bg-green-700 text-white px-8",children:["Voir tous les produits tendance",e.jsx(Xt,{className:"w-4 h-4 ml-2"})]})})]})})},U5=()=>{const[t,s]=m.useState(""),[r,a]=m.useState(!1),[o,l]=m.useState(!1),d=async u=>{if(u.preventDefault(),!t){$.error("Veuillez saisir votre adresse email");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){$.error("Veuillez saisir une adresse email valide");return}l(!0);try{await new Promise(h=>setTimeout(h,1500)),a(!0),$.success("Inscription russie ! Vous recevrez nos dernires offres par email."),s("")}catch{$.error("Erreur lors de l'inscription. Veuillez ressayer.")}finally{l(!1)}};return r?e.jsx("section",{className:"py-16 bg-gradient-to-r from-green-600 to-blue-600",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:e.jsx(qe,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Merci pour votre inscription ! "}),e.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Vous recevrez bientt nos meilleures offres et actualits business directement dans votre bote mail."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(D,{size:"lg",className:"bg-white text-green-600 hover:bg-gray-100",onClick:()=>window.location.href="/products",children:"Dcouvrir nos produits"}),e.jsx(D,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-green-600",onClick:()=>a(!1),children:"S'inscrire avec un autre email"})]})]})})}):e.jsx("section",{className:"py-16 bg-gradient-to-r from-green-600 to-blue-600",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"text-white",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(rs,{className:"w-8 h-8"}),e.jsx("h2",{className:"text-3xl font-bold",children:"Restez Inform"})]}),e.jsx("p",{className:"text-xl text-white/90 mb-6",children:"Recevez en exclusivit nos meilleures offres, nouveauts produits et actualits business du Gabon"}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-white/20 rounded-full p-2",children:e.jsx(ui,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-white/90",children:"Offres exclusives et promotions en avant-premire"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-white/20 rounded-full p-2",children:e.jsx(vs,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-white/90",children:"Alertes sur les nouveaux produits et fournisseurs"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-white/20 rounded-full p-2",children:e.jsx(bt,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-white/90",children:"Tendances du march B2B gabonais"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"5,000+"}),e.jsx("div",{className:"text-sm text-white/70",children:"Abonns"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"2x/sem"}),e.jsx("div",{className:"text-sm text-white/70",children:"Newsletters"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"95%"}),e.jsx("div",{className:"text-sm text-white/70",children:"Satisfaction"})]})]})]}),e.jsx("div",{children:e.jsx(Q,{className:"border-0 shadow-2xl",children:e.jsxs(J,{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Inscription Newsletter"}),e.jsx("p",{className:"text-gray-600",children:"Rejoignez notre communaut de professionnels"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newsletter-email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email professionnelle"}),e.jsxs("div",{className:"relative",children:[e.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{id:"newsletter-email",type:"email",placeholder:"votre@entreprise.com",value:t,onChange:u=>s(u.target.value),className:"pl-10 h-12 text-lg",disabled:o})]})]}),e.jsx(D,{type:"submit",size:"lg",className:"w-full bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-semibold h-12 text-lg",disabled:o,children:o?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Inscription en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Uv,{className:"w-5 h-5 mr-2"}),"S'abonner gratuitement"]})}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"En vous inscrivant, vous acceptez de recevoir nos emails marketing. Vous pouvez vous dsabonner  tout moment."})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(qe,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Gratuit"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(qe,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Sans spam"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(qe,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Dsabonnement facile"})]})]})})]})})})]})})})})},H5=({maxProducts:t=8,showByCategory:s=!0,title:r="Produits Populaires",subtitle:a="Dcouvrez les produits les plus apprcis par notre communaut"})=>{const o=Re(),[l,d]=m.useState("all"),[u,h]=m.useState("carousel"),[p,v]=m.useState(0),{data:f=[],isLoading:g}=We({queryKey:["popular-products",l],queryFn:async()=>{try{const T=new URLSearchParams({limit:t.toString(),category:l}),b=await ie.get(`/products/featured?${T}`);return b.products||b.data||b||[]}catch(T){return console.error("Erreur lors du chargement des produits populaires:",T),[]}},staleTime:300*1e3}),{data:N=[]}=We({queryKey:["categories-for-popular"],queryFn:async()=>{try{const T=await ie.get("/categories?limit=6");return T.categories||T.data||T||[]}catch{return[]}}});be.useMemo(()=>{if(!s)return{all:f};const T={all:f};return f.forEach(b=>{const P=b.categorie_nom||"Autres";T[P]||(T[P]=[]),T[P].push(b)}),T},[f,s]);const k=4,y=Math.ceil(f.length/k),_=()=>{v(T=>(T+1)%y)},w=()=>{v(T=>(T-1+y)%y)},E=T=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XAF",minimumFractionDigits:0}).format(T),C=T=>{const b=new Date(T),A=Math.floor((new Date().getTime()-b.getTime())/(1e3*60*60));return A<1?" l'instant":A<24?`Il y a ${A}h`:A<168?`Il y a ${Math.floor(A/24)}j`:`Il y a ${Math.floor(A/168)} sem`},R=T=>T>=100?{text:" Trs populaire",color:"bg-red-500"}:T>=50?{text:" Populaire",color:"bg-orange-500"}:T>=20?{text:" En hausse",color:"bg-green-500"}:{text:" Nouveau",color:"bg-blue-500"};if(g)return e.jsx("div",{className:"py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des produits populaires..."})]})});return e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(bt,{className:"w-8 h-8 text-green-600 mr-3"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:r})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-8",children:a}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-8",children:[s&&N.length>0&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsx(D,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>d("all"),children:"Toutes les catgories"}),N.slice(0,5).map(T=>e.jsx(D,{variant:l===T.slug?"default":"outline",size:"sm",onClick:()=>d(T.slug),children:T.nom},T.id))]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:u==="carousel"?"default":"outline",size:"sm",onClick:()=>h("carousel"),children:"Carousel"}),e.jsx(D,{variant:u==="grid"?"default":"outline",size:"sm",onClick:()=>h("grid"),children:"Grille"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:f.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Produits populaires"})]})}),e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f.reduce((T,b)=>T+b.vues_30j,0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Vues (30j)"})]})}),e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.reduce((T,b)=>T+b.ventes_30j,0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Ventes (30j)"})]})}),e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Math.round(f.reduce((T,b)=>T+b.note_moyenne,0)/f.length*10)/10}),e.jsx("div",{className:"text-sm text-gray-600",children:"Note moyenne"})]})})]}),u==="carousel"?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${p*100}%)`},children:Array.from({length:y}).map((T,b)=>e.jsx("div",{className:"w-full flex-shrink-0",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.slice(b*k,(b+1)*k).map(P=>e.jsx(I,{product:P},P.id))})},b))})}),y>1&&e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white shadow-lg",onClick:w,children:""}),e.jsx(D,{variant:"outline",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white shadow-lg",onClick:_,children:""})]}),y>1&&e.jsx("div",{className:"flex justify-center mt-6 gap-2",children:Array.from({length:y}).map((T,b)=>e.jsx("button",{className:we("w-2 h-2 rounded-full transition-colors",b===p?"bg-green-600":"bg-gray-300"),onClick:()=>v(b)},b))})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:f.map(T=>e.jsx(I,{product:T},T.id))}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(D,{size:"lg",onClick:()=>o("/products?sort=popularity"),className:"bg-green-600 hover:bg-green-700",children:["Voir tous les produits populaires",e.jsx(Xt,{className:"w-5 h-5 ml-2"})]})})]})});function I({product:T}){const b=R(T.score_popularite),P=T.est_en_offre&&T.prix_promo?T.prix_promo:T.prix_unitaire,A=T.est_en_offre&&T.prix_promo&&T.prix_promo<T.prix_unitaire;return e.jsx(Q,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer",children:e.jsxs(J,{className:"p-0",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[T.image_principale?e.jsx("img",{src:Yt(T.image_principale),alt:T.nom,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:O=>{const F=O.target;F.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(De,{className:"w-16 h-16 text-gray-400"})}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[e.jsx(ne,{className:we("text-xs",b.color),children:b.text}),A&&e.jsxs(ne,{variant:"destructive",className:"text-xs",children:["-",T.pourcentage_reduction,"%"]})]}),e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(D,{variant:"secondary",size:"sm",onClick:O=>{O.stopPropagation(),o(`/products/${T.id}`)},children:e.jsx(Ze,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:T.nom}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:T.fournisseur_nom})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((O,F)=>e.jsx(Ct,{className:we("w-4 h-4",F<Math.floor(T.note_moyenne)?"text-yellow-400 fill-current":"text-gray-300")},F))}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",T.nombre_avis,")"]})]}),e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-lg font-bold text-green-600",children:E(P)}),A&&e.jsx("span",{className:"text-sm text-gray-500 line-through ml-2",children:E(T.prix_unitaire)})]})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"w-3 h-3"}),T.vues_30j]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(St,{className:"w-3 h-3"}),T.ventes_30j]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Hs,{className:"w-3 h-3"}),C(T.derniere_activite)]})]}),e.jsx(D,{className:"w-full",onClick:()=>o(`/products/${T.id}`),children:"Voir le produit"})]})]})})}},W5=()=>{const t=[{label:"Fournisseurs vrifis",value:"500+",icon:St,color:"text-blue-600"},{label:"Produits disponibles",value:"10,000+",icon:Ir,color:"text-green-600"},{label:"Commandes traites",value:"25,000+",icon:bt,color:"text-purple-600"},{label:"Clients satisfaits",value:"98%",icon:Ct,color:"text-yellow-600"}],s=[{icon:lt,title:"Scurit garantie",description:"Tous nos fournisseurs sont vrifis et certifis pour garantir la qualit de vos achats professionnels."},{icon:St,title:"Rseau tendu",description:"Accdez au plus grand rseau de fournisseurs B2B du Gabon, couvrant tous les secteurs d'activit."},{icon:Ir,title:"Plateforme moderne",description:"Interface intuitive et outils avancs pour faciliter vos achats et optimiser votre gestion des commandes."},{icon:dn,title:"Service premium",description:"Support client ddi, livraison rapide et garantie satisfaction pour tous vos achats professionnels."}],r=["Certifi ISO 27001","Agr Chambre de Commerce","Partenaire officiel ANPME","Membre CGECI"];return e.jsx("section",{className:"py-16 bg-gradient-to-br from-gray-50 to-blue-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-600 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(Ir,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:" propos de GabMarketHub"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"La premire plateforme B2B du Gabon, connectant entreprises locales et fournisseurs pour dvelopper l'conomie gabonaise"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-16",children:t.map((a,o)=>{const l=a.icon;return e.jsx(Q,{className:"text-center border-0 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs(J,{className:"p-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-50 flex items-center justify-center mx-auto mb-4",children:e.jsx(l,{className:`w-6 h-6 ${a.color}`})}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.value}),e.jsx("div",{className:"text-sm text-gray-600",children:a.label})]})},o)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-16",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Votre partenaire de confiance pour le commerce B2B au Gabon"}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"GabMarketHub rvolutionne le commerce B2B au Gabon en connectant directement les entreprises locales avec un rseau de fournisseurs vrifis et de qualit."}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Notre mission est de faciliter les changes commerciaux, rduire les cots d'approvisionnement et stimuler la croissance conomique du pays en digitalisant les processus d'achat professionnel."})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Nos certifications et partenariats"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.map((a,o)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:a})]},o))})]}),e.jsxs(D,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:["En savoir plus sur notre entreprise",e.jsx(Xt,{className:"w-4 h-4 ml-2"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=600&h=400&fit=crop",alt:"quipe GabMarketHub",className:"rounded-2xl shadow-2xl"}),e.jsx("div",{className:"absolute -bottom-6 -left-6 bg-white p-4 rounded-xl shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(dn,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900",children:"Leader B2B"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Gabon 2024"})]})]})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:s.map((a,o)=>{const l=a.icon;return e.jsx(Q,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 group",children:e.jsxs(J,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-50 to-green-50 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:e.jsx(l,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-3",children:a.title}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:a.description})]})},o)})}),e.jsx("div",{className:"text-center mt-16",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Rejoignez la rvolution du commerce B2B gabonais"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Que vous soyez acheteur ou fournisseur, GabMarketHub vous offre les outils pour dvelopper votre activit et optimiser vos changes commerciaux."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(D,{size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:["Devenir fournisseur",e.jsx(Xt,{className:"w-4 h-4 ml-2"})]}),e.jsxs(D,{size:"lg",variant:"outline",className:"border-green-600 text-green-600 hover:bg-green-600 hover:text-white",children:["Crer un compte acheteur",e.jsx(Xt,{className:"w-4 h-4 ml-2"})]})]})]})})]})})},Pc=t=>({Conseils:"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?w=800&h=400&fit=crop",Tendances:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop",Actualits:"https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800&h=400&fit=crop",Technologie:"https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=800&h=400&fit=crop",Business:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=400&fit=crop",Marketing:"https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&h=400&fit=crop",Finance:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&h=400&fit=crop",Dveloppement:"https://images.unsplash.com/photo-1555066931-4365d14bab8c?w=800&h=400&fit=crop"})[t]||"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=400&fit=crop",G5=({maxArticles:t=6,showFeatured:s=!0,title:r="Blog & Conseils",subtitle:a="Dcouvrez nos articles, guides et conseils pour russir dans le commerce B2B"})=>{const o=Re(),[l,d]=m.useState("all"),[u,h]=m.useState("featured"),{data:p=[],isLoading:v}=We({queryKey:["featured-articles"],queryFn:async()=>{try{const C=new URLSearchParams({limit:"2",featured:"true",published:"true"}),R=await ie.get(`/blog/featured?${C}`);return R.articles||R.data||R||[]}catch(C){return console.error("Erreur lors du chargement des articles  la une:",C),[]}},staleTime:600*1e3}),{data:f=[],isLoading:g}=We({queryKey:["recent-articles",l],queryFn:async()=>{try{const C=new URLSearchParams({limit:t.toString(),category:l!=="all"?l:"",published:"true",sort:"date_desc"}),R=await ie.get(`/blog/recent?${C}`);return R.articles||R.data||R||[]}catch(C){return console.error("Erreur lors du chargement des articles rcents:",C),[]}},staleTime:300*1e3}),{data:N=[]}=We({queryKey:["blog-categories"],queryFn:async()=>{try{const C=await ie.get("/blog/categories");return C.categories||C.data||C||[]}catch{return[]}}}),k=C=>{const R=new Date(C),T=Math.floor((new Date().getTime()-R.getTime())/(1e3*60*60*24));return T===0?"Aujourd'hui":T===1?"Hier":T<7?`Il y a ${T} jours`:T<30?`Il y a ${Math.floor(T/7)} semaines`:`Il y a ${Math.floor(T/30)} mois`},y=C=>({Conseils:"bg-blue-500",Tendances:"bg-purple-500",Guide:"bg-green-500",Actualits:"bg-orange-500",Technologie:"bg-indigo-500",Marketing:"bg-pink-500",Finance:"bg-yellow-500",Ressources:"bg-gray-500"})[C]||"bg-gray-500";if(v||g)return e.jsx("div",{className:"py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des articles..."})]})});return e.jsx("section",{className:"py-16 bg-gradient-to-br from-green-50 to-blue-50",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(th,{className:"w-8 h-8 text-green-600 mr-3"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:r})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-8",children:a}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(D,{variant:u==="featured"?"default":"outline",size:"sm",onClick:()=>h("featured"),children:[e.jsx(bt,{className:"w-4 h-4 mr-2"})," la une"]}),e.jsxs(D,{variant:u==="recent"?"default":"outline",size:"sm",onClick:()=>h("recent"),children:[e.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Rcents"]})]}),u==="recent"&&N.length>0&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsx(D,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>d("all"),children:"Toutes"}),N.slice(0,5).map(C=>e.jsx(D,{variant:l===C?"default":"outline",size:"sm",onClick:()=>d(C),children:C},C))]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:(p?.length||0)+(f?.length||0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Articles"})]})}),e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:N?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Catgories"})]})}),e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:[...p||[],...f||[]].reduce((C,R)=>C+(R.nombre_vues||0),0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Vues totales"})]})}),e.jsx(Q,{className:"text-center",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:[...p||[],...f||[]].reduce((C,R)=>C+(R.nombre_likes||0),0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Likes"})]})})]})]}),u==="featured"?e.jsxs("div",{className:"space-y-8",children:[p.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:p.map(C=>e.jsx(w,{article:C},C.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(th,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun article  la une"}),e.jsx("p",{className:"text-gray-600",children:"Revenez bientt pour dcouvrir nos prochains articles !"})]}),f.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Articles rcents"}),e.jsxs(D,{variant:"outline",size:"sm",onClick:()=>h("recent"),children:["Voir tout",e.jsx(Xt,{className:"w-4 h-4 ml-2"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.slice(0,3).map(C=>e.jsx(E,{article:C},C.id))})]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(C=>e.jsx(E,{article:C},C.id))}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(D,{size:"lg",onClick:()=>o("/blog"),className:"bg-green-600 hover:bg-green-700",children:["Voir tout le blog",e.jsx(Xt,{className:"w-5 h-5 ml-2"})]})})]})});function w({article:C}){return e.jsx(Q,{className:"group hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden",children:e.jsxs(J,{className:"p-0",children:[e.jsxs("div",{className:"relative h-64 bg-gray-100 overflow-hidden",children:[e.jsx("img",{src:C.image_principale?Yt(C.image_principale):Pc(C.categorie),alt:C.titre,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:R=>{const I=R.target;I.src=Pc(C.categorie)}}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.jsx(ne,{className:we("text-xs",y(C.categorie)),children:C.categorie}),e.jsxs(ne,{variant:"secondary",className:"text-xs",children:[e.jsx(bt,{className:"w-3 h-3 mr-1"})," la une"]})]}),e.jsxs("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[e.jsx(D,{variant:"secondary",size:"sm",children:e.jsx(Kt,{className:"w-4 h-4"})}),e.jsx(D,{variant:"secondary",size:"sm",children:e.jsx(vi,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3 line-clamp-2",children:C.titre}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:C.extrait})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),C.auteur_nom]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Vt,{className:"w-4 h-4"}),C.temps_lecture_estime," min"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"w-4 h-4"}),C.nombre_vues]})]}),C.tags&&Array.isArray(C.tags)&&C.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[C.tags.slice(0,3).map((R,I)=>e.jsxs(ne,{variant:"outline",className:"text-xs",children:[e.jsx(Hv,{className:"w-3 h-3 mr-1"}),R]},I)),C.tags.length>3&&e.jsxs(ne,{variant:"outline",className:"text-xs",children:["+",C.tags.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:k(C.date_publication)}),e.jsx(D,{onClick:()=>o(`/blog/${C.slug}`),className:"bg-green-600 hover:bg-green-700",children:"Lire l'article"})]})]})]})})}function E({article:C}){return e.jsx(Q,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer",children:e.jsxs(J,{className:"p-0",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[e.jsx("img",{src:C.image_principale?Yt(C.image_principale):Pc(C.categorie),alt:C.titre,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:R=>{const I=R.target;I.src=Pc(C.categorie)}}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx(ne,{className:we("text-xs",y(C.categorie)),children:C.categorie})}),e.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[e.jsx(D,{variant:"secondary",size:"sm",className:"h-6 w-6 p-0",children:e.jsx(Kt,{className:"w-3 h-3"})}),e.jsx(D,{variant:"secondary",size:"sm",className:"h-6 w-6 p-0",children:e.jsx(vi,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:C.titre}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:C.extrait})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Xe,{className:"w-3 h-3"}),C.auteur_nom]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Vt,{className:"w-3 h-3"}),C.temps_lecture_estime," min"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"w-3 h-3"}),C.nombre_vues]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:k(C.date_publication)}),e.jsx(D,{size:"sm",onClick:()=>o(`/blog/${C.slug}`),className:"bg-green-600 hover:bg-green-700",children:"Lire"})]})]})]})})}},Lo=({category:t,onClick:s,variant:r="default",showProductCount:a=!1})=>{const o=()=>e.jsx(De,{className:"w-6 h-6"});return r==="compact"?e.jsx("button",{onClick:()=>s(t),className:"w-full p-3 bg-white rounded-lg border border-gray-200 hover:border-green-300 hover:shadow-md transition-all duration-200 text-left group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-green-600 group-hover:text-green-700",children:o()}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 group-hover:text-green-600 transition-colors",children:t.nom}),a&&t.productCount&&e.jsxs("p",{className:"text-xs text-gray-500",children:[t.productCount," produits"]})]})]}),e.jsx(Dr,{className:"w-4 h-4 text-gray-400 group-hover:text-green-600 transition-colors"})]})}):r==="featured"?e.jsx(Q,{className:"hover:shadow-xl transition-all duration-300 cursor-pointer group overflow-hidden",children:e.jsxs(J,{className:"p-0",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 p-6 group-hover:from-green-100 group-hover:to-blue-100 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-green-600 group-hover:text-green-700 transition-colors",children:o()}),e.jsx(Dr,{className:"w-5 h-5 text-gray-400 group-hover:text-green-600 transition-colors"})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-green-600 transition-colors mb-2",children:t.nom}),t.description&&e.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-4",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[t.children&&t.children.length>0&&e.jsxs(ne,{variant:"secondary",className:"text-xs",children:[e.jsx(Hv,{className:"w-3 h-3 mr-1"}),t.children.length," sous-catgories"]}),a&&t.productCount&&e.jsxs(ne,{variant:"outline",className:"text-xs",children:[t.productCount," produits"]})]})]}),t.children&&t.children.length>0&&e.jsxs("div",{className:"p-4 bg-white border-t border-gray-100",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"Sous-catgories populaires :"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.children.slice(0,3).map(l=>e.jsx("button",{onClick:d=>{d.stopPropagation(),s(l)},className:"text-xs bg-gray-100 hover:bg-green-100 text-gray-600 hover:text-green-700 px-2 py-1 rounded-full transition-colors",children:l.nom},l.id)),t.children.length>3&&e.jsxs("span",{className:"text-xs text-green-600 px-2 py-1 font-medium",children:["+",t.children.length-3," autres"]})]})]})]})}):e.jsx(Q,{className:"hover:shadow-lg transition-shadow cursor-pointer group",children:e.jsxs(J,{className:"p-6",onClick:()=>s(t),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"text-green-600 group-hover:text-green-700 transition-colors mt-1",children:o()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-green-600 transition-colors mb-2",children:t.nom}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.description})]})]}),e.jsx(Dr,{className:"w-5 h-5 text-gray-400 group-hover:text-green-600 transition-colors flex-shrink-0 ml-2"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[t.children&&t.children.length>0&&e.jsxs(ne,{variant:"outline",className:"text-xs",children:[t.children.length," sous-catgories"]}),a&&t.productCount&&e.jsxs(ne,{variant:"secondary",className:"text-xs",children:[t.productCount," produits"]})]}),t.children&&t.children.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"Sous-catgories :"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.children.slice(0,4).map(l=>e.jsx("button",{onClick:d=>{d.stopPropagation(),s(l)},className:"text-xs bg-gray-100 hover:bg-green-100 text-gray-600 hover:text-green-700 px-2 py-1 rounded transition-colors",children:l.nom},l.id)),t.children.length>4&&e.jsxs("span",{className:"text-xs text-green-600 px-2 py-1 font-medium",children:["+",t.children.length-4," autres"]})]})]})]})})},K5=({title:t="Catgories populaires",subtitle:s="Dcouvrez nos catgories les plus demandes",maxCategories:r=8,showViewAll:a=!0})=>{const o=Re(),{data:l=[],isLoading:d}=We({queryKey:["featured-categories"],queryFn:async()=>{const h=await ie.get("/categories"),p=h.categories||h.data||h||[],v=new Map,f=[];return p.forEach(g=>{v.set(g.id,{...g,children:[]})}),p.forEach(g=>{const N=v.get(g.id);if(g.parent_id){const k=v.get(g.parent_id);k&&k.children.push(N)}else f.push(N)}),f.sort((g,N)=>(N.children?.length||0)-(g.children?.length||0)).slice(0,r)},staleTime:300*1e3}),u=h=>{h.children&&h.children.length>0?o(`/categories/${h.slug}`):o(`/products?category=${h.slug}`)};return d?e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-64 mx-auto mb-4 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-96 mx-auto animate-pulse"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map((h,p)=>e.jsxs("div",{className:"bg-white rounded-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})]},p))})]})}):l.length===0?null:e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(bt,{className:"w-6 h-6 text-green-600 mr-3"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:t})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:s})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:l.slice(0,4).map(h=>e.jsx(Lo,{category:h,onClick:u,variant:"featured",showProductCount:!0},h.id))}),l.length>4&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:l.slice(4,r).map(h=>e.jsx(Lo,{category:h,onClick:u,variant:"compact",showProductCount:!0},h.id))}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-8",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[l.length,"+"]}),e.jsx("div",{className:"text-gray-600",children:"Catgories principales"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[l.reduce((h,p)=>h+(p.children?.length||0),0),"+"]}),e.jsx("div",{className:"text-gray-600",children:"Sous-catgories"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:l.reduce((h,p)=>h+(p.productCount||0),0)||"1000+"}),e.jsx("div",{className:"text-gray-600",children:"Produits disponibles"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"100%"}),e.jsx("div",{className:"text-gray-600",children:"March gabonais"})]})]})}),a&&e.jsxs("div",{className:"text-center",children:[e.jsxs(D,{size:"lg",onClick:()=>o("/categories"),className:"group",children:["Voir toutes les catgories",e.jsx(Xt,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Explorez notre catalogue complet de produits B2B"})]})]})})},X5=()=>e.jsxs($e,{children:[e.jsx(L5,{}),e.jsx(B5,{}),e.jsx(H5,{title:"Produits Populaires",subtitle:"Dcouvrez les produits les plus apprcis par notre communaut B2B",maxProducts:8,showByCategory:!0}),e.jsx(K5,{title:"Explorez nos catgories",subtitle:"Dcouvrez notre gamme complte de produits organiss par secteurs d'activit",maxCategories:6,showViewAll:!0}),e.jsx($5,{title:"Offres du Moment",subtitle:"Dcouvrez nos meilleures promotions limites dans le temps",maxOffers:6,showCountdown:!0}),e.jsx(V5,{}),e.jsx(q5,{title:"vnements Commerciaux",subtitle:"Dcouvrez les vnements qui faonnent l'avenir du commerce au Gabon",maxEvents:4,showUpcoming:!0}),e.jsx(z5,{}),e.jsx(W5,{}),e.jsx(G5,{title:"Blog & Conseils",subtitle:"Dcouvrez nos articles, guides et conseils pour russir dans le commerce B2B",maxArticles:6,showFeatured:!0}),e.jsx(U5,{})]}),rl=({label:t="Retour",fallbackPath:s="/",className:r=""})=>{const a=Re(),o=()=>{window.history.length>1?window.history.back():a(s)};return e.jsxs(D,{variant:"ghost",onClick:o,className:`flex items-center gap-2 text-gray-600 hover:text-gray-900 ${r}`,children:[e.jsx(Qs,{className:"w-4 h-4"}),t]})},Y5=({className:t="",onCategorySelect:s,currentCategory:r="",showSearch:a=!0})=>{const[o,l]=m.useState(""),[d,u]=m.useState(!0),{data:h=[],isLoading:p}=We({queryKey:["categories-simple"],queryFn:async()=>{try{const N=await ie.get("/categories");return(N.categories||N.data||N||[]).filter(_=>!_.parent_id).sort((_,w)=>_.ordre-w.ordre)}catch(N){return console.error("Erreur lors du chargement des catgories:",N),[]}},staleTime:300*1e3}),v=h.filter(N=>N.nom.toLowerCase().includes(o.toLowerCase())),f=N=>{s&&s(N)},g=()=>{l(""),s&&s("")};return p?e.jsx("div",{className:`bg-white rounded-lg shadow-sm p-4 ${t}`,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse"}),[...Array(6)].map((N,k)=>e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"},k))]})}):d?e.jsxs("div",{className:`bg-white rounded-lg shadow-sm ${t}`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center",children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Catgories"]}),e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:e.jsx(Je,{className:"w-4 h-4"})})]}),a&&e.jsxs("div",{className:"relative",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(B,{placeholder:"Rechercher une catgorie...",value:o,onChange:N=>l(N.target.value),className:"pl-10 text-sm"})]})]}),e.jsxs("div",{className:"p-4",children:[r&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Filtre actuel:"}),e.jsx(D,{variant:"ghost",size:"sm",onClick:g,className:"text-red-600 hover:text-red-700 h-auto p-1",children:e.jsx(Je,{className:"w-3 h-3"})})]}),e.jsx(ne,{variant:"secondary",className:"text-xs",children:h.find(N=>N.slug===r)?.nom||r}),e.jsx("div",{className:"border-t border-gray-200 mt-3 mb-3"})]}),e.jsx("button",{onClick:()=>f(""),className:`w-full text-left py-2 px-3 rounded-md transition-colors text-sm mb-2 ${r?"text-gray-700 hover:text-green-600 hover:bg-gray-50":"bg-green-100 text-green-700 font-medium"}`,children:"Toutes les catgories"}),e.jsx("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:v.length>0?v.map(N=>e.jsxs("button",{onClick:()=>f(N.slug),className:`w-full text-left py-2 px-3 rounded-md transition-colors text-sm flex items-center justify-between group ${r===N.slug?"bg-green-100 text-green-700 font-medium":"text-gray-700 hover:text-green-600 hover:bg-gray-50"}`,children:[e.jsx("span",{children:N.nom}),e.jsx(Dr,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity"})]},N.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(De,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Aucune catgorie trouve"}),o&&e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>l(""),className:"mt-2 text-xs",children:"Effacer la recherche"})]})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[v.length," catgorie",v.length>1?"s":""," disponible",v.length>1?"s":""]})})]})]}):e.jsx("div",{className:`bg-white rounded-lg shadow-sm p-4 ${t}`,children:e.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>u(!0),className:"w-full",children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Afficher les filtres"]})})};class Q5 extends m.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("CategorySidebar Error:",s,r)}render(){return this.state.hasError?e.jsx("div",{className:`bg-white rounded-lg shadow-sm p-6 ${this.props.className}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(Pt,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Erreur de chargement"}),e.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Impossible de charger les filtres de catgories"}),e.jsxs(D,{variant:"outline",size:"sm",onClick:()=>{this.setState({hasError:!1,error:void 0}),window.location.reload()},className:"flex items-center",children:[e.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Ressayer"]})]})}):this.props.children}}const J5=t=>e.jsx(Q5,{...t,children:e.jsx(Y5,{...t})}),Z5=()=>{const t=Re(),s=Wr(),[r,a]=Da(),[o,l]=m.useState(r.get("search")||""),[d,u]=m.useState(r.get("category")||""),[h,p]=m.useState("grid"),[v,f]=m.useState(!0),[g,N]=m.useState(""),[k,y]=m.useState(""),[_,w]=m.useState(1);m.useEffect(()=>{const V=r.get("category"),K=r.get("search");V&&u(V),K&&l(K)},[r]);const E=V=>{u(V),w(1);const K=new URLSearchParams(r);V?K.set("category",V):K.delete("category"),a(K)},{data:C,isLoading:R,error:I}=We({queryKey:["public-products",o,d,g,k,_],queryFn:async()=>{const V=new URLSearchParams;o.trim()&&(V.append("search",o.trim()),console.log(" Recherche avec terme:",o.trim())),d&&V.append("categorie",d),g&&!isNaN(parseFloat(g))&&V.append("prix_min",g),k&&!isNaN(parseFloat(k))&&V.append("prix_max",k),V.append("page",_.toString()),V.append("limit","20");const K=`/products/public?${V.toString()}`;console.log(" URL de recherche:",K);const me=await ie.get(K);return console.log(" Rponse API:",me),me},staleTime:3e4}),T=V=>{l(V),w(1);const K=new URLSearchParams(r);V.trim()?K.set("search",V.trim()):K.delete("search"),a(K)},b=()=>{l(""),u(""),N(""),y(""),w(1),a(new URLSearchParams)},P=C?.products||C?.data||[],A=C?.pagination,O=async V=>{try{if(!s){$.error("Veuillez vous connecter pour ajouter au panier"),t("/login");return}const K={produit_id:V.id,quantite:V.moq||1,prix_unitaire:V.prix_unitaire};await ie.post("/cart/add",K),$.success(`${V.nom} ajout au panier`)}catch(K){console.error("Erreur ajout panier:",K),$.error(K.response?.data?.error||"Erreur lors de l'ajout au panier")}},F=async V=>{try{if(!s){$.error("Veuillez vous connecter pour ajouter aux favoris"),t("/login");return}const K=await ie.post("/users/favorites",{produit_id:V});$.success("Produit ajout aux favoris")}catch(K){console.error("Erreur favoris:",K),K.response?.status===401?($.error("Veuillez vous connecter"),t("/login")):$.error(K.response?.data?.error||"Erreur lors de l'ajout aux favoris")}},X=V=>{t(`/products/${V}`)};return I?e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(De,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Erreur de chargement"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Impossible de charger les produits"}),e.jsx(D,{onClick:()=>window.location.reload(),children:"Ressayer"})]})})}):e.jsx($e,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx(rl,{fallbackPath:"/",className:"mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Catalogue Produits"}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),e.jsx(B,{placeholder:"Rechercher des produits...",value:o,onChange:V=>T(V.target.value),className:"pl-10",onKeyPress:V=>{V.key==="Enter"&&T(o)}})]}),e.jsxs(D,{variant:"outline",onClick:()=>f(!v),className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"w-4 h-4"}),v?"Masquer filtres":"Afficher filtres"]})]}),(d||o||g||k)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[o&&e.jsxs(ne,{variant:"secondary",className:"flex items-center gap-1",children:['Recherche: "',o,'"',e.jsx("button",{onClick:()=>T(""),className:"ml-1 hover:text-red-600",children:e.jsx(Je,{className:"w-3 h-3"})})]}),d&&e.jsxs(ne,{variant:"secondary",className:"flex items-center gap-1",children:["Catgorie: ",d,e.jsx("button",{onClick:()=>E(""),className:"ml-1 hover:text-red-600",children:e.jsx(Je,{className:"w-3 h-3"})})]}),(g||k)&&e.jsxs(ne,{variant:"secondary",className:"flex items-center gap-1",children:["Prix: ",g||"0"," - ",k||"","",e.jsx("button",{onClick:()=>{N(""),y("")},className:"ml-1 hover:text-red-600",children:e.jsx(Je,{className:"w-3 h-3"})})]}),e.jsx(D,{variant:"ghost",size:"sm",onClick:b,className:"text-red-600 hover:text-red-700",children:"Effacer tout"})]})]})}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex gap-6",children:[v&&e.jsxs("div",{className:"w-80 space-y-6",children:[e.jsx(J5,{onCategorySelect:E,currentCategory:d,showSearch:!0,className:"sticky top-4"}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Filtres de prix"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix ()"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(B,{placeholder:"Min",type:"number",value:g,onChange:V=>N(V.target.value),className:"text-sm"}),e.jsx(B,{placeholder:"Max",type:"number",value:k,onChange:V=>y(V.target.value),className:"text-sm"})]})]}),e.jsx(D,{className:"w-full bg-gabon-green hover:bg-gabon-green/90",size:"sm",onClick:()=>w(1),children:"Appliquer les filtres"})]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("p",{className:"text-gray-600",children:R?"Chargement...":`${A?.total||P.length} produits trouvs`}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{variant:h==="grid"?"default":"outline",size:"sm",onClick:()=>p("grid"),children:e.jsx(wa,{className:"w-4 h-4"})}),e.jsx(D,{variant:h==="list"?"default":"outline",size:"sm",onClick:()=>p("list"),children:e.jsx(md,{className:"w-4 h-4"})})]})]}),R?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((V,K)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 animate-pulse",children:[e.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-lg mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded flex-1"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded flex-1"})]})]},K))}):P&&Array.isArray(P)&&P.length>0?e.jsx("div",{className:h==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:P.filter(V=>V&&V.id).map(V=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-lg transition-shadow p-4",children:[V.featured&&e.jsx(ne,{className:"mb-2 bg-yellow-400 text-gray-800",children:"Vedette"}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg mb-4 cursor-pointer overflow-hidden",onClick:()=>X(V.id),children:[V.image_principale?e.jsx("img",{src:Yt(V.image_principale),alt:V.nom,className:"w-full h-full object-cover",onError:K=>{const me=K.target;me.style.display="none";const U=me.nextElementSibling;U&&(U.style.display="flex")}}):null,e.jsx("div",{className:`absolute inset-0 w-full h-full flex items-center justify-center ${V.image_principale?"hidden":""}`,children:e.jsx(De,{className:"w-16 h-16 text-gray-400"})})]})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 cursor-pointer hover:text-gabon-green",onClick:()=>X(V.id),children:V.nom||"Produit sans nom"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:V.nom_entreprise||V.fournisseur||"Fournisseur non spcifi"}),e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((K,me)=>e.jsx(Ct,{className:`w-4 h-4 ${me<Math.floor(V.note_moyenne||0)?"text-yellow-400 fill-current":"text-gray-300"}`},me))}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",V.nombre_avis||0,")"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[V.prix_unitaire||0,""]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["/",V.unite||"unit"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xs text-gray-600",children:["MOQ: ",V.moq||1]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Stock: ",V.stock_disponible??"N/A"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(D,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>F(V.id),children:[e.jsx(Kt,{className:"w-4 h-4 mr-1"}),"Favoris"]}),e.jsxs(D,{size:"sm",className:"flex-1 bg-gabon-green hover:bg-gabon-green/90",onClick:()=>O(V),disabled:V.stock_disponible===0,children:[e.jsx(pr,{className:"w-4 h-4 mr-1"}),"Ajouter"]})]})]},V.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(De,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucun produit trouv"}),e.jsx("p",{className:"text-gray-600 mb-4",children:o||d||g||k?"Essayez de modifier vos critres de recherche":"Aucun produit disponible pour le moment"}),(o||d||g||k)&&e.jsx(D,{variant:"outline",onClick:b,children:"Effacer tous les filtres"})]}),A&&A.pages>1&&e.jsxs("div",{className:"flex justify-center mt-8 gap-2",children:[e.jsx(D,{variant:"outline",onClick:()=>w(_-1),disabled:_===1,children:"Prcdent"}),[...Array(Math.min(5,A.pages))].map((V,K)=>{const me=K+1;return e.jsx(D,{variant:_===me?"default":"outline",onClick:()=>w(me),className:_===me?"bg-gabon-green hover:bg-gabon-green/90":"",children:me},me)}),e.jsx(D,{variant:"outline",onClick:()=>w(_+1),disabled:_===A.pages,children:"Suivant"})]})]})]})})]})})},nl=({rating:t,onRatingChange:s,readonly:r=!1,size:a="md"})=>{const[o,l]=m.useState(0),d={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},u=h=>{!r&&s&&s(h)};return e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(h=>e.jsx("button",{type:"button",disabled:r,onClick:()=>u(h),onMouseEnter:()=>!r&&l(h),onMouseLeave:()=>!r&&l(0),className:`${r?"cursor-default":"cursor-pointer hover:scale-110"} transition-transform`,children:e.jsx(Ct,{className:`${d[a]} ${h<=(o||t)?"text-yellow-400 fill-current":"text-gray-300"}`})},h))})},eP=()=>{const t=Re(),[s,r]=m.useState(""),a=Wr(),[o,l]=m.useState(""),{data:d,isLoading:u,error:h}=We({queryKey:["suppliers",s,o],queryFn:async()=>{try{const g=new URLSearchParams;s&&g.append("search",s),o&&g.append("category",o);const N=await ie.get(`/entreprises?${g.toString()}`);return N.entreprises||N.data||[]}catch(g){return console.error("Erreur lors de la rcupration des fournisseurs:",g),$.error("Erreur lors de la rcupration des fournisseurs"),[]}}}),{data:p}=We({queryKey:["categories"],queryFn:async()=>{try{return await ie.get("/categories")}catch(g){return console.error("Erreur lors de la rcupration des catgories:",g),{categories:[]}}}}),v=p?.categories||p?.data||[],f=async g=>{if(!a){$.error("Veuillez vous connecter pour contacter un fournisseur"),t("/login");return}if(!g.utilisateur_id){$.error("Impossible de contacter ce fournisseur");return}if(!(g.utilisateur_id||g.user_id)){console.warn("Pas d'utilisateur_id trouv pour le fournisseur:",g),$.error("Impossible de contacter ce fournisseur (pas d'utilisateur associ)");return}const k=new URLSearchParams({supplier:g.id.toString(),supplierName:g.nom_entreprise});t(`/messages?${k.toString()}`),$.success(`Redirection vers le chat avec ${g.nom_entreprise}`)};return u?e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{children:"Chargement des fournisseurs..."})]})})}):e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Fournisseurs vrifis"}),e.jsx("p",{className:"text-gray-600",children:"Dcouvrez nos partenaires de confiance"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{placeholder:"Rechercher un fournisseur...",value:s,onChange:g=>r(g.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"md:w-64",children:e.jsxs("select",{value:o,onChange:g=>l(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[e.jsx("option",{value:"",children:"Toutes catgories"}),Array.isArray(v)&&v.map(g=>e.jsx("option",{value:g.slug,children:g.nom},g.id))]})}),e.jsxs(D,{variant:"outline",children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Filtres"]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d?.map(g=>e.jsx(Q,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(J,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(ot,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-1",children:g.nom_entreprise}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(nl,{rating:Number(g.note_moyenne)||0,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["(",g.nombre_avis||0,")"]})]})]})]}),g.statut_verification==="verifie"&&e.jsxs(ne,{className:"bg-green-100 text-green-800",children:[e.jsx(lt,{className:"w-3 h-3 mr-1"}),"Vrifi"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:g.description||"Fournisseur professionnel spcialis"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-gray-600",children:[g.nombre_produits||0," produits"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"w-4 h-4 text-orange-600"}),e.jsxs("span",{className:"text-gray-600",children:[g.delai_traitement||7,"j traitement"]})]}),g.ville&&e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx(os,{className:"w-4 h-4 text-red-600"}),e.jsxs("span",{className:"text-gray-600",children:[g.ville,", ",g.pays||"Gabon"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[g.statut_verification==="verifie"&&e.jsxs(ne,{variant:"outline",className:"text-xs",children:[e.jsx(dn,{className:"w-3 h-3 mr-1"}),"Certifi"]}),e.jsx(ne,{variant:"outline",className:"text-xs",children:"B2B Vrifi"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>t(`/suppliers/${g.id}`),children:"Voir profil"}),e.jsxs(D,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>f(g),children:[e.jsx(Ye,{className:"w-4 h-4 mr-1"}),"Contacter"]})]})]})},g.id))}),d?.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ot,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun fournisseur trouv"}),e.jsx("p",{className:"text-gray-600",children:"Essayez de modifier vos critres de recherche"})]})]})})})},Pp=({items:t})=>{const s=Re();return e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[e.jsx("button",{onClick:()=>s("/"),className:"flex items-center hover:text-green-600 transition-colors",children:e.jsx(gi,{className:"w-4 h-4"})}),t.map((r,a)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Dr,{className:"w-4 h-4 text-gray-400"}),r.href?e.jsx("button",{onClick:()=>s(r.href),className:"hover:text-green-600 transition-colors",children:r.label}):e.jsx("span",{className:"text-gray-900 font-medium",children:r.label})]},a))]})},tP=()=>{const{id:t}=Ma(),s=Re(),r=Wr(),{canContact:a,reason:o,suggestedAction:l}=Sb(),{data:d,isLoading:u,error:h}=We({queryKey:["supplier",t],queryFn:async()=>{try{let f;try{f=await ie.get(`/entreprises/${t}?include=stats,products,certifications`)}catch{f=await ie.get(`/entreprises/${t}`)}const g=f.entreprise||f.data||f;if(console.log("Donnes fournisseur rcupres:",g),g&&!g.nombre_produits)try{const N=await ie.get(`/entreprises/${t}/stats`),k=N.stats||N.data||{};console.log("Statistiques rcupres:",k),Object.assign(g,k)}catch(N){console.log("Impossible de rcuprer les statistiques:",N)}return g}catch(f){throw console.error("Erreur lors de la rcupration du fournisseur:",f),$.error("Fournisseur non trouv"),f}},enabled:!!t}),{data:p}=We({queryKey:["supplier-products",t],queryFn:async()=>{try{const f=[`/products?supplier_id=${t}`,`/products?fournisseur_id=${t}`,`/products?entreprise_id=${t}`,`/entreprises/${t}/produits`,`/produits?entreprise_id=${t}`,`/produits?fournisseur_id=${t}`];let g=[];for(const N of f)try{console.log(`Tentative de rcupration des produits via: ${N}`);const k=await ie.get(N);if(Array.isArray(k)){g=k;break}else if(k.produits&&Array.isArray(k.produits)){g=k.produits;break}else if(k.data&&Array.isArray(k.data)){g=k.data;break}else if(k.products&&Array.isArray(k.products)){g=k.products;break}}catch(k){console.log(`chec pour ${N}:`,k);continue}return console.log("Produits rcuprs:",g),g}catch(f){return console.error("Erreur lors de la rcupration des produits:",f),[]}},enabled:!!t}),v=async()=>{if(console.log("Tentative de contact avec le fournisseur:",d),!r){$.error("Veuillez vous connecter pour contacter un fournisseur"),s("/login");return}if(!a){$.error(o||"Vous n'tes pas autoris  contacter les fournisseurs"),l&&($.info(l),s("/register?role=buyer"));return}if(!d?.id){$.error("Impossible de contacter ce fournisseur");return}if(!(d.utilisateur_id||d.user_id)){console.warn("Pas d'utilisateur_id trouv pour le fournisseur:",d),$.error("Impossible de contacter ce fournisseur (pas d'utilisateur associ)");return}const g=new URLSearchParams({supplier:d.id.toString(),supplierName:d.nom_entreprise});s(`/messages?${g.toString()}`),$.success(`Redirection vers le chat avec ${d.nom_entreprise}`)};return u?e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{children:"Chargement du profil..."})]})})}):h||!d?(console.log("Erreur ou fournisseur non trouv:",{error:h,supplier:d}),e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ot,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Fournisseur non trouv"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Ce fournisseur n'existe pas ou n'est plus disponible"}),e.jsx(D,{onClick:()=>s("/suppliers"),children:"Retour aux fournisseurs"})]})})})):(console.log("Fournisseur affich:",d),console.log("Produits affichs:",p),e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(rl,{fallbackPath:"/suppliers",className:"mb-4"}),e.jsx(Pp,{items:[{label:"Fournisseurs",href:"/suppliers"},{label:d.nom_entreprise}]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:d.logo?e.jsx("img",{src:d.logo,alt:d.nom_entreprise,className:"w-full h-full rounded-full object-cover"}):e.jsx(ot,{className:"w-10 h-10 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:d.nom_entreprise}),d.statut_verification==="verifie"&&e.jsxs(ne,{className:"bg-green-100 text-green-800",children:[e.jsx(lt,{className:"w-4 h-4 mr-1"}),"Vrifi"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(nl,{rating:Number(d.note_moyenne)||0,readonly:!0}),e.jsxs("span",{className:"text-gray-600",children:["(",d.nombre_avis||0," avis)"]})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:d.description||"Fournisseur professionnel spcialis"}),d.ville&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(os,{className:"w-4 h-4"}),e.jsxs("span",{children:[d.ville,", ",d.pays||"Gabon"]})]})]})]})}),e.jsx("div",{className:"lg:w-80",children:e.jsx(Q,{children:e.jsxs(J,{className:"p-6",children:[e.jsxs(D,{className:`w-full mb-4 ${a?"bg-green-600 hover:bg-green-700":"bg-gray-400 hover:bg-gray-500"}`,onClick:v,disabled:!r,title:r?a?"Contacter ce fournisseur":"Seuls les acheteurs peuvent contacter les fournisseurs":"Connectez-vous pour contacter",children:[!a&&r?e.jsx(Pt,{className:"w-4 h-4 mr-2"}):e.jsx(Ye,{className:"w-4 h-4 mr-2"}),!a&&r?"Acheteurs uniquement":"Contacter le fournisseur"]}),r&&!a&&e.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Pt,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-amber-700",children:[e.jsx("p",{className:"font-medium",children:"Acheteurs uniquement"}),e.jsx("p",{children:"Seuls les acheteurs peuvent initier des conversations avec les fournisseurs."}),e.jsx("button",{onClick:()=>s("/register?role=buyer"),className:"text-amber-800 underline hover:no-underline mt-1",children:"Crer un compte acheteur"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-lg text-gray-900",children:d.nombre_produits||p?.length||0}),e.jsx("div",{className:"text-gray-600",children:"Produits"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-semibold text-lg text-gray-900",children:[d.delai_traitement||d.delai_livraison||7,"j"]}),e.jsx("div",{className:"text-gray-600",children:"Traitement"})]})]})]})})})]})}),e.jsxs(Gr,{defaultValue:"overview",className:"space-y-8",children:[e.jsxs(yr,{className:"grid w-full grid-cols-4",children:[e.jsx(Ue,{value:"overview",children:"Aperu"}),e.jsx(Ue,{value:"products",children:"Produits"}),e.jsx(Ue,{value:"company",children:"Entreprise"}),e.jsx(Ue,{value:"contact",children:"Contact"})]}),e.jsx(He,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"w-5 h-5"}),"Statistiques"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Produits actifs"}),e.jsx("span",{className:"font-semibold",children:d.nombre_produits||p?.length||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Note moyenne"}),e.jsxs("span",{className:"font-semibold",children:[Number(d.note_moyenne||0).toFixed(1),"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Avis clients"}),e.jsx("span",{className:"font-semibold",children:d.nombre_avis||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Commandes traites"}),e.jsx("span",{className:"font-semibold",children:d.nombre_commandes||0})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(dn,{className:"w-5 h-5"}),"Certifications"]})}),e.jsxs(J,{className:"space-y-3",children:[d.statut_verification==="verifie"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:"Entreprise vrifie"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm",children:"Partenaire B2B"})]}),d.certifications&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm",children:d.certifications})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"w-5 h-5"}),"Informations"]})}),e.jsxs(J,{className:"space-y-3",children:[d.annee_creation&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Cre en"}),e.jsx("span",{className:"font-semibold",children:d.annee_creation})]}),(d.nombre_employes||d.taille_entreprise)&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Employs"}),e.jsx("span",{className:"font-semibold",children:d.nombre_employes||d.taille_entreprise})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Membre depuis"}),e.jsx("span",{className:"font-semibold",children:d.created_at?new Date(d.created_at).getFullYear():"N/A"})]}),d.statut_verification&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Statut"}),e.jsx("span",{className:"font-semibold capitalize",children:d.statut_verification})]})]})]})]})}),e.jsx(He,{value:"products",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{children:["Produits (",p?.length||0,")"]})}),e.jsx(J,{children:p&&p.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.slice(0,6).map(f=>e.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 overflow-hidden",children:[f.image_principale?e.jsx("img",{src:Yt(f.image_principale),alt:f.nom||f.name,className:"w-full h-full object-cover",onError:g=>{const N=g.target;N.style.display="none",N.nextElementSibling?.classList.remove("hidden")}}):null,e.jsx("div",{className:`w-full h-full flex items-center justify-center ${f.image_principale?"hidden":""}`,children:e.jsx(De,{className:"w-12 h-12 text-gray-400"})})]}),e.jsx("h4",{className:"font-semibold mb-2 line-clamp-2",children:f.nom||f.name}),e.jsxs("p",{className:"text-green-600 font-bold",children:[f.prix||f.price," ",f.devise||"FCFA"]}),f.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:f.description}),e.jsx(D,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>s(`/products/${f.id}`),children:"Voir dtails"})]},f.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(De,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Aucun produit disponible"})]})})]})}),e.jsx(He,{value:"company",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Informations gnrales"})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Secteur d'activit"}),e.jsx("p",{className:"mt-1",children:d.secteur_nom||d.secteur_activite||"Non spcifi"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Type d'entreprise"}),e.jsx("p",{className:"mt-1",children:d.type_nom||d.type_entreprise||"Non spcifi"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Taille de l'entreprise"}),e.jsx("p",{className:"mt-1",children:d.taille_entreprise||d.nombre_employes||"Non spcifi"})]}),d.capacite_production&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Capacit de production"}),e.jsx("p",{className:"mt-1",children:d.capacite_production})]}),d.siret&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"SIRET"}),e.jsx("p",{className:"mt-1",children:d.siret})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Adresse"})}),e.jsxs(J,{className:"space-y-2",children:[d.adresse_ligne1&&e.jsx("p",{children:d.adresse_ligne1}),d.adresse_ligne2&&e.jsx("p",{children:d.adresse_ligne2}),e.jsxs("p",{children:[d.ville," ",d.code_postal]}),e.jsx("p",{children:d.pays||"Gabon"})]})]})]})}),e.jsx(He,{value:"contact",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Informations de contact"})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.telephone_professionnel&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ks,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tlphone professionnel"}),e.jsx("p",{className:"font-semibold",children:d.telephone_professionnel})]})]}),d.site_web&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ir,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Site web"}),e.jsx("a",{href:d.site_web,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-600 hover:underline",children:d.site_web})]})]})]}),e.jsxs("div",{className:"pt-6 border-t",children:[e.jsxs(D,{className:`${a?"bg-green-600 hover:bg-green-700":"bg-gray-400 hover:bg-gray-500"}`,onClick:v,disabled:!r||!a,title:r?a?"Envoyer un message":"Seuls les acheteurs peuvent contacter les fournisseurs":"Connectez-vous pour contacter",children:[!a&&r?e.jsx(Pt,{className:"w-4 h-4 mr-2"}):e.jsx(Ye,{className:"w-4 h-4 mr-2"}),!a&&r?"Acheteurs uniquement":"Envoyer un message"]}),r&&!a&&e.jsx("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Pt,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-amber-700",children:[e.jsx("p",{className:"font-medium",children:"Restriction d'accs"}),e.jsx("p",{children:"Seuls les acheteurs peuvent initier des conversations avec les fournisseurs."}),e.jsx("button",{onClick:()=>s("/register?role=buyer"),className:"text-amber-800 underline hover:no-underline mt-1",children:"Crer un compte acheteur"})]})]})})]})]})]})})]})]})})}))},$0=[{value:"name",label:"Nom (A-Z)"},{value:"name-desc",label:"Nom (Z-A)"},{value:"subcategories",label:"Plus de sous-catgories"},{value:"products",label:"Plus de produits"}],sP=({searchTerm:t,onSearchChange:s,sortBy:r,onSortChange:a,selectedFilters:o,onFilterChange:l,availableFilters:d=[],totalResults:u})=>{const[h,p]=m.useState(!1),[v,f]=m.useState(!1),g=y=>{const _=o.includes(y)?o.filter(w=>w!==y):[...o,y];l(_)},N=()=>{l([]),s("")},k=()=>$0.find(y=>y.value===r)?.label||"Trier par";return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(B,{placeholder:"Rechercher une catgorie...",value:t,onChange:y=>s(y.target.value),className:"w-full"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(D,{variant:"outline",size:"sm",onClick:()=>p(!h),className:"flex items-center",children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Filtres",o.length>0&&e.jsx(ne,{variant:"secondary",className:"ml-2 text-xs",children:o.length})]}),e.jsxs("div",{className:"relative",children:[e.jsxs(D,{variant:"outline",size:"sm",onClick:()=>f(!v),className:"flex items-center",children:[k(),e.jsx(ud,{className:"w-4 h-4 ml-2"})]}),v&&e.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:$0.map(y=>e.jsx("button",{onClick:()=>{a(y.value),f(!1)},className:`w-full text-left px-4 py-2 hover:bg-gray-50 transition-colors ${r===y.value?"bg-green-50 text-green-600":""}`,children:y.label},y.value))})]})]})]}),h&&e.jsx("div",{className:"border-t border-gray-200 pt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Type de catgorie"}),e.jsx("div",{className:"space-y-2",children:[{id:"with-subcategories",label:"Avec sous-catgories"},{id:"leaf-categories",label:"Catgories finales"},{id:"popular",label:"Populaires"}].map(y=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o.includes(y.id),onChange:()=>g(y.id),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:y.label})]},y.id))})]}),d.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Secteurs"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:d.map(y=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o.includes(y.id),onChange:()=>g(y.id),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 flex-1",children:y.label}),y.count&&e.jsxs("span",{className:"text-xs text-gray-500",children:["(",y.count,")"]})]},y.id))})]}),e.jsxs("div",{className:"flex flex-col justify-end",children:[e.jsxs(D,{variant:"outline",size:"sm",onClick:N,className:"mb-2",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Effacer tout"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[u," rsultat",u>1?"s":""," trouv",u>1?"s":""]})]})]})}),(o.length>0||t)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-gray-200",children:[t&&e.jsxs(ne,{variant:"secondary",className:"flex items-center",children:['Recherche: "',t,'"',e.jsx("button",{onClick:()=>s(""),className:"ml-2 hover:text-red-600",children:e.jsx(Je,{className:"w-3 h-3"})})]}),o.map(y=>{const _=d.find(w=>w.id===y)||{label:y};return e.jsxs(ne,{variant:"secondary",className:"flex items-center",children:[_.label,e.jsx("button",{onClick:()=>g(y),className:"ml-2 hover:text-red-600",children:e.jsx(Je,{className:"w-3 h-3"})})]},y)})]})]})},rP=({category:t,onClick:s,showProductCount:r=!0,maxSubcategories:a=8,variant:o="collapsed"})=>{const[l,d]=m.useState(o==="expanded"),u=t.children&&t.children.length>0,h=()=>{s(t)},p=(f,g)=>{g.stopPropagation(),s(f)},v=f=>{f.stopPropagation(),d(!l)};return e.jsx(Q,{className:"hover:shadow-lg transition-all duration-300 overflow-hidden",children:e.jsxs(J,{className:"p-0",children:[e.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors",onClick:h,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"text-green-600 mt-1",children:e.jsx(De,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 hover:text-green-600 transition-colors",children:t.nom}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r&&t.productCount&&e.jsxs(ne,{variant:"secondary",className:"text-sm",children:[t.productCount," produits"]}),u&&e.jsxs(ne,{variant:"outline",className:"text-sm",children:[t.children.length," sous-catgories"]})]})]}),t.description&&e.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(D,{variant:"outline",size:"sm",onClick:h,className:"group",children:["Voir tous les produits",e.jsx(Xt,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]}),u&&e.jsx(D,{variant:"ghost",size:"sm",onClick:v,className:"flex items-center",children:l?e.jsxs(e.Fragment,{children:[e.jsx(ud,{className:"w-4 h-4 mr-1"}),"Masquer sous-catgories"]}):e.jsxs(e.Fragment,{children:[e.jsx(Dr,{className:"w-4 h-4 mr-1"}),"Voir sous-catgories"]})})]})]})]})})}),u&&l&&e.jsx("div",{className:"border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h4",{className:"font-medium text-gray-900 flex items-center",children:[e.jsx(wa,{className:"w-4 h-4 mr-2"}),"Sous-catgories (",t.children.length,")"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.children.slice(0,a).map(f=>e.jsx("button",{onClick:g=>p(f,g),className:"p-3 bg-white rounded-lg border border-gray-200 hover:border-green-300 hover:shadow-sm transition-all duration-200 text-left group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-gray-900 group-hover:text-green-600 transition-colors mb-1",children:f.nom}),f.description&&e.jsx("p",{className:"text-xs text-gray-600 line-clamp-1",children:f.description}),r&&f.productCount&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[f.productCount," produits"]})]}),e.jsx(Dr,{className:"w-4 h-4 text-gray-400 group-hover:text-green-600 transition-colors flex-shrink-0 ml-2"})]})},f.id))}),t.children.length>a&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs(D,{variant:"outline",size:"sm",onClick:h,children:["Voir toutes les ",t.children.length," sous-catgories"]})})]})}),u&&!l&&e.jsx("div",{className:"border-t border-gray-200 bg-gray-50 p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.children.slice(0,6).map(f=>e.jsx("button",{onClick:g=>p(f,g),className:"text-xs bg-white hover:bg-green-50 text-gray-600 hover:text-green-700 px-3 py-1 rounded-full border border-gray-200 hover:border-green-300 transition-colors",children:f.nom},f.id)),t.children.length>6&&e.jsxs("button",{onClick:v,className:"text-xs text-green-600 hover:text-green-700 px-3 py-1 font-medium",children:["+",t.children.length-6," autres"]})]})})]})})},nP=()=>{const t=Re(),[s,r]=m.useState(""),[a,o]=m.useState("grid"),[l,d]=m.useState("name"),[u,h]=m.useState([]),[p,v]=m.useState(!0),[f,g]=m.useState(!1),{data:N=[],isLoading:k}=We({queryKey:["all-categories"],queryFn:async()=>{const C=await ie.get("/categories"),R=C.categories||C.data||C||[],I=new Map,T=[];return R.forEach(b=>{I.set(b.id,{...b,children:[]})}),R.forEach(b=>{const P=I.get(b.id);if(b.parent_id){const A=I.get(b.parent_id);A&&A.children.push(P)}else T.push(P)}),T.sort((b,P)=>b.ordre-P.ordre),T.forEach(b=>{b.children&&b.children.sort((P,A)=>P.ordre-A.ordre)}),T}}),y=m.useMemo(()=>{let C=N.filter(R=>{if(s){const I=R.nom.toLowerCase().includes(s.toLowerCase()),T=R.children?.some(b=>b.nom.toLowerCase().includes(s.toLowerCase()));if(!I&&!T)return!1}return!(u.includes("with-subcategories")&&(!R.children||R.children.length===0)||u.includes("leaf-categories")&&R.children&&R.children.length>0)});return C.sort((R,I)=>{switch(l){case"name-desc":return I.nom.localeCompare(R.nom);case"subcategories":return(I.children?.length||0)-(R.children?.length||0);case"products":return(I.productCount||0)-(R.productCount||0);default:return R.nom.localeCompare(I.nom)}}),C},[N,s,u,l]),_=m.useMemo(()=>N.filter(C=>C.children&&C.children.length>=3).sort((C,R)=>(R.children?.length||0)-(C.children?.length||0)).slice(0,6),[N]),w=C=>{C.children&&C.children.length>0?t(`/categories/${C.slug}`):t(`/products?category=${C.slug}`)},E=()=>N.reduce((C,R)=>C+(R.children?.length||0),0);return k?e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{children:"Chargement des catgories..."})]})})}):e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8 max-w-7xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Toutes les catgories"}),e.jsxs("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:["Explorez notre catalogue complet de ",N.length," catgories principales et ",E()," sous-catgories"]})]}),e.jsx(sP,{searchTerm:s,onSearchChange:r,sortBy:l,onSortChange:d,selectedFilters:u,onFilterChange:h,totalResults:y.length}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[e.jsxs(D,{variant:p?"default":"outline",size:"sm",onClick:()=>v(!p),className:"text-xs sm:text-sm",children:[e.jsx(Ct,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"En vedette"}),e.jsx("span",{className:"sm:hidden",children:"Vedette"})]}),e.jsxs(D,{variant:f?"default":"outline",size:"sm",onClick:()=>g(!f),className:"text-xs sm:text-sm",children:[e.jsx(De,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Avec sous-catgories"}),e.jsx("span",{className:"sm:hidden",children:"Sous-cat."})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsxs(D,{variant:a==="grid"?"default":"outline",size:"sm",onClick:()=>o("grid"),className:"text-xs sm:text-sm",children:[e.jsx(wa,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Grille"})]}),e.jsxs(D,{variant:a==="list"?"default":"outline",size:"sm",onClick:()=>o("list"),className:"text-xs sm:text-sm",children:[e.jsx(md,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Liste"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[e.jsx(Q,{className:"hover:shadow-md transition-shadow",children:e.jsxs(J,{className:"p-3 sm:p-4 text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:N.length}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Catgories principales"})]})}),e.jsx(Q,{className:"hover:shadow-md transition-shadow",children:e.jsxs(J,{className:"p-3 sm:p-4 text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:E()}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Sous-catgories"})]})}),e.jsx(Q,{className:"hover:shadow-md transition-shadow",children:e.jsxs(J,{className:"p-3 sm:p-4 text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:y.length}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Rsultats affichs"})]})}),e.jsx(Q,{className:"hover:shadow-md transition-shadow",children:e.jsxs(J,{className:"p-3 sm:p-4 text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:"100%"}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Couverture march"})]})})]}),p&&_.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(bt,{className:"w-6 h-6 text-green-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Catgories en vedette"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(C=>e.jsx(Lo,{category:C,onClick:w,variant:"featured",showProductCount:!0},C.id))})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:[p?"Toutes les catgories":"Catgories",e.jsxs("span",{className:"text-lg font-normal text-gray-600 ml-2",children:["(",y.length,")"]})]}),f?e.jsx("div",{className:"space-y-6",children:y.map(C=>e.jsx(rP,{category:C,onClick:w,showProductCount:!0,variant:"collapsed"},C.id))}):a==="grid"?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:y.map(C=>e.jsx(Lo,{category:C,onClick:w,showProductCount:!0},C.id))}):e.jsx("div",{className:"space-y-3 sm:space-y-4",children:y.map(C=>e.jsx(Lo,{category:C,onClick:w,variant:"compact",showProductCount:!0},C.id))}),y.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(De,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune catgorie trouve"}),e.jsx("p",{className:"text-gray-600 mb-4",children:s||u.length>0?"Essayez de modifier vos critres de recherche":"Aucune catgorie disponible pour le moment"}),(s||u.length>0)&&e.jsx(D,{variant:"outline",onClick:()=>{r(""),h([])},children:"Effacer les filtres"})]})]})]})})})},aP=()=>e.jsx(nP,{}),iP=({items:t})=>e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-6",children:[e.jsxs(Fr,{to:"/",className:"flex items-center hover:text-green-600 transition-colors",children:[e.jsx(gi,{className:"w-4 h-4 mr-1"}),"Accueil"]}),t.map((s,r)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dr,{className:"w-4 h-4 mx-2 text-gray-400"}),r===t.length-1?e.jsx("span",{className:"text-gray-900 font-medium",children:s.label}):e.jsx(Fr,{to:s.href,className:"hover:text-green-600 transition-colors",children:s.label})]},r))]}),oP=()=>{const{slug:t}=Ma(),s=Re(),[r,a]=m.useState(""),[o,l]=m.useState("grid"),{data:d,isLoading:u,error:h}=We({queryKey:["category-detail",t],queryFn:async()=>{try{const _=await ie.get(`/categories/${t}`);return _.data||_}catch(_){if(console.error(`Erreur lors de la rcupration de la catgorie ${t}:`,_),_.response?.status===404)try{const w=await ie.get("/categories"),C=(w.categories||w.data||[]).find(R=>R.slug===t);if(C)return{category:C}}catch(w){console.error("Erreur fallback:",w)}throw _}},enabled:!!t,retry:1}),{data:p=[]}=We({queryKey:["all-categories-for-breadcrumb"],queryFn:async()=>{const _=await ie.get("/categories");return _.categories||_.data||_||[]}}),v=d?.category||d,f=v?.children||[],g=f.filter(_=>_.nom.toLowerCase().includes(r.toLowerCase())),N=()=>{if(!v||!p.length)return[];const _=[];let w=v;for(;w&&(_.unshift({label:w.nom,href:`/categories/${w.slug}`}),w.parent_id);)w=p.find(E=>E.id===w.parent_id);return _.unshift({label:"Toutes les catgories",href:"/categories"}),_},k=_=>{_.children&&_.children.length>0?s(`/categories/${_.slug}`):s(`/products?category=${_.slug}`)},y=()=>{s(`/products?category=${v.slug}`)};return u?e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{children:"Chargement de la catgorie..."})]})})}):h?e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(De,{className:"w-16 h-16 text-red-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Erreur de chargement"}),e.jsx("p",{className:"text-gray-600 mb-4",children:h.response?.status===404?`La catgorie "${t}" n'existe pas ou a t supprime.`:"Une erreur est survenue lors du chargement de la catgorie."}),e.jsxs("div",{className:"space-x-4",children:[e.jsx(D,{onClick:()=>s("/categories"),children:"Voir toutes les catgories"}),e.jsx(D,{variant:"outline",onClick:()=>window.location.reload(),children:"Ressayer"})]})]})})}):v?e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(iP,{items:N()}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-8",children:[e.jsx("div",{className:"flex items-start justify-between mb-6",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>s(-1),className:"mr-4",children:[e.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Retour"]})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:v.nom}),v.description&&e.jsx("p",{className:"text-lg text-gray-600 mb-6 max-w-3xl",children:v.description}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.length>0&&e.jsxs(ne,{variant:"outline",className:"text-sm",children:[f.length," sous-catgories"]}),v.productCount&&e.jsxs(ne,{variant:"secondary",className:"text-sm",children:[v.productCount," produits"]})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(D,{onClick:y,className:"flex items-center",children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"Voir tous les produits"]}),f.length>0&&e.jsx(D,{variant:"outline",children:"Explorer les sous-catgories"})]})]}),f.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["Sous-catgories (",f.length,")"]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(B,{placeholder:"Rechercher...",value:r,onChange:_=>a(_.target.value),className:"pl-10 w-64"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{variant:o==="grid"?"default":"outline",size:"sm",onClick:()=>l("grid"),children:e.jsx(wa,{className:"w-4 h-4"})}),e.jsx(D,{variant:o==="list"?"default":"outline",size:"sm",onClick:()=>l("list"),children:e.jsx(md,{className:"w-4 h-4"})})]})]})]}),o==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:g.map(_=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 hover:border-green-300 hover:shadow-md transition-all duration-200 p-4 group cursor-pointer",children:e.jsxs("button",{onClick:()=>k(_),className:"w-full text-left",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-green-600 group-hover:text-green-700",children:e.jsx(De,{className:"w-6 h-6"})}),e.jsx(ChevronRight,{className:"w-4 h-4 text-gray-400 group-hover:text-green-600 transition-colors"})]}),e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-green-600 transition-colors mb-2",children:_.nom}),_.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:_.description}),_.productCount&&e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(ne,{variant:"secondary",className:"text-xs",children:[_.productCount," produits"]})})]})},_.id))}):e.jsx("div",{className:"space-y-3",children:g.map(_=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 hover:border-green-300 hover:shadow-sm transition-all duration-200 p-4 group cursor-pointer",children:e.jsx("button",{onClick:()=>k(_),className:"w-full text-left",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"text-green-600 group-hover:text-green-700",children:e.jsx(De,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-green-600 transition-colors",children:_.nom}),_.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-1",children:_.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[_.productCount&&e.jsxs(ne,{variant:"secondary",className:"text-xs",children:[_.productCount," produits"]}),e.jsx(ChevronRight,{className:"w-4 h-4 text-gray-400 group-hover:text-green-600 transition-colors"})]})]})})},_.id))}),g.length===0&&r&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(De,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune sous-catgorie trouve"}),e.jsxs("p",{className:"text-gray-600",children:["Essayez avec d'autres mots-cls ou",e.jsx("button",{onClick:()=>a(""),className:"text-green-600 hover:text-green-700 ml-1",children:"effacez la recherche"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Catgories similaires"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Dcouvrez d'autres catgories qui pourraient vous intresser"}),e.jsx(D,{variant:"outline",onClick:()=>s("/categories"),children:"Parcourir toutes les catgories"})]})]})})}):e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(De,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Catgorie non trouve"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Cette catgorie n'existe pas ou a t supprime."}),e.jsx(D,{onClick:()=>s("/categories"),children:"Voir toutes les catgories"})]})})})},lP=()=>{const t=Re(),[s,r]=m.useState(""),[a,o]=m.useState(""),{data:l=[],isLoading:d}=We({queryKey:["blog-articles",s,a],queryFn:async()=>{try{const k=new URLSearchParams;s&&k.append("search",s),a&&k.append("category",a);const y=await ie.get(`/blog/recent?${k}`);return y.articles||y.data||[]}catch(k){return console.error("Erreur lors du chargement des articles:",k),[]}},staleTime:300*1e3}),{data:u=[]}=We({queryKey:["blog-categories"],queryFn:async()=>{try{const k=await ie.get("/blog/categories");return(k.categories||k.data||[]).map((_,w)=>({id:w+1,name:_,slug:_.toLowerCase().replace(/\s+/g,"-"),articleCount:Math.floor(Math.random()*20)+5}))}catch(k){return console.error("Erreur lors du chargement des catgories:",k),[]}},staleTime:600*1e3}),h=[{id:1,title:"Guide Complet du Commerce B2B au Gabon",slug:"guide-commerce-b2b-gabon",excerpt:"Dcouvrez les meilleures pratiques pour russir dans le commerce B2B au Gabon. Conseils d'experts et stratgies prouves.",content:"Contenu complet de l'article...",author:"quipe Gabon Market Hub",publishedAt:"2025-09-15",category:"Conseils",image:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=400&fit=crop",views:1250,readTime:8,featured:!0},{id:2,title:"Comment Choisir le Bon Fournisseur B2B",slug:"choisir-fournisseur-b2b",excerpt:"Les critres essentiels pour slectionner des fournisseurs fiables et performants pour votre entreprise.",content:"Contenu complet de l'article...",author:"Marie Nguema",publishedAt:"2025-09-14",category:"Conseils",image:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=400&fit=crop",views:890,readTime:6,featured:!1},{id:3,title:"Tendances du E-commerce en Afrique Centrale",slug:"tendances-ecommerce-afrique-centrale",excerpt:"Analyse des dernires tendances du commerce lectronique dans la rgion et opportunits pour les entreprises gabonaises.",content:"Contenu complet de l'article...",author:"Dr. Jean-Baptiste",publishedAt:"2025-09-13",category:"Actualits",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop",views:2100,readTime:10,featured:!0}],p=[{id:1,name:"Conseils",slug:"conseils",articleCount:15},{id:2,name:"Actualits",slug:"actualites",articleCount:8},{id:3,name:"Tendances",slug:"tendances",articleCount:12},{id:4,name:"Technologie",slug:"technologie",articleCount:6}],v=l.length>0?l:h,f=u.length>0?u:p,g=k=>{t(`/blog/${k}`)},N=k=>new Date(k).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return e.jsx($e,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Blog & Conseils"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Dcouvrez nos articles, guides et conseils pour russir dans le commerce B2B au Gabon"})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"lg:w-1/4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Rechercher"}),e.jsxs("div",{className:"relative",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(B,{placeholder:"Rechercher un article...",value:s,onChange:k=>r(k.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Catgories"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>o(""),className:`w-full text-left px-3 py-2 rounded-md transition-colors ${a===""?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:"Toutes les catgories"}),f.map((k,y)=>e.jsxs("button",{onClick:()=>o(k.slug),className:`w-full text-left px-3 py-2 rounded-md transition-colors flex justify-between items-center ${a===k.slug?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:[e.jsx("span",{children:k.name}),e.jsx(ne,{variant:"secondary",className:"text-xs",children:k.articleCount})]},`category-${k.slug}-${y}`))]})]})]}),e.jsx("div",{className:"lg:w-3/4",children:d?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Chargement des articles..."})]}):e.jsxs("div",{className:"space-y-6",children:[v.map(k=>e.jsx(Q,{className:"group cursor-pointer hover:shadow-lg transition-all duration-300",onClick:()=>g(k.slug),children:e.jsx(J,{className:"p-0",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"md:w-1/3 h-48 md:h-auto",children:e.jsx("img",{src:k.image,alt:k.title,className:"w-full h-full object-cover rounded-t-lg md:rounded-l-lg md:rounded-t-none"})}),e.jsxs("div",{className:"md:w-2/3 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ne,{variant:k.featured?"default":"secondary",children:k.category}),k.featured&&e.jsx(ne,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:" la une"})]}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:k.title}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:k.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),e.jsx("span",{children:k.author})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Hs,{className:"w-4 h-4"}),e.jsx("span",{children:N(k.publishedAt)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"w-4 h-4"}),e.jsxs("span",{children:[k.views," vues"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{children:[k.readTime," min de lecture"]}),e.jsx(Xt,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})]})})},k.id)),v.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Aucun article trouv"}),e.jsx("p",{className:"text-gray-500",children:"Essayez de modifier vos critres de recherche"})]})]})})]})})]})})},cP=()=>{const{slug:t}=Ma(),s=Re(),{data:r,isLoading:a}=We({queryKey:["blog-article",t],queryFn:async()=>{try{const h=await ie.get(`/blog/article/${t}`);return h.article||h.data}catch(h){return console.error("Erreur lors du chargement de l'article:",h),null}},staleTime:600*1e3}),l=r||{"guide-commerce-b2b-gabon":{id:1,title:"Guide Complet du Commerce B2B au Gabon",slug:"guide-commerce-b2b-gabon",excerpt:"Dcouvrez les meilleures pratiques pour russir dans le commerce B2B au Gabon. Conseils d'experts et stratgies prouves.",content:`
        <h2>Introduction au Commerce B2B au Gabon</h2>
        <p>Le commerce B2B au Gabon connat une transformation digitale importante. Avec l'mergence de plateformes comme Gabon Market Hub, les entreprises gabonaises ont accs  de nouveaux outils pour dvelopper leurs activits commerciales.</p>
        
        <h3>Les Dfis du Commerce B2B</h3>
        <p>Les entreprises gabonaises font face  plusieurs dfis :</p>
        <ul>
          <li>La digitalisation des processus commerciaux</li>
          <li>La recherche de partenaires fiables</li>
          <li>La gestion des chanes d'approvisionnement</li>
          <li>L'adaptation aux nouvelles technologies</li>
        </ul>
        
        <h3>Stratgies de Succs</h3>
        <p>Pour russir dans le commerce B2B au Gabon, il est essentiel de :</p>
        <ol>
          <li>Dvelopper une prsence digitale forte</li>
          <li>Construire des relations de confiance</li>
          <li>Adapter son offre aux besoins locaux</li>
          <li>Investir dans la formation des quipes</li>
        </ol>
        
        <h3>Conclusion</h3>
        <p>Le commerce B2B au Gabon offre de nombreuses opportunits pour les entreprises qui savent s'adapter aux nouvelles technologies et aux besoins du march local.</p>
      `,author:"quipe Gabon Market Hub",publishedAt:"2025-09-15",category:"Conseils",image:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=400&fit=crop",views:1250,readTime:8,featured:!0,tags:["B2B","Commerce","Gabon","Stratgie"]},"choisir-fournisseur-b2b":{id:2,title:"Comment Choisir le Bon Fournisseur B2B",slug:"choisir-fournisseur-b2b",excerpt:"Les critres essentiels pour slectionner des fournisseurs fiables et performants pour votre entreprise.",content:`
        <h2>L'Importance du Choix du Fournisseur</h2>
        <p>Choisir le bon fournisseur B2B est crucial pour la russite de votre entreprise. Un mauvais choix peut impacter votre rputation, vos cots et la satisfaction de vos clients.</p>
        
        <h3>Critres de Slection</h3>
        <p>Voici les critres essentiels  considrer :</p>
        <ul>
          <li><strong>Fiabilit :</strong> Respect des dlais et des engagements</li>
          <li><strong>Qualit :</strong> Conformit aux standards de qualit</li>
          <li><strong>Prix :</strong> Comptitivit et transparence tarifaire</li>
          <li><strong>Service :</strong> Support client et ractivit</li>
          <li><strong>Innovation :</strong> Capacit d'adaptation et d'volution</li>
        </ul>
        
        <h3>Processus de Slection</h3>
        <p>Un processus structur vous aidera  faire le bon choix :</p>
        <ol>
          <li>Dfinir vos besoins prcis</li>
          <li>Rechercher des fournisseurs qualifis</li>
          <li>valuer les propositions</li>
          <li>Effectuer des tests pilotes</li>
          <li>Ngocier les conditions</li>
        </ol>
      `,author:"Marie Nguema",publishedAt:"2025-09-14",category:"Conseils",image:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=400&fit=crop",views:890,readTime:6,featured:!1,tags:["Fournisseur","Slection","B2B","Qualit"]},"tendances-ecommerce-afrique-centrale":{id:3,title:"Tendances du E-commerce en Afrique Centrale",slug:"tendances-ecommerce-afrique-centrale",excerpt:"Analyse des dernires tendances du commerce lectronique dans la rgion et opportunits pour les entreprises gabonaises.",content:`
        <h2>L'volution du E-commerce en Afrique Centrale</h2>
        <p>Le e-commerce connat une croissance exponentielle en Afrique Centrale, port par l'augmentation de la connectivit et l'adoption des technologies mobiles.</p>
        
        <h3>Tendances Cls</h3>
        <p>Plusieurs tendances marquent le paysage du e-commerce :</p>
        <ul>
          <li>L'essor du mobile commerce</li>
          <li>L'importance des paiements digitaux</li>
          <li>La personnalisation de l'exprience client</li>
          <li>L'intgration des rseaux sociaux</li>
        </ul>
        
        <h3>Opportunits pour le Gabon</h3>
        <p>Le Gabon dispose d'atouts uniques pour dvelopper le e-commerce :</p>
        <ul>
          <li>Une population jeune et connecte</li>
          <li>Un environnement politique stable</li>
          <li>Des infrastructures en dveloppement</li>
          <li>Un potentiel d'innovation important</li>
        </ul>
      `,author:"Dr. Jean-Baptiste",publishedAt:"2025-09-13",category:"Actualits",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop",views:2100,readTime:10,featured:!0,tags:["E-commerce","Afrique","Tendances","Innovation"]}}[t||""],d=h=>new Date(h).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),u=()=>{navigator.share?navigator.share({title:l?.title,text:l?.excerpt,url:window.location.href}):navigator.clipboard.writeText(window.location.href)};return a?e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement de l'article..."})]})})}):l?e.jsx($e,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs(D,{variant:"ghost",onClick:()=>s("/blog"),className:"mb-4",children:[e.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Retour au blog"]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ne,{variant:"secondary",children:l.category}),l.featured&&e.jsx(ne,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:" la une"})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:l.title}),e.jsx("p",{className:"text-xl text-gray-600 mb-6",children:l.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4"}),e.jsx("span",{children:l.author})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"w-4 h-4"}),e.jsx("span",{children:d(l.publishedAt)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-4 h-4"}),e.jsxs("span",{children:[l.views," vues"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(th,{className:"w-4 h-4"}),e.jsxs("span",{children:[l.readTime," min de lecture"]})]})]}),e.jsxs(D,{variant:"outline",size:"sm",onClick:u,children:[e.jsx(vi,{className:"w-4 h-4 mr-2"}),"Partager"]})]})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(Q,{children:e.jsxs(J,{className:"p-0",children:[e.jsx("div",{className:"h-64 md:h-96 overflow-hidden rounded-t-lg",children:e.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:l.content}}),l.tags&&l.tags.length>0&&e.jsxs("div",{className:"mt-8 pt-6 border-t",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.tags.map((h,p)=>e.jsx(ne,{variant:"outline",children:h},p))})]})]})]})})})})]})}):e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Article non trouv"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"L'article que vous recherchez n'existe pas."}),e.jsx(D,{onClick:()=>s("/blog"),children:"Retour au blog"})]})})})};class dP{async login(s){const r=await ie.post("/auth/login",s);return r.token&&or.setToken(r.token),r.user&&(or.setUserType(r.user.role_id),or.setUserData(r.user)),{message:r.message,data:{user:r.user,token:r.token}}}async register(s){const r=await ie.post("/auth/register",s);return r.token&&or.setToken(r.token),r.user&&(or.setUserType(r.user.role_id),or.setUserData(r.user)),{message:r.message,data:{user:r.user,token:r.token}}}async logout(){try{await ie.post("/auth/logout")}catch{}finally{or.removeToken(),or.clearUserMeta()}}async getCurrentUser(){const s=await ie.get("/auth/me");return s.data||s}async updateProfile(s){return(await ie.put("/users/profile",s)).data}isAuthenticated(){return or.isAuthenticated()}getToken(){return or.getToken()}}const _b=new dP,uP=()=>{const[t,s]=m.useState(!1),[r,a]=m.useState({email:"",mot_de_passe:""}),o=Re(),l=pn(),[d]=Da(),u=_p(),[h,p]=m.useState(!1),[v,f]=m.useState(!1);l.state?.from?.pathname,m.useEffect(()=>{d.get("message")==="account_created"&&(f(!0),$.success("Compte cr avec succs ! Vous pouvez maintenant vous connecter."))},[d]),m.useEffect(()=>{const k=d.get("oauth"),y=d.get("token"),_=d.get("user");if(k==="success"&&y&&_)try{const w=JSON.parse(decodeURIComponent(_));localStorage.setItem("authToken",y),localStorage.setItem("user",JSON.stringify(w)),$.success(`Connexion russie avec ${w.email} !`),w.role_id===1?o("/dashboard"):w.role_id===2?o("/supplier/dashboard"):w.role_id===3?o("/admin/dashboard"):o("/")}catch(w){console.error("Erreur parsing OAuth data:",w),$.error("Erreur lors de la connexion OAuth")}else if(k==="error"){const w=d.get("error");$.error(`Erreur de connexion OAuth: ${w||"Erreur inconnue"}`)}},[d,o]);const g=async k=>{if(k.preventDefault(),!r.email||!r.mot_de_passe){$.error("Veuillez remplir tous les champs");return}p(!0);try{const y=await u(r);try{((await _b.getCurrentUser())?.role_id??y?.data?.user?.role_id)===2?window.location.href="/supplier/dashboard":window.location.href="/buyer/dashboard"}catch{$.error("Impossible de valider la session. Veuillez ressayer.")}}catch(y){$.error(y.message||"Erreur lors de la connexion")}finally{p(!1)}},N=k=>{a({...r,[k.target.name]:k.target.value})};return e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx(ta,{size:"lg",onClick:()=>o("/")})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Connexion  votre compte"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Ou"," ",e.jsx("button",{onClick:()=>o("/user-type"),className:"font-medium text-green-600 hover:text-green-500 underline",children:"crez un nouveau compte"})]})]}),v&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(qe,{className:"w-5 h-5 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Compte cr avec succs !"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Votre compte a t cr. Vous pouvez maintenant vous connecter avec vos identifiants."})]})]})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse email"}),e.jsxs("div",{className:"relative",children:[e.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,placeholder:"votre@email.com",value:r.email,onChange:N,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"mot_de_passe",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{id:"mot_de_passe",name:"mot_de_passe",type:t?"text":"password",autoComplete:"current-password",required:!0,placeholder:"Votre mot de passe",value:r.mot_de_passe,onChange:N,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>s(!t),children:t?e.jsx(Gs,{className:"w-5 h-5"}):e.jsx(Ze,{className:"w-5 h-5"})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Se souvenir de moi"})]}),e.jsx("div",{className:"text-sm",children:e.jsx("button",{onClick:()=>o("/forgot-password"),className:"font-medium text-green-600 hover:text-green-500 underline",children:"Mot de passe oubli ?"})})]}),e.jsx("div",{children:e.jsx(D,{type:"submit",size:"lg",className:"w-full",disabled:h,children:h?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Connexion en cours..."]}):"Se connecter"})}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Ou continuer avec"})})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[e.jsxs(D,{type:"button",variant:"outline",className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",onClick:()=>window.location.href="undefined/auth/google",children:[e.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs(D,{type:"button",variant:"outline",className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",onClick:()=>window.location.href="undefined/auth/facebook",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"#1877F2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Ou continuer avec"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(D,{variant:"outline",type:"button",className:"w-full",children:[e.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs(D,{variant:"outline",type:"button",className:"w-full",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"#1877F2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["En vous connectant, vous acceptez nos"," ",e.jsx("button",{onClick:()=>o("/terms"),className:"text-green-600 hover:text-green-500 underline",children:"Conditions d'utilisation"})," ","et notre"," ",e.jsx("button",{onClick:()=>o("/privacy"),className:"text-green-600 hover:text-green-500 underline",children:"Politique de confidentialit"})]})})]})})})},ht=m.forwardRef(({className:t,...s},r)=>e.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s}));ht.displayName="Textarea";const bs=({value:t,onValueChange:s,placeholder:r="Slectionner...",options:a=[],disabled:o=!1,className:l=""})=>{const d=t?.toString()||"",u=be.useMemo(()=>a.filter(p=>p&&p.id!==null&&p.id!==void 0&&p.nom&&typeof p.nom=="string"),[a]),h=p=>{const v=p.target.value;v!==d&&s(v)};return e.jsx("div",{className:"relative",children:e.jsxs("select",{value:d,onChange:h,disabled:o,className:`
          h-10 w-full appearance-none rounded-md border border-input 
          bg-background px-3 py-2 text-sm 
          focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 
          disabled:cursor-not-allowed disabled:opacity-50
          ${l}
        `,style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},children:[!d&&e.jsx("option",{value:"",disabled:!0,children:r}),u.length===0?e.jsx("option",{value:"",disabled:!0,children:"Aucune option disponible"}):u.map(p=>e.jsx("option",{value:p.id.toString(),children:p.nom},`simple-${p.id}`))]})})},mP=({email:t,onVerificationSuccess:s,onBack:r,onResendCode:a,isResending:o=!1})=>{const[l,d]=m.useState(""),[u,h]=m.useState(!1),[p,v]=m.useState(600),[f,g]=m.useState(!1),N=m.useRef([]);m.useEffect(()=>{if(p>0){const C=setTimeout(()=>v(p-1),1e3);return()=>clearTimeout(C)}else g(!0)},[p]);const k=C=>{const R=Math.floor(C/60),I=C%60;return`${R}:${I.toString().padStart(2,"0")}`},y=(C,R)=>{if(R.length>1)return;const I=l.split("");I[C]=R;const T=I.join("");d(T),R&&C<5&&N.current[C+1]?.focus()},_=(C,R)=>{R.key==="Backspace"&&!l[C]&&C>0&&N.current[C-1]?.focus()},w=async C=>{if(C.preventDefault(),l.length!==6){$.error("Veuillez saisir le code complet  6 chiffres");return}if(f){$.error("Le code a expir. Veuillez en demander un nouveau");return}h(!0);try{const R=JSON.parse(localStorage.getItem("registrationData")||"{}"),I=await ie.post("/auth/register/verify-code",{email:t,verification_code:l,...R});localStorage.removeItem("registrationData"),$.success("Compte cr avec succs !"),s(I.user)}catch(R){console.error("Erreur vrification:",R),$.error(R.response?.data?.error||"Erreur lors de la vrification du code")}finally{h(!1)}},E=async()=>{try{await a(),v(600),g(!1),d(""),N.current[0]?.focus(),$.success("Nouveau code envoy !")}catch{$.error("Erreur lors du renvoi du code")}};return e.jsxs(Q,{className:"w-full max-w-md",children:[e.jsxs(de,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(rs,{className:"w-8 h-8 text-green-600"})}),e.jsx(ue,{className:"text-2xl font-bold text-gray-900",children:"Vrification Email"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Nous avons envoy un code  6 chiffres "}),e.jsx("p",{className:"text-gabon-green font-semibold",children:t})]}),e.jsx(J,{children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Code de vrification"}),e.jsx("div",{className:"flex justify-center space-x-2",children:[0,1,2,3,4,5].map(C=>e.jsx(B,{ref:R=>N.current[C]=R,type:"text",inputMode:"numeric",pattern:"[0-9]",maxLength:1,value:l[C]||"",onChange:R=>y(C,R.target.value),onKeyDown:R=>_(C,R),className:"w-12 h-12 text-center text-xl font-bold border-2 focus:border-gabon-green focus:ring-gabon-green",disabled:u||f},C))})]}),e.jsx("div",{className:"text-center",children:f?e.jsx("div",{className:"text-red-600 text-sm font-medium",children:" Code expir"}):e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-600",children:[e.jsx(Vt,{className:"w-4 h-4"}),e.jsx("span",{children:"Code valide pendant :"}),e.jsx("span",{className:"font-mono font-bold text-gabon-green",children:k(p)})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(D,{type:"submit",disabled:u||l.length!==6||f,className:"w-full",children:u?e.jsxs(e.Fragment,{children:[e.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Vrification..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Crer le compte"]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(D,{type:"button",variant:"outline",onClick:r,className:"flex-1",disabled:u,children:[e.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Retour"]}),e.jsxs(D,{type:"button",variant:"outline",onClick:E,disabled:o||u,className:"flex-1",children:[o?e.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Renvoyer"]})]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-500",children:[e.jsx("p",{children:"Vous n'avez pas reu le code ?"}),e.jsx("p",{children:"Vrifiez vos spams ou demandez un nouveau code"})]})]})})]})},kb=()=>{const[t]=Da(),s=Re(),r=t.get("type")||"acheteur",[a,o]=m.useState(!1),[l,d]=m.useState(!1),[u,h]=m.useState(!1),[p,v]=m.useState(!1),[f,g]=m.useState("form"),[N,k]=m.useState({email:"",mot_de_passe:"",confirm_password:"",nom:"",prenom:"",telephone:"",acceptTerms:!1}),y=I=>{const{name:T,value:b,type:P,checked:A}=I.target;k(O=>({...O,[T]:P==="checkbox"?A:b}))},_=()=>!N.email||!N.mot_de_passe||!N.nom?($.error("Veuillez remplir tous les champs obligatoires"),!1):N.mot_de_passe!==N.confirm_password?($.error("Les mots de passe ne correspondent pas"),!1):N.mot_de_passe.length<6?($.error("Le mot de passe doit contenir au moins 6 caractres"),!1):N.acceptTerms?!0:($.error("Vous devez accepter les conditions d'utilisation"),!1),w=async()=>{if(_()){h(!0);try{await ie.post("/auth/register/send-verification",{email:N.email}),localStorage.setItem("registrationData",JSON.stringify({mot_de_passe:N.mot_de_passe,nom:N.nom,prenom:N.prenom,telephone:N.telephone,role_id:r==="fournisseur"?2:1})),g("verification"),$.success("Code de vrification envoy par email !")}catch(I){console.error("Erreur envoi vrification:",I),$.error(I.response?.data?.error||"Erreur lors de l'envoi du code de vrification")}finally{h(!1)}}},E=async()=>{v(!0);try{await ie.post("/auth/register/send-verification",{email:N.email})}catch(I){throw console.error("Erreur renvoi code:",I),$.error("Erreur lors du renvoi du code"),I}finally{v(!1)}},C=I=>{localStorage.removeItem("registrationData"),s("/login?message=account_created")},R=()=>{g("form"),localStorage.removeItem("registrationData")};return f==="verification"?e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:e.jsx(mP,{email:N.email,onVerificationSuccess:C,onBack:R,onResendCode:E,isResending:p})})}):e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(Q,{children:[e.jsxs(de,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Xe,{className:"w-8 h-8 text-green-600"})}),e.jsxs(ue,{className:"text-2xl font-bold text-gray-900",children:["Crer un compte ",r==="fournisseur"?"Fournisseur":"Acheteur"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Commencez par vrifier votre adresse email"})]}),e.jsx(J,{children:e.jsxs("form",{onSubmit:I=>{I.preventDefault(),w()},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"email",type:"email",required:!0,placeholder:"votre@email.com",value:N.email,onChange:y,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom *"}),e.jsx(B,{name:"nom",type:"text",required:!0,placeholder:"Votre nom",value:N.nom,onChange:y})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prnom"}),e.jsx(B,{name:"prenom",type:"text",placeholder:"Votre prnom",value:N.prenom,onChange:y})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),e.jsx(B,{name:"telephone",type:"tel",placeholder:"+241 XX XX XX XX",value:N.telephone,onChange:y})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"mot_de_passe",type:a?"text":"password",required:!0,placeholder:"Votre mot de passe",value:N.mot_de_passe,onChange:y,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>o(!a),children:a?e.jsx(Gs,{className:"w-5 h-5"}):e.jsx(Ze,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"confirm_password",type:l?"text":"password",required:!0,placeholder:"Confirmez votre mot de passe",value:N.confirm_password,onChange:y,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>d(!l),children:l?e.jsx(Gs,{className:"w-5 h-5"}):e.jsx(Ze,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("input",{id:"acceptTerms",name:"acceptTerms",type:"checkbox",checked:N.acceptTerms,onChange:y,className:"mt-1 h-4 w-4 text-gabon-green focus:ring-gabon-green border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"acceptTerms",className:"text-sm text-gray-600",children:["J'accepte les"," ",e.jsx("a",{href:"/terms",className:"text-gabon-green hover:underline",children:"conditions d'utilisation"})," ","et la"," ",e.jsx("a",{href:"/privacy",className:"text-gabon-green hover:underline",children:"politique de confidentialit"})]})]}),e.jsx(D,{type:"submit",disabled:u,className:"w-full",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Envoi en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Vrifier le mail"]})}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez dj un compte ?"," ",e.jsx("a",{href:r==="fournisseur"?"/supplier/login":"/login",className:"font-medium text-gabon-green hover:text-gabon-green/80",children:"Connectez-vous"})]})})]})})]})})})})},hP=()=>{const[t,s]=m.useState(!1),[r,a]=m.useState(!1),[o,l]=m.useState("acheteur"),[d,u]=m.useState(1),[h]=Da(),[p,v]=m.useState(!1),[f,g]=m.useState([]),[N,k]=m.useState([]),[y,_]=m.useState(!1),[w,E]=m.useState(""),[C,R]=m.useState(!1),[I,T]=m.useState(600),[b,P]=m.useState({email:"",mot_de_passe:"",confirm_password:"",nom:"",prenom:"",telephone:"",entreprise:{nom_entreprise:"",nom_contact:"",prenom_contact:"",telephone_professionnel:"",site_web:"",description:"",secteur_activite_id:"",type_entreprise_id:"",annee_creation:"",nombre_employes:"",adresse_ligne1:"",adresse_ligne2:"",ville:"",code_postal:"",pays:"",numero_siret:"",numero_registre_commerce:"",numero_tva:"",capacite_production:"",certifications:""},acceptTerms:!1}),A=Re(),{register:O}=C5();m.useEffect(()=>{const ee=h.get("type");(ee==="fournisseur"||ee==="acheteur")&&l(ee)},[h]),m.useEffect(()=>{o==="fournisseur"&&(F(),X())},[o]),m.useEffect(()=>{if(y&&I>0){const ee=setTimeout(()=>T(I-1),1e3);return()=>clearTimeout(ee)}},[y,I]);const F=async()=>{try{console.log(" Chargement des secteurs...");const ee=await ie.get("/supplier/secteurs");console.log(" Rponse complte secteurs:",ee),console.log(" Data secteurs:",ee.data);let oe=[];ee.data&&ee.data.secteurs?oe=ee.data.secteurs:Array.isArray(ee.data)?oe=ee.data:ee.secteurs&&(oe=ee.secteurs),oe=oe.filter(xe=>xe&&xe.id!==null&&xe.id!==void 0&&xe.nom),console.log(" Secteurs traits:",oe),g(oe)}catch(ee){console.error(" Erreur chargement secteurs:",ee),$.error("Erreur lors du chargement des secteurs d'activit"),g([])}},X=async()=>{try{console.log(" Chargement des types d'entreprise...");const ee=await ie.get("/supplier/types-entreprise");console.log(" Rponse complte types:",ee),console.log(" Data types:",ee.data);let oe=[];ee.data&&ee.data.types?oe=ee.data.types:Array.isArray(ee.data)?oe=ee.data:ee.types&&(oe=ee.types),oe=oe.filter(xe=>xe&&xe.id!==null&&xe.id!==void 0&&xe.nom),console.log(" Types traits:",oe),k(oe)}catch(ee){console.error(" Erreur chargement types entreprise:",ee),$.error("Erreur lors du chargement des types d'entreprise"),k([])}},V=async()=>{R(!0);try{await ie.post("/auth/register/send-verification",{email:b.email}),$.success("Nouveau code envoy par email !"),E(""),T(600)}catch(ee){console.error("Erreur renvoi code:",ee),$.error(ee.response?.data?.error||"Erreur lors du renvoi du code")}finally{R(!1)}};if(o==="acheteur")return e.jsx(kb,{});const K=ee=>{const{name:oe,value:xe,type:ve,checked:re}=ee.target;if(oe.startsWith("entreprise.")){const Ne=oe.replace("entreprise.","");P(Ee=>({...Ee,entreprise:{...Ee.entreprise,[Ne]:xe}}))}else P(Ne=>({...Ne,[oe]:ve==="checkbox"?re:xe}))},me=(ee,oe)=>{if(ee.startsWith("entreprise.")){const xe=ee.replace("entreprise.","");P(ve=>({...ve,entreprise:{...ve.entreprise,[xe]:oe}}))}else P(xe=>({...xe,[ee]:oe}))},U=ee=>{if(o==="acheteur")return!0;switch(ee){case 1:return!b.email||!b.mot_de_passe||!b.confirm_password?($.error("Veuillez remplir tous les champs obligatoires"),!1):b.mot_de_passe!==b.confirm_password?($.error("Les mots de passe ne correspondent pas"),!1):b.mot_de_passe.length<6?($.error("Le mot de passe doit contenir au moins 6 caractres"),!1):!0;case 2:const{nom_entreprise:oe,telephone_professionnel:xe,secteur_activite_id:ve,type_entreprise_id:re}=b.entreprise;return!oe||!xe||!ve||!re?($.error("Veuillez remplir tous les champs obligatoires de l'entreprise"),!1):!0;case 3:return b.acceptTerms?!0:($.error("Vous devez accepter les conditions d'utilisation"),!1);default:return!0}},G=()=>{U(d)&&u(ee=>Math.min(ee+1,4))},L=()=>{u(ee=>Math.max(ee-1,1))},H=async ee=>{if(ee.preventDefault(),!b.acceptTerms){$.error("Vous devez accepter les conditions d'utilisation");return}if(o==="acheteur"){if(b.mot_de_passe!==b.confirm_password){$.error("Les mots de passe ne correspondent pas");return}if(!b.email||!b.mot_de_passe||!b.nom){$.error("Veuillez remplir tous les champs obligatoires");return}try{const oe={email:b.email,mot_de_passe:b.mot_de_passe,nom:b.nom,prenom:b.prenom,telephone:b.telephone,role_id:1};await O(oe),$.success("Inscription russie ! Bienvenue sur GabMarketHub"),A("/dashboard")}catch(oe){$.error(oe.message||"Erreur lors de l'inscription")}return}if(U(d)){console.log(" Donnes formulaire avant envoi:",b),console.log(" Donnes lgales formulaire:",{numero_siret:b.entreprise.numero_siret,numero_registre_commerce:b.entreprise.numero_registre_commerce,numero_tva:b.entreprise.numero_tva});try{v(!0);const oe={email:b.email,mot_de_passe:b.mot_de_passe,nom:b.nom,prenom:b.prenom,telephone:b.telephone,role_id:2,entreprise:{nom_entreprise:b.entreprise.nom_entreprise,description:b.entreprise.description,site_web:b.entreprise.site_web,telephone_professionnel:b.entreprise.telephone_professionnel,adresse_ligne1:b.entreprise.adresse_ligne1,adresse_ligne2:b.entreprise.adresse_ligne2,ville:b.entreprise.ville,code_postal:b.entreprise.code_postal,pays:b.entreprise.pays,secteur_activite_id:parseInt(b.entreprise.secteur_activite_id)||null,type_entreprise_id:parseInt(b.entreprise.type_entreprise_id)||null,numero_siret:b.entreprise.numero_siret,numero_registre_commerce:b.entreprise.numero_registre_commerce,numero_tva:b.entreprise.numero_tva,annee_creation:b.entreprise.annee_creation?parseInt(b.entreprise.annee_creation):null,nombre_employes:b.entreprise.nombre_employes?parseInt(b.entreprise.nombre_employes):null,capacite_production:b.entreprise.capacite_production,certifications:b.entreprise.certifications}};if(console.log(" Envoi donnes inscription fournisseur (formates):",oe),console.log(" Donnes lgales envoyes:",{numero_siret:oe.entreprise.numero_siret,numero_registre_commerce:oe.entreprise.numero_registre_commerce,numero_tva:oe.entreprise.numero_tva}),console.log(" Donnes compltes entreprise:",oe.entreprise),!y)try{try{await ie.get(`/auth/check-email/${encodeURIComponent(oe.email)}`)}catch(xe){if(xe.message.includes("Email dj utilis")){$.error("Cet email est dj utilis. Veuillez vous connecter ou utiliser un autre email.",{action:{label:"Se connecter",onClick:()=>A("/login")}});return}}await ie.post("/auth/register/send-verification",{email:oe.email}),localStorage.setItem("supplierRegistrationData",JSON.stringify(oe)),_(!0),T(600),$.success("Code de vrification envoy par email !");return}catch(xe){console.error("Erreur envoi vrification:",xe);const ve=xe.response?.data?.error||"Erreur lors de l'envoi du code de vrification";ve.includes("dj utilis et vrifi")?$.error("Cet email est dj utilis. Veuillez vous connecter ou utiliser un autre email.",{action:{label:"Se connecter",onClick:()=>A("/login")}}):$.error(ve);return}if(y)try{const xe=JSON.parse(localStorage.getItem("supplierRegistrationData")||"{}"),ve=await ie.post("/auth/register/verify-code",{email:xe.email,verification_code:w,...xe});console.log(" Rponse inscription:",ve),console.log(" Type de response:",typeof ve),console.log(" Keys de response:",Object.keys(ve)),console.log(" Token prsent?",!!ve.token),console.log(" User prsent?",!!ve.user),ve.token?(localStorage.removeItem("supplierRegistrationData"),localStorage.setItem("authToken",ve.token),localStorage.setItem("user",JSON.stringify(ve.user)),$.success("Compte cr avec succs !"),A("/login?message=account_created")):$.error("Erreur lors de l'inscription")}catch(xe){console.error(" Erreur vrification:",xe);const ve=xe.response?.data?.error||xe.message||"Erreur lors de la vrification";$.error(ve)}finally{v(!1)}}catch(oe){console.error(" Erreur inscription:",oe);const xe=oe.response?.data?.error||oe.message||"Erreur lors de l'inscription";$.error(xe)}finally{v(!1)}}},le=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informations de connexion"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Crez votre compte fournisseur"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prnom"}),e.jsx(B,{name:"prenom",placeholder:"Votre prnom",value:b.prenom,onChange:K})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom *"}),e.jsx(B,{name:"nom",required:!0,placeholder:"Votre nom",value:b.nom,onChange:K})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email professionnel *"}),e.jsxs("div",{className:"relative",children:[e.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"email",type:"email",required:!0,placeholder:"contact@votre-entreprise.com",value:b.email,onChange:K,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"telephone",placeholder:"+241 XX XX XX XX",value:b.telephone,onChange:K,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"mot_de_passe",type:t?"text":"password",required:!0,placeholder:"Minimum 6 caractres",value:b.mot_de_passe,onChange:K,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>s(!t),children:t?e.jsx(Gs,{className:"w-5 h-5"}):e.jsx(Ze,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"confirm_password",type:"password",required:!0,placeholder:"Confirmez votre mot de passe",value:b.confirm_password,onChange:K,className:"pl-10"})]})]})]}),q=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informations de l'entreprise"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Prsentez votre entreprise"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'entreprise *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"entreprise.nom_entreprise",required:!0,placeholder:"Nom de votre entreprise",value:b.entreprise.nom_entreprise,onChange:K,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone professionnel *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"entreprise.telephone_professionnel",required:!0,placeholder:"+241 XX XX XX XX",value:b.entreprise.telephone_professionnel,onChange:K,className:"pl-10"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secteur d'activit *"}),e.jsx(bs,{value:b.entreprise.secteur_activite_id,onValueChange:ee=>me("entreprise.secteur_activite_id",ee),placeholder:"Slectionnez un secteur",options:f})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type d'entreprise *"}),e.jsx(bs,{value:b.entreprise.type_entreprise_id,onValueChange:ee=>me("entreprise.type_entreprise_id",ee),placeholder:"Slectionnez un type",options:N})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site web"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"entreprise.site_web",placeholder:"https://www.votre-site.com",value:b.entreprise.site_web,onChange:K,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description de l'entreprise"}),e.jsx(ht,{name:"entreprise.description",placeholder:"Dcrivez votre entreprise, vos produits et services...",value:b.entreprise.description,onChange:K,rows:4})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anne de cration"}),e.jsx(B,{name:"entreprise.annee_creation",type:"number",placeholder:"2020",value:b.entreprise.annee_creation,onChange:K})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre d'employs"}),e.jsx(B,{name:"entreprise.nombre_employes",type:"number",placeholder:"10",value:b.entreprise.nombre_employes,onChange:K})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacit de production"}),e.jsx(B,{name:"entreprise.capacite_production",placeholder:"Ex: 1000 units/mois",value:b.entreprise.capacite_production,onChange:K})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certifications"}),e.jsx(ht,{name:"entreprise.certifications",placeholder:"Listez vos certifications (ISO, etc.)",value:b.entreprise.certifications,onChange:K,rows:3})]})]}),se=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Adresse et informations lgales"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Informations de localisation et lgales"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 1 *"}),e.jsxs("div",{className:"relative",children:[e.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"entreprise.adresse_ligne1",required:!0,placeholder:"Numro et nom de rue",value:b.entreprise.adresse_ligne1,onChange:K,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 2"}),e.jsx(B,{name:"entreprise.adresse_ligne2",placeholder:"Complment d'adresse (optionnel)",value:b.entreprise.adresse_ligne2,onChange:K})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville *"}),e.jsx(B,{name:"entreprise.ville",required:!0,placeholder:"Libreville",value:b.entreprise.ville,onChange:K})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code postal *"}),e.jsx(B,{name:"entreprise.code_postal",required:!0,placeholder:"BP 1234",value:b.entreprise.code_postal,onChange:K})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pays *"}),e.jsxs("select",{name:"entreprise.pays",value:b.entreprise.pays,onChange:K,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Slectionnez votre pays"}),e.jsx("option",{value:"Gabon",children:"Gabon"}),e.jsx("option",{value:"Italie",children:"Italie"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro SIRET *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"entreprise.numero_siret",required:!0,placeholder:"Numro d'identification SIRET",value:b.entreprise.numero_siret,onChange:K,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registre de commerce"}),e.jsx(B,{name:"entreprise.numero_registre_commerce",placeholder:"Numro registre commerce",value:b.entreprise.numero_registre_commerce,onChange:K})]})]})]});return e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-2xl w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx(ta,{size:"lg",onClick:()=>A("/")})}),e.jsxs("h2",{className:"text-3xl font-bold text-gray-900",children:["Crer votre compte ",o==="fournisseur"?"Fournisseur":"Acheteur"]}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Ou"," ",e.jsx("a",{href:"/login",className:"font-medium text-green-600 hover:text-green-500",children:"connectez-vous  votre compte existant"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(D,{type:"button",variant:o==="acheteur"?"default":"outline",onClick:()=>{l("acheteur"),u(1)},className:"flex items-center justify-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4"}),"Acheteur"]}),e.jsxs(D,{type:"button",variant:o==="fournisseur"?"default":"outline",onClick:()=>{l("fournisseur"),u(1),F(),X()},className:"flex items-center justify-center gap-2",children:[e.jsx(ot,{className:"w-4 h-4"}),"Fournisseur"]})]}),o==="fournisseur"&&e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between",children:[1,2,3].map(ee=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${ee<=d?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:ee}),ee<3&&e.jsx("div",{className:`w-16 h-1 mx-2 ${ee<d?"bg-green-600":"bg-gray-200"}`})]},ee))}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:[e.jsx("span",{children:"Compte"}),e.jsx("span",{children:"Entreprise"}),e.jsx("span",{children:"Adresse"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:H,children:[o==="acheteur"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prnom"}),e.jsx(B,{name:"prenom",placeholder:"Votre prnom",value:b.prenom,onChange:K})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom *"}),e.jsx(B,{name:"nom",required:!0,placeholder:"Votre nom",value:b.nom,onChange:K})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"email",type:"email",required:!0,placeholder:"votre@email.com",value:b.email,onChange:K,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"telephone",placeholder:"+241 XX XX XX XX",value:b.telephone,onChange:K,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"mot_de_passe",type:t?"text":"password",required:!0,placeholder:"Votre mot de passe",value:b.mot_de_passe,onChange:K,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>s(!t),children:t?e.jsx(Gs,{className:"w-5 h-5"}):e.jsx(Ze,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"confirm_password",type:r?"text":"password",required:!0,placeholder:"Confirmez votre mot de passe",value:b.confirm_password,onChange:K,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>a(!r),children:r?e.jsx(Gs,{className:"w-5 h-5"}):e.jsx(Ze,{className:"w-5 h-5"})})]})]})]}):e.jsxs("div",{children:[d===1&&le(),d===2&&q(),d===3&&se()]}),o==="fournisseur"&&y&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Vrification Email"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Nous avons envoy un code  6 chiffres  ",e.jsx("strong",{children:b.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code de vrification"}),e.jsx("input",{type:"text",value:w,onChange:ee=>E(ee.target.value),placeholder:"Entrez le code  6 chiffres",maxLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-center text-lg tracking-widest"})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-sm text-gray-600",children:["Code valide pendant :"," ",e.jsxs("span",{className:"font-mono font-bold text-green-600",children:[Math.floor(I/60),":",(I%60).toString().padStart(2,"0")]})]})}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:V,disabled:C,className:"text-sm text-green-600 hover:text-green-500 underline disabled:opacity-50 disabled:cursor-not-allowed",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-3 w-3 border-b-2 border-green-600 mr-1"}),"Envoi en cours..."]}):"Vous n'avez pas reu le code ? Renvoyer"})})]}),o==="fournisseur"&&d===3||o==="acheteur"?e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"acceptTerms",name:"acceptTerms",type:"checkbox",required:!0,checked:b.acceptTerms,onChange:K,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"acceptTerms",className:"ml-2 block text-sm text-gray-900",children:["J'accepte les"," ",e.jsx("a",{href:"/terms",className:"text-green-600 hover:text-green-500",children:"conditions d'utilisation"})," ","et la"," ",e.jsx("a",{href:"/privacy",className:"text-green-600 hover:text-green-500",children:"politique de confidentialit"})]})]}):null,o==="fournisseur"?e.jsxs("div",{className:"flex justify-between",children:[(d>1||y)&&e.jsx(D,{type:"button",variant:"outline",onClick:()=>{y?(_(!1),E(""),localStorage.removeItem("supplierRegistrationData")):L()},children:y?"Retour":"Prcdent"}),e.jsx("div",{className:"ml-auto",children:d<3?e.jsx(D,{type:"button",onClick:G,children:"Suivant"}):e.jsx(D,{type:"submit",disabled:p,className:"bg-green-600 hover:bg-green-700",children:p?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),y?"Vrification...":"Envoi..."]}):y?"Crer le compte":"Vrifier le mail"})})]}):e.jsx("div",{children:e.jsx(D,{type:"submit",size:"lg",className:"w-full",disabled:p,children:p?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cration en cours..."]}):"Crer mon compte acheteur"})})]})]})})})},pP=()=>{const[t,s]=m.useState(null),[r,a]=m.useState(!0),[o,l]=m.useState(null),d=m.useCallback(async()=>{try{a(!0),l(null);const u=localStorage.getItem("authToken"),h=await fetch("undefined/users/dashboard/stats",{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw new Error(`Erreur ${h.status}: ${h.statusText}`);const p=await h.json();if(p.success&&p.data)s(p.data);else throw new Error(p.error||"Erreur lors de la rcupration des statistiques")}catch(u){const h=u instanceof Error?u.message:"Erreur inconnue";console.error("Erreur rcupration stats:",h),l(h)}finally{a(!1)}},[]);return m.useEffect(()=>{d()},[d]),{stats:t,isLoading:r,error:o,refetch:d}},fP=(t=5)=>{const[s,r]=m.useState([]),[a,o]=m.useState(!0),[l,d]=m.useState(null),u=m.useCallback(async()=>{try{o(!0),d(null);const h=localStorage.getItem("authToken"),p=await fetch(`undefined/orders/recent?limit=${t}`,{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(!p.ok)throw new Error(`Erreur ${p.status}: ${p.statusText}`);const v=await p.json();if(v.success&&v.data)r(v.data);else throw new Error(v.error||"Erreur lors de la rcupration des commandes")}catch(h){const p=h instanceof Error?h.message:"Erreur inconnue";console.error("Erreur rcupration commandes:",p),d(p),r([])}finally{o(!1)}},[t]);return m.useEffect(()=>{u()},[u]),{orders:s,isLoading:a,error:l,refetch:u}},xP=(t=6)=>{const[s,r]=m.useState([]),[a,o]=m.useState(!0),[l,d]=m.useState(null),u=m.useCallback(async()=>{try{o(!0),d(null);const h=localStorage.getItem("authToken"),p=await fetch(`undefined/users/favorites?limit=${t}`,{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(!p.ok)throw new Error(`Erreur ${p.status}: ${p.statusText}`);const v=await p.json();if(v.success&&v.data)r(v.data);else throw new Error(v.error||"Erreur lors de la rcupration des favoris")}catch(h){const p=h instanceof Error?h.message:"Erreur inconnue";console.error("Erreur rcupration favoris:",p),d(p),r([])}finally{o(!1)}},[t]);return m.useEffect(()=>{u()},[u]),{products:s,isLoading:a,error:l,refetch:u}},Eb=(t=10)=>{const[s,r]=m.useState([]),[a,o]=m.useState(!0),[l,d]=m.useState(null),[u,h]=m.useState(0),p=m.useCallback(async()=>{try{o(!0),d(null);const g=localStorage.getItem("authToken"),N=await fetch(`undefined/notifications?limit=${t}`,{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(!N.ok)throw new Error(`Erreur ${N.status}: ${N.statusText}`);const k=await N.json();if(k.notifications&&Array.isArray(k.notifications)){r(k.notifications);const y=k.notifications.filter(_=>!_.lu).length;h(y)}else if(k.success&&k.data){r(k.data);const y=k.data.filter(_=>!_.lu).length;h(y)}else throw new Error(k.error||"Erreur lors de la rcupration des notifications")}catch(g){const N=g instanceof Error?g.message:"Erreur inconnue";console.error("Erreur rcupration notifications:",N),d(N),r([]),h(0)}finally{o(!1)}},[t]),v=m.useCallback(async g=>{try{const N=localStorage.getItem("authToken");(await fetch(`undefined/notifications/${g}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"}})).ok&&(r(y=>y.map(_=>_.id===g?{..._,lu:!0}:_)),h(y=>Math.max(0,y-1)))}catch(N){console.error("Erreur marquage notification:",N)}},[]),f=m.useCallback(async()=>{try{const g=localStorage.getItem("authToken");(await fetch("undefined/notifications/read-all",{method:"PATCH",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}})).ok&&(r(k=>k.map(y=>({...y,lu:!0}))),h(0))}catch(g){console.error("Erreur marquage toutes notifications:",g)}},[]);return m.useEffect(()=>{p()},[p]),{notifications:s,unreadCount:u,isLoading:a,error:l,refetch:p,markAsRead:v,markAllAsRead:f}},gP=()=>{const[t,s]=m.useState(""),[r,a]=m.useState("all"),o=Re(),{data:l}=Rt();if(m.useEffect(()=>{l?.role_id===2&&o("/supplier/dashboard",{replace:!0})},[l?.role_id,o]),l?.role_id===2)return null;const{data:d}=pP(),{data:u}=fP(),{data:h}=xP(),p=ea(),v=[{id:"all",name:"Toutes catgories",icon:wa},{id:"electronics",name:"lectronique",icon:De},{id:"textile",name:"Textile",icon:De},{id:"food",name:"Agroalimentaire",icon:De},{id:"construction",name:"Construction",icon:De}],f=[{id:1,name:"Smartphone Samsung",price:25e4,image:"/api/placeholder/200/200",supplier:"TechGabon",rating:4.5,moq:10},{id:2,name:"Tissu Wax Premium",price:15e3,image:"/api/placeholder/200/200",supplier:"TextileAfrica",rating:4.8,moq:50},{id:3,name:"Caf Arabica Bio",price:8e3,image:"/api/placeholder/200/200",supplier:"CafGabon",rating:4.6,moq:25}],g=()=>{p.mutate()},N=y=>{y.preventDefault(),t.trim()&&o(`/products?search=${encodeURIComponent(t)}`)},k=y=>{a(y),y!=="all"&&o(`/products?category=${y}`)};return e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 sm:py-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 mb-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Bienvenue, ",l?.nom," "]}),e.jsx("p",{className:"text-gray-600",children:"Dcouvrez et commandez des produits de qualit auprs de fournisseurs gabonais"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(D,{variant:"outline",onClick:()=>o("/profile"),children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Mon profil"]}),e.jsx(D,{variant:"outline",onClick:g,children:"Dconnexion"})]})]}),e.jsx("form",{onSubmit:N,className:"mt-6",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{type:"text",placeholder:"Rechercher des produits, fournisseurs...",value:t,onChange:y=>s(y.target.value),className:"pl-10"})]}),e.jsxs(D,{type:"submit",children:[e.jsx(pt,{className:"w-4 h-4 mr-2"}),"Rechercher"]}),e.jsxs(D,{variant:"outline",onClick:()=>o("/products"),children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Filtres"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(wa,{className:"w-5 h-5 mr-2"}),"Catgories"]}),e.jsx("div",{className:"space-y-2",children:v.map(y=>e.jsx("button",{onClick:()=>k(y.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${r===y.id?"bg-green-100 text-green-700":"hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(y.icon,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:y.name})]})},y.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Navigation rapide"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(D,{variant:"ghost",className:"w-full justify-start",onClick:()=>o("/orders"),children:[e.jsx(pr,{className:"w-4 h-4 mr-2"}),"Mes commandes"]}),e.jsxs(D,{variant:"ghost",className:"w-full justify-start",onClick:()=>o("/favorites"),children:[e.jsx(Kt,{className:"w-4 h-4 mr-2"}),"Mes favoris"]}),e.jsxs(D,{variant:"ghost",className:"w-full justify-start",onClick:()=>o("/messages"),children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Messages"]}),e.jsxs(D,{variant:"ghost",className:"w-full justify-start",onClick:()=>o("/invoices"),children:[e.jsx(ft,{className:"w-4 h-4 mr-2"}),"Factures"]})]})]})]}),e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Q,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>o("/orders"),children:e.jsxs(J,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(pr,{className:"w-5 h-5 text-blue-600"}),e.jsx(ne,{variant:"secondary",children:d?.commandes||0})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Mes commandes"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Commandes passes"})]})}),e.jsx(Q,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>o("/favorites"),children:e.jsxs(J,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Kt,{className:"w-5 h-5 text-red-600"}),e.jsx(ne,{variant:"secondary",children:d?.favoris||0})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Favoris"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Produits sauvegards"})]})}),e.jsx(Q,{className:"cursor-pointer hover:shadow-md transition-shadow",children:e.jsxs(J,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(De,{className:"w-5 h-5 text-green-600"}),e.jsx(ne,{variant:"secondary",children:d?.fournisseurs||0})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Fournisseurs"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Partenaires actifs"})]})}),e.jsx(Q,{className:"cursor-pointer hover:shadow-md transition-shadow",children:e.jsxs(J,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(bt,{className:"w-5 h-5 text-yellow-600"}),e.jsxs(ne,{variant:"secondary",children:[d?.economies||0,""]})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"conomies"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Ce mois-ci"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(bt,{className:"w-5 h-5 mr-2"}),"Produits en vedette"]}),e.jsx(D,{variant:"outline",onClick:()=>o("/products"),children:"Voir tout"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(y=>e.jsx(Q,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg mb-4 flex items-center justify-center",children:e.jsx(De,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:y.name}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Par ",y.supplier]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-semibold text-green-600",children:[y.price.toLocaleString()," FCFA"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm text-gray-600 ml-1",children:y.rating})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["MOQ: ",y.moq," units"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{size:"sm",className:"flex-1",children:"Voir dtails"}),e.jsx(D,{size:"sm",variant:"outline",children:e.jsx(Kt,{className:"w-4 h-4"})}),e.jsx(D,{size:"sm",variant:"outline",children:e.jsx(Ye,{className:"w-4 h-4"})})]})]})},y.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(pr,{className:"w-5 h-5 mr-2"}),"Mes commandes rcentes"]}),e.jsx(D,{variant:"outline",onClick:()=>o("/orders"),children:"Voir toutes"})]}),u&&u.length>0?e.jsx("div",{className:"space-y-4",children:u.slice(0,3).map(y=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:["#",y.id]}),e.jsx(ne,{className:"bg-green-100 text-green-800",children:y.statut})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[y.produit," - ",y.fournisseur]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(y.date).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[y.montant.toLocaleString()," FCFA"]}),e.jsx(D,{variant:"outline",size:"sm",className:"mt-2",children:"Dtails"})]})]},y.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(pr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"Aucune commande rcente"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Commencez  explorer nos produits"}),e.jsx(D,{onClick:()=>o("/products"),children:"Dcouvrir les produits"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(Kt,{className:"w-5 h-5 mr-2"}),"Mes favoris"]}),e.jsx(D,{variant:"outline",onClick:()=>o("/favorites"),children:"Voir tous"})]}),h&&h.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.slice(0,3).map(y=>e.jsx(Q,{className:"hover:shadow-md transition-shadow",children:e.jsxs(J,{className:"p-4",children:[e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center",children:e.jsx(De,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:y.nom}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:y.fournisseur}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-semibold text-green-600",children:[y.prix_unitaire.toLocaleString()," FCFA"]}),e.jsx(D,{size:"sm",variant:"outline",children:"Voir"})]})]})},y.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Kt,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"Aucun produit favori"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Ajoutez des produits  vos favoris pour les retrouver facilement"}),e.jsx(D,{onClick:()=>o("/products"),children:"Dcouvrir des produits"})]})]})]})]})]})})})},vP=({images:t,isOpen:s,onClose:r,initialIndex:a=0})=>{const[o,l]=m.useState(a);if(m.useEffect(()=>{s&&l(a)},[s,a]),!s||!t.length)return null;const d=()=>{l(h=>(h+1)%t.length)},u=()=>{l(h=>(h-1+t.length)%t.length)};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:e.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full mx-4",children:[e.jsx(D,{variant:"outline",size:"sm",className:"absolute top-4 right-4 z-10 bg-white/80 hover:bg-white",onClick:r,children:e.jsx(Je,{className:"w-4 h-4"})}),t.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"outline",size:"sm",className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10 bg-white/80 hover:bg-white",onClick:u,children:e.jsx(lS,{className:"w-4 h-4"})}),e.jsx(D,{variant:"outline",size:"sm",className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-10 bg-white/80 hover:bg-white",onClick:d,children:e.jsx(Dr,{className:"w-4 h-4"})})]}),e.jsx("img",{src:t[o],alt:`Image ${o+1}`,className:"w-full h-full object-contain rounded-lg",crossOrigin:"anonymous",onError:h=>{h.currentTarget.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop"}}),t.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:t.map((h,p)=>e.jsx("button",{className:`w-3 h-3 rounded-full ${p===o?"bg-white":"bg-white/50"}`,onClick:()=>l(p)},p))})]})})};class jP{async getProductReviews(s,r=1,a=10,o="recent"){try{const l=new URLSearchParams({page:r.toString(),limit:a.toString(),sort:o});return await ie.get(`/reviews/product/${s}?${l.toString()}`)}catch(l){throw console.error("Erreur rcupration avis:",l),l}}async addReview(s){try{return await ie.post("/reviews",s)}catch(r){throw console.error("Erreur ajout avis:",r),r}}async replyToReview(s,r){try{return await ie.post(`/reviews/${s}/reply`,{reponse:r})}catch(a){throw console.error("Erreur rponse avis:",a),a}}async reportReview(s,r,a){try{return await ie.post(`/reviews/${s}/report`,{raison:r,description:a})}catch(o){throw console.error("Erreur signalement avis:",o),o}}async getPendingReviews(s=1,r=20){try{const a=new URLSearchParams({page:s.toString(),limit:r.toString()});return await ie.get(`/reviews/pending?${a.toString()}`)}catch(a){throw console.error("Erreur rcupration avis en attente:",a),a}}async moderateReview(s,r,a){try{return await ie.put(`/reviews/${s}/moderate`,{action:r,reason:a})}catch(o){throw console.error("Erreur modration avis:",o),o}}calculateAverageRating(s){if(s.length===0)return 0;const r=s.reduce((o,l)=>o+l.count,0),a=s.reduce((o,l)=>o+l.note*l.count,0);return r>0?a/r:0}getRatingDistribution(s){const r={};for(let a=1;a<=5;a++)r[a]=0;return s.forEach(a=>{r[a.note]=a.count}),r}formatReviewDate(s){return new Date(s).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}canUserReview(s,r){return s?!r.some(a=>a.utilisateur_nom.includes(s.toString())):!1}}const Tc=new jP,yP=({productId:t,onReviewAdded:s})=>{const{user:r}=Td(),[a,o]=m.useState([]),[l,d]=m.useState(null),[u,h]=m.useState(!1),[p,v]=m.useState({rating:0,comment:""}),[f,g]=m.useState(!1),[N,k]=m.useState(!0),[y,_]=m.useState(1),[w,E]=m.useState("recent"),C=async(A=1,O=w)=>{try{k(!0);const F=await Tc.getProductReviews(t,A,10,O);o(F.reviews),d(F),_(A)}catch(F){console.error("Erreur chargement avis:",F),$.error("Erreur lors du chargement des avis")}finally{k(!1)}};m.useEffect(()=>{C(1,w)},[t,w]);const R=async()=>{if(p.rating===0){$.error("Veuillez donner une note");return}if(!p.comment.trim()){$.error("Veuillez crire un commentaire");return}if(p.comment.length<10){$.error("Le commentaire doit contenir au moins 10 caractres");return}try{g(!0);const A=await Tc.addReview({produit_id:t,note:p.rating,commentaire:p.comment});$.success(A.message),v({rating:0,comment:""}),h(!1),A.needsModeration&&$.info("Votre avis est en attente de modration"),s?.(),C(1,w)}catch(A){$.error(A.response?.data?.error||"Erreur lors de l'ajout de l'avis")}finally{g(!1)}},I=async A=>{try{await Tc.reportReview(A,"inappropri"),$.success("Avis signal avec succs")}catch(O){$.error(O.response?.data?.error||"Erreur lors du signalement")}},T=l?.ratingStats?Tc.calculateAverageRating(l.ratingStats):0,b=(A,O=!1,F)=>e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(X=>e.jsx("button",{type:O?"button":void 0,onClick:O?()=>F?.(X):void 0,className:`transition-colors ${O?"cursor-pointer hover:scale-110":"cursor-default"}`,disabled:!O,children:e.jsx(Ct,{className:`w-5 h-5 ${X<=A?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},X))}),P=()=>{if(!l?.ratingStats)return null;const A=l.ratingStats.reduce((O,F)=>O+F.count,0);return e.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(O=>{const X=l.ratingStats.find(K=>K.note===O)?.count||0,V=A>0?X/A*100:0;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium w-8",children:O}),e.jsx(Ct,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:`${V}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 w-8",children:X})]},O)})})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Avis clients"}),r&&e.jsx("button",{onClick:()=>h(!u),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:u?"Annuler":"crire un avis"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:T?T.toFixed(1):"0.0"}),e.jsx("div",{className:"flex justify-center mb-2",children:b(Math.round(T||0))}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Bas sur ",l?.pagination.total||0," avis"]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Distribution des notes"}),P()]})]})]}),u&&r&&e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Votre avis"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Note *"}),b(p.rating,!0,A=>v(O=>({...O,rating:A})))]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commentaire *"}),e.jsx("textarea",{value:p.comment,onChange:A=>v(O=>({...O,comment:A.target.value})),placeholder:"Partagez votre exprience avec ce produit...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,maxLength:1e3}),e.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[p.comment.length,"/1000 caractres"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:R,disabled:f,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?"Envoi...":"Publier l'avis"}),e.jsx("button",{onClick:()=>h(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("select",{value:w,onChange:A=>E(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"recent",children:"Plus rcents"}),e.jsx("option",{value:"rating_high",children:"Meilleures notes"}),e.jsx("option",{value:"rating_low",children:"Moins bonnes notes"}),e.jsx("option",{value:"verified",children:"Achats vrifis"})]})}),e.jsxs("div",{className:"text-sm text-gray-600",children:[l?.pagination.total||0," avis au total"]})]}),e.jsx("div",{className:"space-y-4",children:N?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Chargement des avis..."})]}):a.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-600",children:[e.jsx(Ye,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"Aucun avis pour ce produit"}),e.jsx("p",{className:"text-sm",children:"Soyez le premier  donner votre avis !"})]}):a.map(A=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:A.avatar_url?e.jsx("img",{src:A.avatar_url,alt:A.utilisateur_nom,className:"w-10 h-10 rounded-full object-cover"}):e.jsx("span",{className:"text-gray-600 font-medium",children:A.utilisateur_nom.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:A.utilisateur_nom}),e.jsxs("div",{className:"flex items-center gap-2",children:[b(A.note),A.achat_verifie&&e.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[e.jsx(qe,{className:"w-3 h-3"}),"Achat vrifi"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:new Date(A.date_creation).toLocaleDateString("fr-FR")}),r&&e.jsx("button",{onClick:()=>I(A.id),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Signaler cet avis",children:e.jsx(pS,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:A.commentaire}),A.reponse&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Rponse de ",A.fournisseur_nom]}),e.jsx("span",{className:"text-xs text-blue-600",children:new Date(A.date_reponse).toLocaleDateString("fr-FR")})]}),e.jsx("p",{className:"text-blue-800",children:A.reponse})]})]},A.id))}),l&&l.pagination.pages>1&&e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>C(y-1,w),disabled:y===1,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Prcdent"}),e.jsxs("span",{className:"px-3 py-2 text-sm text-gray-600",children:["Page ",y," sur ",l.pagination.pages]}),e.jsx("button",{onClick:()=>C(y+1,w),disabled:y===l.pagination.pages,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Suivant"})]})})]})},Nh={trackProductView:async t=>await ie.post(`/analytics/products/${t}/view`),trackProductClick:async(t,s="view")=>await ie.post(`/analytics/products/${t}/click`,{action:s}),getProductStats:async(t,s="30d")=>await ie.get(`/analytics/products/${t}/stats?period=${s}`),getGlobalStats:async(t="30d")=>await ie.get(`/analytics/stats/global?period=${t}`),getUserStats:async(t="30d")=>await ie.get(`/analytics/user/stats?period=${t}`)},bP=({productId:t,showDetails:s=!1})=>{const[r,a]=m.useState(null),[o,l]=m.useState(!0),[d,u]=m.useState("30d"),h=async()=>{try{l(!0);const f=await Nh.getProductStats(t,d);a(f)}catch(f){console.error("Erreur chargement stats:",f)}finally{l(!1)}};if(m.useEffect(()=>{h()},[t,d]),o)return e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(f=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded"})]},f))})]})});if(!r)return null;const p=f=>f>=1e6?(f/1e6).toFixed(1)+"M":f>=1e3?(f/1e3).toFixed(1)+"K":f.toString(),v=f=>{switch(f){case"7d":return"7 derniers jours";case"30d":return"30 derniers jours";case"90d":return"90 derniers jours";default:return"30 derniers jours"}};return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(xr,{className:"w-5 h-5"}),"Statistiques du produit"]}),s&&e.jsxs("select",{value:d,onChange:f=>u(f.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"7d",children:"7 jours"}),e.jsx("option",{value:"30d",children:"30 jours"}),e.jsx("option",{value:"90d",children:"90 jours"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(Ze,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:p(r.stats.total_vues)}),e.jsx("div",{className:"text-sm text-blue-700",children:"Vues"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(bt,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-green-900",children:p(r.stats.total_clics)}),e.jsx("div",{className:"text-sm text-green-700",children:"Clics"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx(Kt,{className:"w-6 h-6 text-red-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-red-900",children:p(r.stats.total_favoris)}),e.jsx("div",{className:"text-sm text-red-700",children:"Favoris"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(vi,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-purple-900",children:p(r.stats.total_partages)}),e.jsx("div",{className:"text-sm text-purple-700",children:"Partages"})]})]}),r.product&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Informations du produit"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Vues (30j):"}),e.jsx("span",{className:"font-medium",children:p(r.product.vues_30j)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Score popularit:"}),e.jsx("span",{className:"font-medium",children:Number(r.product.score_popularite||0).toFixed(1)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Note moyenne:"}),e.jsxs("span",{className:"font-medium",children:[Number(r.product.note_moyenne||0).toFixed(1),"/5"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Nombre d'avis:"}),e.jsx("span",{className:"font-medium",children:r.product.nombre_avis})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:["Priode: ",v(d)]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total vues:"}),e.jsx("span",{className:"font-medium",children:p(r.stats.total_vues)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total clics:"}),e.jsx("span",{className:"font-medium",children:p(r.stats.total_clics)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total favoris:"}),e.jsx("span",{className:"font-medium",children:p(r.stats.total_favoris)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total partages:"}),e.jsx("span",{className:"font-medium",children:p(r.stats.total_partages)})]})]})]})]}),s&&r.dailyStats.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Hs,{className:"w-4 h-4"}),"volution quotidienne"]}),e.jsx("div",{className:"space-y-3",children:r.dailyStats.slice(0,7).map((f,g)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 text-sm text-gray-600",children:new Date(f.date).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}),e.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm",children:f.vues})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:f.clics})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm",children:f.ajouts_favoris})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vi,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm",children:f.partages})]})]})]},f.date))})]}),r.product?.derniere_activite&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Dernire activit: ",new Date(r.product.derniere_activite).toLocaleString("fr-FR")]})})]})};class NP{async addSupplierReview(s){return await new Promise(a=>setTimeout(a,500)),{message:"Avis ajout avec succs (simulation)",review:{id:Date.now(),fournisseur_id:s.fournisseur_id,acheteur_id:1,note:s.note,commentaire:s.commentaire,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),acheteur_nom:"Utilisateur",acheteur_prenom:"Test"}}}async getSupplierReviews(s,r=1,a=10,o="recent"){return await new Promise(d=>setTimeout(d,300)),{reviews:[{id:1,fournisseur_id:s,acheteur_id:1,note:5,commentaire:"Excellent fournisseur, trs professionnel et ractif.",created_at:new Date(Date.now()-1e3*60*60*24).toISOString(),updated_at:new Date(Date.now()-1e3*60*60*24).toISOString(),acheteur_nom:"Dupont",acheteur_prenom:"Jean"},{id:2,fournisseur_id:s,acheteur_id:2,note:4,commentaire:"Trs bon service, produits de qualit.",created_at:new Date(Date.now()-1e3*60*60*48).toISOString(),updated_at:new Date(Date.now()-1e3*60*60*48).toISOString(),acheteur_nom:"Martin",acheteur_prenom:"Marie"},{id:3,fournisseur_id:s,acheteur_id:3,note:5,commentaire:"Je recommande vivement ce fournisseur !",created_at:new Date(Date.now()-1e3*60*60*72).toISOString(),updated_at:new Date(Date.now()-1e3*60*60*72).toISOString(),acheteur_nom:"Bernard",acheteur_prenom:"Pierre"}],stats:{note_moyenne:4.7,nombre_avis:3,distribution:{5:2,4:1,3:0,2:0,1:0}},pagination:{page:1,limit:10,total:3,pages:1}}}async getSupplierStats(s){return await new Promise(r=>setTimeout(r,200)),{note_moyenne:4.7,nombre_avis:3,distribution:{5:2,4:1,3:0,2:0,1:0}}}async reportSupplierReview(s,r){try{return{message:"Avis signal avec succs"}}catch(a){throw console.error("Erreur signalement avis fournisseur:",a),a}}calculateAverageRating(s){return s.note_moyenne||0}getRatingDistribution(s){return s.distribution||{}}}const Po=new NP,wP=({fournisseurId:t,fournisseurNom:s,onReviewAdded:r})=>{const[a,o]=m.useState([]),[l,d]=m.useState(null),[u,h]=m.useState(!1),[p,v]=m.useState({rating:0,comment:""}),[f,g]=m.useState(!1),[N,k]=m.useState(!0),[y,_]=m.useState(1),[w,E]=m.useState("recent"),C=Wr(),R=async(O=1,F=w)=>{try{k(!0);const X=await Po.getSupplierReviews(t,O,10,F);o(X.reviews),d(X.stats),_(O)}catch(X){console.error("Erreur chargement avis fournisseur:",X),$.error("Erreur lors du chargement des avis")}finally{k(!1)}},I=async()=>{try{const O=await Po.getSupplierStats(t);d(O)}catch(O){console.error("Erreur chargement stats fournisseur:",O)}};m.useEffect(()=>{R(1,w)},[t,w]);const T=async()=>{if(!C){$.error("Veuillez vous connecter pour noter ce fournisseur");return}if(p.rating===0){$.error("Veuillez donner une note");return}if(!p.comment.trim()){$.error("Veuillez crire un commentaire");return}if(p.comment.length<10){$.error("Le commentaire doit contenir au moins 10 caractres");return}try{g(!0);const O=await Po.addSupplierReview({fournisseur_id:t,note:p.rating,commentaire:p.comment});$.success(O.message),v({rating:0,comment:""}),h(!1),r?.(),R(1,w),I()}catch(O){$.error(O.response?.data?.error||"Erreur lors de l'ajout de l'avis")}finally{g(!1)}},b=async O=>{try{await Po.reportSupplierReview(O,"inappropri"),$.success("Avis signal avec succs")}catch(F){$.error(F.response?.data?.error||"Erreur lors du signalement")}},P=l?Po.calculateAverageRating(l):0,A=(O,F="md")=>e.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(X=>e.jsx(Ct,{className:`w-4 h-4 ${X<=O?"text-yellow-400 fill-current":"text-gray-300"}`},X))});return N?e.jsx(Q,{children:e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(O=>e.jsx("div",{className:"h-16 bg-gray-200 rounded"},O))})]})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Q,{children:[e.jsxs(de,{children:[e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(Ct,{className:"w-5 h-5 text-yellow-500"}),"Avis sur ",s]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Mode dmonstration - Les avis sont simuls"})]}),e.jsx(J,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:P.toFixed(1)}),e.jsx("div",{className:"flex items-center justify-center mt-1",children:A(Math.round(P),"lg")}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[l?.nombre_avis||0," avis"]})]}),e.jsx("div",{className:"space-y-1",children:[5,4,3,2,1].map(O=>{const F=l?.distribution?.[O]||0,X=l?.nombre_avis?F/l.nombre_avis*100:0;return e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"w-3",children:O}),e.jsx(Ct,{className:"w-3 h-3 text-yellow-400 fill-current"}),e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${X}%`}})}),e.jsx("span",{className:"w-8 text-gray-600",children:F})]},O)})})]}),C&&e.jsxs(D,{onClick:()=>h(!u),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Noter ce fournisseur"]})]})})]}),u&&e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{children:["Donner votre avis sur ",s]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Note"}),e.jsx(nl,{rating:p.rating,onRatingChange:O=>v(F=>({...F,rating:O})),size:"lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Commentaire"}),e.jsx(ht,{value:p.comment,onChange:O=>v(F=>({...F,comment:O.target.value})),placeholder:"Partagez votre exprience avec ce fournisseur...",rows:4})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{onClick:T,disabled:f,className:"bg-green-600 hover:bg-green-700",children:f?"Publication...":"Publier l'avis"}),e.jsx(D,{variant:"outline",onClick:()=>h(!1),children:"Annuler"})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ue,{children:"Avis rcents"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{variant:w==="recent"?"default":"outline",size:"sm",onClick:()=>E("recent"),children:"Rcents"}),e.jsx(D,{variant:w==="rating_high"?"default":"outline",size:"sm",onClick:()=>E("rating_high"),children:"Meilleures notes"}),e.jsx(D,{variant:w==="rating_low"?"default":"outline",size:"sm",onClick:()=>E("rating_low"),children:"Moins bonnes notes"})]})]})}),e.jsx(J,{children:a.length>0?e.jsx("div",{className:"space-y-4",children:a.map(O=>e.jsx("div",{className:"border-b border-gray-100 pb-4 last:border-b-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"font-medium",children:[O.acheteur_nom," ",O.acheteur_prenom]}),e.jsx(ne,{variant:"outline",className:"text-xs",children:new Date(O.created_at).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[A(O.note),e.jsxs("span",{className:"text-sm text-gray-600",children:[O.note,"/5"]})]}),e.jsx("p",{className:"text-gray-700",children:O.commentaire})]}),e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>b(O.id),className:"text-gray-400 hover:text-red-500",children:e.jsx(CS,{className:"w-4 h-4"})})]})},O.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(di,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Aucun avis pour ce fournisseur"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Soyez le premier  donner votre avis !"})]})})]})]})},CP=({supplier:t,productContext:s})=>{const r=Re(),[a,o]=m.useState(!1),l=Wr(),d=async()=>{if(!l){$.error("Veuillez vous connecter pour contacter le fournisseur"),r("/login");return}o(!0);try{const u=new URLSearchParams({supplier:t.id.toString(),...s&&{product:s.id.toString(),productName:s.nom}});r(`/messages?${u.toString()}`)}catch{$.error("Erreur lors de la redirection")}finally{o(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Q,{children:e.jsx(de,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(ot,{className:"w-8 h-8 text-green-600"})}),e.jsxs("div",{children:[e.jsxs(ue,{className:"text-xl flex items-center gap-2",children:[t.nom_entreprise,t.statut_verification==="verifie"&&e.jsxs(ne,{className:"bg-green-100 text-green-800",children:[e.jsx(lt,{className:"w-3 h-3 mr-1"}),"Vrifi"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(nl,{rating:Number(t.note_moyenne)||0,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[(Number(t.note_moyenne)||0).toFixed(1)," (",t.nombre_avis||0," avis)"]})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]})]}),e.jsxs(D,{onClick:d,disabled:a,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),a?"Redirection...":"Contacter"]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[e.jsx(De,{className:"w-5 h-5 text-blue-600"}),"Informations commerciales"]})}),e.jsxs(J,{className:"space-y-4",children:[t.delai_traitement&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(Vt,{className:"w-4 h-4"}),"Dlai de traitement"]}),e.jsxs("span",{className:"font-medium",children:[t.delai_traitement," jours"]})]}),t.capacite_approvisionnement&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(De,{className:"w-4 h-4"}),"Capacit d'approvisionnement"]}),e.jsxs("span",{className:"font-medium",children:[Number(t.capacite_approvisionnement).toLocaleString()," units/mois"]})]}),t.port_depart&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(os,{className:"w-4 h-4"}),"Port de dpart"]}),e.jsx("span",{className:"font-medium",children:t.port_depart})]}),t.delai_livraison_estime&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[e.jsx(hd,{className:"w-4 h-4"}),"Dlai de livraison estim"]}),e.jsx("span",{className:"font-medium",children:t.delai_livraison_estime})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"text-lg flex items-center gap-2",children:[e.jsx(lt,{className:"w-5 h-5 text-green-600"}),"Politiques et garanties"]})}),e.jsxs(J,{className:"space-y-4",children:[t.garantie&&e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2 mb-1",children:[e.jsx(dn,{className:"w-4 h-4"}),"Garantie"]}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded-lg",children:t.garantie})]}),t.politique_retour&&e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2 mb-1",children:[e.jsx(qe,{className:"w-4 h-4"}),"Politique de retour"]}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded-lg",children:t.politique_retour})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600 flex items-center gap-2 mb-2",children:[e.jsx(lt,{className:"w-4 h-4"}),"Certifications"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.statut_verification==="verifie"&&e.jsxs(ne,{variant:"outline",className:"text-green-700 border-green-300",children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"Entreprise vrifie"]}),e.jsxs(ne,{variant:"outline",className:"text-blue-700 border-blue-300",children:[e.jsx(dn,{className:"w-3 h-3 mr-1"}),"Fournisseur certifi"]})]})]})]})]})]}),s&&e.jsx(Q,{className:"bg-green-50 border-green-200",children:e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Intress par ce produit ?"}),e.jsxs("p",{className:"text-green-700 text-sm",children:["Contactez ",t.nom_entreprise,' pour "',s.nom,'"']})]}),e.jsxs(D,{onClick:d,disabled:a,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),a?"Redirection...":"Envoyer un message"]})]})})}),e.jsx(wP,{fournisseurId:t.id,fournisseurNom:t.nom_entreprise,onReviewAdded:()=>{}})]})},SP=t=>{const[s,r]=m.useState(null),[a,o]=m.useState(!0),[l,d]=m.useState(null),u=m.useCallback(async()=>{if(!t||t<=0){r(null),d("ID de produit invalide"),o(!1);return}try{o(!0),d(null);const h=await ie.get(`/products/${t}`);r(h.data||h)}catch(h){const p=h?.response?.data?.error||h?.message||"Erreur lors de la rcupration du produit";console.error("Erreur rcupration produit:",p),d(p),r(null)}finally{o(!1)}},[t]);return m.useEffect(()=>{u()},[u]),{product:s,isLoading:a,error:l,refetch:u}},_P=({productId:t,trackView:s=!0,trackClicks:r=!0,delay:a=2e3})=>{const o=m.useRef(!1),l=m.useRef();m.useEffect(()=>{if(!(!s||!t||o.current))return l.current&&clearTimeout(l.current),l.current=setTimeout(async()=>{try{await Nh.trackProductView(t),o.current=!0,console.log(`Vue enregistre pour le produit ${t}`)}catch(h){console.error("Erreur enregistrement vue:",h)}},a),()=>{l.current&&clearTimeout(l.current)}},[t,s,a]);const d=async(h="view")=>{if(!(!r||!t))try{await Nh.trackProductClick(t,h),console.log(`Clic enregistr pour le produit ${t}, action: ${h}`)}catch(p){console.error("Erreur enregistrement clic:",p)}};return{trackClick:d,trackExternalClick:(h,p="share")=>{d(p),window.open(h,"_blank","noopener,noreferrer")},hasTrackedView:o.current}},kP=()=>{const{id:t}=Ma(),s=Re(),r=Wr(),[a,o]=m.useState(0),[l,d]=m.useState("description"),[u,h]=m.useState(!1),[p,v]=m.useState([]),[f,g]=m.useState(!1),[N,k]=m.useState(null),[y,_]=m.useState(!1),{product:w,isLoading:E,error:C}=SP(parseInt(t||"0")),{trackClick:R}=_P({productId:parseInt(t||"0"),trackView:!0,trackClicks:!0,delay:2e3}),I=async()=>{if(t)try{g(!0);const A=await ie.get(`/reviews/product/${t}`);v(A.reviews||A||[])}catch(A){console.error("Erreur chargement avis:",A),v([])}finally{g(!1)}},T=async()=>{if(w?.fournisseur_id)try{_(!0);const A=await ie.get(`/entreprises/${w.fournisseur_id}`);k(A)}catch(A){console.error("Erreur chargement fournisseur:",A)}finally{_(!1)}};if(m.useEffect(()=>{I()},[t]),m.useEffect(()=>{w?.fournisseur_id&&T()},[w?.fournisseur_id]),E)return e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gabon-green mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement du produit..."})]})})});if(C||!w)return e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Produit non trouv"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Le produit que vous recherchez n'existe pas."}),e.jsxs(D,{onClick:()=>s("/products"),children:[e.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Retour aux produits"]})]})})});const b=async()=>{try{if(!r){$.error("Veuillez vous connecter pour ajouter aux favoris"),s("/login");return}await ie.post("/users/favorites",{produit_id:w.id}),$.success("Produit ajout aux favoris"),R("favorite")}catch(A){console.error("Erreur favoris:",A),$.error(A.response?.data?.error||"Erreur lors de l'ajout aux favoris")}},P=w.images&&w.images.length>0?w.images.map(A=>{const O=A.url||A;return Yt(O)}):w.image_principale?[Yt(w.image_principale)]:["https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=600&h=400&fit=crop"];return e.jsxs($e,{children:[e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(rl,{fallbackPath:"/products",className:"mb-4"}),e.jsx(Pp,{items:[{label:"Produits",href:"/products"},{label:w.categorie||"Catgorie",href:`/products?categorie=${w.categorie||""}`},{label:w.nom}]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"aspect-square bg-white rounded-lg overflow-hidden relative",children:[e.jsx("img",{src:P[a],alt:w.nom,className:"w-full h-full object-contain cursor-pointer bg-white",onClick:()=>h(!0),crossOrigin:"anonymous",style:{maxHeight:"500px"},onError:A=>{A.currentTarget.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=600&h=400&fit=crop"}}),e.jsx(D,{variant:"outline",size:"sm",className:"absolute top-4 right-4 bg-white/80 hover:bg-white",onClick:()=>h(!0),children:e.jsx(Ze,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex gap-2",children:P.map((A,O)=>e.jsx("button",{onClick:()=>o(O),className:`w-20 h-20 rounded-lg overflow-hidden border-2 ${a===O?"border-green-600":"border-gray-200"}`,children:e.jsx("img",{src:A,alt:`${w.nom} ${O+1}`,className:"w-full h-full object-contain bg-white",crossOrigin:"anonymous",onError:F=>{F.currentTarget.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=80&h=80&fit=crop"}})},O))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[w.featured&&e.jsx(ne,{className:"mb-2 bg-yellow-400 text-gray-800",children:"Produit Vedette"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:w.nom}),e.jsx("p",{className:"text-gray-600 mb-4",children:w.description}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Par"}),e.jsx("span",{className:"font-medium text-green-600",children:w.fournisseur||"Fournisseur"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(nl,{rating:0,readonly:!0,size:"sm"}),e.jsx("span",{className:"text-sm text-gray-600",children:"(0 avis)"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[r?e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[w.prix_unitaire,""]}),w.unite&&w.unite!=="kg"&&e.jsxs("span",{className:"text-gray-600",children:["/ ",w.unite]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Prix indicatif - Contactez le fournisseur pour un devis personnalis"})]}):e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Prix sur demande"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Connectez-vous pour voir les informations de prix et contacter le fournisseur"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"MOQ:"}),e.jsxs("span",{className:"font-medium ml-1",children:[w.moq||1," units"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Stock:"}),e.jsxs("span",{className:"font-medium ml-1",children:[w.stock_disponible||"N/A"," disponibles"]})]})]}),e.jsx("div",{className:"space-y-3",children:r?e.jsxs(e.Fragment,{children:[e.jsxs(D,{size:"lg",className:"w-full bg-gabon-green hover:bg-gabon-green/90",onClick:()=>{R("view"),s(`/messages?supplier=${w.fournisseur_id}&product=${w.id}&productName=${encodeURIComponent(w.nom)}`)},children:[e.jsx(Ye,{className:"w-5 h-5 mr-2"}),"Contacter le fournisseur"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(D,{variant:"outline",size:"lg",onClick:b,children:[e.jsx(Kt,{className:"w-4 h-4 mr-2"}),"Favoris"]}),e.jsxs(D,{variant:"outline",size:"lg",onClick:()=>{R("view"),s(`/messages?supplier=${w.fournisseur_id}&product=${w.id}&productName=${encodeURIComponent(w.nom)}&action=quote`)},children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Demander un devis"]})]})]}):e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Fonctionnalits rserves aux membres"}),e.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Connectez-vous pour contacter le fournisseur, demander un devis et accder aux prix"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(D,{onClick:()=>s("/login"),className:"bg-blue-600 hover:bg-blue-700",children:"Se connecter"}),e.jsx(D,{variant:"outline",onClick:()=>s("/register"),className:"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white",children:"Crer un compte"})]})]})})}),e.jsxs("div",{className:"flex items-center justify-center gap-6 mt-6 pt-6 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(lt,{className:"w-4 h-4 text-green-600"}),"Paiement scuris"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(hd,{className:"w-4 h-4 text-blue-600"}),"Livraison rapide"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(dn,{className:"w-4 h-4 text-yellow-600"}),"Qualit garantie"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:["description","specifications","avis","statistiques","fournisseur"].map(A=>e.jsxs("button",{onClick:()=>d(A),className:`py-4 px-1 border-b-2 font-medium text-sm ${l===A?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[A==="description"&&"Description",A==="specifications"&&"Spcifications",A==="avis"&&"Avis",A==="statistiques"&&"Statistiques",A==="fournisseur"&&"Fournisseur"]},A))})}),e.jsxs("div",{className:"p-6",children:[l==="description"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Description"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:w.description}),w.description_longue&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Description dtaille"}),e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:w.description_longue})]})]}),w.fonctionnalites&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Fonctionnalits principales"}),e.jsx("div",{className:"text-gray-700 whitespace-pre-line",children:w.fonctionnalites})]}),w.instructions_utilisation&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Instructions d'utilisation"}),e.jsx("div",{className:"text-gray-700 whitespace-pre-line",children:w.instructions_utilisation})]}),w.couleurs_disponibles&&w.couleurs_disponibles.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Couleurs disponibles"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:w.couleurs_disponibles.map((A,O)=>e.jsx(ne,{variant:"outline",children:A},O))})]}),w.certifications&&w.certifications.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Certifications"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:w.certifications.map((A,O)=>e.jsxs(ne,{variant:"secondary",className:"flex items-center gap-1",children:[e.jsx(dn,{className:"w-3 h-3"}),A]},O))})]}),w.prix_degressifs&&w.prix_degressifs.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Prix dgressifs"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Quantit minimum"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Quantit maximum"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Prix unitaire"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"conomie"})]})}),e.jsx("tbody",{children:w.prix_degressifs.map((A,O)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:A.quantite_min}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:A.quantite_max||"Illimit"}),e.jsxs("td",{className:"border border-gray-300 px-4 py-2 font-medium",children:[A.prix_unitaire,""]}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-green-600",children:w.prix_unitaire>A.prix_unitaire?`-${((w.prix_unitaire-A.prix_unitaire)/w.prix_unitaire*100).toFixed(1)}%`:"-"})]},O))})]})})]}),(w.politique_retour||w.garantie)&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.politique_retour&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Politique de retour"}),e.jsx("p",{className:"text-gray-700 text-sm",children:w.politique_retour})]}),w.garantie&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Garantie"}),e.jsx("p",{className:"text-gray-700 text-sm",children:w.garantie})]})]})]}),l==="specifications"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-lg",children:"Caractristiques physiques"}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Poids:"}),e.jsx("span",{className:"text-gray-700",children:w.poids?`${w.poids} kg`:"N/A"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Dimensions:"}),e.jsx("span",{className:"text-gray-700",children:w.dimensions||"N/A"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Matriaux:"}),e.jsx("span",{className:"text-gray-700",children:w.materiaux||"N/A"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Unit:"}),e.jsx("span",{className:"text-gray-700",children:w.unite||"pice"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-lg",children:"Informations commerciales"}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"MOQ:"}),e.jsxs("span",{className:"text-gray-700",children:[w.moq||1," ",w.unite||"pice","(s)"]})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Stock disponible:"}),e.jsx("span",{className:"text-gray-700",children:w.stock_disponible||"N/A"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Capacit d'approvisionnement:"}),e.jsx("span",{className:"text-gray-700",children:w.capacite_approvisionnement?`${w.capacite_approvisionnement}/mois`:"N/A"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Dlai de traitement:"}),e.jsxs("span",{className:"text-gray-700",children:[w.delai_traitement||7," jours"]})]})]})]}),(w.port_depart||w.delai_livraison_estime)&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-lg mb-3",children:"Expdition"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.port_depart&&e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Port de dpart:"}),e.jsx("span",{className:"text-gray-700",children:w.port_depart})]}),w.delai_livraison_estime&&e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Dlai de livraison:"}),e.jsx("span",{className:"text-gray-700",children:w.delai_livraison_estime})]})]})]}),w.conditions_paiement&&w.conditions_paiement.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-lg mb-3",children:"Conditions de paiement acceptes"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:w.conditions_paiement.map((A,O)=>e.jsx(ne,{variant:"outline",children:A},O))})]})]}),l==="avis"&&e.jsx(yP,{productId:w.id,onReviewAdded:I}),l==="statistiques"&&e.jsx(bP,{productId:w.id,showDetails:!0}),l==="fournisseur"&&e.jsx("div",{"data-tab":"fournisseur",children:y?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gabon-green mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des informations du fournisseur..."})]}):N?e.jsx(CP,{supplier:{id:N.id||w.fournisseur_id||0,nom_entreprise:N.nom_entreprise||w.fournisseur||"Fournisseur",description:N.description||N.secteur_activite||"Fournisseur professionnel",note_moyenne:N.note_moyenne||0,nombre_avis:N.nombre_avis||0,statut_verification:N.statut_verification||"non_verifie",delai_traitement:N.delai_traitement||w.delai_traitement||"N/A",port_depart:N.port_depart||w.port_depart||"N/A",capacite_approvisionnement:N.capacite_approvisionnement||w.capacite_approvisionnement||"N/A",delai_livraison_estime:N.delai_livraison_estime||w.delai_livraison_estime||"N/A",politique_retour:N.politique_retour||w.politique_retour||"N/A",garantie:N.garantie||w.garantie||"N/A"},productContext:{id:w.id,nom:w.nom}}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-600",children:"Impossible de charger les informations du fournisseur"})})})]})]})]})}),e.jsx(vP,{images:P,isOpen:u,onClose:()=>h(!1),initialIndex:a})]})},EP=()=>{const t=pn(),s=Re();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-800",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Oops! Page introuvable"}),e.jsx("p",{className:"text-gray-500 mb-8",children:"La page que vous recherchez n'existe pas."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(D,{onClick:()=>s("/"),className:"bg-gabon-green hover:bg-gabon-green/90",children:[e.jsx(gi,{className:"w-4 h-4 mr-2"}),"Retour  l'accueil"]}),e.jsxs(D,{onClick:()=>s("/products"),variant:"outline",className:"border-gabon-green text-gabon-green hover:bg-gabon-green hover:text-white",children:[e.jsx(wS,{className:"w-4 h-4 mr-2"}),"Continuer les achats"]})]})]})})},PP=()=>{const[t,s]=m.useState(null),r=[{id:"fournisseur",title:"Fournisseur / Entreprise",description:"Vous tes une entreprise souhaitant vendre vos produits sur GabMarketHub",icon:cn,benefits:["Accs  un large rseau d'acheteurs B2B","Gestion simplifie de votre catalogue","Outils de communication intgrs","Systme de validation des documents","Analytics et statistiques de vente"],products:["lectronique","lectromnager","Textile","Artisanat","Machines industrielles"]},{id:"acheteur",title:"Acheteur Professionnel",description:"Vous tes un acheteur professionnel recherchant des produits de qualit",icon:bS,benefits:["Accs  des milliers de produits","Ngociation directe avec les fournisseurs","Prix prfrentiels pour achats en gros","Suivi en temps rel de vos favoris","Support client ddi"],products:["Produits artisanaux","quipements professionnels","Matires premires","Produits finis"]}],a=()=>{if(t){const o=new URLSearchParams({type:t});window.location.href=`/register?${o.toString()}`}};return e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx(ta,{size:"xl",onClick:()=>navigate("/")})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Rejoignez GabMarketHub"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Choisissez votre profil pour commencer  dvelopper vos changes commerciaux sur la premire plateforme B2B du Gabon"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:r.map(o=>{const l=o.icon,d=t===o.id;return e.jsxs(Q,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg ${d?"ring-2 ring-green-600 shadow-lg transform scale-105":"hover:shadow-md"}`,onClick:()=>s(o.id),children:[e.jsxs(de,{className:"text-center pb-4",children:[e.jsx("div",{className:`w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4 ${d?"bg-green-600":"bg-gray-100"}`,children:e.jsx(l,{className:`w-8 h-8 ${d?"text-white":"text-gray-600"}`})}),e.jsx(ue,{className:"text-2xl font-bold text-gray-900",children:o.title}),e.jsx(cb,{className:"text-gray-600",children:o.description})]}),e.jsxs(J,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Avantages :"}),e.jsx("ul",{className:"space-y-2",children:o.benefits.map((u,h)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(qe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:u})]},h))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Produits typiques :"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.products.map((u,h)=>e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:u},h))})]})]})]},o.id)})}),e.jsxs("div",{className:"text-center",children:[e.jsxs(D,{onClick:a,disabled:!t,size:"lg",className:"px-8 py-3 text-lg",children:["Continuer l'inscription",e.jsx(Xt,{className:"w-5 h-5 ml-2"})]}),t&&e.jsxs("p",{className:"text-sm text-gray-600 mt-4",children:["Vous avez slectionn : ",e.jsx("strong",{children:r.find(o=>o.id===t)?.title})]})]}),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Besoin d'aide ?"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Notre quipe est l pour vous accompagner dans votre inscription et vos premiers pas sur GabMarketHub."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(D,{variant:"outline",children:" support@gabmarkethub.com"}),e.jsx(D,{variant:"outline",children:" +241 01 23 45 67"})]})]})})]})})})})},TP=()=>{const[t,s]=m.useState({email:"",mot_de_passe:""}),[r,a]=m.useState(!1),[o,l]=m.useState(!1),d=Re(),u=v=>{const{name:f,value:g}=v.target;s(N=>({...N,[f]:g}))},h=_p(),p=async v=>{if(v.preventDefault(),!t.email||!t.mot_de_passe){$.error("Veuillez remplir tous les champs");return}l(!0);try{await h(t),d("/supplier/dashboard")}catch{}finally{l(!1)}};return e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(ot,{className:"mx-auto h-12 w-12 text-gabon-green"}),e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Espace Fournisseur"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Connectez-vous  votre compte fournisseur"})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{className:"text-center",children:"Connexion"})}),e.jsx(J,{children:e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email professionnel"}),e.jsxs("div",{className:"relative",children:[e.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"email",type:"email",required:!0,placeholder:"contact@votre-entreprise.com",value:t.email,onChange:u,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"mot_de_passe",type:r?"text":"password",required:!0,placeholder:"Votre mot de passe",value:t.mot_de_passe,onChange:u,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>a(!r),children:r?e.jsx(Gs,{className:"w-5 h-5"}):e.jsx(Ze,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-gabon-green focus:ring-gabon-green border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Se souvenir de moi"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(Fr,{to:"/supplier/forgot-password",className:"font-medium text-gabon-green hover:text-gabon-green/80",children:"Mot de passe oubli ?"})})]}),e.jsx(D,{type:"submit",disabled:o,className:"w-full bg-gabon-green hover:bg-gabon-green/90",children:o?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Connexion en cours..."]}):"Se connecter"}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Pas encore inscrit ?"," ",e.jsx(Fr,{to:"/supplier/register",className:"font-medium text-gabon-green hover:text-gabon-green/80",children:"Crer un compte fournisseur"})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Vous tes un client ?"," ",e.jsx(Fr,{to:"/login",className:"font-medium text-gabon-green hover:text-gabon-green/80",children:"Connexion client"})]})})]})})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Avantages de l'espace fournisseur"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:" Gestion complte de vos produits"}),e.jsx("li",{children:" Statistiques de vente dtailles"}),e.jsx("li",{children:" Communication directe avec les clients"}),e.jsx("li",{children:" Gestion des documents et certifications"})]})]})]})})})},RP=()=>{const[t,s]=m.useState([]),[r,a]=m.useState(null),[o,l]=m.useState(!0),[d,u]=m.useState(null),h=async()=>{try{l(!0),u(null);const f=await ie.get("/supplier/documents");f&&f.documents?(s(f.documents),a(f.stats)):(s([]),a(null))}catch(f){console.error("Erreur rcupration documents:",f),u(f.message||"Erreur lors du chargement des documents"),s([]),a(null)}finally{l(!1)}},p=async f=>{try{u(null);const g=new FormData;g.append("type_document",f.type_document),g.append("document",f.fichier),f.description&&g.append("description",f.description),console.log(" Upload document:",{type_document:f.type_document,fichier:f.fichier.name,fichier_size:f.fichier.size,fichier_type:f.fichier.type});for(let[k,y]of g.entries())console.log(`FormData: ${k} =`,y);const N=await ie.post("/supplier/documents/upload",g);return N&&N.message?(await h(),{success:!0,message:N.message}):{success:!1,error:"Erreur lors de l'upload"}}catch(g){console.error("Erreur upload document:",g);const N=g.message||"Erreur lors de l'upload du document";return u(N),{success:!1,error:N}}},v=async f=>{try{return u(null),await ie.delete(`/supplier/documents/${f}`),s(g=>g.filter(N=>N.id!==f)),await h(),{success:!0}}catch(g){console.error("Erreur suppression document:",g);const N=g.message||"Erreur lors de la suppression du document";return u(N),{success:!1,error:N}}};return m.useEffect(()=>{h()},[]),{documents:t,stats:r,loading:o,error:d,fetchDocuments:h,uploadDocument:p,deleteDocument:v}},AP=["certificat_enregistrement","certificat_fiscal","piece_identite_representant"],MP={pharmaceutique:["licence_commerciale","certificat_sanitaire"],medicaments:["licence_commerciale","certificat_sanitaire"],"complements-alimentaires":["licence_commerciale","certificat_sanitaire"],"boissons-alcoolisees":["licence_commerciale"],vins:["licence_commerciale"],spiritueux:["licence_commerciale"],bieres:["licence_commerciale"],viande:["licence_commerciale","certificat_sanitaire","certificat_origine"],"produits-laitiers":["licence_commerciale","certificat_sanitaire","certificat_origine"],poisson:["certificat_sanitaire","certificat_origine"],"produits-frais":["certificat_sanitaire","certificat_origine"],electronique:["conformite_ce"],telephones:["conformite_ce"],ordinateurs:["conformite_ce"],electromenager:["conformite_ce"],telecoms:["licence_commerciale","conformite_ce"],"materiel-medical":["licence_commerciale","conformite_ce"],alimentaire:["certificat_origine"],pates:["certificat_origine"],conserves:["certificat_origine"],huiles:["certificat_origine"],agricole:["certificat_origine"],cacao:["certificat_origine"],cafe:["certificat_origine"],fruits:["certificat_origine"],textile:["certificat_origine"],meubles:["certificat_origine"],manufacture:["certificat_origine"],jouets:["conformite_ce"],cosmetiques:["conformite_ce","certificat_sanitaire"],maquillage:["conformite_ce","certificat_sanitaire"],soins:["conformite_ce","certificat_sanitaire"],epi:["conformite_ce"],casques:["conformite_ce"],gants:["conformite_ce"],"protection-individuelle":["conformite_ce"]},DP=t=>{const s=new Set;return AP.forEach(r=>s.add(r)),t.forEach(r=>{const a=MP[r.toLowerCase()];a&&a.forEach(o=>s.add(o))}),Array.from(s)},Pb=(t,s)=>{const r=s.filter(a=>a.statut_verification==="verifie").map(a=>a.type_document);return t.filter(a=>!r.includes(a))},IP=(t,s)=>Pb(t,s).length===0,Tb=()=>{const[t,s]=m.useState(null),[r,a]=m.useState(!0),[o,l]=m.useState(null),d=async()=>{try{a(!0),l(null);const[h,p]=await Promise.all([ie.get("/supplier/products/categories"),ie.get("/supplier/documents")]),v=h||[],f=p?.documents||[],g=v.map(w=>w.slug),N=DP(g),k=Pb(N,f),y=IP(N,f),_=N.map(w=>{const E=f.find(T=>T.type_document===w),C=!!E,R=E?.statut_verification==="verifie",I=k.includes(w);return{type:w,required:!0,uploaded:C,validated:R,missing:I,description:u(w)}});s({requirements:_,canPublish:y,missingCount:k.length,totalRequired:N.length})}catch(h){console.error("Erreur rcupration exigences documents:",h),l(h.message||"Erreur lors du chargement des exigences")}finally{a(!1)}},u=h=>({certificat_enregistrement:"Obligatoire pour tous les fournisseurs",certificat_fiscal:"Obligatoire pour tous les fournisseurs",piece_identite_representant:"Obligatoire pour tous les fournisseurs",licence_commerciale:"Requis pour : produits pharmaceutiques, alcooliss, agroalimentaires sensibles, lectroniques soumis  autorisation",certificat_origine:"Requis pour : produits alimentaires, agricoles, manufacturs (tous les produits imports)",conformite_ce:"Requis pour : produits lectroniques, jouets, cosmtiques, quipements de protection",certificat_sanitaire:"Requis pour : produits alimentaires frais, cosmtiques, pharmaceutiques",autre:"Document spcifique selon vos besoins"})[h]||"";return m.useEffect(()=>{d()},[]),{data:t,loading:r,error:o,refetch:d}},Oo={certificat_enregistrement:"Certificat d'enregistrement (registre de commerce)",certificat_fiscal:"Certificat fiscal (attestation fiscale  jour)",piece_identite_representant:"Pice d'identit du reprsentant lgal",licence_commerciale:"Licence commerciale",certificat_origine:"Certificat d'origine",conformite_ce:'Conformit CE (marquage "CE")',certificat_sanitaire:"Certificat sanitaire",autre:"Autre document"},q0={en_attente:"bg-yellow-100 text-yellow-800",valide:"bg-green-100 text-green-800",rejete:"bg-red-100 text-red-800"},B0={en_attente:"En attente",valide:"Valid",rejete:"Rejet"},LP=()=>{const{documents:t,loading:s,error:r,uploadDocument:a,deleteDocument:o,fetchDocuments:l}=RP(),{data:d,loading:u,refetch:h}=Tb(),[p,v]=m.useState(!1),[f,g]=m.useState(!1),[N,k]=m.useState("piece_identite_representant"),y=async E=>{const C=E.target.files?.[0];if(!C)return;if(C.size>10*1024*1024){$.error("Le fichier est trop volumineux (max 10MB)");return}if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(C.type)){$.error("Type de fichier non support (JPG, PNG, PDF uniquement)");return}g(!0);const I=await a({type_document:N,fichier:C});g(!1),I.success?($.success("Document upload avec succs"),v(!1),await l(),h()):$.error(I.error||"Erreur lors de l'upload")},_=async E=>{if(!confirm(`tes-vous sr de vouloir supprimer le document "${E.nom_fichier}" ?`))return;const C=await o(E.id);C.success?($.success("Document supprim avec succs"),await l(),h()):$.error(C.error||"Erreur lors de la suppression")},w=async E=>{try{const C=await fetch(`undefined/supplier/documents/${E.id}/download`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!C.ok)throw new Error("Erreur lors du tlchargement");const R=await C.blob(),I=window.URL.createObjectURL(R),T=document.createElement("a");T.href=I,T.download=E.nom_fichier,document.body.appendChild(T),T.click(),window.URL.revokeObjectURL(I),document.body.removeChild(T),$.success("Document tlcharg avec succs")}catch(C){console.error("Erreur tlchargement:",C),$.error("Erreur lors du tlchargement du document")}};return s?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des documents..."})]})}):e.jsxs("div",{className:"space-y-6",children:[d&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(Q,{children:e.jsx(J,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total requis"}),e.jsx("p",{className:"text-2xl font-bold",children:d.totalRequired})]}),e.jsx(ft,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(Q,{children:e.jsx(J,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"En attente"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:d.requirements.filter(E=>E.uploaded&&!E.validated).length})]}),e.jsx(Vt,{className:"w-8 h-8 text-yellow-600"})]})})}),e.jsx(Q,{children:e.jsx(J,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Valids"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:d.requirements.filter(E=>E.validated).length})]}),e.jsx(qe,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(Q,{children:e.jsx(J,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Manquants"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:d.missingCount})]}),e.jsx(Na,{className:"w-8 h-8 text-red-600"})]})})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Mes documents"}),e.jsx("div",{className:"flex gap-2",children:!p&&e.jsxs(D,{onClick:()=>v(!0),children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Ajouter un document"]})})]}),p&&e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Ajouter un document"})}),e.jsx(J,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de document"}),e.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:N,onChange:E=>k(E.target.value),children:Object.entries(Oo).map(([E,C])=>e.jsx("option",{value:E,children:C},E))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fichier (JPG, PNG, PDF - max 10MB)"}),e.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:y,disabled:f,className:"w-full p-2 border border-gray-300 rounded-md"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(D,{variant:"outline",onClick:()=>v(!1),disabled:f,children:"Annuler"})})]})})]}),r&&e.jsxs(js,{variant:"destructive",children:[e.jsx(Pt,{className:"h-4 w-4"}),e.jsx(ys,{children:r})]}),u?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des documents requis..."})]})}):d?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Documents requis selon vos produits"}),e.jsxs("p",{className:"text-sm text-blue-700",children:[d.missingCount," document(s) manquant(s) sur ",d.totalRequired," requis"]})]}),d.canPublish&&e.jsxs(ne,{className:"bg-green-100 text-green-800",children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"Prt  publier"]})]})}),d.requirements.map(E=>{const C=t.find(R=>R.type_document===E.type&&R.statut_verification!=="rejete");return e.jsx(Q,{className:E.missing?"border-red-200 bg-red-50":"",children:e.jsxs(J,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${E.validated?"bg-green-100":E.uploaded?"bg-yellow-100":"bg-gray-100"}`,children:E.validated?e.jsx(qe,{className:"w-6 h-6 text-green-600"}):E.uploaded?e.jsx(Vt,{className:"w-6 h-6 text-yellow-600"}):e.jsx(ft,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:Oo[E.type]}),e.jsx("p",{className:"text-sm text-gray-600",children:E.description}),C&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Fichier: ",C.nom_fichier," - Upload le ",new Date(C.uploaded_at).toLocaleDateString("fr-FR")]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ne,{className:E.validated?"bg-green-100 text-green-800":E.uploaded?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:E.validated?e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"Valid"]}):E.uploaded?e.jsxs(e.Fragment,{children:[e.jsx(Vt,{className:"w-3 h-3 mr-1"}),"En attente"]}):e.jsxs(e.Fragment,{children:[e.jsx(Na,{className:"w-3 h-3 mr-1"}),"Manquant"]})}),C&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{variant:"outline",size:"sm",children:e.jsx(Ze,{className:"w-4 h-4"})}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>w(C),children:e.jsx(Vv,{className:"w-4 h-4"})}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>_(C),className:"text-red-600 hover:text-red-700",children:e.jsx(Rs,{className:"w-4 h-4"})})]})]})]}),C?.commentaire_verification&&e.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Commentaire admin :"})," ",C.commentaire_verification]})})]})},E.type)}),t.filter(E=>E.statut_verification==="rejete").length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-red-700 mb-4 flex items-center",children:[e.jsx(Na,{className:"w-5 h-5 mr-2"}),"Documents rejets"]}),e.jsx("div",{className:"space-y-3",children:t.filter(E=>E.statut_verification==="rejete").map(E=>e.jsx(Q,{className:"border-red-200 bg-red-50",children:e.jsx(J,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(Na,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-red-900",children:E.nom_fichier}),e.jsx("p",{className:"text-sm text-red-700",children:Oo[E.type_document]}),E.commentaire_verification&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[e.jsx("strong",{children:"Raison du rejet :"})," ",E.commentaire_verification]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(D,{variant:"outline",size:"sm",onClick:()=>_(E),className:"text-red-600 hover:text-red-700",children:e.jsx(Rs,{className:"w-4 h-4"})})})]})})},E.id))})]})]}):e.jsx(Q,{children:e.jsxs(J,{className:"p-8 text-center",children:[e.jsx(ft,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun document requis"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Publiez des produits pour voir les documents requis"}),e.jsxs(D,{onClick:()=>v(!0),children:[e.jsx(Si,{className:"w-4 h-4 mr-2"}),"Uploader un document"]})]})})]})},OP=({status:t,documentsValidated:s,companyName:r,onUploadDocuments:a})=>{const l=(()=>{switch(t){case"actif":return{variant:"default",icon:e.jsx(qe,{className:"h-4 w-4"}),title:"Compte valid",description:"Votre compte est actif. Vous pouvez publier des produits.",badge:e.jsx(ne,{className:"bg-green-100 text-green-800",children:"Actif"})};case"inactif":return{variant:"destructive",icon:e.jsx(Vt,{className:"h-4 w-4"}),title:"Compte en attente de validation",description:"Votre compte est en attente de validation. Televersez et faites valider vos documents pour accder  toutes les fonctionnalits.",badge:e.jsx(ne,{className:"bg-yellow-100 text-yellow-800",children:"En attente"})};case"suspendu":return{variant:"destructive",icon:e.jsx(Na,{className:"h-4 w-4"}),title:"Compte suspendu",description:"Votre compte a t suspendu. Contactez l'administrateur pour plus d'informations.",badge:e.jsx(ne,{className:"bg-red-100 text-red-800",children:"Suspendu"})};default:return{variant:"default",icon:e.jsx(Pt,{className:"h-4 w-4"}),title:"Statut inconnu",description:"Impossible de dterminer le statut de votre compte.",badge:e.jsx(ne,{className:"bg-gray-100 text-gray-800",children:"Inconnu"})}}})();return e.jsx(js,{variant:l.variant,className:"mb-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[l.icon,e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold",children:l.title}),l.badge]}),e.jsx(ys,{className:"text-sm",children:l.description}),t==="inactif"&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx("span",{children:"Documents requis :"})]}),e.jsxs("ul",{className:"text-xs text-gray-600 ml-6 space-y-1",children:[e.jsx("li",{children:" Certificat d'enregistrement"}),e.jsx("li",{children:" Certificat fiscal"}),e.jsx("li",{children:" Pice d'identit du reprsentant"})]})]})]})]}),t==="inactif"&&a&&e.jsxs(D,{onClick:a,size:"sm",className:"ml-4",children:[e.jsx(Si,{className:"h-4 w-4 mr-1"}),"Uploader documents"]})]})})},FP=()=>{const[t,s]=m.useState([]),[r,a]=m.useState({total:0,unread:0,urgent:0,high:0,messages:0,products:0,system:0}),[o,l]=m.useState(!1),[d,u]=m.useState(!1),[h,p]=m.useState(""),[v,f]=m.useState("all"),[g,N]=m.useState("all"),k=async()=>{try{u(!0);const[P,A]=await Promise.all([mt.getNotifications(),mt.getNotificationCounts()]);s(P.notifications||[]),a(A)}catch(P){console.error("Erreur chargement notifications fournisseur:",P),$.error("Erreur lors du chargement des notifications")}finally{u(!1)}},y=async P=>{try{await mt.markAsRead(P),await k(),$.success("Notification marque comme lue")}catch(A){console.error("Erreur marquage notification:",A),$.error("Erreur lors du marquage de la notification")}},_=async()=>{try{await mt.markAllAsRead(),await k(),$.success("Toutes les notifications marques comme lues")}catch(P){console.error("Erreur marquage toutes notifications:",P),$.error("Erreur lors du marquage des notifications")}},w=async P=>{try{await mt.deleteNotification(P),await k(),$.success("Notification supprime")}catch(A){console.error("Erreur suppression notification:",A),$.error("Erreur lors de la suppression de la notification")}},E=async()=>{try{await mt.deleteAllRead(),await k(),$.success("Notifications lues supprimes")}catch(P){console.error("Erreur suppression notifications lues:",P),$.error("Erreur lors de la suppression des notifications")}},C=async()=>{try{await mt.createTestNotifications("supplier",5),await k(),$.success("Notifications de test fournisseur cres")}catch(P){console.error("Erreur cration notifications test:",P),$.error("Erreur lors de la cration des notifications de test")}};m.useEffect(()=>{k(),mt.startPolling(3e4);const P=A=>{a(A)};return mt.addListener(P),()=>{mt.removeListener(P),mt.stopPolling()}},[]);const R=(Array.isArray(t)?t:[]).filter(P=>{const A=!h||P.titre.toLowerCase().includes(h.toLowerCase())||P.message.toLowerCase().includes(h.toLowerCase()),O=v==="all"||P.type===v,F=g==="all"||P.priority===g;return A&&O&&F}),I=(P,A)=>{switch(P){case"message":return e.jsx(Ye,{className:"w-4 h-4 text-blue-600"});case"produit":return A==="product_approved"?e.jsx(qe,{className:"w-4 h-4 text-green-600"}):A==="product_rejected"?e.jsx(Je,{className:"w-4 h-4 text-red-600"}):A==="modification_request"?e.jsx(Js,{className:"w-4 h-4 text-orange-600"}):A==="pending_moderation"?e.jsx(Vt,{className:"w-4 h-4 text-yellow-600"}):e.jsx(De,{className:"w-4 h-4 text-green-600"});case"systeme":return e.jsx(Js,{className:"w-4 h-4 text-purple-600"});default:return e.jsx(vs,{className:"w-4 h-4"})}},T=P=>{const A=new Date(P),F=Math.floor((new Date().getTime()-A.getTime())/(1e3*60*60));return F<1?" l'instant":F<24?`Il y a ${F}h`:A.toLocaleDateString("fr-FR")},b=(P,A)=>P==="message"?"bg-blue-50 border-blue-200":P==="produit"?A==="product_approved"?"bg-green-50 border-green-200":A==="product_rejected"?"bg-red-50 border-red-200":A==="modification_request"?"bg-orange-50 border-orange-200":A==="pending_moderation"?"bg-yellow-50 border-yellow-200":"bg-green-50 border-green-200":P==="systeme"?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200";return e.jsxs("div",{className:"relative",children:[e.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>l(!o),className:"relative",children:[e.jsx(vs,{className:"w-5 h-5"}),r.unread>0&&e.jsx(ne,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:r.unread>99?"99+":r.unread})]}),o&&e.jsxs(Q,{className:"absolute right-0 top-12 w-96 max-h-[600px] z-50 shadow-lg",children:[e.jsxs(de,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ue,{className:"text-lg",children:"Notifications Fournisseur"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(D,{variant:"ghost",size:"sm",onClick:_,disabled:r.unread===0,children:[e.jsx(Ps,{className:"w-4 h-4 mr-1"}),"Tout marquer"]}),e.jsxs(D,{variant:"ghost",size:"sm",onClick:E,disabled:(Array.isArray(t)?t:[]).filter(P=>P.lu).length===0,children:[e.jsx(Rs,{className:"w-4 h-4 mr-1"}),"Nettoyer"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{placeholder:"Rechercher...",value:h,onChange:P=>p(P.target.value),className:"h-8"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(zr,{children:[e.jsx($r,{asChild:!0,children:e.jsxs(D,{variant:"outline",size:"sm",className:"h-8",children:[e.jsx(Ns,{className:"w-3 h-3 mr-1"}),v==="all"?"Tous les types":mt.getTypeLabel(v)]})}),e.jsxs(fr,{children:[e.jsx(Ke,{onClick:()=>f("all"),children:"Tous les types"}),e.jsx(Ke,{onClick:()=>f("message"),children:"Messages"}),e.jsx(Ke,{onClick:()=>f("produit"),children:"Produits"}),e.jsx(Ke,{onClick:()=>f("systeme"),children:"Systme"})]})]}),e.jsxs(zr,{children:[e.jsx($r,{asChild:!0,children:e.jsxs(D,{variant:"outline",size:"sm",className:"h-8",children:[e.jsx(Ns,{className:"w-3 h-3 mr-1"}),g==="all"?"Toutes priorits":g]})}),e.jsxs(fr,{children:[e.jsx(Ke,{onClick:()=>N("all"),children:"Toutes priorits"}),e.jsx(Ke,{onClick:()=>N("urgent"),children:"Urgent"}),e.jsx(Ke,{onClick:()=>N("high"),children:"leve"}),e.jsx(Ke,{onClick:()=>N("medium"),children:"Moyenne"}),e.jsx(Ke,{onClick:()=>N("low"),children:"Faible"})]})]})]})]})]}),e.jsx(J,{className:"p-0",children:d?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):R.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(vs,{className:"w-12 h-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"Aucune notification"}),e.jsx(D,{variant:"outline",size:"sm",onClick:C,children:"Crer des notifications de test"})]}):e.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:e.jsxs(Gr,{defaultValue:"all",className:"w-full",children:[e.jsxs(yr,{className:"grid w-full grid-cols-3",children:[e.jsxs(Ue,{value:"all",children:["Toutes (",R.length,")"]}),e.jsxs(Ue,{value:"messages",children:["Messages (",r.messages,")"]}),e.jsxs(Ue,{value:"products",children:["Produits (",r.products,")"]})]}),e.jsx(He,{value:"all",className:"space-y-2 p-2",children:R.map(P=>e.jsx("div",{className:`p-3 rounded-lg border ${P.lu?"bg-gray-50":b(P.type,P.category)}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:I(P.type,P.category)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:P.titre}),!P.lu&&e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:P.message}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{variant:"outline",className:`text-xs ${mt.getPriorityColor(P.priority)}`,children:P.priority}),e.jsx("span",{className:"text-xs text-gray-500",children:T(P.date_creation)})]})]})]}),e.jsxs(zr,{children:[e.jsx($r,{asChild:!0,children:e.jsx(D,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:e.jsx(Wh,{className:"w-3 h-3"})})}),e.jsxs(fr,{align:"end",children:[!P.lu&&e.jsxs(Ke,{onClick:()=>y(P.id),children:[e.jsx(Ps,{className:"w-3 h-3 mr-2"}),"Marquer comme lu"]}),e.jsxs(Ke,{onClick:()=>w(P.id),className:"text-red-600",children:[e.jsx(Rs,{className:"w-3 h-3 mr-2"}),"Supprimer"]})]})]})]})},P.id))}),e.jsx(He,{value:"messages",className:"space-y-2 p-2",children:R.filter(P=>P.type==="message").map(P=>e.jsx("div",{className:`p-3 rounded-lg border ${P.lu?"bg-gray-50":"bg-blue-50 border-blue-200"}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(Ye,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.titre}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:P.message}),e.jsx("span",{className:"text-xs text-gray-500",children:T(P.date_creation)})]})]})})},P.id))}),e.jsx(He,{value:"products",className:"space-y-2 p-2",children:R.filter(P=>P.type==="produit").map(P=>e.jsx("div",{className:`p-3 rounded-lg border ${P.lu?"bg-gray-50":b(P.type,P.category)}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:I(P.type,P.category)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.titre}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:P.message}),e.jsx("span",{className:"text-xs text-gray-500",children:T(P.date_creation)})]})]})})},P.id))})]})})})]})]})},Rb=()=>{const[t,s]=m.useState(!1),r=Wr(),{data:a}=Rt(),o=ea(),l=Re(),[d,u]=m.useState(!1),{photoData:h}=Di(),p=async()=>{try{u(!0),o(),$.success("Dconnexion russie"),setTimeout(()=>{l("/"),u(!1)},100)}catch{$.error("Erreur lors de la dconnexion"),u(!1)}};return e.jsxs("header",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white py-2 px-4 text-center text-sm",children:e.jsx("span",{className:"font-medium",children:" GabMarketHub - Espace Fournisseur"})}),e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(ta,{size:"md",text:"GabMarketHub - Fournisseur",onClick:()=>l("/supplier/dashboard")})}),e.jsxs("nav",{className:"hidden lg:flex items-center space-x-6",children:[e.jsxs("button",{onClick:()=>l("/supplier/dashboard"),className:"text-gray-900 hover:text-green-600 transition-colors flex items-center",children:[e.jsx(xr,{className:"w-4 h-4 mr-1"}),"Tableau de bord"]}),e.jsxs("button",{onClick:()=>l("/supplier/dashboard?tab=products"),className:"text-gray-900 hover:text-green-600 transition-colors flex items-center",children:[e.jsx(De,{className:"w-4 h-4 mr-1"}),"Mes produits"]}),r&&e.jsxs("button",{onClick:()=>l("/messages"),className:"text-gray-900 hover:text-green-600 transition-colors flex items-center",children:[e.jsx(Ye,{className:"w-4 h-4 mr-1"}),"Messages"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[r&&e.jsx(FP,{}),e.jsx("div",{className:"hidden md:flex items-center space-x-2",children:r?e.jsxs(zr,{children:[e.jsx($r,{asChild:!0,children:e.jsxs(D,{variant:"ghost",className:"flex items-center space-x-2",children:[e.jsx(Rd,{photoUrl:h?.photo_profil,name:`${a?.prenom} ${a?.nom}`,size:"sm"}),e.jsx("span",{children:a?.prenom||a?.nom||"Mon compte"})]})}),e.jsxs(fr,{align:"end",children:[e.jsxs(Ke,{onClick:()=>l("/profile"),children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Mon profil"]}),e.jsxs(Ke,{onClick:()=>l("/settings"),children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Paramtres"]}),e.jsx(kd,{}),e.jsxs(Ke,{onClick:p,disabled:d,className:"text-red-600",children:[e.jsx(Ca,{className:"w-4 h-4 mr-2"}),d?"Dconnexion...":"Se dconnecter"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"ghost",onClick:()=>l("/supplier/login"),children:"Se connecter"}),e.jsx(D,{variant:"default",onClick:()=>l("/user-type"),children:"S'inscrire"})]})}),e.jsx(D,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>s(!t),children:e.jsx(Gh,{className:"w-6 h-6"})})]})]}),t&&e.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:e.jsxs("nav",{className:"flex flex-col space-y-3",children:[e.jsxs("button",{onClick:()=>l("/supplier/dashboard"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full flex items-center",children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Tableau de bord"]}),e.jsxs("button",{onClick:()=>l("/supplier/dashboard?tab=products"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full flex items-center",children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"Mes produits"]}),r&&e.jsxs("button",{onClick:()=>l("/messages"),className:"text-gray-900 hover:text-green-600 py-2 text-left w-full flex items-center",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Messages"]}),e.jsx("div",{className:"flex flex-col space-y-2 pt-3 border-t border-gray-200",children:r?e.jsxs(e.Fragment,{children:[e.jsxs(D,{variant:"ghost",className:"justify-start",onClick:()=>l("/profile"),children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Mon profil"]}),e.jsxs(D,{variant:"ghost",className:"justify-start text-red-600",onClick:p,disabled:d,children:[e.jsx(Ca,{className:"w-4 h-4 mr-2"}),d?"Dconnexion...":"Se dconnecter"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"ghost",className:"justify-start",onClick:()=>l("/supplier/login"),children:"Se connecter"}),e.jsx(D,{variant:"default",className:"justify-start",onClick:()=>l("/user-type"),children:"S'inscrire"})]})})]})})]})]})},Ys=({children:t,showHeader:s=!0,showFooter:r=!0})=>e.jsxs("div",{className:"min-h-screen flex flex-col",children:[s&&e.jsx(Rb,{}),e.jsx("main",{className:"flex-1",children:t}),r&&e.jsx(Cb,{})]}),zP=()=>{const[t,s]=m.useState(null),[r,a]=m.useState(!0),[o,l]=m.useState(null),d=m.useCallback(async()=>{try{a(!0),l(null),console.log(" [useSupplierStats] Dbut de rcupration des statistiques");const u=await ie.get("/supplier/stats");console.log(" [useSupplierStats] Statistiques rcupres:",u),u?s(u):(console.log(" [useSupplierStats] Aucune donne reue, gnration de statistiques simules"),s({totalProducts:12,activeProducts:10,totalViews:1250,newMessages:3,averageRating:4.2,totalReviews:28}))}catch(u){const h=u instanceof Error?u.message:"Erreur inconnue";console.error(" [useSupplierStats] Erreur rcupration statistiques fournisseur:",h),l(h),s({totalProducts:0,activeProducts:0,totalViews:0,newMessages:0,averageRating:0,totalReviews:0})}finally{a(!1)}},[]);return m.useEffect(()=>{d()},[d]),{data:t,isLoading:r,error:o,refetch:d}},$P=(t=10)=>{const[s,r]=m.useState([]),[a,o]=m.useState(!0),[l,d]=m.useState(null),u=m.useCallback(async()=>{try{o(!0),d(null),console.log(" [useSupplierMessages] Dbut de rcupration des messages");const h=await ie.get(`/supplier/messages?limit=${t}`);if(console.log(" [useSupplierMessages] Messages rcuprs:",h),h&&Array.isArray(h))r(h);else if(h&&h.messages)r(h.messages);else{console.log(" [useSupplierMessages] Aucun message reu, gnration de messages simuls");const p=[{id:1,conversation_id:1,contenu:"Bonjour, je suis intress par votre produit",expediteur_id:1,destinataire_id:2,created_at:new Date().toISOString(),lu:!1,type:"text",expediteur_nom:"Jean Dupont",destinataire_nom:"Fournisseur"},{id:2,conversation_id:1,contenu:"Merci pour votre intrt ! Pouvez-vous me donner plus de dtails ?",expediteur_id:2,destinataire_id:1,created_at:new Date().toISOString(),lu:!0,type:"text",expediteur_nom:"Fournisseur",destinataire_nom:"Jean Dupont"}].slice(0,t);r(p)}}catch(h){const p=h instanceof Error?h.message:"Erreur inconnue";console.error(" [useSupplierMessages] Erreur rcupration messages fournisseur:",p),d(p),r([])}finally{o(!1)}},[t]);return m.useEffect(()=>{u()},[u]),{data:s,isLoading:a,error:l,refetch:u}},qP=()=>We({queryKey:["supplier-products"],queryFn:async()=>{try{const t=await ie.get("/supplier/products"),s=t.products||t.data||t||[];return Array.isArray(s)?s.map(a=>({...a,prix_unitaire:Number(a.prix_unitaire)||0,stock_disponible:Number(a.stock_disponible)||0,moq:Number(a.moq)||1,note_moyenne:Number(a.note_moyenne)||0,nombre_avis:Number(a.nombre_avis)||0,unite:a.unite||"pice",statut:a.statut||"actif",categorie_nom:a.categorie_nom||"Non catgoris"})):[]}catch(t){return console.log("Erreur lors du chargement des produits fournisseur:",t),[]}},retry:1,staleTime:3e4,enabled:!!localStorage.getItem("authToken")}),BP=()=>{const[t,s]=m.useState(null),[r,a]=m.useState(!0),[o,l]=m.useState(null),d=async()=>{try{a(!0),l(null);const u=await ie.get("/supplier/status");u?s(u):l("Impossible de rcuprer le statut")}catch(u){console.error("Erreur rcupration statut fournisseur:",u),l(u.message||"Erreur lors du chargement du statut")}finally{a(!1)}};return m.useEffect(()=>{d()},[]),{status:t,loading:r,error:o,refetch:d}},Ab=(t,s=2)=>{const r=Number(t);return isNaN(r)?"0".padEnd(s+2,".0"):r.toFixed(s)},wh=(t,s="")=>`${Ab(t,2)}${s}`,Mb=(t,s=5)=>`${Ab(t,1)}/${s}`,Hm=t=>{const s=Number(t);return isNaN(s)?0:Math.floor(s)},Db=()=>{const[t,s]=m.useState("overview"),r=Re(),[a]=Da();m.useEffect(()=>{const g=a.get("tab");g&&s(g)},[a]);const o=g=>{s(g);const N=g==="overview"?"/supplier/dashboard":`/supplier/dashboard?tab=${g}`;window.history.replaceState({},"",N)};Rt();const{data:l}=zP(),{data:d}=qP(),{data:u}=$P();Eb();const{status:h,loading:p}=BP(),{data:v}=Tb();ea();const f=()=>[{title:"Produits actifs",value:l?.activeProducts?.toString()||"0",change:"+3 ce mois",icon:De,color:"text-blue-600",action:()=>o("products")},{title:"Messages",value:l?.messages?.toString()||"0",change:`+${u?.filter(g=>!g.lu).length||0} nouveaux`,icon:Ye,color:"text-purple-600",action:()=>o("messages")},{title:"Vues totales",value:l?.totalViews?.toString()||"0",change:"+12% ce mois",icon:bt,color:"text-green-600",action:()=>o("analytics")},{title:"Note moyenne",value:l?.averageRating?Mb(l.averageRating):"0.0",change:`${l?.totalReviews||0} avis`,icon:dn,color:"text-yellow-600",action:()=>o("analytics")}];return e.jsx(Ys,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 sm:py-8",children:[!p&&h&&e.jsx(OP,{status:h.status,documentsValidated:v?.canPublish||!1,companyName:h.companyName,onUploadDocuments:()=>o("documents")}),e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-4 gap-4 lg:gap-8",children:[e.jsx("div",{className:"lg:col-span-1 order-2 lg:order-1",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:e.jsxs("nav",{className:"space-y-2",children:[e.jsxs(D,{variant:t==="overview"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>o("overview"),children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Vue d'ensemble"]}),e.jsxs(D,{variant:t==="products"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>o("products"),children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"Mes produits"]}),e.jsxs(D,{variant:t==="messages"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>o("messages"),children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Messages"]}),e.jsxs(D,{variant:t==="documents"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>o("documents"),children:[e.jsx(ft,{className:"w-4 h-4 mr-2"}),"Documents"]})]})})}),e.jsxs("div",{className:"lg:col-span-3 order-1 lg:order-2",children:[t==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tableau de bord fournisseur "}),e.jsx("p",{className:"text-gray-600",children:"Grez vos produits et analysez vos performances sur GabMarketHub"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs(D,{className:"flex flex-col items-center p-6 h-auto space-y-2",onClick:()=>r("/supplier/products/add"),children:[e.jsx(xs,{className:"w-8 h-8"}),e.jsx("span",{children:"Ajouter produit"})]}),e.jsxs(D,{variant:"outline",className:"flex flex-col items-center p-6 h-auto space-y-2",onClick:()=>o("analytics"),children:[e.jsx(xr,{className:"w-8 h-8"}),e.jsx("span",{children:"Statistiques"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:f().map((g,N)=>e.jsx(Q,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:g.action,children:e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:g.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.value}),e.jsx("p",{className:"text-xs text-gray-500",children:g.change})]}),e.jsx(g.icon,{className:`w-8 h-8 ${g.color}`})]})})},N))}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(De,{className:"w-5 h-5 mr-2"}),"Produits rcents"]})}),e.jsx(J,{children:d&&d.length>0?e.jsx("div",{className:"space-y-4",children:d.slice(0,5).map(g=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:g.nom}),e.jsx(ne,{className:g.statut==="actif"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:g.statut==="actif"?"Actif":"Inactif"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:g.categorie_nom}),e.jsx("p",{className:"text-sm text-gray-500",children:wh(g.prix_unitaire)})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(D,{size:"sm",variant:"outline",onClick:()=>r(`/supplier/products/${g.id}/edit`),children:[e.jsx(Sa,{className:"w-4 h-4 mr-1"}),"Modifier"]})})]},g.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(De,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"Aucun produit"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Commencez par ajouter votre premier produit"})]})})]})]}),t==="products"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(De,{className:"w-5 h-5 mr-2"}),"Mes produits"]}),e.jsx("p",{className:"text-gray-600",children:"Grez votre catalogue de produits"})]}),e.jsxs(D,{onClick:()=>r("/supplier/products/add"),children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Ajouter un produit"]})]}),d&&d.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(g=>e.jsx(Q,{className:"hover:shadow-md transition-shadow",children:e.jsxs(J,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:g.nom}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.categorie_nom}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:wh(g.prix_unitaire)})]}),e.jsx(ne,{className:g.statut==="actif"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:g.statut==="actif"?"Actif":"Inactif"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(D,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>r(`/supplier/products/${g.id}/edit`),children:[e.jsx(Sa,{className:"w-4 h-4 mr-1"}),"Modifier"]}),e.jsx(D,{size:"sm",variant:"outline",onClick:()=>r(`/products/${g.id}`),children:e.jsx(Ze,{className:"w-4 h-4"})})]})]})},g.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(De,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"Aucun produit"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Commencez par ajouter votre premier produit"}),e.jsxs(D,{onClick:()=>r("/supplier/products/add"),children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Ajouter un produit"]})]})]}),t==="messages"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(Ye,{className:"w-5 h-5 mr-2"}),"Messages"]}),e.jsx("p",{className:"text-gray-600",children:"Grez vos conversations avec les acheteurs"})]}),u&&u.length>0?e.jsx("div",{className:"space-y-4",children:u.map(g=>e.jsx(Q,{className:"hover:shadow-md transition-shadow",children:e.jsx(J,{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:g.expediteur_nom||"Utilisateur"}),e.jsx(ne,{variant:g.lu?"secondary":"default",children:g.lu?"Lu":"Non lu"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.contenu}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(g.created_at).toLocaleDateString("fr-FR")})]})})})},g.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ye,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"Aucun message"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Vos conversations avec les acheteurs apparatront ici"})]})]}),t==="documents"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(ft,{className:"w-5 h-5 mr-2"}),"Documents"]}),e.jsx("p",{className:"text-gray-600",children:"Grez vos documents de vrification"})]}),e.jsx(LP,{})]})]})]})]})})})},VP=()=>{const{data:t,isLoading:s}=Rt(),r=Re();return m.useEffect(()=>{s||(t?t.role_id!==2&&r("/",{replace:!0}):r("/supplier/login",{replace:!0}))},[t,s,r]),s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gr,{className:"w-6 h-6 animate-spin text-green-600"}),e.jsx("span",{children:"Chargement de votre espace fournisseur..."})]})}):!t||t.role_id!==2?null:e.jsx(Db,{})};function V0(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function UP(...t){return s=>{let r=!1;const a=t.map(o=>{const l=V0(o,s);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<a.length;o++){const l=a[o];typeof l=="function"?l():V0(t[o],null)}}}}function HP(t){const s=WP(t),r=m.forwardRef((a,o)=>{const{children:l,...d}=a,u=m.Children.toArray(l),h=u.find(KP);if(h){const p=h.props.children,v=u.map(f=>f===h?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:f);return e.jsx(s,{...d,ref:o,children:m.isValidElement(p)?m.cloneElement(p,void 0,v):null})}return e.jsx(s,{...d,ref:o,children:l})});return r.displayName=`${t}.Slot`,r}function WP(t){const s=m.forwardRef((r,a)=>{const{children:o,...l}=r;if(m.isValidElement(o)){const d=YP(o),u=XP(l,o.props);return o.type!==m.Fragment&&(u.ref=a?UP(a,d):d),m.cloneElement(o,u)}return m.Children.count(o)>1?m.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var GP=Symbol("radix.slottable");function KP(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===GP}function XP(t,s){const r={...s};for(const a in s){const o=t[a],l=s[a];/^on[A-Z]/.test(a)?o&&l?r[a]=(...u)=>{const h=l(...u);return o(...u),h}:o&&(r[a]=o):a==="style"?r[a]={...o,...l}:a==="className"&&(r[a]=[o,l].filter(Boolean).join(" "))}return{...t,...r}}function YP(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var QP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],JP=QP.reduce((t,s)=>{const r=HP(`Primitive.${s}`),a=m.forwardRef((o,l)=>{const{asChild:d,...u}=o,h=d?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(h,{...u,ref:l})});return a.displayName=`Primitive.${s}`,{...t,[s]:a}},{}),ZP="Label",Ib=m.forwardRef((t,s)=>e.jsx(JP.label,{...t,ref:s,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Ib.displayName=ZP;var Lb=Ib;const eT=Zo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ce=m.forwardRef(({className:t,...s},r)=>e.jsx(Lb,{ref:r,className:we(eT(),t),...s}));ce.displayName=Lb.displayName;const tT=({children:t})=>{const[s,r]=m.useState(!0),[a,o]=m.useState(!1),[l,d]=m.useState(null),u=Re();m.useEffect(()=>{h()},[]);const h=async()=>{try{const p=await ie.get("/auth/me");if(d(p),p.role_id!==2){$.error("Accs rserv aux fournisseurs"),u("/dashboard");return}if(!p.entreprise)o(!1),$.error("Veuillez complter votre profil entreprise avant d'ajouter des produits");else{const f=["nom_entreprise","secteur_activite_id","type_entreprise_id","adresse_ligne1","ville","code_postal","pays"].filter(g=>!p.entreprise[g]);f.length>0?(o(!1),$.error(`Profil entreprise incomplet. Champs manquants: ${f.join(", ")}`)):o(!0)}}catch(p){console.error("Erreur vrification profil:",p),$.error("Erreur lors de la vrification du profil"),u("/supplier/dashboard")}finally{r(!1)}};return s?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gabon-green mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Vrification du profil..."})]})}):a?e.jsx(e.Fragment,{children:t}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs(Q,{className:"border-orange-200 bg-orange-50",children:[e.jsxs(de,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Pt,{className:"w-8 h-8 text-orange-600"})}),e.jsx(ue,{className:"text-orange-800",children:"Profil entreprise incomplet"})]}),e.jsxs(J,{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-orange-700",children:"Vous devez complter votre profil entreprise avant de pouvoir ajouter des produits."}),l?.entreprise?e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-orange-200",children:[e.jsxs("h3",{className:"font-semibold text-orange-800 mb-2 flex items-center",children:[e.jsx(ot,{className:"w-4 h-4 mr-2"}),"Informations manquantes"]}),e.jsx("p",{className:"text-sm text-orange-600",children:"Certains champs obligatoires de votre profil entreprise ne sont pas renseigns."})]}):e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-orange-200",children:[e.jsxs("h3",{className:"font-semibold text-orange-800 mb-2 flex items-center",children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Aucune entreprise associe"]}),e.jsx("p",{className:"text-sm text-orange-600",children:"Vous devez d'abord crer votre profil entreprise."})]}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(D,{variant:"outline",onClick:()=>u("/supplier/dashboard"),children:"Retour au tableau de bord"}),e.jsx(D,{className:"bg-gabon-green hover:bg-gabon-green/90",onClick:()=>u("/supplier/profile"),children:"Complter le profil"})]})]})]})})})},sT=()=>{const t=Re(),[s,r]=m.useState(!1),[a,o]=m.useState({}),l=[{id:"pice",nom:"Pice"},{id:"kg",nom:"Kilogramme"},{id:"m",nom:"Mtre"},{id:"m",nom:"Mtre carr"},{id:"litre",nom:"Litre"}],d=[{id:"DHL",nom:"DHL"},{id:"FedEx",nom:"FedEx"},{id:"UPS",nom:"UPS"},{id:"Bateau",nom:"Bateau"},{id:"Avion",nom:"Avion"}],[u,h]=m.useState([]),[p,v]=m.useState(null),[f,g]=m.useState({nom:"",marque:"",reference_produit:"",categorie_id:"",description:"",description_longue:"",fonctionnalites:"",instructions_utilisation:"",materiaux:"",poids:"",dimensions:"",couleurs_disponibles:[],prix_unitaire:"",moq:"1",stock_disponible:"",unite:"pice",capacite_approvisionnement:"",delai_traitement:"7",port_depart:"",delai_livraison_estime:"",conditions_paiement:[],politique_retour:"",garantie:"",video_url:"",certifications:[]}),[N,k]=m.useState([]),[y,_]=m.useState([]),[w,E]=m.useState([]),[C,R]=m.useState([]),{data:I}=We({queryKey:["categories"],queryFn:()=>ie.get("/categories")}),T=Array.isArray(I)?I:I?.categories||[],b=(U,G)=>{g(L=>({...L,[U]:G}))},P=U=>{if(U.target.files){const G=Array.from(U.target.files);if(u.length+G.length>10){$.error("Maximum 10 images autorises");return}h(L=>[...L,...G])}},A=U=>{const G=u.filter((L,H)=>H!==U);h(G),G.length===0&&o(L=>({...L,images:!0}))},O=()=>{k(U=>[...U,{quantite_min:1,quantite_max:null,prix_unitaire:0,devise:"EUR"}])},F=()=>{E(U=>[...U,{nom:"",valeur:"",unite:""}])},X=()=>{R(U=>[...U,{methode:"",cout_estime:0,delai_min:1,delai_max:7,description:""}])},V=()=>({general:a.nom||a.categorie_id||a.description_longue,images:a.images,prix:a.prix_unitaire||a.moq,livraison:!1,conditions:!1,certifications:!1}),K=()=>{const U={},G={nom:"Nom du produit",categorie_id:"Catgorie",description_longue:"Description dtaille",prix_unitaire:"Prix unitaire",moq:"Quantit minimum (MOQ)"};Object.entries(G).forEach(([H,le])=>{(!f[H]||f[H]==="")&&(U[H]=!0)}),u.length===0&&(U.images=!0),f.prix_unitaire&&isNaN(parseFloat(f.prix_unitaire))&&(U.prix_unitaire=!0),f.moq&&isNaN(parseInt(f.moq))&&(U.moq=!0),o(U);const L=Object.keys(U);if(L.length>0){const H=L.map(se=>se==="images"?"Au moins une image":G[se]||se).join(", ");$.error(`Veuillez remplir les champs obligatoires: ${H}`,{duration:6e3,description:"Les champs avec des bordures rouges doivent tre complts."});const le=L[0],q=document.getElementById(le)||document.querySelector(`[data-field="${le}"]`);return q&&(q.scrollIntoView({behavior:"smooth",block:"center"}),q.focus()),!1}return!0},me=async U=>{if(U.preventDefault(),!!K()){r(!0);try{const G=new FormData,L={...f};if(Object.entries({prix_unitaire:{type:"float",required:!0},moq:{type:"int",required:!0,default:1},stock_disponible:{type:"int",required:!1,default:0},capacite_approvisionnement:{type:"int",required:!1},delai_traitement:{type:"int",required:!1,default:7},poids:{type:"float",required:!1}}).forEach(([ee,oe])=>{const xe=L[ee];if(xe&&xe!==""){const ve=oe.type==="int"?parseInt(xe):parseFloat(xe);isNaN(ve)?oe.required&&oe.default!==void 0&&(L[ee]=oe.default.toString()):L[ee]=ve.toString()}else oe.required&&oe.default!==void 0&&(L[ee]=oe.default.toString())}),!L.categorie_id||L.categorie_id===""||L.categorie_id==="0")throw new Error("Catgorie obligatoire non slectionne");const le=parseInt(L.categorie_id);if(isNaN(le)||le<=0)throw new Error("Catgorie invalide slectionne");const q=["couleurs_disponibles","certifications","conditions_paiement"];Object.entries(L).forEach(([ee,oe])=>{q.includes(ee)?Array.isArray(oe)&&oe.length>0?G.append(ee,JSON.stringify(oe)):typeof oe=="string"&&oe.trim()!==""&&G.append(ee,oe):Array.isArray(oe)?oe.length>0&&G.append(ee,JSON.stringify(oe)):oe!=null&&oe!==""&&G.append(ee,oe.toString())}),console.log(" DEBUG FRONTEND - Images avant ajout  FormData:",{count:u.length,images:u.map(ee=>({name:ee.name,size:ee.size,type:ee.type}))}),u.forEach((ee,oe)=>{console.log(`Ajout image ${oe+1}:`,{name:ee.name,size:ee.size}),G.append("images",ee)}),console.log("FormData aprs ajout images - has images:",G.has("images")),N.length>0&&G.append("prix_degressifs",JSON.stringify(N)),y.length>0&&G.append("variantes",JSON.stringify(y)),w.length>0&&G.append("specifications",JSON.stringify(w)),C.length>0&&G.append("methodes_livraison",JSON.stringify(C)),console.log("=== DEBUG FORM SUBMISSION (FORMDATA + IMAGES) ==="),console.log("Donnes nettoyes:",L),console.log("FormData entries:",Object.fromEntries(G.entries())),console.log("Images  envoyer:",u.map(ee=>({name:ee.name,size:ee.size,type:ee.type}))),console.log("Champs obligatoires backend:",{nom:L.nom,prix_unitaire:L.prix_unitaire,categorie_id:L.categorie_id,description_longue:L.description_longue}),console.log("===============================");const se=await ie.request("/products",{method:"POST",body:G});$.success("Produit cr avec succs !"),t("/supplier/dashboard")}catch(G){console.error("Erreur cration produit:",G),G.message?.includes("Session expire")?$.error("Session expire, vous allez tre redirig vers la connexion"):G.message?.includes("Accs refus")?$.error("Accs refus. Vrifiez que votre profil entreprise est complet."):G.message?.includes("Profil entreprise non trouv")?($.error("Profil entreprise non trouv. Veuillez complter votre inscription."),t("/supplier/profile")):G.message?.includes("HTTP error! status: 400")?$.error("Donnes invalides. Vrifiez que tous les champs obligatoires sont correctement remplis.",{description:"Erreur 400: "+G.message}):$.error(G.message||"Erreur lors de la cration du produit")}finally{r(!1)}}};return e.jsx(Ys,{children:e.jsx(tT,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gabon-gray",children:"Ajouter un nouveau produit"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Remplissez toutes les informations pour crer votre produit"}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Champs obligatoires (*):"})," Nom du produit, Catgorie, Description dtaille, Prix unitaire, MOQ et au moins une image."]})})]}),e.jsxs("form",{onSubmit:me,children:[e.jsxs(Gr,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(yr,{className:"grid w-full grid-cols-6 bg-white border border-gray-200",children:[e.jsxs(Ue,{value:"general",className:`flex items-center gap-2 data-[state=active]:bg-gabon-green data-[state=active]:text-white ${V().general?"border-red-500 text-red-600":""}`,children:[e.jsx(De,{className:"w-4 h-4"}),"Gnral",V().general&&e.jsx("span",{className:"text-red-500",children:""})]}),e.jsxs(Ue,{value:"images",className:`flex items-center gap-2 data-[state=active]:bg-gabon-green data-[state=active]:text-white ${V().images?"border-red-500 text-red-600":""}`,children:[e.jsx(Si,{className:"w-4 h-4"}),"Images",V().images&&e.jsx("span",{className:"text-red-500",children:""})]}),e.jsxs(Ue,{value:"prix",className:`flex items-center gap-2 data-[state=active]:bg-gabon-green data-[state=active]:text-white ${V().prix?"border-red-500 text-red-600":""}`,children:[e.jsx(mS,{className:"w-4 h-4"}),"Prix",V().prix&&e.jsx("span",{className:"text-red-500",children:""})]}),e.jsxs(Ue,{value:"livraison",className:"flex items-center gap-2 data-[state=active]:bg-gabon-green data-[state=active]:text-white",children:[e.jsx(hd,{className:"w-4 h-4"}),"Livraison"]}),e.jsxs(Ue,{value:"conditions",className:"flex items-center gap-2 data-[state=active]:bg-gabon-green data-[state=active]:text-white",children:[e.jsx(ft,{className:"w-4 h-4"}),"Conditions"]}),e.jsxs(Ue,{value:"certifications",className:"flex items-center gap-2 data-[state=active]:bg-gabon-green data-[state=active]:text-white",children:[e.jsx(lt,{className:"w-4 h-4"}),"Certifications"]})]}),e.jsx(He,{value:"general",children:e.jsxs(Q,{children:[e.jsx(de,{className:"bg-gradient-to-r from-gabon-green to-gabon-blue",children:e.jsx(ue,{className:"text-white",children:"Informations gnrales du produit"})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"nom",children:"Nom du produit *"}),e.jsx(B,{id:"nom",value:f.nom,onChange:U=>{b("nom",U.target.value),a.nom&&U.target.value.trim()&&o(G=>({...G,nom:!1}))},placeholder:"Ex: T-shirt en coton bio pour homme",className:a.nom?"border-red-500 focus:border-red-500":"",required:!0}),a.nom&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Ce champ est obligatoire"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"marque",children:"Marque"}),e.jsx(B,{id:"marque",value:f.marque,onChange:U=>b("marque",U.target.value),placeholder:"Nom de la marque"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"reference_produit",children:"Rfrence produit"}),e.jsx(B,{id:"reference_produit",value:f.reference_produit,onChange:U=>b("reference_produit",U.target.value),placeholder:"REF-001"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"categorie_id",children:"Catgorie *"}),e.jsx(bs,{value:f.categorie_id,onValueChange:U=>{b("categorie_id",U),a.categorie_id&&U&&o(G=>({...G,categorie_id:!1}))},placeholder:"Slectionner une catgorie",options:T,className:a.categorie_id?"border-red-500":""}),a.categorie_id&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Ce champ est obligatoire"})]})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"description",children:"Description courte"}),e.jsx(ht,{id:"description",value:f.description,onChange:U=>b("description",U.target.value),placeholder:"Description courte du produit",rows:3})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"description_longue",children:"Description dtaille *"}),e.jsx(ht,{id:"description_longue",value:f.description_longue,onChange:U=>{b("description_longue",U.target.value),a.description_longue&&U.target.value.trim()&&o(G=>({...G,description_longue:!1}))},placeholder:"Description complte avec matires, usages, caractristiques techniques, avantages...",rows:6,className:a.description_longue?"border-red-500 focus:border-red-500":"",required:!0}),a.description_longue&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Ce champ est obligatoire"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"fonctionnalites",children:"Fonctionnalits principales"}),e.jsx(ht,{id:"fonctionnalites",value:f.fonctionnalites,onChange:U=>b("fonctionnalites",U.target.value),placeholder:` Fonctionnalit 1
 Fonctionnalit 2
 Fonctionnalit 3`,rows:4})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"instructions_utilisation",children:"Instructions d'utilisation"}),e.jsx(ht,{id:"instructions_utilisation",value:f.instructions_utilisation,onChange:U=>b("instructions_utilisation",U.target.value),placeholder:"Instructions d'utilisation du produit",rows:4})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"materiaux",children:"Matriaux/Composants"}),e.jsx(B,{id:"materiaux",value:f.materiaux,onChange:U=>b("materiaux",U.target.value),placeholder:"Ex: 100% Coton bio"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"poids",children:"Poids (kg)"}),e.jsx(B,{id:"poids",type:"number",step:"0.01",value:f.poids,onChange:U=>b("poids",U.target.value),placeholder:"0.5"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"dimensions",children:"Dimensions"}),e.jsx(B,{id:"dimensions",value:f.dimensions,onChange:U=>b("dimensions",U.target.value),placeholder:"L x l x h (cm)"})]})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Couleurs disponibles"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[f.couleurs_disponibles.map((U,G)=>e.jsxs(ne,{variant:"secondary",className:"flex items-center gap-1",children:[U,e.jsx(D,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-red-100",onClick:()=>{b("couleurs_disponibles",f.couleurs_disponibles.filter((L,H)=>H!==G))},children:e.jsx(Je,{className:"w-3 h-3"})})]},G)),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{placeholder:"Ajouter une couleur",className:"w-40",onKeyPress:U=>{if(U.key==="Enter"){U.preventDefault();const G=U.target,L=G.value.trim();L&&!f.couleurs_disponibles.includes(L)&&(b("couleurs_disponibles",[...f.couleurs_disponibles,L]),G.value="")}}}),e.jsx(D,{type:"button",size:"sm",onClick:U=>{const G=U.target.parentElement?.querySelector("input"),L=G?.value.trim();L&&!f.couleurs_disponibles.includes(L)&&(b("couleurs_disponibles",[...f.couleurs_disponibles,L]),G.value="")},children:e.jsx(xs,{className:"w-4 h-4"})})]})]})]})]})]})}),e.jsx(He,{value:"images",children:e.jsxs(Q,{children:[e.jsx(de,{className:"bg-gradient-to-r from-gabon-green to-gabon-blue",children:e.jsx(ue,{className:"text-white",children:"Images et vidos du produit"})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"images",children:"Images du produit * (3-10 images recommandes)"}),e.jsx(B,{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:U=>{P(U),a.images&&U.target.files&&U.target.files.length>0&&o(G=>({...G,images:!1}))},className:`mt-2 ${a.images?"border-red-500 focus:border-red-500":""}`}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Formats accepts: JPG, PNG, WebP. Taille max: 5MB par image."}),a.images&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Au moins une image est obligatoire"})]}),u.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:u.map((U,G)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:URL.createObjectURL(U),alt:`Preview ${G+1}`,className:"w-full h-32 object-cover rounded-lg border"}),e.jsx(D,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 h-6 w-6 p-0",onClick:()=>A(G),children:e.jsx(Je,{className:"w-4 h-4"})}),G===0&&e.jsx(ne,{className:"absolute bottom-2 left-2 text-xs",children:"Image principale"})]},G))})]})]})}),e.jsx(He,{value:"prix",children:e.jsxs(Q,{children:[e.jsx(de,{className:"bg-gradient-to-r from-gabon-green to-gabon-blue",children:e.jsx(ue,{className:"text-white",children:"Prix et options d'achat"})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"prix_unitaire",children:"Prix unitaire () *"}),e.jsx(B,{id:"prix_unitaire",type:"number",step:"0.01",value:f.prix_unitaire,onChange:U=>{b("prix_unitaire",U.target.value),a.prix_unitaire&&U.target.value.trim()&&o(G=>({...G,prix_unitaire:!1}))},placeholder:"10.00",className:a.prix_unitaire?"border-red-500 focus:border-red-500":"",required:!0}),a.prix_unitaire&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Ce champ est obligatoire"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"moq",children:"MOQ (Quantit minimum) *"}),e.jsx(B,{id:"moq",type:"number",value:f.moq,onChange:U=>{b("moq",U.target.value),a.moq&&U.target.value.trim()&&o(G=>({...G,moq:!1}))},placeholder:"1",className:a.moq?"border-red-500 focus:border-red-500":"",required:!0}),a.moq&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Ce champ est obligatoire"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"stock_disponible",children:"Stock disponible"}),e.jsx(B,{id:"stock_disponible",type:"number",value:f.stock_disponible,onChange:U=>b("stock_disponible",U.target.value),placeholder:"100"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"unite",children:"Unit"}),e.jsx(bs,{value:f.unite,onValueChange:U=>b("unite",U),placeholder:"Slectionner une unit",options:l})]})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"capacite_approvisionnement",children:"Capacit d'approvisionnement (units/mois)"}),e.jsx(B,{id:"capacite_approvisionnement",type:"number",value:f.capacite_approvisionnement,onChange:U=>b("capacite_approvisionnement",U.target.value),placeholder:"10000"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(ce,{children:"Prix dgressifs"}),e.jsxs(D,{type:"button",onClick:O,size:"sm",className:"bg-gabon-yellow text-gabon-gray hover:bg-gabon-yellow/90",children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Ajouter un palier"]})]}),N.map((U,G)=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Quantit min"}),e.jsx(B,{type:"number",value:U.quantite_min,onChange:L=>{const H=[...N];H[G].quantite_min=parseInt(L.target.value),k(H)}})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Quantit max"}),e.jsx(B,{type:"number",value:U.quantite_max||"",onChange:L=>{const H=[...N];H[G].quantite_max=L.target.value?parseInt(L.target.value):null,k(H)},placeholder:"Illimit"})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Prix unitaire"}),e.jsx(B,{type:"number",step:"0.01",value:U.prix_unitaire,onChange:L=>{const H=[...N];H[G].prix_unitaire=parseFloat(L.target.value),k(H)}})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(D,{type:"button",variant:"destructive",size:"sm",onClick:()=>k(L=>L.filter((H,le)=>le!==G)),children:e.jsx(Je,{className:"w-4 h-4"})})})]},G))]})]})]})}),e.jsx(He,{value:"livraison",children:e.jsxs(Q,{children:[e.jsx(de,{className:"bg-gradient-to-r from-gabon-green to-gabon-blue",children:e.jsx(ue,{className:"text-white",children:"Expdition et livraison"})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"delai_traitement",children:"Dlai de traitement (jours)"}),e.jsx(B,{id:"delai_traitement",type:"number",value:f.delai_traitement,onChange:U=>b("delai_traitement",U.target.value),placeholder:"7"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"port_depart",children:"Port de dpart"}),e.jsx(B,{id:"port_depart",value:f.port_depart,onChange:U=>b("port_depart",U.target.value),placeholder:"Port de Libreville, Gabon"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"delai_livraison_estime",children:"Dlai de livraison estim"}),e.jsx(B,{id:"delai_livraison_estime",value:f.delai_livraison_estime,onChange:U=>b("delai_livraison_estime",U.target.value),placeholder:"7-15 jours ouvrs"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(ce,{children:"Mthodes de livraison"}),e.jsxs(D,{type:"button",onClick:X,size:"sm",className:"bg-gabon-yellow text-gabon-gray hover:bg-gabon-yellow/90",children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Ajouter une mthode"]})]}),C.map((U,G)=>e.jsxs("div",{className:"grid grid-cols-5 gap-4 p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Mthode"}),e.jsx(bs,{value:U.methode,onValueChange:L=>{const H=[...C];H[G].methode=L,R(H)},placeholder:"Slectionner",options:d})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Cot estim ()"}),e.jsx(B,{type:"number",step:"0.01",value:U.cout_estime,onChange:L=>{const H=[...C];H[G].cout_estime=parseFloat(L.target.value),R(H)}})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Dlai min (jours)"}),e.jsx(B,{type:"number",value:U.delai_min,onChange:L=>{const H=[...C];H[G].delai_min=parseInt(L.target.value),R(H)}})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Dlai max (jours)"}),e.jsx(B,{type:"number",value:U.delai_max,onChange:L=>{const H=[...C];H[G].delai_max=parseInt(L.target.value),R(H)}})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(D,{type:"button",variant:"destructive",size:"sm",onClick:()=>R(L=>L.filter((H,le)=>le!==G)),children:e.jsx(Je,{className:"w-4 h-4"})})})]},G))]})]})]})}),e.jsx(He,{value:"conditions",children:e.jsxs(Q,{children:[e.jsx(de,{className:"bg-gradient-to-r from-gabon-green to-gabon-blue",children:e.jsx(ue,{className:"text-white",children:"Conditions commerciales"})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Conditions de paiement acceptes"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mt-2",children:["Virement bancaire","Lettre de crdit","Paiement  la livraison","Paiement anticip","Western Union","MoneyGram"].map(U=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:U,checked:f.conditions_paiement.includes(U),onChange:G=>{G.target.checked?b("conditions_paiement",[...f.conditions_paiement,U]):b("conditions_paiement",f.conditions_paiement.filter(L=>L!==U))},className:"rounded border-gray-300"}),e.jsx(ce,{htmlFor:U,className:"text-sm font-normal",children:U})]},U))})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"politique_retour",children:"Politique de retour/remboursement"}),e.jsx(ht,{id:"politique_retour",value:f.politique_retour,onChange:U=>b("politique_retour",U.target.value),placeholder:"Dcrivez votre politique de retour et remboursement",rows:4})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"garantie",children:"Service aprs-vente / Garantie"}),e.jsx(ht,{id:"garantie",value:f.garantie,onChange:U=>b("garantie",U.target.value),placeholder:"Dcrivez votre garantie et service aprs-vente",rows:4})]})]})]})}),e.jsx(He,{value:"certifications",children:e.jsxs(Q,{children:[e.jsx(de,{className:"bg-gradient-to-r from-gabon-green to-gabon-blue",children:e.jsx(ue,{className:"text-white",children:"Certifications et spcifications"})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Certifications et labels qualit"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[f.certifications.map((U,G)=>e.jsxs(ne,{variant:"secondary",className:"flex items-center gap-1",children:[U,e.jsx(D,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-red-100",onClick:()=>{b("certifications",f.certifications.filter((L,H)=>H!==G))},children:e.jsx(Je,{className:"w-3 h-3"})})]},G)),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{placeholder:"Ex: ISO 9001, CE, Bio...",className:"w-48",onKeyPress:U=>{if(U.key==="Enter"){U.preventDefault();const G=U.target,L=G.value.trim();L&&!f.certifications.includes(L)&&(b("certifications",[...f.certifications,L]),G.value="")}}}),e.jsx(D,{type:"button",size:"sm",onClick:U=>{const G=U.target.parentElement?.querySelector("input"),L=G?.value.trim();L&&!f.certifications.includes(L)&&(b("certifications",[...f.certifications,L]),G.value="")},children:e.jsx(xs,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(ce,{children:"Spcifications techniques"}),e.jsxs(D,{type:"button",onClick:F,size:"sm",className:"bg-gabon-yellow text-gabon-gray hover:bg-gabon-yellow/90",children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Ajouter une spcification"]})]}),w.map((U,G)=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Nom"}),e.jsx(B,{value:U.nom,onChange:L=>{const H=[...w];H[G].nom=L.target.value,E(H)},placeholder:"Ex: Matire"})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Valeur"}),e.jsx(B,{value:U.valeur,onChange:L=>{const H=[...w];H[G].valeur=L.target.value,E(H)},placeholder:"Ex: 100% Coton"})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Unit"}),e.jsx(B,{value:U.unite,onChange:L=>{const H=[...w];H[G].unite=L.target.value,E(H)},placeholder:"Ex: %"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(D,{type:"button",variant:"destructive",size:"sm",onClick:()=>E(L=>L.filter((H,le)=>le!==G)),children:e.jsx(Je,{className:"w-4 h-4"})})})]},G))]})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[e.jsx(D,{type:"button",variant:"outline",onClick:()=>t("/supplier/dashboard"),children:"Annuler"}),e.jsx(D,{type:"submit",disabled:s,className:"min-w-[120px] bg-gabon-green hover:bg-gabon-green/90 text-white",children:s?"Cration...":"Crer le produit"})]})]})]})})})})},rT=()=>{const t=Re(),{id:s}=Ma(),[r,a]=m.useState(!1),[o,l]=m.useState([]),[d,u]=m.useState([]),h=[{id:"pice",nom:"Pice"},{id:"kg",nom:"Kilogramme"},{id:"m",nom:"Mtre"},{id:"m",nom:"Mtre carr"},{id:"litre",nom:"Litre"}],[p,v]=m.useState({nom:"",marque:"",reference_produit:"",categorie_id:"",description:"",description_longue:"",fonctionnalites:"",instructions_utilisation:"",materiaux:"",couleurs_disponibles:[],certifications:[],delai_traitement:"7",capacite_approvisionnement:"",port_depart:"",conditions_paiement:[],delai_livraison_estime:"",politique_retour:"",garantie:"",video_url:"",prix_unitaire:"",moq:"1",stock_disponible:"",unite:"pice",poids:"",dimensions:""}),[f,g]=m.useState([]),{data:N}=We({queryKey:["categories"],queryFn:()=>ie.get("/categories")}),k=Array.isArray(N)?N:N?.categories||[],{data:y,isLoading:_}=We({queryKey:["product",s],queryFn:()=>ie.get(`/products/${s}`),enabled:!!s});m.useEffect(()=>{if(y?.data){const b=y.data;v({nom:b.nom||"",marque:b.marque||"",reference_produit:b.reference_produit||"",categorie_id:b.categorie_id?.toString()||"",description:b.description||"",description_longue:b.description_longue||"",fonctionnalites:b.fonctionnalites||"",instructions_utilisation:b.instructions_utilisation||"",materiaux:b.materiaux||"",couleurs_disponibles:b.couleurs_disponibles||[],certifications:b.certifications||[],delai_traitement:b.delai_traitement?.toString()||"7",capacite_approvisionnement:b.capacite_approvisionnement?.toString()||"",port_depart:b.port_depart||"",conditions_paiement:b.conditions_paiement||[],delai_livraison_estime:b.delai_livraison_estime||"",politique_retour:b.politique_retour||"",garantie:b.garantie||"",video_url:b.video_url||"",prix_unitaire:b.prix_unitaire?.toString()||"",moq:b.moq?.toString()||"1",stock_disponible:b.stock_disponible?.toString()||"",unite:b.unite||"pice",poids:b.poids?.toString()||"",dimensions:b.dimensions||""}),u(b.images||[]),g(b.prix_degressifs||[])}},[y]);const w=(b,P)=>{v(A=>({...A,[b]:P}))},E=b=>{const P=Array.from(b.target.files||[]);l(A=>[...A,...P])},C=b=>{l(P=>P.filter((A,O)=>O!==b))},R=async b=>{try{await ie.delete(`/products/${s}/images/${b}`),u(P=>P.filter(A=>A.id!==b)),$.success("Image supprime")}catch(P){$.error(P.message||"Erreur lors de la suppression de l'image")}},I=()=>{g(b=>[...b,{quantite_min:1,quantite_max:null,prix_unitaire:0,devise:"EUR"}])},T=async b=>{b.preventDefault(),a(!0);try{const P={...p,prix_degressifs:f};console.log(" [EditProduct] Dbut de la mise  jour du produit:",{productId:s,dataToSend:P});const A=await ie.put(`/products/${s}`,P);if(console.log(" [EditProduct] Rponse de mise  jour:",A),!A)throw new Error("Aucune rponse du serveur");if(o.length>0){const O=new FormData;o.forEach(F=>{O.append("images",F)});try{await ie.request(`/products/${s}/images`,{method:"POST",body:O})}catch(F){console.warn("Erreur lors de l'upload des images:",F)}}$.success("Produit mis  jour avec succs !"),t("/supplier/dashboard")}catch(P){console.error(" [EditProduct] Erreur dtaille:",{message:P.message,status:P.status,response:P.response,data:P.data,fullError:P});let A="Erreur lors de la mise  jour du produit";P.message?A=P.message:P.response?.data?.message?A=P.response.data.message:P.data?.message&&(A=P.data.message),$.error(A)}finally{a(!1)}};return _?e.jsx(Ys,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{children:"Chargement du produit..."})]})})}):e.jsx(Ys,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Modifier le produit"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Modifiez les informations de votre produit"})]}),e.jsxs("form",{onSubmit:T,children:[e.jsxs(Gr,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(yr,{className:"grid w-full grid-cols-5 bg-white border border-gray-200",children:[e.jsx(Ue,{value:"general",children:"Gnral"}),e.jsx(Ue,{value:"images",children:"Images"}),e.jsx(Ue,{value:"prix",children:"Prix"}),e.jsx(Ue,{value:"livraison",children:"Livraison"}),e.jsx(Ue,{value:"conditions",children:"Conditions"})]}),e.jsx(He,{value:"general",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Informations gnrales"})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"nom",children:"Nom du produit *"}),e.jsx(B,{id:"nom",value:p.nom,onChange:b=>w("nom",b.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"marque",children:"Marque"}),e.jsx(B,{id:"marque",value:p.marque,onChange:b=>w("marque",b.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"reference_produit",children:"Rfrence produit"}),e.jsx(B,{id:"reference_produit",value:p.reference_produit,onChange:b=>w("reference_produit",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"categorie_id",children:"Catgorie *"}),e.jsx(bs,{value:p.categorie_id,onValueChange:b=>w("categorie_id",b),placeholder:"Slectionner une catgorie",options:k})]})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"description",children:"Description courte"}),e.jsx(ht,{id:"description",value:p.description,onChange:b=>w("description",b.target.value),rows:3})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"description_longue",children:"Description dtaille *"}),e.jsx(ht,{id:"description_longue",value:p.description_longue,onChange:b=>w("description_longue",b.target.value),rows:6,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"prix_unitaire",children:"Prix unitaire () *"}),e.jsx(B,{id:"prix_unitaire",type:"number",step:"0.01",value:p.prix_unitaire,onChange:b=>w("prix_unitaire",b.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"moq",children:"MOQ *"}),e.jsx(B,{id:"moq",type:"number",value:p.moq,onChange:b=>w("moq",b.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"stock_disponible",children:"Stock disponible"}),e.jsx(B,{id:"stock_disponible",type:"number",value:p.stock_disponible,onChange:b=>w("stock_disponible",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"unite",children:"Unit"}),e.jsx(bs,{value:p.unite,onValueChange:b=>w("unite",b),placeholder:"Slectionner une unit",options:h})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"poids",children:"Poids (kg)"}),e.jsx(B,{id:"poids",type:"number",step:"0.01",value:p.poids,onChange:b=>w("poids",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"dimensions",children:"Dimensions"}),e.jsx(B,{id:"dimensions",value:p.dimensions,onChange:b=>w("dimensions",b.target.value),placeholder:"L x l x h"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"delai_traitement",children:"Dlai traitement (jours)"}),e.jsx(B,{id:"delai_traitement",type:"number",value:p.delai_traitement,onChange:b=>w("delai_traitement",b.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"fonctionnalites",children:"Fonctionnalits"}),e.jsx(ht,{id:"fonctionnalites",value:p.fonctionnalites,onChange:b=>w("fonctionnalites",b.target.value),rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"materiaux",children:"Matriaux"}),e.jsx(B,{id:"materiaux",value:p.materiaux,onChange:b=>w("materiaux",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"garantie",children:"Garantie"}),e.jsx(B,{id:"garantie",value:p.garantie,onChange:b=>w("garantie",b.target.value),placeholder:"Ex: 2 ans"})]})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"instructions_utilisation",children:"Instructions d'utilisation"}),e.jsx(ht,{id:"instructions_utilisation",value:p.instructions_utilisation,onChange:b=>w("instructions_utilisation",b.target.value),rows:3})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Couleurs disponibles"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[p.couleurs_disponibles.map((b,P)=>e.jsxs(ne,{variant:"secondary",className:"flex items-center gap-1",children:[b,e.jsx(D,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-red-100",onClick:()=>{w("couleurs_disponibles",p.couleurs_disponibles.filter((A,O)=>O!==P))},children:e.jsx(Je,{className:"w-3 h-3"})})]},P)),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(B,{placeholder:"Ajouter couleur",className:"w-32",onKeyPress:b=>{if(b.key==="Enter"){b.preventDefault();const P=b.target,A=P.value.trim();A&&!p.couleurs_disponibles.includes(A)&&(w("couleurs_disponibles",[...p.couleurs_disponibles,A]),P.value="")}}})})]})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Certifications"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[p.certifications.map((b,P)=>e.jsxs(ne,{variant:"secondary",className:"flex items-center gap-1",children:[b,e.jsx(D,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-red-100",onClick:()=>{w("certifications",p.certifications.filter((A,O)=>O!==P))},children:e.jsx(Je,{className:"w-3 h-3"})})]},P)),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(B,{placeholder:"Ajouter certification",className:"w-40",onKeyPress:b=>{if(b.key==="Enter"){b.preventDefault();const P=b.target,A=P.value.trim();A&&!p.certifications.includes(A)&&(w("certifications",[...p.certifications,A]),P.value="")}}})})]})]})]})]})}),e.jsx(He,{value:"images",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Images du produit"})}),e.jsxs(J,{className:"space-y-4",children:[d.length>0&&e.jsxs("div",{children:[e.jsx(ce,{children:"Images actuelles"}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mt-2",children:d.map((b,P)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Yt(b.url),alt:"Image produit",className:"w-full h-24 object-cover rounded border"}),e.jsx(D,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 w-6 h-6 p-0",onClick:()=>R(b.id),children:e.jsx(Je,{className:"w-3 h-3"})}),b.principale&&e.jsx("div",{className:"absolute bottom-1 left-1 bg-green-500 text-white text-xs px-1 rounded",children:"Principal"})]},b.id))})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"images",children:"Ajouter des images"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:E,className:"hidden"}),e.jsxs(D,{type:"button",variant:"outline",onClick:()=>document.getElementById("images")?.click(),className:"w-full",children:[e.jsx(Si,{className:"w-4 h-4 mr-2"}),"Slectionner des images"]})]})]}),o.length>0&&e.jsxs("div",{children:[e.jsx(ce,{children:"Nouvelles images  ajouter"}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mt-2",children:o.map((b,P)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:URL.createObjectURL(b),alt:"Nouvelle image",className:"w-full h-24 object-cover rounded border"}),e.jsx(D,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 w-6 h-6 p-0",onClick:()=>C(P),children:e.jsx(Je,{className:"w-3 h-3"})})]},P))})]})]})]})}),e.jsx(He,{value:"prix",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Prix et options d'achat"})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"prix_unitaire",children:"Prix unitaire () *"}),e.jsx(B,{id:"prix_unitaire",type:"number",step:"0.01",value:p.prix_unitaire,onChange:b=>w("prix_unitaire",b.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"moq",children:"MOQ *"}),e.jsx(B,{id:"moq",type:"number",value:p.moq,onChange:b=>w("moq",b.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"stock_disponible",children:"Stock disponible"}),e.jsx(B,{id:"stock_disponible",type:"number",value:p.stock_disponible,onChange:b=>w("stock_disponible",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"unite",children:"Unit"}),e.jsx(bs,{value:p.unite,onValueChange:b=>w("unite",b),placeholder:"Slectionner une unit",options:h})]})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"capacite_approvisionnement",children:"Capacit d'approvisionnement (units/mois)"}),e.jsx(B,{id:"capacite_approvisionnement",type:"number",value:p.capacite_approvisionnement,onChange:b=>w("capacite_approvisionnement",b.target.value)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(ce,{children:"Prix dgressifs"}),e.jsxs(D,{type:"button",onClick:I,size:"sm",children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Ajouter un palier"]})]}),f.map((b,P)=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Quantit min"}),e.jsx(B,{type:"number",value:b.quantite_min,onChange:A=>{const O=[...f];O[P].quantite_min=parseInt(A.target.value),g(O)}})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Quantit max"}),e.jsx(B,{type:"number",value:b.quantite_max||"",onChange:A=>{const O=[...f];O[P].quantite_max=A.target.value?parseInt(A.target.value):null,g(O)},placeholder:"Illimit"})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Prix unitaire"}),e.jsx(B,{type:"number",step:"0.01",value:b.prix_unitaire,onChange:A=>{const O=[...f];O[P].prix_unitaire=parseFloat(A.target.value),g(O)}})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(D,{type:"button",variant:"destructive",size:"sm",onClick:()=>g(A=>A.filter((O,F)=>F!==P)),children:e.jsx(Je,{className:"w-4 h-4"})})})]},P))]})]})]})}),e.jsx(He,{value:"livraison",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Expdition et livraison"})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"delai_traitement",children:"Dlai traitement (jours)"}),e.jsx(B,{id:"delai_traitement",type:"number",value:p.delai_traitement,onChange:b=>w("delai_traitement",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"port_depart",children:"Port de dpart"}),e.jsx(B,{id:"port_depart",value:p.port_depart,onChange:b=>w("port_depart",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"delai_livraison_estime",children:"Dlai de livraison estim"}),e.jsx(B,{id:"delai_livraison_estime",value:p.delai_livraison_estime,onChange:b=>w("delai_livraison_estime",b.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"poids",children:"Poids (kg)"}),e.jsx(B,{id:"poids",type:"number",step:"0.01",value:p.poids,onChange:b=>w("poids",b.target.value)})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"dimensions",children:"Dimensions"}),e.jsx(B,{id:"dimensions",value:p.dimensions,onChange:b=>w("dimensions",b.target.value),placeholder:"L x l x h"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"video_url",children:"URL Vido"}),e.jsx(B,{id:"video_url",value:p.video_url,onChange:b=>w("video_url",b.target.value),placeholder:"https://..."})]})]})]})]})}),e.jsx(He,{value:"conditions",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Conditions commerciales"})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Conditions de paiement acceptes"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mt-2",children:["Virement bancaire","Lettre de crdit","Paiement  la livraison","Paiement anticip","Western Union","MoneyGram"].map(b=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:b,checked:p.conditions_paiement.includes(b),onChange:P=>{P.target.checked?w("conditions_paiement",[...p.conditions_paiement,b]):w("conditions_paiement",p.conditions_paiement.filter(A=>A!==b))},className:"rounded border-gray-300"}),e.jsx(ce,{htmlFor:b,className:"text-sm font-normal",children:b})]},b))})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"politique_retour",children:"Politique de retour"}),e.jsx(ht,{id:"politique_retour",value:p.politique_retour,onChange:b=>w("politique_retour",b.target.value),rows:3})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"garantie",children:"Garantie"}),e.jsx(ht,{id:"garantie",value:p.garantie,onChange:b=>w("garantie",b.target.value),rows:3})]})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[e.jsx(D,{type:"button",variant:"outline",onClick:()=>t("/supplier/dashboard"),children:"Annuler"}),e.jsx(D,{type:"submit",disabled:r,className:"min-w-[120px] bg-gabon-green hover:bg-gabon-green/90 text-white",children:r?"Mise  jour...":"Mettre  jour"})]})]})]})})})},nT=()=>{const{id:t}=Ma(),s=Re(),[r,a]=m.useState(0),{data:o,isLoading:l,error:d}=We({queryKey:["product-preview",t],queryFn:async()=>(await ie.get(`/products/${t}`)).data,enabled:!!t});if(l)return e.jsx(Ys,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{children:"Chargement du produit..."})]})})});if(d||!o)return e.jsx(Ys,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(De,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Produit non trouv"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Ce produit n'existe pas ou vous n'avez pas les droits pour le voir."}),e.jsxs(D,{onClick:()=>s("/supplier/dashboard?tab=products"),children:[e.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Retour  mes produits"]})]})})});const u=o.images||[],h=u.length>0?u[r]:null;return e.jsx(Ys,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(D,{variant:"outline",onClick:()=>s("/supplier/dashboard?tab=products"),children:[e.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Retour  mes produits"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Aperu produit"}),e.jsx("p",{className:"text-gray-600",children:"Vue publique de votre produit"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ne,{className:o.statut==="actif"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:o.statut==="actif"?"Actif":"Inactif"}),e.jsx(D,{variant:"outline",onClick:()=>s(`/supplier/products/edit/${o.id}`),children:"Modifier le produit"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-square bg-white rounded-lg border overflow-hidden",children:h?e.jsx("img",{src:Yt(h.url),alt:h.alt_text||o.nom,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:e.jsx(xS,{className:"w-16 h-16 text-gray-400"})})}),u.length>1&&e.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:u.map((p,v)=>e.jsx("button",{onClick:()=>a(v),className:`flex-shrink-0 w-20 h-20 rounded-lg border-2 overflow-hidden ${r===v?"border-green-500":"border-gray-200"}`,children:e.jsx("img",{src:Yt(p.url),alt:p.alt_text,className:"w-full h-full object-cover"})},p.id))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:o.nom}),o.marque&&e.jsxs("p",{className:"text-lg text-gray-600 mb-4",children:["Marque: ",o.marque]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600",children:wh(o.prix_unitaire)}),e.jsx("span",{className:"text-gray-600",children:"/unit"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((p,v)=>e.jsx(Ct,{className:`w-5 h-5 ${v<Math.floor(o.note_moyenne||0)?"text-yellow-400 fill-current":"text-gray-300"}`},v))}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Mb(o.note_moyenne)," (",Hm(o.nombre_avis)," avis)"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Q,{children:e.jsx(J,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"MOQ"}),e.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[Hm(o.moq)," ",o.unite]})]})})}),e.jsx(Q,{children:e.jsx(J,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Stock"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:Hm(o.stock_disponible)})]})})})]}),o.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-700",children:o.description})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(ot,{className:"w-5 h-5 mr-2"}),"Informations fournisseur"]})}),e.jsx(J,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Entreprise:"})," ",o.nom_entreprise]}),o.port_depart&&e.jsxs("p",{className:"flex items-center",children:[e.jsx(os,{className:"w-4 h-4 mr-2"}),"Port de dpart: ",o.port_depart]}),o.delai_livraison_estime&&e.jsxs("p",{className:"flex items-center",children:[e.jsx(hd,{className:"w-4 h-4 mr-2"}),"Dlai de livraison: ",o.delai_livraison_estime]})]})})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(Gr,{defaultValue:"details",className:"w-full",children:[e.jsxs(yr,{className:"grid w-full grid-cols-4",children:[e.jsx(Ue,{value:"details",children:"Dtails"}),e.jsx(Ue,{value:"specifications",children:"Spcifications"}),e.jsx(Ue,{value:"shipping",children:"Livraison"}),e.jsx(Ue,{value:"certifications",children:"Certifications"})]}),e.jsx(He,{value:"details",className:"mt-6",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Description dtaille"})}),e.jsx(J,{children:e.jsx("div",{className:"prose max-w-none",children:o.description_longue?e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:o.description_longue}):e.jsx("p",{className:"text-gray-500 italic",children:"Aucune description dtaille disponible"})})})]})}),e.jsx(He,{value:"specifications",className:"mt-6",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Spcifications techniques"})}),e.jsx(J,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.materiaux&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Matriaux"}),e.jsx("p",{className:"text-gray-700",children:o.materiaux})]}),o.dimensions&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Dimensions"}),e.jsx("p",{className:"text-gray-700",children:o.dimensions})]}),o.poids&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Poids"}),e.jsxs("p",{className:"text-gray-700",children:[o.poids," kg"]})]}),o.couleurs_disponibles&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Couleurs disponibles"}),e.jsx("p",{className:"text-gray-700",children:o.couleurs_disponibles})]})]})})]})}),e.jsx(He,{value:"shipping",className:"mt-6",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Informations de livraison"})}),e.jsx(J,{children:e.jsxs("div",{className:"space-y-4",children:[o.delai_traitement&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Dlai de traitement"}),e.jsxs("p",{className:"text-gray-700",children:[o.delai_traitement," jours"]})]}),o.port_depart&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Port de dpart"}),e.jsx("p",{className:"text-gray-700",children:o.port_depart})]}),o.politique_retour&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Politique de retour"}),e.jsx("p",{className:"text-gray-700",children:o.politique_retour})]})]})})]})}),e.jsx(He,{value:"certifications",className:"mt-6",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Certifications et garanties"})}),e.jsx(J,{children:e.jsxs("div",{className:"space-y-4",children:[o.certifications&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Certifications"}),e.jsx("p",{className:"text-gray-700",children:o.certifications})]}),o.garantie&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Garantie"}),e.jsx("p",{className:"text-gray-700",children:o.garantie})]})]})})]})})]})})]})})})},aT=()=>{const t=Re(),{data:s}=Rt(),r=ea(),[a,o]=m.useState("overview"),{photoData:l}=Di(),{data:d}=We({queryKey:["buyer-messages"],queryFn:()=>ie.get("/messages")}),{data:u}=We({queryKey:["buyer-favorites"],queryFn:()=>ie.get("/users/favorites")}),h=()=>{r.mutate()},p=()=>[{title:"Messages",value:d?.length?.toString()||"0",icon:Ye,color:"text-purple-600",action:()=>t("/messages")},{title:"Favoris",value:u?.length?.toString()||"0",icon:Kt,color:"text-red-600",action:()=>o("favorites")},{title:"Produits vus",value:"0",icon:Ze,color:"text-yellow-600",action:()=>t("/products")},{title:"Fournisseurs",value:"0",icon:De,color:"text-green-600",action:()=>t("/suppliers")}];return e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"container mx-auto px-4 py-4 sm:py-8",children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-4 gap-4 lg:gap-8",children:[e.jsx("div",{className:"lg:col-span-1 order-2 lg:order-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:[e.jsxs("div",{className:"text-center mb-4 lg:mb-6",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx(Rd,{photoUrl:l?.photo_profil,name:`${s?.nom} ${s?.prenom}`,size:"lg",className:"mx-auto"})}),e.jsxs("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:[s?.nom," ",s?.prenom]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:s?.email}),e.jsx(ne,{variant:"outline",className:"mt-2 text-xs bg-blue-50 text-blue-700",children:"Acheteur"})]}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs(D,{variant:a==="overview"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>o("overview"),children:[e.jsx(bt,{className:"w-4 h-4 mr-2"}),"Vue d'ensemble"]}),e.jsxs(D,{variant:"ghost",className:"w-full justify-start text-sm",onClick:()=>t("/suppliers"),children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"Fournisseurs"]}),e.jsxs(D,{variant:a==="favorites"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>o("favorites"),children:[e.jsx(Kt,{className:"w-4 h-4 mr-2"}),"Mes favoris"]}),e.jsxs(D,{variant:"ghost",className:"w-full justify-start text-sm",onClick:()=>t("/messages"),children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Messages"]}),e.jsxs(D,{variant:"ghost",className:"w-full justify-start text-sm",onClick:()=>t("/products"),children:[e.jsx(pt,{className:"w-4 h-4 mr-2"}),"Parcourir produits"]})]}),e.jsx("div",{className:"mt-4 lg:mt-8 pt-4 lg:pt-6 border-t",children:e.jsxs(D,{variant:"outline",size:"sm",className:"w-full text-red-600 hover:text-red-700 text-sm",onClick:h,disabled:r.isPending,children:[e.jsx(Ca,{className:"w-4 h-4 mr-2"}),r.isPending?"Dconnexion...":"Dconnexion"]})})]})}),e.jsxs("div",{className:"lg:col-span-3 order-1 lg:order-2",children:[a==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tableau de bord acheteur "}),e.jsx("p",{className:"text-gray-600",children:"Bienvenue sur votre espace personnel GabMarketHub"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:p().map((v,f)=>e.jsx(Q,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:v.action,children:e.jsxs(J,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-2 rounded-lg bg-gray-50",children:e.jsx(v.icon,{className:`w-6 h-6 ${v.color}`})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:v.value}),e.jsx("p",{className:"text-sm text-gray-600",children:v.title})]})]})},f))}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Actions rapides"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs(D,{className:"flex flex-col items-center p-6 h-auto space-y-2",onClick:()=>t("/products"),children:[e.jsx(pt,{className:"w-8 h-8"}),e.jsx("span",{children:"Parcourir produits"})]}),e.jsxs(D,{variant:"outline",className:"flex flex-col items-center p-6 h-auto space-y-2",onClick:()=>t("/messages"),children:[e.jsx(Ye,{className:"w-8 h-8"}),e.jsx("span",{children:"Contacter fournisseurs"})]}),e.jsxs(D,{variant:"outline",className:"flex flex-col items-center p-6 h-auto space-y-2",onClick:()=>o("favorites"),children:[e.jsx(Kt,{className:"w-8 h-8"}),e.jsx("span",{children:"Mes favoris"})]})]})]})]}),a==="favorites"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Mes favoris"}),u?.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(v=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium",children:v.nom}),e.jsxs("p",{className:"text-sm text-gray-600",children:[v.prix_unitaire," "]})]},v.id))}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"Aucun favori pour le moment"})]})]})]})})})})};function dt(t){const s=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&s==="[object Date]"?new t.constructor(+t):typeof t=="number"||s==="[object Number]"||typeof t=="string"||s==="[object String]"?new Date(t):new Date(NaN)}function Xn(t,s){return t instanceof Date?new t.constructor(s):new Date(s)}const Ob=6048e5,iT=864e5,Rc=43200,U0=1440;let oT={};function al(){return oT}function Go(t,s){const r=al(),a=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=dt(t),l=o.getDay(),d=(l<a?7:0)+l-a;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function sd(t){return Go(t,{weekStartsOn:1})}function Fb(t){const s=dt(t),r=s.getFullYear(),a=Xn(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const o=sd(a),l=Xn(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const d=sd(l);return s.getTime()>=o.getTime()?r+1:s.getTime()>=d.getTime()?r:r-1}function H0(t){const s=dt(t);return s.setHours(0,0,0,0),s}function rd(t){const s=dt(t),r=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return r.setUTCFullYear(s.getFullYear()),+t-+r}function lT(t,s){const r=H0(t),a=H0(s),o=+r-rd(r),l=+a-rd(a);return Math.round((o-l)/iT)}function cT(t){const s=Fb(t),r=Xn(t,0);return r.setFullYear(s,0,4),r.setHours(0,0,0,0),sd(r)}function zc(t,s){const r=dt(t),a=dt(s),o=r.getTime()-a.getTime();return o<0?-1:o>0?1:o}function dT(t){return Xn(t,Date.now())}function uT(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function mT(t){if(!uT(t)&&typeof t!="number")return!1;const s=dt(t);return!isNaN(Number(s))}function hT(t,s){const r=dt(t),a=dt(s),o=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return o*12+l}function pT(t){return s=>{const a=(t?Math[t]:Math.trunc)(s);return a===0?0:a}}function fT(t,s){return+dt(t)-+dt(s)}function xT(t){const s=dt(t);return s.setHours(23,59,59,999),s}function gT(t){const s=dt(t),r=s.getMonth();return s.setFullYear(s.getFullYear(),r+1,0),s.setHours(23,59,59,999),s}function vT(t){const s=dt(t);return+xT(s)==+gT(s)}function jT(t,s){const r=dt(t),a=dt(s),o=zc(r,a),l=Math.abs(hT(r,a));let d;if(l<1)d=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*l);let u=zc(r,a)===-o;vT(dt(t))&&l===1&&zc(t,a)===1&&(u=!1),d=o*(l-Number(u))}return d===0?0:d}function yT(t,s,r){const a=fT(t,s)/1e3;return pT(r?.roundingMethod)(a)}function bT(t){const s=dt(t),r=Xn(t,0);return r.setFullYear(s.getFullYear(),0,1),r.setHours(0,0,0,0),r}const NT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wT=(t,s,r)=>{let a;const o=NT[t];return typeof o=="string"?a=o:s===1?a=o.one:a=o.other.replace("{{count}}",s.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function xi(t){return(s={})=>{const r=s.width?String(s.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const CT={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ST={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_T={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kT={date:xi({formats:CT,defaultWidth:"full"}),time:xi({formats:ST,defaultWidth:"full"}),dateTime:xi({formats:_T,defaultWidth:"full"})},ET={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PT=(t,s,r,a)=>ET[t];function Ar(t){return(s,r)=>{const a=r?.context?String(r.context):"standalone";let o;if(a==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,u=r?.width?String(r.width):d;o=t.formattingValues[u]||t.formattingValues[d]}else{const d=t.defaultWidth,u=r?.width?String(r.width):t.defaultWidth;o=t.values[u]||t.values[d]}const l=t.argumentCallback?t.argumentCallback(s):s;return o[l]}}const TT={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},RT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},AT={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MT={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},DT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LT=(t,s)=>{const r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},OT={ordinalNumber:LT,era:Ar({values:TT,defaultWidth:"wide"}),quarter:Ar({values:RT,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ar({values:AT,defaultWidth:"wide"}),day:Ar({values:MT,defaultWidth:"wide"}),dayPeriod:Ar({values:DT,defaultWidth:"wide",formattingValues:IT,defaultFormattingWidth:"wide"})};function Mr(t){return(s,r={})=>{const a=r.width,o=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],l=s.match(o);if(!l)return null;const d=l[0],u=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?zT(u,f=>f.test(d)):FT(u,f=>f.test(d));let p;p=t.valueCallback?t.valueCallback(h):h,p=r.valueCallback?r.valueCallback(p):p;const v=s.slice(d.length);return{value:p,rest:v}}}function FT(t,s){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&s(t[r]))return r}function zT(t,s){for(let r=0;r<t.length;r++)if(s(t[r]))return r}function zb(t){return(s,r={})=>{const a=s.match(t.matchPattern);if(!a)return null;const o=a[0],l=s.match(t.parsePattern);if(!l)return null;let d=t.valueCallback?t.valueCallback(l[0]):l[0];d=r.valueCallback?r.valueCallback(d):d;const u=s.slice(o.length);return{value:d,rest:u}}}const $T=/^(\d+)(th|st|nd|rd)?/i,qT=/\d+/i,BT={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},VT={any:[/^b/i,/^(a|c)/i]},UT={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HT={any:[/1/i,/2/i,/3/i,/4/i]},WT={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KT={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},XT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},YT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QT={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},JT={ordinalNumber:zb({matchPattern:$T,parsePattern:qT,valueCallback:t=>parseInt(t,10)}),era:Mr({matchPatterns:BT,defaultMatchWidth:"wide",parsePatterns:VT,defaultParseWidth:"any"}),quarter:Mr({matchPatterns:UT,defaultMatchWidth:"wide",parsePatterns:HT,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Mr({matchPatterns:WT,defaultMatchWidth:"wide",parsePatterns:GT,defaultParseWidth:"any"}),day:Mr({matchPatterns:KT,defaultMatchWidth:"wide",parsePatterns:XT,defaultParseWidth:"any"}),dayPeriod:Mr({matchPatterns:YT,defaultMatchWidth:"any",parsePatterns:QT,defaultParseWidth:"any"})},$b={code:"en-US",formatDistance:wT,formatLong:kT,formatRelative:PT,localize:OT,match:JT,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ZT(t){const s=dt(t);return lT(s,bT(s))+1}function eR(t){const s=dt(t),r=+sd(s)-+cT(s);return Math.round(r/Ob)+1}function qb(t,s){const r=dt(t),a=r.getFullYear(),o=al(),l=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,d=Xn(t,0);d.setFullYear(a+1,0,l),d.setHours(0,0,0,0);const u=Go(d,s),h=Xn(t,0);h.setFullYear(a,0,l),h.setHours(0,0,0,0);const p=Go(h,s);return r.getTime()>=u.getTime()?a+1:r.getTime()>=p.getTime()?a:a-1}function tR(t,s){const r=al(),a=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=qb(t,s),l=Xn(t,0);return l.setFullYear(o,0,a),l.setHours(0,0,0,0),Go(l,s)}function sR(t,s){const r=dt(t),a=+Go(r,s)-+tR(r,s);return Math.round(a/Ob)+1}function it(t,s){const r=t<0?"-":"",a=Math.abs(t).toString().padStart(s,"0");return r+a}const Fn={y(t,s){const r=t.getFullYear(),a=r>0?r:1-r;return it(s==="yy"?a%100:a,s.length)},M(t,s){const r=t.getMonth();return s==="M"?String(r+1):it(r+1,2)},d(t,s){return it(t.getDate(),s.length)},a(t,s){const r=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,s){return it(t.getHours()%12||12,s.length)},H(t,s){return it(t.getHours(),s.length)},m(t,s){return it(t.getMinutes(),s.length)},s(t,s){return it(t.getSeconds(),s.length)},S(t,s){const r=s.length,a=t.getMilliseconds(),o=Math.trunc(a*Math.pow(10,r-3));return it(o,s.length)}},ci={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},W0={G:function(t,s,r){const a=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,s,r){if(s==="yo"){const a=t.getFullYear(),o=a>0?a:1-a;return r.ordinalNumber(o,{unit:"year"})}return Fn.y(t,s)},Y:function(t,s,r,a){const o=qb(t,a),l=o>0?o:1-o;if(s==="YY"){const d=l%100;return it(d,2)}return s==="Yo"?r.ordinalNumber(l,{unit:"year"}):it(l,s.length)},R:function(t,s){const r=Fb(t);return it(r,s.length)},u:function(t,s){const r=t.getFullYear();return it(r,s.length)},Q:function(t,s,r){const a=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(a);case"QQ":return it(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,s,r){const a=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(a);case"qq":return it(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,s,r){const a=t.getMonth();switch(s){case"M":case"MM":return Fn.M(t,s);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,s,r){const a=t.getMonth();switch(s){case"L":return String(a+1);case"LL":return it(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,s,r,a){const o=sR(t,a);return s==="wo"?r.ordinalNumber(o,{unit:"week"}):it(o,s.length)},I:function(t,s,r){const a=eR(t);return s==="Io"?r.ordinalNumber(a,{unit:"week"}):it(a,s.length)},d:function(t,s,r){return s==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Fn.d(t,s)},D:function(t,s,r){const a=ZT(t);return s==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):it(a,s.length)},E:function(t,s,r){const a=t.getDay();switch(s){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,s,r,a){const o=t.getDay(),l=(o-a.weekStartsOn+8)%7||7;switch(s){case"e":return String(l);case"ee":return it(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,s,r,a){const o=t.getDay(),l=(o-a.weekStartsOn+8)%7||7;switch(s){case"c":return String(l);case"cc":return it(l,s.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,s,r){const a=t.getDay(),o=a===0?7:a;switch(s){case"i":return String(o);case"ii":return it(o,s.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,s,r){const o=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,s,r){const a=t.getHours();let o;switch(a===12?o=ci.noon:a===0?o=ci.midnight:o=a/12>=1?"pm":"am",s){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,s,r){const a=t.getHours();let o;switch(a>=17?o=ci.evening:a>=12?o=ci.afternoon:a>=4?o=ci.morning:o=ci.night,s){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,s,r){if(s==="ho"){let a=t.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Fn.h(t,s)},H:function(t,s,r){return s==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Fn.H(t,s)},K:function(t,s,r){const a=t.getHours()%12;return s==="Ko"?r.ordinalNumber(a,{unit:"hour"}):it(a,s.length)},k:function(t,s,r){let a=t.getHours();return a===0&&(a=24),s==="ko"?r.ordinalNumber(a,{unit:"hour"}):it(a,s.length)},m:function(t,s,r){return s==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Fn.m(t,s)},s:function(t,s,r){return s==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Fn.s(t,s)},S:function(t,s){return Fn.S(t,s)},X:function(t,s,r){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(s){case"X":return K0(a);case"XXXX":case"XX":return ba(a);case"XXXXX":case"XXX":default:return ba(a,":")}},x:function(t,s,r){const a=t.getTimezoneOffset();switch(s){case"x":return K0(a);case"xxxx":case"xx":return ba(a);case"xxxxx":case"xxx":default:return ba(a,":")}},O:function(t,s,r){const a=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+G0(a,":");case"OOOO":default:return"GMT"+ba(a,":")}},z:function(t,s,r){const a=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+G0(a,":");case"zzzz":default:return"GMT"+ba(a,":")}},t:function(t,s,r){const a=Math.trunc(t.getTime()/1e3);return it(a,s.length)},T:function(t,s,r){const a=t.getTime();return it(a,s.length)}};function G0(t,s=""){const r=t>0?"-":"+",a=Math.abs(t),o=Math.trunc(a/60),l=a%60;return l===0?r+String(o):r+String(o)+s+it(l,2)}function K0(t,s){return t%60===0?(t>0?"-":"+")+it(Math.abs(t)/60,2):ba(t,s)}function ba(t,s=""){const r=t>0?"-":"+",a=Math.abs(t),o=it(Math.trunc(a/60),2),l=it(a%60,2);return r+o+s+l}const X0=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},Bb=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},rR=(t,s)=>{const r=t.match(/(P+)(p+)?/)||[],a=r[1],o=r[2];if(!o)return X0(t,s);let l;switch(a){case"P":l=s.dateTime({width:"short"});break;case"PP":l=s.dateTime({width:"medium"});break;case"PPP":l=s.dateTime({width:"long"});break;case"PPPP":default:l=s.dateTime({width:"full"});break}return l.replace("{{date}}",X0(a,s)).replace("{{time}}",Bb(o,s))},nR={p:Bb,P:rR},aR=/^D+$/,iR=/^Y+$/,oR=["D","DD","YY","YYYY"];function lR(t){return aR.test(t)}function cR(t){return iR.test(t)}function dR(t,s,r){const a=uR(t,s,r);if(console.warn(a),oR.includes(t))throw new RangeError(a)}function uR(t,s,r){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pR=/^'([^]*?)'?$/,fR=/''/g,xR=/[a-zA-Z]/;function $c(t,s,r){const a=al(),o=r?.locale??a.locale??$b,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,u=dt(t);if(!mT(u))throw new RangeError("Invalid time value");let h=s.match(hR).map(v=>{const f=v[0];if(f==="p"||f==="P"){const g=nR[f];return g(v,o.formatLong)}return v}).join("").match(mR).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const f=v[0];if(f==="'")return{isToken:!1,value:gR(v)};if(W0[f])return{isToken:!0,value:v};if(f.match(xR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(h=o.localize.preprocessor(u,h));const p={firstWeekContainsDate:l,weekStartsOn:d,locale:o};return h.map(v=>{if(!v.isToken)return v.value;const f=v.value;(!r?.useAdditionalWeekYearTokens&&cR(f)||!r?.useAdditionalDayOfYearTokens&&lR(f))&&dR(f,s,String(t));const g=W0[f[0]];return g(u,f,o.localize,p)}).join("")}function gR(t){const s=t.match(pR);return s?s[1].replace(fR,"'"):t}function vR(t,s,r){const a=al(),o=r?.locale??a.locale??$b,l=2520,d=zc(t,s);if(isNaN(d))throw new RangeError("Invalid time value");const u=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:d});let h,p;d>0?(h=dt(s),p=dt(t)):(h=dt(t),p=dt(s));const v=yT(p,h),f=(rd(p)-rd(h))/1e3,g=Math.round((v-f)/60);let N;if(g<2)return r?.includeSeconds?v<5?o.formatDistance("lessThanXSeconds",5,u):v<10?o.formatDistance("lessThanXSeconds",10,u):v<20?o.formatDistance("lessThanXSeconds",20,u):v<40?o.formatDistance("halfAMinute",0,u):v<60?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",1,u):g===0?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",g,u);if(g<45)return o.formatDistance("xMinutes",g,u);if(g<90)return o.formatDistance("aboutXHours",1,u);if(g<U0){const k=Math.round(g/60);return o.formatDistance("aboutXHours",k,u)}else{if(g<l)return o.formatDistance("xDays",1,u);if(g<Rc){const k=Math.round(g/U0);return o.formatDistance("xDays",k,u)}else if(g<Rc*2)return N=Math.round(g/Rc),o.formatDistance("aboutXMonths",N,u)}if(N=jT(p,h),N<12){const k=Math.round(g/Rc);return o.formatDistance("xMonths",k,u)}else{const k=N%12,y=Math.trunc(N/12);return k<3?o.formatDistance("aboutXYears",y,u):k<9?o.formatDistance("overXYears",y,u):o.formatDistance("almostXYears",y+1,u)}}function jR(t,s){return vR(t,dT(t),s)}const yR={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},bR=(t,s,r)=>{let a;const o=yR[t];return typeof o=="string"?a=o:s===1?a=o.one:a=o.other.replace("{{count}}",String(s)),r?.addSuffix?r.comparison&&r.comparison>0?"dans "+a:"il y a "+a:a},NR={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},wR={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},CR={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SR={date:xi({formats:NR,defaultWidth:"full"}),time:xi({formats:wR,defaultWidth:"full"}),dateTime:xi({formats:CR,defaultWidth:"full"})},_R={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},kR=(t,s,r,a)=>_R[t],ER={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},PR={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},TR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},RR={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},AR={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},MR=(t,s)=>{const r=Number(t),a=s?.unit;if(r===0)return"0";const o=["year","week","hour","minute","second"];let l;return r===1?l=a&&o.includes(a)?"re":"er":l="me",r+l},DR=["MMM","MMMM"],IR={preprocessor:(t,s)=>t.getDate()===1||!s.some(a=>a.isToken&&DR.includes(a.value))?s:s.map(a=>a.isToken&&a.value==="do"?{isToken:!0,value:"d"}:a),ordinalNumber:MR,era:Ar({values:ER,defaultWidth:"wide"}),quarter:Ar({values:PR,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ar({values:TR,defaultWidth:"wide"}),day:Ar({values:RR,defaultWidth:"wide"}),dayPeriod:Ar({values:AR,defaultWidth:"wide"})},LR=/^(\d+)(ime|re|me|er|e)?/i,OR=/\d+/i,FR={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},zR={any:[/^av/i,/^ap/i]},$R={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},qR={any:[/1/i,/2/i,/3/i,/4/i]},BR={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},VR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},UR={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},HR={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},WR={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},GR={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},KR={ordinalNumber:zb({matchPattern:LR,parsePattern:OR,valueCallback:t=>parseInt(t)}),era:Mr({matchPatterns:FR,defaultMatchWidth:"wide",parsePatterns:zR,defaultParseWidth:"any"}),quarter:Mr({matchPatterns:$R,defaultMatchWidth:"wide",parsePatterns:qR,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Mr({matchPatterns:BR,defaultMatchWidth:"wide",parsePatterns:VR,defaultParseWidth:"any"}),day:Mr({matchPatterns:UR,defaultMatchWidth:"wide",parsePatterns:HR,defaultParseWidth:"any"}),dayPeriod:Mr({matchPatterns:WR,defaultMatchWidth:"any",parsePatterns:GR,defaultParseWidth:"any"})},Fo={code:"fr",formatDistance:bR,formatLong:SR,formatRelative:kR,localize:IR,match:KR,options:{weekStartsOn:1,firstWeekContainsDate:4}},Vb=t=>{try{if(t instanceof Date&&!isNaN(t.getTime()))return t;if(!t||t==="null"||t==="undefined"||t===null||t===void 0||t===""||typeof t=="object"&&t!==null&&!(t instanceof Date)&&Object.keys(t).length===0)return null;const s=new Date(t);if(isNaN(s.getTime())){if(typeof t=="string"){const r=new Date(t.replace(" ","T"));if(!isNaN(r.getTime()))return r;const a=new Date(t+"T00:00:00");if(!isNaN(a.getTime()))return a}return console.warn("Impossible de parser la date:",t,"Type:",typeof t),null}return s}catch(s){return console.warn("Erreur lors de la normalisation de la date:",t,"Error:",s),null}},Ub=(t,s={})=>{const{addSuffix:r=!0,fallback:a="Rcemment",format:o="relative",dateFormat:l="dd/MM/yyyy HH:mm"}=s;try{const d=Vb(t);return d?o==="absolute"?$c(d,l,{locale:Fo}):jR(d,{addSuffix:r,locale:Fo}):a}catch(d){return console.warn("Erreur lors du formatage de la date:",t,"Error:",d),a}},XR=t=>{const s=Vb(t);if(!s)return"";const r=new Date,a=new Date(r.getFullYear(),r.getMonth(),r.getDate()),o=new Date(s.getFullYear(),s.getMonth(),s.getDate());if(o.getTime()===a.getTime())return $c(s,"HH:mm",{locale:Fo});const l=new Date(a);return l.setDate(l.getDate()-1),o.getTime()===l.getTime()?`Hier ${$c(s,"HH:mm",{locale:Fo})}`:$c(s,"dd/MM/yyyy HH:mm",{locale:Fo})},Hb=({conversations:t,selectedConversation:s,onSelectConversation:r,currentUserId:a})=>{const o=p=>a===p.acheteur_id?p.nom_entreprise||`${p.fournisseur_prenom} ${p.fournisseur_nom}`.trim():`${p.acheteur_prenom} ${p.acheteur_nom}`.trim(),l=p=>a===p.acheteur_id?p.nom_entreprise?e.jsx(cn,{className:"h-4 w-4"}):e.jsx(Xe,{className:"h-4 w-4"}):e.jsx(Xe,{className:"h-4 w-4"}),d=p=>a===p.acheteur_id?p.messages_non_lus_acheteur||0:p.messages_non_lus_fournisseur||0,u=p=>Ub(p.derniere_activite||p.updated_at,{addSuffix:!0,fallback:"Rcemment",format:"relative"}),h=p=>p.statut==="fermee"?e.jsx(dS,{className:"h-4 w-4 text-green-500"}):e.jsx(Ye,{className:"h-4 w-4 text-blue-500"});return e.jsx("div",{className:"divide-y divide-border",children:t.map(p=>{const v=s?.id===p.id,f=d(p),g=o(p),N=u(p);return e.jsx("div",{className:`
              p-4 cursor-pointer transition-colors hover:bg-muted/50
              ${v?"bg-primary/10 border-r-2 border-primary":""}
            `,onClick:()=>r(p),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`
                  h-10 w-10 rounded-full flex items-center justify-center
                  ${v?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}
                `,children:l(p)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:`
                    font-medium text-sm truncate
                    ${f>0?"font-semibold":""}
                  `,children:g}),e.jsxs("div",{className:"flex items-center gap-1",children:[h(p),e.jsx("span",{className:"text-xs text-muted-foreground",children:N})]})]}),p.sujet&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-1",children:p.sujet}),p.dernier_message&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:p.dernier_message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{variant:p.statut==="fermee"?"secondary":"default",className:"text-xs",children:p.statut==="fermee"?"Ferme":"Active"}),p.priorite&&p.priorite!=="normale"&&e.jsx(ne,{variant:p.priorite==="urgente"?"destructive":"secondary",className:"text-xs",children:p.priorite==="urgente"?"Urgente":"Haute"})]}),f>0&&e.jsx(ne,{variant:"destructive",className:"text-xs px-2 py-1 min-w-[20px] h-5 flex items-center justify-center",children:f>99?"99+":f})]})]})]})},p.id)})})};class YR{constructor(){this.baseUrl="/api"}async request(s,r={}){const a=localStorage.getItem("authToken"),o=await fetch(`${this.baseUrl}${s}`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json",...r.headers},...r});if(!o.ok){const l=await o.json().catch(()=>({}));throw new Error(l.error||`HTTP ${o.status}: ${o.statusText}`)}return o.json()}async getConversations(){return(await this.request("/conversations")).data||[]}async createConversation(s,r){const a=await this.request("/conversations",{method:"POST",body:JSON.stringify({fournisseur_id:s,sujet:r})});if(!a.data)throw new Error("Erreur lors de la cration de la conversation");return a.data}async getMessages(s){return(await this.request(`/conversations/${s}/messages`)).data||[]}async sendMessage(s,r){const a=await this.request(`/conversations/${s}/messages`,{method:"POST",body:JSON.stringify({contenu:r})});if(!a.data)throw new Error("Erreur lors de l'envoi du message");return a.data}async markAsRead(s,r){await this.request(`/conversations/${s}/messages/read`,{method:"POST",body:JSON.stringify({message_ids:r})})}async getSuppliers(){const s=await this.request("/entreprises?type=fournisseur&limit=50");return s.data||s.entreprises||[]}}const Wm=new YR,Vr=Object.create(null);Vr.open="0";Vr.close="1";Vr.ping="2";Vr.pong="3";Vr.message="4";Vr.upgrade="5";Vr.noop="6";const qc=Object.create(null);Object.keys(Vr).forEach(t=>{qc[Vr[t]]=t});const Ch={type:"error",data:"parser error"},Wb=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Gb=typeof ArrayBuffer=="function",Kb=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Tp=({type:t,data:s},r,a)=>Wb&&s instanceof Blob?r?a(s):Y0(s,a):Gb&&(s instanceof ArrayBuffer||Kb(s))?r?a(s):Y0(new Blob([s]),a):a(Vr[t]+(s||"")),Y0=(t,s)=>{const r=new FileReader;return r.onload=function(){const a=r.result.split(",")[1];s("b"+(a||""))},r.readAsDataURL(t)};function Q0(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Gm;function QR(t,s){if(Wb&&t.data instanceof Blob)return t.data.arrayBuffer().then(Q0).then(s);if(Gb&&(t.data instanceof ArrayBuffer||Kb(t.data)))return s(Q0(t.data));Tp(t,!1,r=>{Gm||(Gm=new TextEncoder),s(Gm.encode(r))})}const J0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<J0.length;t++)Mo[J0.charCodeAt(t)]=t;const JR=t=>{let s=t.length*.75,r=t.length,a,o=0,l,d,u,h;t[t.length-1]==="="&&(s--,t[t.length-2]==="="&&s--);const p=new ArrayBuffer(s),v=new Uint8Array(p);for(a=0;a<r;a+=4)l=Mo[t.charCodeAt(a)],d=Mo[t.charCodeAt(a+1)],u=Mo[t.charCodeAt(a+2)],h=Mo[t.charCodeAt(a+3)],v[o++]=l<<2|d>>4,v[o++]=(d&15)<<4|u>>2,v[o++]=(u&3)<<6|h&63;return p},ZR=typeof ArrayBuffer=="function",Rp=(t,s)=>{if(typeof t!="string")return{type:"message",data:Xb(t,s)};const r=t.charAt(0);return r==="b"?{type:"message",data:eA(t.substring(1),s)}:qc[r]?t.length>1?{type:qc[r],data:t.substring(1)}:{type:qc[r]}:Ch},eA=(t,s)=>{if(ZR){const r=JR(t);return Xb(r,s)}else return{base64:!0,data:t}},Xb=(t,s)=>{switch(s){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Yb="",tA=(t,s)=>{const r=t.length,a=new Array(r);let o=0;t.forEach((l,d)=>{Tp(l,!1,u=>{a[d]=u,++o===r&&s(a.join(Yb))})})},sA=(t,s)=>{const r=t.split(Yb),a=[];for(let o=0;o<r.length;o++){const l=Rp(r[o],s);if(a.push(l),l.type==="error")break}return a};function rA(){return new TransformStream({transform(t,s){QR(t,r=>{const a=r.length;let o;if(a<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,a);else if(a<65536){o=new Uint8Array(3);const l=new DataView(o.buffer);l.setUint8(0,126),l.setUint16(1,a)}else{o=new Uint8Array(9);const l=new DataView(o.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(a))}t.data&&typeof t.data!="string"&&(o[0]|=128),s.enqueue(o),s.enqueue(r)})}})}let Km;function Ac(t){return t.reduce((s,r)=>s+r.length,0)}function Mc(t,s){if(t[0].length===s)return t.shift();const r=new Uint8Array(s);let a=0;for(let o=0;o<s;o++)r[o]=t[0][a++],a===t[0].length&&(t.shift(),a=0);return t.length&&a<t[0].length&&(t[0]=t[0].slice(a)),r}function nA(t,s){Km||(Km=new TextDecoder);const r=[];let a=0,o=-1,l=!1;return new TransformStream({transform(d,u){for(r.push(d);;){if(a===0){if(Ac(r)<1)break;const h=Mc(r,1);l=(h[0]&128)===128,o=h[0]&127,o<126?a=3:o===126?a=1:a=2}else if(a===1){if(Ac(r)<2)break;const h=Mc(r,2);o=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),a=3}else if(a===2){if(Ac(r)<8)break;const h=Mc(r,8),p=new DataView(h.buffer,h.byteOffset,h.length),v=p.getUint32(0);if(v>Math.pow(2,21)-1){u.enqueue(Ch);break}o=v*Math.pow(2,32)+p.getUint32(4),a=3}else{if(Ac(r)<o)break;const h=Mc(r,o);u.enqueue(Rp(l?h:Km.decode(h),s)),a=0}if(o===0||o>t){u.enqueue(Ch);break}}}})}const Qb=4;function Mt(t){if(t)return aA(t)}function aA(t){for(var s in Mt.prototype)t[s]=Mt.prototype[s];return t}Mt.prototype.on=Mt.prototype.addEventListener=function(t,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(s),this};Mt.prototype.once=function(t,s){function r(){this.off(t,r),s.apply(this,arguments)}return r.fn=s,this.on(t,r),this};Mt.prototype.off=Mt.prototype.removeListener=Mt.prototype.removeAllListeners=Mt.prototype.removeEventListener=function(t,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var a,o=0;o<r.length;o++)if(a=r[o],a===s||a.fn===s){r.splice(o,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Mt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),r=this._callbacks["$"+t],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(r){r=r.slice(0);for(var a=0,o=r.length;a<o;++a)r[a].apply(this,s)}return this};Mt.prototype.emitReserved=Mt.prototype.emit;Mt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Mt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Ad=typeof Promise=="function"&&typeof Promise.resolve=="function"?s=>Promise.resolve().then(s):(s,r)=>r(s,0),Bs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),iA="arraybuffer";function Jb(t,...s){return s.reduce((r,a)=>(t.hasOwnProperty(a)&&(r[a]=t[a]),r),{})}const oA=Bs.setTimeout,lA=Bs.clearTimeout;function Md(t,s){s.useNativeTimers?(t.setTimeoutFn=oA.bind(Bs),t.clearTimeoutFn=lA.bind(Bs)):(t.setTimeoutFn=Bs.setTimeout.bind(Bs),t.clearTimeoutFn=Bs.clearTimeout.bind(Bs))}const cA=1.33;function dA(t){return typeof t=="string"?uA(t):Math.ceil((t.byteLength||t.size)*cA)}function uA(t){let s=0,r=0;for(let a=0,o=t.length;a<o;a++)s=t.charCodeAt(a),s<128?r+=1:s<2048?r+=2:s<55296||s>=57344?r+=3:(a++,r+=4);return r}function Zb(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function mA(t){let s="";for(let r in t)t.hasOwnProperty(r)&&(s.length&&(s+="&"),s+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return s}function hA(t){let s={},r=t.split("&");for(let a=0,o=r.length;a<o;a++){let l=r[a].split("=");s[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return s}class pA extends Error{constructor(s,r,a){super(s),this.description=r,this.context=a,this.type="TransportError"}}class Ap extends Mt{constructor(s){super(),this.writable=!1,Md(this,s),this.opts=s,this.query=s.query,this.socket=s.socket,this.supportsBinary=!s.forceBase64}onError(s,r,a){return super.emitReserved("error",new pA(s,r,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(s){this.readyState==="open"&&this.write(s)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(s){const r=Rp(s,this.socket.binaryType);this.onPacket(r)}onPacket(s){super.emitReserved("packet",s)}onClose(s){this.readyState="closed",super.emitReserved("close",s)}pause(s){}createUri(s,r={}){return s+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const s=this.opts.hostname;return s.indexOf(":")===-1?s:"["+s+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(s){const r=mA(s);return r.length?"?"+r:""}}class fA extends Ap{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(s){this.readyState="pausing";const r=()=>{this.readyState="paused",s()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||r()})),this.writable||(a++,this.once("drain",function(){--a||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(s){const r=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};sA(s,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const s=()=>{this.write([{type:"close"}])};this.readyState==="open"?s():this.once("open",s)}write(s){this.writable=!1,tA(s,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const s=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Zb()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(s,r)}}let eN=!1;try{eN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const xA=eN;function gA(){}class vA extends fA{constructor(s){if(super(s),typeof location<"u"){const r=location.protocol==="https:";let a=location.port;a||(a=r?"443":"80"),this.xd=typeof location<"u"&&s.hostname!==location.hostname||a!==s.port}}doWrite(s,r){const a=this.request({method:"POST",data:s});a.on("success",r),a.on("error",(o,l)=>{this.onError("xhr post error",o,l)})}doPoll(){const s=this.request();s.on("data",this.onData.bind(this)),s.on("error",(r,a)=>{this.onError("xhr poll error",r,a)}),this.pollXhr=s}}class qr extends Mt{constructor(s,r,a){super(),this.createRequest=s,Md(this,a),this._opts=a,this._method=a.method||"GET",this._uri=r,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var s;const r=Jb(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(r);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&a.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(s=this._opts.cookieJar)===null||s===void 0||s.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var o;a.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=qr.requestsCount++,qr.requests[this._index]=this)}_onError(s){this.emitReserved("error",s,this._xhr),this._cleanup(!0)}_cleanup(s){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=gA,s)try{this._xhr.abort()}catch{}typeof document<"u"&&delete qr.requests[this._index],this._xhr=null}}_onLoad(){const s=this._xhr.responseText;s!==null&&(this.emitReserved("data",s),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}qr.requestsCount=0;qr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Z0);else if(typeof addEventListener=="function"){const t="onpagehide"in Bs?"pagehide":"unload";addEventListener(t,Z0,!1)}}function Z0(){for(let t in qr.requests)qr.requests.hasOwnProperty(t)&&qr.requests[t].abort()}const jA=(function(){const t=tN({xdomain:!1});return t&&t.responseType!==null})();class yA extends vA{constructor(s){super(s);const r=s&&s.forceBase64;this.supportsBinary=jA&&!r}request(s={}){return Object.assign(s,{xd:this.xd},this.opts),new qr(tN,this.uri(),s)}}function tN(t){const s=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!s||xA))return new XMLHttpRequest}catch{}if(!s)try{return new Bs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const sN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class bA extends Ap{get name(){return"websocket"}doOpen(){const s=this.uri(),r=this.opts.protocols,a=sN?{}:Jb(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(s,r,a)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=s=>this.onClose({description:"websocket connection closed",context:s}),this.ws.onmessage=s=>this.onData(s.data),this.ws.onerror=s=>this.onError("websocket error",s)}write(s){this.writable=!1;for(let r=0;r<s.length;r++){const a=s[r],o=r===s.length-1;Tp(a,this.supportsBinary,l=>{try{this.doWrite(a,l)}catch{}o&&Ad(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const s=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Zb()),this.supportsBinary||(r.b64=1),this.createUri(s,r)}}const Xm=Bs.WebSocket||Bs.MozWebSocket;class NA extends bA{createSocket(s,r,a){return sN?new Xm(s,r,a):r?new Xm(s,r):new Xm(s)}doWrite(s,r){this.ws.send(r)}}class wA extends Ap{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(s){return this.emitReserved("error",s)}this._transport.closed.then(()=>{this.onClose()}).catch(s=>{this.onError("webtransport error",s)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(s=>{const r=nA(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=s.readable.pipeThrough(r).getReader(),o=rA();o.readable.pipeTo(s.writable),this._writer=o.writable.getWriter();const l=()=>{a.read().then(({done:u,value:h})=>{u||(this.onPacket(h),l())}).catch(u=>{})};l();const d={type:"open"};this.query.sid&&(d.data=`{"sid":"${this.query.sid}"}`),this._writer.write(d).then(()=>this.onOpen())})})}write(s){this.writable=!1;for(let r=0;r<s.length;r++){const a=s[r],o=r===s.length-1;this._writer.write(a).then(()=>{o&&Ad(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var s;(s=this._transport)===null||s===void 0||s.close()}}const CA={websocket:NA,webtransport:wA,polling:yA},SA=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_A=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Sh(t){if(t.length>8e3)throw"URI too long";const s=t,r=t.indexOf("["),a=t.indexOf("]");r!=-1&&a!=-1&&(t=t.substring(0,r)+t.substring(r,a).replace(/:/g,";")+t.substring(a,t.length));let o=SA.exec(t||""),l={},d=14;for(;d--;)l[_A[d]]=o[d]||"";return r!=-1&&a!=-1&&(l.source=s,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=kA(l,l.path),l.queryKey=EA(l,l.query),l}function kA(t,s){const r=/\/{2,9}/g,a=s.replace(r,"/").split("/");return(s.slice(0,1)=="/"||s.length===0)&&a.splice(0,1),s.slice(-1)=="/"&&a.splice(a.length-1,1),a}function EA(t,s){const r={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,o,l){o&&(r[o]=l)}),r}const _h=typeof addEventListener=="function"&&typeof removeEventListener=="function",Bc=[];_h&&addEventListener("offline",()=>{Bc.forEach(t=>t())},!1);class Bn extends Mt{constructor(s,r){if(super(),this.binaryType=iA,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,s&&typeof s=="object"&&(r=s,s=null),s){const a=Sh(s);r.hostname=a.host,r.secure=a.protocol==="https"||a.protocol==="wss",r.port=a.port,a.query&&(r.query=a.query)}else r.host&&(r.hostname=Sh(r.host).host);Md(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(a=>{const o=a.prototype.name;this.transports.push(o),this._transportsByName[o]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=hA(this.opts.query)),_h&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Bc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(s){const r=Object.assign({},this.opts.query);r.EIO=Qb,r.transport=s,this.id&&(r.sid=this.id);const a=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[s]);return new this._transportsByName[s](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const s=this.opts.rememberUpgrade&&Bn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(s);r.open(),this.setTransport(r)}setTransport(s){this.transport&&this.transport.removeAllListeners(),this.transport=s,s.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Bn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",s),this.emitReserved("heartbeat"),s.type){case"open":this.onHandshake(JSON.parse(s.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=s.data,this._onError(r);break;case"message":this.emitReserved("data",s.data),this.emitReserved("message",s.data);break}}onHandshake(s){this.emitReserved("handshake",s),this.id=s.sid,this.transport.query.sid=s.sid,this._pingInterval=s.pingInterval,this._pingTimeout=s.pingTimeout,this._maxPayload=s.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const s=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+s,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},s),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const s=this._getWritablePackets();this.transport.send(s),this._prevBufferLen=s.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let a=0;a<this.writeBuffer.length;a++){const o=this.writeBuffer[a].data;if(o&&(r+=dA(o)),a>0&&r>this._maxPayload)return this.writeBuffer.slice(0,a);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const s=Date.now()>this._pingTimeoutTime;return s&&(this._pingTimeoutTime=0,Ad(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),s}write(s,r,a){return this._sendPacket("message",s,r,a),this}send(s,r,a){return this._sendPacket("message",s,r,a),this}_sendPacket(s,r,a,o){if(typeof r=="function"&&(o=r,r=void 0),typeof a=="function"&&(o=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const l={type:s,data:r,options:a};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),o&&this.once("flush",o),this.flush()}close(){const s=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),s()},a=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():s()}):this.upgrading?a():s()),this}_onError(s){if(Bn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",s),this._onClose("transport error",s)}_onClose(s,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),_h&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=Bc.indexOf(this._offlineEventListener);a!==-1&&Bc.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",s,r),this.writeBuffer=[],this._prevBufferLen=0}}}Bn.protocol=Qb;class PA extends Bn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let s=0;s<this._upgrades.length;s++)this._probe(this._upgrades[s])}_probe(s){let r=this.createTransport(s),a=!1;Bn.priorWebsocketSuccess=!1;const o=()=>{a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!a)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Bn.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(v(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function l(){a||(a=!0,v(),r.close(),r=null)}const d=f=>{const g=new Error("probe error: "+f);g.transport=r.name,l(),this.emitReserved("upgradeError",g)};function u(){d("transport closed")}function h(){d("socket closed")}function p(f){r&&f.name!==r.name&&l()}const v=()=>{r.removeListener("open",o),r.removeListener("error",d),r.removeListener("close",u),this.off("close",h),this.off("upgrading",p)};r.once("open",o),r.once("error",d),r.once("close",u),this.once("close",h),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&s!=="webtransport"?this.setTimeoutFn(()=>{a||r.open()},200):r.open()}onHandshake(s){this._upgrades=this._filterUpgrades(s.upgrades),super.onHandshake(s)}_filterUpgrades(s){const r=[];for(let a=0;a<s.length;a++)~this.transports.indexOf(s[a])&&r.push(s[a]);return r}}let TA=class extends PA{constructor(s,r={}){const a=typeof s=="object"?s:r;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(o=>CA[o]).filter(o=>!!o)),super(s,a)}};function RA(t,s="",r){let a=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),a=Sh(t)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const l=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+l+":"+a.port+s,a.href=a.protocol+"://"+l+(r&&r.port===a.port?"":":"+a.port),a}const AA=typeof ArrayBuffer=="function",MA=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,rN=Object.prototype.toString,DA=typeof Blob=="function"||typeof Blob<"u"&&rN.call(Blob)==="[object BlobConstructor]",IA=typeof File=="function"||typeof File<"u"&&rN.call(File)==="[object FileConstructor]";function Mp(t){return AA&&(t instanceof ArrayBuffer||MA(t))||DA&&t instanceof Blob||IA&&t instanceof File}function Vc(t,s){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,a=t.length;r<a;r++)if(Vc(t[r]))return!0;return!1}if(Mp(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Vc(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Vc(t[r]))return!0;return!1}function LA(t){const s=[],r=t.data,a=t;return a.data=kh(r,s),a.attachments=s.length,{packet:a,buffers:s}}function kh(t,s){if(!t)return t;if(Mp(t)){const r={_placeholder:!0,num:s.length};return s.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let a=0;a<t.length;a++)r[a]=kh(t[a],s);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=kh(t[a],s));return r}return t}function OA(t,s){return t.data=Eh(t.data,s),delete t.attachments,t}function Eh(t,s){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<s.length)return s[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Eh(t[r],s);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Eh(t[r],s));return t}const FA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],zA=5;var Qe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Qe||(Qe={}));class $A{constructor(s){this.replacer=s}encode(s){return(s.type===Qe.EVENT||s.type===Qe.ACK)&&Vc(s)?this.encodeAsBinary({type:s.type===Qe.EVENT?Qe.BINARY_EVENT:Qe.BINARY_ACK,nsp:s.nsp,data:s.data,id:s.id}):[this.encodeAsString(s)]}encodeAsString(s){let r=""+s.type;return(s.type===Qe.BINARY_EVENT||s.type===Qe.BINARY_ACK)&&(r+=s.attachments+"-"),s.nsp&&s.nsp!=="/"&&(r+=s.nsp+","),s.id!=null&&(r+=s.id),s.data!=null&&(r+=JSON.stringify(s.data,this.replacer)),r}encodeAsBinary(s){const r=LA(s),a=this.encodeAsString(r.packet),o=r.buffers;return o.unshift(a),o}}function ev(t){return Object.prototype.toString.call(t)==="[object Object]"}class Dp extends Mt{constructor(s){super(),this.reviver=s}add(s){let r;if(typeof s=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(s);const a=r.type===Qe.BINARY_EVENT;a||r.type===Qe.BINARY_ACK?(r.type=a?Qe.EVENT:Qe.ACK,this.reconstructor=new qA(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Mp(s)||s.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(s),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+s)}decodeString(s){let r=0;const a={type:Number(s.charAt(0))};if(Qe[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===Qe.BINARY_EVENT||a.type===Qe.BINARY_ACK){const l=r+1;for(;s.charAt(++r)!=="-"&&r!=s.length;);const d=s.substring(l,r);if(d!=Number(d)||s.charAt(r)!=="-")throw new Error("Illegal attachments");a.attachments=Number(d)}if(s.charAt(r+1)==="/"){const l=r+1;for(;++r&&!(s.charAt(r)===","||r===s.length););a.nsp=s.substring(l,r)}else a.nsp="/";const o=s.charAt(r+1);if(o!==""&&Number(o)==o){const l=r+1;for(;++r;){const d=s.charAt(r);if(d==null||Number(d)!=d){--r;break}if(r===s.length)break}a.id=Number(s.substring(l,r+1))}if(s.charAt(++r)){const l=this.tryParse(s.substr(r));if(Dp.isPayloadValid(a.type,l))a.data=l;else throw new Error("invalid payload")}return a}tryParse(s){try{return JSON.parse(s,this.reviver)}catch{return!1}}static isPayloadValid(s,r){switch(s){case Qe.CONNECT:return ev(r);case Qe.DISCONNECT:return r===void 0;case Qe.CONNECT_ERROR:return typeof r=="string"||ev(r);case Qe.EVENT:case Qe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&FA.indexOf(r[0])===-1);case Qe.ACK:case Qe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class qA{constructor(s){this.packet=s,this.buffers=[],this.reconPack=s}takeBinaryData(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){const r=OA(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const BA=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Dp,Encoder:$A,get PacketType(){return Qe},protocol:zA},Symbol.toStringTag,{value:"Module"}));function dr(t,s,r){return t.on(s,r),function(){t.off(s,r)}}const VA=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class nN extends Mt{constructor(s,r,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=r,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const s=this.io;this.subs=[dr(s,"open",this.onopen.bind(this)),dr(s,"packet",this.onpacket.bind(this)),dr(s,"error",this.onerror.bind(this)),dr(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...r){var a,o,l;if(VA.hasOwnProperty(s))throw new Error('"'+s.toString()+'" is a reserved event name');if(r.unshift(s),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const d={type:Qe.EVENT,data:r};if(d.options={},d.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const v=this.ids++,f=r.pop();this._registerAckCallback(v,f),d.id=v}const u=(o=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||o===void 0?void 0:o.writable,h=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!u||(h?(this.notifyOutgoingListeners(d),this.packet(d)):this.sendBuffer.push(d)),this.flags={},this}_registerAckCallback(s,r){var a;const o=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(o===void 0){this.acks[s]=r;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[s];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===s&&this.sendBuffer.splice(u,1);r.call(this,new Error("operation has timed out"))},o),d=(...u)=>{this.io.clearTimeoutFn(l),r.apply(this,u)};d.withError=!0,this.acks[s]=d}emitWithAck(s,...r){return new Promise((a,o)=>{const l=(d,u)=>d?o(d):a(u);l.withError=!0,r.push(l),this.emit(s,...r)})}_addToQueue(s){let r;typeof s[s.length-1]=="function"&&(r=s.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:s,flags:Object.assign({fromQueue:!0},this.flags)};s.push((o,...l)=>a!==this._queue[0]?void 0:(o!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(o)):(this._queue.shift(),r&&r(null,...l)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(s=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!s||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){typeof this.auth=="function"?this.auth(s=>{this._sendConnectPacket(s)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(s){this.packet({type:Qe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},s):s})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",s,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(s=>{if(!this.sendBuffer.some(a=>String(a.id)===s)){const a=this.acks[s];delete this.acks[s],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case Qe.CONNECT:s.data&&s.data.sid?this.onconnect(s.data.sid,s.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Qe.EVENT:case Qe.BINARY_EVENT:this.onevent(s);break;case Qe.ACK:case Qe.BINARY_ACK:this.onack(s);break;case Qe.DISCONNECT:this.ondisconnect();break;case Qe.CONNECT_ERROR:this.destroy();const a=new Error(s.data.message);a.data=s.data.data,this.emitReserved("connect_error",a);break}}onevent(s){const r=s.data||[];s.id!=null&&r.push(this.ack(s.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const a of r)a.apply(this,s)}super.emit.apply(this,s),this._pid&&s.length&&typeof s[s.length-1]=="string"&&(this._lastOffset=s[s.length-1])}ack(s){const r=this;let a=!1;return function(...o){a||(a=!0,r.packet({type:Qe.ACK,id:s,data:o}))}}onack(s){const r=this.acks[s.id];typeof r=="function"&&(delete this.acks[s.id],r.withError&&s.data.unshift(null),r.apply(this,s.data))}onconnect(s,r){this.id=s,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>{this.notifyOutgoingListeners(s),this.packet(s)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Qe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}timeout(s){return this.flags.timeout=s,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){const r=this._anyListeners;for(let a=0;a<r.length;a++)if(s===r[a])return r.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(s),this}prependAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(s),this}offAnyOutgoing(s){if(!this._anyOutgoingListeners)return this;if(s){const r=this._anyOutgoingListeners;for(let a=0;a<r.length;a++)if(s===r[a])return r.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(s){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const a of r)a.apply(this,s.data)}}}function Ii(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ii.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),r=Math.floor(s*this.jitter*t);t=(Math.floor(s*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};Ii.prototype.reset=function(){this.attempts=0};Ii.prototype.setMin=function(t){this.ms=t};Ii.prototype.setMax=function(t){this.max=t};Ii.prototype.setJitter=function(t){this.jitter=t};class Ph extends Mt{constructor(s,r){var a;super(),this.nsps={},this.subs=[],s&&typeof s=="object"&&(r=s,s=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Md(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((a=r.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Ii({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=s;const o=r.parser||BA;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(s){return arguments.length?(this._reconnection=!!s,s||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(s){return s===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=s,this)}reconnectionDelay(s){var r;return s===void 0?this._reconnectionDelay:(this._reconnectionDelay=s,(r=this.backoff)===null||r===void 0||r.setMin(s),this)}randomizationFactor(s){var r;return s===void 0?this._randomizationFactor:(this._randomizationFactor=s,(r=this.backoff)===null||r===void 0||r.setJitter(s),this)}reconnectionDelayMax(s){var r;return s===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=s,(r=this.backoff)===null||r===void 0||r.setMax(s),this)}timeout(s){return arguments.length?(this._timeout=s,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(s){if(~this._readyState.indexOf("open"))return this;this.engine=new TA(this.uri,this.opts);const r=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const o=dr(r,"open",function(){a.onopen(),s&&s()}),l=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),s?s(u):this.maybeReconnectOnOpen()},d=dr(r,"error",l);if(this._timeout!==!1){const u=this._timeout,h=this.setTimeoutFn(()=>{o(),l(new Error("timeout")),r.close()},u);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(o),this.subs.push(d),this}connect(s){return this.open(s)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const s=this.engine;this.subs.push(dr(s,"ping",this.onping.bind(this)),dr(s,"data",this.ondata.bind(this)),dr(s,"error",this.onerror.bind(this)),dr(s,"close",this.onclose.bind(this)),dr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(s){try{this.decoder.add(s)}catch(r){this.onclose("parse error",r)}}ondecoded(s){Ad(()=>{this.emitReserved("packet",s)},this.setTimeoutFn)}onerror(s){this.emitReserved("error",s)}socket(s,r){let a=this.nsps[s];return a?this._autoConnect&&!a.active&&a.connect():(a=new nN(this,s,r),this.nsps[s]=a),a}_destroy(s){const r=Object.keys(this.nsps);for(const a of r)if(this.nsps[a].active)return;this._close()}_packet(s){const r=this.encoder.encode(s);for(let a=0;a<r.length;a++)this.engine.write(r[a],s.options)}cleanup(){this.subs.forEach(s=>s()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(s,r){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",s,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const s=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{s.skipReconnect||(this.emitReserved("reconnect_attempt",s.backoff.attempts),!s.skipReconnect&&s.open(o=>{o?(s._reconnecting=!1,s.reconnect(),this.emitReserved("reconnect_error",o)):s.onreconnect()}))},r);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const s=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",s)}}const To={};function Uc(t,s){typeof t=="object"&&(s=t,t=void 0),s=s||{};const r=RA(t,s.path||"/socket.io"),a=r.source,o=r.id,l=r.path,d=To[o]&&l in To[o].nsps,u=s.forceNew||s["force new connection"]||s.multiplex===!1||d;let h;return u?h=new Ph(a,s):(To[o]||(To[o]=new Ph(a,s)),h=To[o]),r.query&&!s.query&&(s.query=r.queryKey),h.socket(r.path,s)}Object.assign(Uc,{Manager:Ph,Socket:nN,io:Uc,connect:Uc});const aN=(t={})=>{const s=m.useRef(null),r=m.useRef(t),[a,o]=m.useState({isConnected:!1,isConnecting:!1,error:null});m.useEffect(()=>{r.current=t},[t]);const l=m.useCallback(()=>{if(s.current?.connected)return;o(N=>({...N,isConnecting:!0,error:null}));const f=localStorage.getItem("authToken");if(!f){o(N=>({...N,isConnecting:!1,error:"Token manquant"}));return}console.log(" Tentative de connexion Socket.IO...");const g=Uc(void 0,{auth:{token:f},transports:["websocket","polling"],timeout:1e4,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:2e3});g.on("connect",()=>{console.log(" Socket connect"),o({isConnected:!0,isConnecting:!1,error:null})}),g.on("disconnect",()=>{console.log(" Socket dconnect"),o(N=>({...N,isConnected:!1}))}),g.on("connect_error",N=>{console.error(" Erreur Socket:",N),o({isConnected:!1,isConnecting:!1,error:N.message})}),g.on("message:new",N=>{console.log(" Nouveau message:",N),r.current.onMessage?.(N)}),g.on("typing:start",N=>{console.log(" Frappe dmarre:",N),r.current.onTyping?.({...N,is_typing:!0})}),g.on("typing:stop",N=>{console.log(" Frappe arrte:",N),r.current.onTyping?.({...N,is_typing:!1})}),s.current=g},[]),d=m.useCallback(()=>{s.current&&(s.current.disconnect(),s.current=null,o({isConnected:!1,isConnecting:!1,error:null}))},[]),u=m.useCallback(f=>{s.current?.connected&&(s.current.emit("conversation:join",f),console.log(" Rejoint conversation:",f))},[]),h=m.useCallback(f=>{s.current?.connected&&(s.current.emit("conversation:leave",f),console.log(" Quitt conversation:",f))},[]),p=m.useCallback(f=>{s.current?.connected&&s.current.emit("typing:start",{conversation_id:f})},[]),v=m.useCallback(f=>{s.current?.connected&&s.current.emit("typing:stop",{conversation_id:f})},[]);return m.useEffect(()=>(l(),()=>d()),[]),{...a,connect:l,disconnect:d,joinConversation:u,leaveConversation:h,startTyping:p,stopTyping:v}},UA=t=>{const[s,r]=m.useState([]),[a,o]=m.useState(!1),[l,d]=m.useState(null),[u,h]=m.useState(!1),p={onMessage:m.useCallback(_=>{_.conversation_id===t&&r(w=>w.some(E=>E.id===_.id)?w:[...w,_])},[t])},{isConnected:v,joinConversation:f,leaveConversation:g}=aN(p),N=m.useCallback(async()=>{if(!t){r([]);return}try{o(!0),d(null),console.log(" Chargement messages conversation:",t);const _=await Wm.getMessages(t);console.log(" Messages chargs:",_.length),r(_),v&&f(t)}catch(_){const w=_ instanceof Error?_.message:"Erreur de chargement";console.error(" Erreur chargement messages:",_),w.includes("Unexpected token")?d("Erreur de connexion au serveur. Vrifiez que le backend est dmarr."):d(w)}finally{o(!1)}},[t,v,f]),k=m.useCallback(async _=>{if(!(!t||!_.trim()))try{h(!0),d(null);const w=await Wm.sendMessage(t,_.trim());console.log(" Message envoy:",w)}catch(w){const E=w instanceof Error?w.message:"Erreur d'envoi";throw d(E),console.error("Erreur envoi message:",w),w}finally{h(!1)}},[t]),y=m.useCallback(async _=>{if(t)try{const w=_||s.filter(E=>!E.lu&&E.expediteur_id!==HA()).map(E=>E.id);if(w.length===0)return;await Wm.markAsRead(t,w),r(E=>E.map(C=>w.includes(C.id)?{...C,lu:!0}:C))}catch(w){console.error("Erreur marquage lu:",w)}},[t,s]);return m.useEffect(()=>(N(),()=>{t&&v&&g(t)}),[t,N,v,g]),m.useEffect(()=>{t&&v&&f(t)},[t,v,f]),{messages:s,loading:a,error:l,sending:u,sendMessage:k,markAsRead:y,reload:N}};function HA(){try{const t=localStorage.getItem("user");if(t)return JSON.parse(t).id}catch(t){console.error("Erreur rcupration user ID:",t)}return null}const WA=({message:t,isOwn:s,senderName:r,showSenderName:a})=>{const o=()=>t.lu?e.jsx(oS,{className:"h-3 w-3 text-blue-500"}):e.jsx(Ps,{className:"h-3 w-3 text-gray-400"});return e.jsx("div",{className:`flex ${s?"justify-end":"justify-start"} mb-4 group`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md relative ${s?"order-2":"order-1"}`,children:[!s&&a&&e.jsx("div",{className:"mb-1 ml-2",children:e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:r})}),e.jsxs("div",{className:`
          relative px-4 py-3 rounded-2xl shadow-sm transition-all duration-200
          ${s?"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-br-md":"bg-gradient-to-br from-gray-100 to-gray-200 text-gray-900 rounded-bl-md border border-gray-200"}
          group-hover:shadow-md
        `,children:[e.jsx("p",{className:"text-sm leading-relaxed break-words",children:t.contenu}),e.jsxs("div",{className:`
            flex items-center justify-end gap-2 mt-2 pt-2
            ${s?"border-t border-blue-400/30":"border-t border-gray-200"}
          `,children:[e.jsx("span",{className:`
              text-xs
              ${s?"text-blue-100":"text-gray-500"}
            `,children:XR(t.created_at)}),s&&e.jsx("div",{className:"flex items-center gap-1",children:o()})]}),t.isTyping&&e.jsx("div",{className:"absolute -bottom-6 left-4",children:e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-1 h-1 bg-current rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-1 h-1 bg-current rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-1 h-1 bg-current rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("span",{children:"en train d'crire..."})]})})]}),e.jsx("div",{className:`
          w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium
          ${s?"order-1 ml-2 bg-gradient-to-br from-blue-400 to-blue-500":"order-2 mr-2 bg-gradient-to-br from-gray-400 to-gray-500"}
        `,children:s?"Vous":r.charAt(0).toUpperCase()})]})})},tv=({error:t,resetError:s})=>e.jsxs("div",{className:"p-4 text-center",children:[e.jsx(Js,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Erreur d'affichage du message"}),e.jsx(D,{size:"sm",onClick:s,variant:"outline",children:"Ressayer"})]}),GA=({message:t,isOwn:s,senderName:r,showSenderName:a})=>{const[o,l]=m.useState(!1),[d,u]=m.useState(null);if(o)return e.jsx(tv,{error:d,resetError:()=>l(!1)});try{return e.jsx(WA,{message:t,isOwn:s,senderName:r,showSenderName:a})}catch(h){const p=h instanceof Error?h:new Error("Erreur de rendu");return l(!0),u(p),console.warn("Erreur dans MessageBubble:",p),e.jsx(tv,{error:p,resetError:()=>l(!1)})}},iN=({conversation:t,onBack:s,className:r=""})=>{const[a,o]=m.useState(""),[l,d]=m.useState(new Set),[u,h]=m.useState(!0),[p,v]=m.useState(0),f=m.useRef(null),g=m.useRef(null),N=m.useRef(),k=m.useRef(null),y=m.useRef(),_=m.useRef(),{data:w}=Rt(),{messages:E,loading:C,error:R,sending:I,sendMessage:T,markAsRead:b}=UA(t.id),P=m.useCallback(L=>{if(u)try{L.conversation_id===t.id&&L.user_id!==w?.id&&d(H=>{const le=new Set(H);return L.is_typing?le.add(L.user_id):le.delete(L.user_id),le})}catch(H){console.warn("Erreur lors de la gestion de la frappe:",H)}},[t.id,w,u]),{isConnected:A,startTyping:O,stopTyping:F}=aN({onTyping:P}),X=m.useCallback(()=>{u&&(y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{if(u)try{if(f.current&&k.current&&document.contains(f.current)&&document.contains(k.current)){const L=f.current.getBoundingClientRect();L.width>0&&L.height>0&&f.current.scrollIntoView({behavior:"smooth",block:"end"})}}catch(L){console.warn("Erreur lors du scroll automatique:",L),_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{u&&v(H=>H+1)},1e3)}},200))},[u]);m.useEffect(()=>{if(u)return X(),()=>{y.current&&clearTimeout(y.current),_.current&&clearTimeout(_.current)}},[E,X,u]),m.useEffect(()=>{if(!(!u||E.length===0))try{const L=E.filter(H=>!H.lu&&H.expediteur_id!==w?.id);L.length>0&&b(L.map(H=>H.id))}catch(L){console.warn("Erreur lors du marquage comme lu:",L)}},[E,w,b,u]);const V=m.useCallback(async L=>{if(L.preventDefault(),!(!u||!a.trim()||I))try{if(await T(a),!u)return;o(""),F(t.id),setTimeout(()=>{if(u)try{g.current&&document.contains(g.current)&&g.current.offsetParent!==null&&g.current.focus()}catch(H){console.warn("Erreur lors du focus:",H)}},300)}catch(H){u&&console.error("Erreur envoi:",H)}},[a,I,T,F,t.id,u]),K=m.useCallback(L=>{if(!u)return;const H=L.target.value;if(o(H),!!A)try{H&&!a&&O(t.id),N.current&&clearTimeout(N.current),H?N.current=setTimeout(()=>{u&&F(t.id)},2e3):F(t.id)}catch(le){console.warn("Erreur lors de la gestion de la frappe:",le)}},[a,A,O,F,t.id,u]),me=m.useCallback(()=>{if(u)try{N.current&&clearTimeout(N.current),F(t.id)}catch(L){console.warn("Erreur lors de l'arrt de la frappe:",L)}},[F,t.id,u]);m.useEffect(()=>(h(!0),()=>{h(!1),N.current&&clearTimeout(N.current),y.current&&clearTimeout(y.current),_.current&&clearTimeout(_.current)}),[]);const U=m.useMemo(()=>{if(!u)return"";try{return w?.role_id===1?t.nom_entreprise||`${t.fournisseur_nom} ${t.fournisseur_prenom}`.trim():`${t.acheteur_nom} ${t.acheteur_prenom}`.trim()}catch(L){return console.warn("Erreur lors du calcul du nom:",L),"Contact"}},[w,t,u]),G=m.useMemo(()=>{if(!u||!Array.isArray(E))return[];try{return E.filter(L=>L&&typeof L=="object"&&L.id).map((L,H)=>{try{const le=L.expediteur_id===w?.id,q=L.expediteur?`${L.expediteur.prenom} ${L.expediteur.nom}`:le?"Vous":"Expditeur",se=H===0||H>0&&E[H-1]?.expediteur_id!==L.expediteur_id;return{...L,isOwn:le,senderName:q,showSenderName:se,stableKey:`msg-${L.id}-${L.expediteur_id}-${L.created_at}-${p}`}}catch(le){return console.warn("Erreur lors du traitement d'un message:",le),null}}).filter(L=>L!==null)}catch(L){return console.warn("Erreur lors du traitement des messages:",L),[]}},[E,w,u,p]);return u?e.jsxs(Q,{className:`h-full flex flex-col ${r}`,children:[e.jsx(de,{className:"flex-shrink-0 border-b bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s&&e.jsx(D,{variant:"ghost",size:"sm",onClick:s,disabled:!u,children:e.jsx(Qs,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:U}),e.jsx("p",{className:"text-sm text-gray-600",children:t.sujet})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${A?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-xs text-gray-500",children:A?"En ligne":"Hors ligne"})]})]})}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[R&&e.jsx(js,{variant:"destructive",className:"m-4 mx-4 mt-4",children:e.jsx(ys,{children:R})}),C?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(Lr,{className:"h-4 w-4 animate-spin"}),"Chargement des messages..."]})}):e.jsx("div",{ref:k,className:"flex-1 overflow-y-auto px-4 pb-4 min-h-0",children:G.length===0?e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx("p",{children:"Aucun message dans cette conversation"}),e.jsx("p",{className:"text-sm",children:"Envoyez le premier message !"})]}):e.jsx(m.Suspense,{fallback:e.jsxs("div",{className:"text-center text-gray-500 py-4",children:[e.jsx(Lr,{className:"h-4 w-4 animate-spin mx-auto mb-2"}),"Chargement des messages..."]}),children:e.jsxs("div",{className:"space-y-4",children:[G.map(L=>e.jsx(GA,{message:L,isOwn:L.isOwn,senderName:L.senderName,showSenderName:L.showSenderName},L.stableKey)),l.size>0&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 px-4 py-2 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[l.size===1?"Quelqu'un":`${l.size} personnes`," ","en train d'crire..."]})})}),e.jsx("div",{ref:f,className:"h-1"})]})})})]}),e.jsxs("div",{className:"flex-shrink-0 border-t bg-white p-4",children:[e.jsxs("form",{onSubmit:V,className:"flex gap-2",children:[e.jsx(B,{ref:g,value:a,onChange:K,onBlur:me,placeholder:"Tapez votre message...",disabled:I||!A||!u,className:"flex-1"}),e.jsx(D,{type:"submit",disabled:!a.trim()||I||!A||!u,size:"sm",children:I?e.jsx(Lr,{className:"h-4 w-4 animate-spin"}):e.jsx(Uv,{className:"h-4 w-4"})})]}),!A&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Connexion perdue - Reconnexion en cours..."})]})]},p):null},oN=()=>{const[t,s]=m.useState([]),[r,a]=m.useState(!0),[o,l]=m.useState(null),d=m.useCallback(async()=>{try{a(!0),l(null);const h=localStorage.getItem("authToken");if(!h)throw new Error("Token d'authentification manquant");const p=await fetch("undefined/entreprises",{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(!p.ok)throw new Error("Erreur lors de la rcupration des fournisseurs");const v=await p.json();if(v.entreprises&&Array.isArray(v.entreprises)){const f=v.entreprises.filter(g=>g.statut==="actif"||g.statut==="verifie");s(f)}else s([])}catch(h){console.error("Erreur rcupration fournisseurs:",h),l(h.message||"Erreur lors de la rcupration des fournisseurs"),s([])}finally{a(!1)}},[]);m.useEffect(()=>{d()},[d]);const u=m.useCallback(()=>{d()},[d]);return{suppliers:t,loading:r,error:o,refetch:u}},KA=({onContactSupplier:t,onBack:s})=>{const[r,a]=m.useState(""),[o,l]=m.useState("all"),{suppliers:d,loading:u,error:h}=oN(),p=d?.filter(f=>{const g=!r||f.nom_entreprise?.toLowerCase().includes(r.toLowerCase())||f.nom?.toLowerCase().includes(r.toLowerCase())||f.prenom?.toLowerCase().includes(r.toLowerCase())||f.secteur?.toLowerCase().includes(r.toLowerCase()),N=o==="all"||f.secteur===o;return g&&N})||[],v=[...new Set(d?.map(f=>f.secteur).filter(Boolean))];return u?e.jsx("div",{className:"space-y-4",children:Array.from({length:6}).map((f,g)=>e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-1/3 animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2 animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/4 animate-pulse"})]})]})},g))}):h?e.jsx(js,{variant:"destructive",children:e.jsx(ys,{children:"Erreur lors du chargement des fournisseurs"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(D,{variant:"ghost",onClick:s,className:"text-muted-foreground",children:" Retour aux messages"}),e.jsx("h2",{className:"text-2xl font-bold text-center flex-1",children:"Fournisseurs disponibles"}),e.jsx("div",{className:"w-20"})," "]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(B,{placeholder:"Rechercher un fournisseur...",value:r,onChange:f=>a(f.target.value),className:"pl-10"})]}),e.jsxs("select",{value:o,onChange:f=>l(f.target.value),className:"px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"all",children:"Tous les secteurs"}),v.map(f=>e.jsx("option",{value:f,children:f},f))]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:[p.length," fournisseur(s) trouv(s)"]}),r&&e.jsxs("span",{children:['Recherche : "',r,'"']})]}),p.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(cn,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:r?"Aucun fournisseur trouv":"Aucun fournisseur disponible"}),e.jsx("p",{className:"text-sm",children:r?"Essayez avec d'autres termes de recherche":"Les fournisseurs apparatront ici une fois inscrits"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(f=>e.jsx(Q,{className:"group hover:shadow-lg transition-all duration-300 border-2 hover:border-primary/20",children:e.jsxs(J,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx(cn,{className:"h-8 w-8 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1 group-hover:text-primary transition-colors",children:f.nom_entreprise||"Entreprise non spcifie"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[f.nom," ",f.prenom]}),f.secteur&&e.jsx(ne,{variant:"secondary",className:"text-xs",children:f.secteur})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[f.telephone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ks,{className:"h-4 w-4"}),e.jsx("span",{children:f.telephone})]}),f.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(rs,{className:"h-4 w-4"}),e.jsx("span",{className:"truncate",children:f.email})]}),f.adresse&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(os,{className:"h-4 w-4"}),e.jsx("span",{className:"truncate",children:f.adresse})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(De,{className:"h-3 w-3"}),e.jsxs("span",{children:["~",Math.floor(Math.random()*50)+10," produits"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(St,{className:"h-3 w-3"}),e.jsxs("span",{children:["~",Math.floor(Math.random()*20)+5," clients"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"h-3 w-3 text-yellow-500"}),e.jsx("span",{children:(Math.random()*2+3).toFixed(1)})]})]}),e.jsxs(D,{onClick:()=>t(f),className:"w-full bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-white font-medium py-2",children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Contacter ce fournisseur"]})]})},f.id))})]})};var Ip="Avatar",[XA]=Ur(Ip),[YA,lN]=XA(Ip),cN=m.forwardRef((t,s)=>{const{__scopeAvatar:r,...a}=t,[o,l]=m.useState("idle");return e.jsx(YA,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:e.jsx(Te.span,{...a,ref:s})})});cN.displayName=Ip;var dN="AvatarImage",uN=m.forwardRef((t,s)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:o=()=>{},...l}=t,d=lN(dN,r),u=QA(a,l.referrerPolicy),h=yt(p=>{o(p),d.onImageLoadingStatusChange(p)});return Ft(()=>{u!=="idle"&&h(u)},[u,h]),u==="loaded"?e.jsx(Te.img,{...l,ref:s,src:a}):null});uN.displayName=dN;var mN="AvatarFallback",hN=m.forwardRef((t,s)=>{const{__scopeAvatar:r,delayMs:a,...o}=t,l=lN(mN,r),[d,u]=m.useState(a===void 0);return m.useEffect(()=>{if(a!==void 0){const h=window.setTimeout(()=>u(!0),a);return()=>window.clearTimeout(h)}},[a]),d&&l.imageLoadingStatus!=="loaded"?e.jsx(Te.span,{...o,ref:s}):null});hN.displayName=mN;function QA(t,s){const[r,a]=m.useState("idle");return Ft(()=>{if(!t){a("error");return}let o=!0;const l=new window.Image,d=u=>()=>{o&&a(u)};return a("loading"),l.onload=d("loaded"),l.onerror=d("error"),l.src=t,s&&(l.referrerPolicy=s),()=>{o=!1}},[t,s]),r}var pN=cN,fN=uN,xN=hN;const Lp=m.forwardRef(({className:t,...s},r)=>e.jsx(pN,{ref:r,className:we("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));Lp.displayName=pN.displayName;const JA=m.forwardRef(({className:t,...s},r)=>e.jsx(fN,{ref:r,className:we("aspect-square h-full w-full",t),...s}));JA.displayName=fN.displayName;const Op=m.forwardRef(({className:t,...s},r)=>e.jsx(xN,{ref:r,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));Op.displayName=xN.displayName;const sv=({onContactSupplier:t,onBack:s,className:r=""})=>{const[a,o]=m.useState(""),[l,d]=m.useState("all"),[u,h]=m.useState("all"),{data:p=[],isLoading:v,error:f}=We({queryKey:["suppliers-contact-list",a,l,u],queryFn:async()=>{const E=new URLSearchParams;a&&E.append("search",a),l!=="all"&&E.append("secteur",l),u!=="all"&&E.append("ville",u),E.append("limit","100");const C=await ie.get(`/entreprises?${E.toString()}`);return C.entreprises||C.data||[]},staleTime:3e4}),{data:g=[],isLoading:N}=We({queryKey:["supplier-sectors"],queryFn:async()=>{const E=await ie.get("/sectors");return E.sectors||E.data||[]},staleTime:3e5}),{data:k=[],isLoading:y}=We({queryKey:["supplier-cities"],queryFn:async()=>{const E=await ie.get("/cities");return E.cities||E.data||[]},staleTime:3e5}),_=p.filter(E=>{const C=a.toLowerCase(),R=!a||E.nom_entreprise.toLowerCase().includes(C)||E.description?.toLowerCase().includes(C)||E.secteur_activite?.toLowerCase().includes(C)||E.ville?.toLowerCase().includes(C)||E.pays?.toLowerCase().includes(C),I=l==="all"||E.secteur_activite===l,T=u==="all"||E.ville===u;return R&&I&&T}),w=async E=>{try{const C=localStorage.getItem("authToken");if(!C){$.error("Vous devez tre connect pour contacter un fournisseur");return}const R=await fetch("undefined/conversations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({fournisseur_id:E.utilisateur_id,sujet:`Conversation avec ${E.nom_entreprise}`})});if(!R.ok){const b=await R.json();throw new Error(b.error||"Erreur lors de la cration de la conversation")}const I=await R.json(),T=new URLSearchParams({conversation:I.data?.id?.toString()||"",supplier:E.utilisateur_id.toString(),supplierName:E.nom_entreprise});window.location.href=`/messages?${T.toString()}`,$.success(`Conversation cre avec ${E.nom_entreprise}`)}catch(C){console.error("Erreur cration conversation:",C),$.error(C.message||"Erreur lors de la cration de la conversation")}};return f?e.jsx(Q,{className:r,children:e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx(cn,{className:"w-12 h-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Erreur de chargement"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Impossible de charger la liste des fournisseurs"}),e.jsx(D,{onClick:()=>window.location.reload(),children:"Ressayer"})]})})}):e.jsxs("div",{className:r,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s&&e.jsx(D,{variant:"ghost",onClick:s,className:"text-muted-foreground",children:" Retour"}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Contacter un fournisseur"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Choisissez un fournisseur pour commencer une conversation"})]}),e.jsx("div",{className:"w-20"})," "]}),e.jsx(Q,{className:"mb-6",children:e.jsx(J,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(B,{placeholder:"Rechercher un fournisseur...",value:a,onChange:E=>o(E.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:l,onChange:E=>d(E.target.value),className:"px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary bg-white w-full",disabled:N,children:[e.jsx("option",{value:"all",children:N?"Chargement...":"Tous les secteurs"}),g.map(E=>e.jsx("option",{value:E,children:E},E))]}),N&&e.jsx(gr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:u,onChange:E=>h(E.target.value),className:"px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary bg-white w-full",disabled:y,children:[e.jsx("option",{value:"all",children:y?"Chargement...":"Toutes les villes"}),k.map(E=>e.jsx("option",{value:E,children:E},E))]}),y&&e.jsx(gr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]})]})})}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[e.jsxs("span",{children:[_.length," fournisseur(s) trouv(s)"]}),a&&e.jsxs("span",{children:['Recherche : "',a,'"']})]}),e.jsx("div",{className:"max-h-[600px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:v?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(E=>e.jsx(Q,{children:e.jsx(J,{className:"p-4",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})})},E))}):_.length===0?e.jsx(Q,{children:e.jsxs(J,{className:"p-8 text-center",children:[e.jsx(cn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun fournisseur trouv"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Essayez de modifier vos critres de recherche"}),e.jsx(D,{variant:"outline",onClick:()=>{o(""),d("all"),h("all")},children:"Effacer les filtres"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(E=>e.jsx(Q,{className:"hover:shadow-md transition-shadow",children:e.jsxs(J,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx(Lp,{className:"w-12 h-12",children:e.jsx(Op,{children:E.logo_url?e.jsx("img",{src:E.logo_url,alt:E.nom_entreprise,className:"w-full h-full object-cover rounded-full"}):E.nom_entreprise[0]?.toUpperCase()||"F"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:E.nom_entreprise}),E.statut_verification==="verifie"&&e.jsxs(ne,{variant:"secondary",className:"text-xs",children:[e.jsx(lt,{className:"w-3 h-3 mr-1"}),"Vrifi"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ct,{className:"w-3 h-3 text-yellow-500"}),e.jsxs("span",{children:[E.note_moyenne?Number(E.note_moyenne).toFixed(1):"N/A","(",E.nombre_avis||0,")"]})]})]})]}),E.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:E.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3",children:[E.secteur_activite&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(cn,{className:"w-3 h-3"}),e.jsx("span",{children:E.secteur_activite})]}),E.ville&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(os,{className:"w-3 h-3"}),e.jsx("span",{children:E.ville})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(De,{className:"w-3 h-3"}),e.jsxs("span",{children:[E.nombre_produits||0," produits"]})]}),e.jsxs(D,{size:"sm",onClick:()=>w(E),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Ye,{className:"w-3 h-3 mr-1"}),"Contacter"]})]})]})},E.id))})})]})},Fp=()=>{const[t,s]=m.useState([]),[r,a]=m.useState(!0),[o,l]=m.useState(null),{data:d}=Rt(),u=m.useCallback(async()=>{try{if(a(!0),l(null),!d){s([]);return}const k=localStorage.getItem("authToken");if(!k)throw new Error("Token d'authentification manquant");const y=await fetch("undefined/conversations",{headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}});if(!y.ok)throw new Error("Erreur lors de la rcupration des conversations");const _=await y.json();_.success&&_.data?s(_.data):s([])}catch(k){console.error("Erreur rcupration conversations:",k),l(k.message||"Erreur lors de la rcupration des conversations"),s([])}finally{a(!1)}},[d]);m.useEffect(()=>{u()},[u]);const h=m.useCallback(()=>{u()},[u]),p=m.useCallback(k=>{s(y=>[k,...y])},[]),v=m.useCallback((k,y)=>{s(_=>_.map(w=>w.id===k?{...w,...y}:w))},[]),f=m.useCallback(k=>{s(y=>y.filter(_=>_.id!==k))},[]),g=m.useCallback(k=>{s(y=>y.map(_=>{if(_.id===k){if(d?.role_id===1)return{..._,messages_non_lus_acheteur:0};if(d?.role_id===2)return{..._,messages_non_lus_fournisseur:0}}return _}))},[d?.role_id]),N=m.useCallback((k,y)=>{s(_=>_.map(w=>{if(w.id===k){if(y===d?.id)return w;if(d?.role_id===1&&y!==w.acheteur_id)return{...w,messages_non_lus_acheteur:(w.messages_non_lus_acheteur||0)+1};if(d?.role_id===2&&y!==w.fournisseur_id)return{...w,messages_non_lus_fournisseur:(w.messages_non_lus_fournisseur||0)+1}}return w}))},[d?.id,d?.role_id]);return{conversations:t,loading:r,error:o,refetch:h,addConversation:p,updateConversation:v,removeConversation:f,markConversationAsRead:g,incrementUnreadCount:N}},ZA=()=>{const[t,s]=m.useState(!0),[r,a]=m.useState(null),[o,l]=m.useState(!1),[d,u]=m.useState(!1),[h,p]=m.useState(null),[v,f]=m.useState(""),[g,N]=m.useState("all"),[k,y]=m.useState(!1),[_,w]=m.useState(!1),[E,C]=m.useState(null),{toast:R}=qh(),{data:I}=Rt(),T=Re(),{conversations:b,loading:P,error:A}=Fp();oN(),m.useEffect(()=>{const V=setTimeout(()=>{s(!1)},1e3);return()=>clearTimeout(V)},[]);const O=b?.filter(V=>{if(v){const K=v.toLowerCase();if(!`${V.sujet||""} ${V.nom_entreprise||""} ${V.fournisseur_nom||""} ${V.fournisseur_prenom||""}`.toLowerCase().includes(K))return!1}return!(g==="unread"&&(V.messages_non_lus_acheteur||0)===0)})||[],F=()=>{l(!0)},X=async V=>{try{const K=localStorage.getItem("authToken");if(!K){R({title:"Erreur",description:"Vous devez tre connect pour contacter un fournisseur",variant:"destructive"});return}const me=await fetch("undefined/conversations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`},body:JSON.stringify({fournisseur_id:V.utilisateur_id,sujet:`Conversation avec ${V.nom_entreprise}`})});if(!me.ok){const G=await me.json();throw new Error(G.error||"Erreur lors de la cration de la conversation")}const U=await me.json();T(`/messages?conversation=${U.data?.id||""}&supplier=${V.utilisateur_id}&supplierName=${encodeURIComponent(V.nom_entreprise)}`),R({title:"Conversation cre",description:`Conversation cre avec ${V.nom_entreprise}`})}catch(K){console.error("Erreur cration conversation:",K),R({title:"Erreur",description:K.message||"Erreur lors de la cration de la conversation",variant:"destructive"})}};return t?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(gr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Chargement du centre de messages..."})]})}):e.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(wb,{})}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[e.jsx("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ye,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Messages - Acheteur"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Contactez les fournisseurs et grez vos conversations"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(D,{onClick:()=>u(!0),className:"flex items-center gap-2",children:[e.jsx(xs,{className:"h-4 w-4"}),"Contacter un fournisseur"]})})]})}),_&&e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(KA,{onContactSupplier:X,onBack:()=>w(!1)})}),d&&e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(sv,{onContactSupplier:V=>{const K=new URLSearchParams({supplier:V.id.toString(),supplierName:V.nom_entreprise});window.location.href=`/messages?${K.toString()}`},onBack:()=>u(!1)})}),!_&&!d&&e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[e.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-100 px-6 py-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Rechercher dans les conversations...",value:v,onChange:V=>f(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{variant:g==="all"?"default":"outline",size:"sm",onClick:()=>N("all"),children:"Toutes"}),e.jsx(D,{variant:g==="unread"?"default":"outline",size:"sm",onClick:()=>N("unread"),children:"Non lues"}),e.jsx(D,{variant:g==="recent"?"default":"outline",size:"sm",onClick:()=>N("recent"),children:"Rcentes"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-3",children:[e.jsxs("span",{children:[O.length," conversation(s)"]}),b&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{children:[b.filter(V=>(V.messages_non_lus_acheteur||0)>0).length," avec messages non lus"]})]})]})]}),e.jsxs("div",{className:"flex-1 flex min-h-0",children:[e.jsxs("div",{className:"w-80 lg:w-96 border-r border-gray-200 bg-white flex flex-col",children:[e.jsx("div",{className:"flex-shrink-0 p-4 border-b",children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Conversations"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:A?e.jsxs(js,{variant:"destructive",children:[e.jsx(Pt,{className:"h-4 w-4"}),e.jsx(ys,{children:"Erreur lors du chargement des conversations"})]}):P?e.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((V,K)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-muted animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded animate-pulse w-2/3"})]})]},K))}):O.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ye,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-sm font-medium mb-2",children:v?"Aucune conversation trouve":"Aucune conversation"}),e.jsx("p",{className:"text-xs mb-4",children:v?"Essayez avec d'autres termes de recherche":"Commencez par contacter un fournisseur"}),!v&&e.jsxs(D,{onClick:F,size:"sm",children:[e.jsx(xs,{className:"h-4 w-4 mr-2"}),"Nouvelle conversation"]})]}):e.jsx(Hb,{conversations:O,selectedConversation:h,onSelectConversation:p,currentUserId:I?.id})})]}),e.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:h?e.jsx(iN,{conversation:h,onBack:()=>p(null)}):e.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ye,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Slectionnez une conversation"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Choisissez une conversation dans la liste  gauche pour commencer  changer"}),e.jsxs(D,{onClick:F,className:"flex items-center gap-2",children:[e.jsx(xs,{className:"h-4 w-4"}),"Crer une conversation"]})]})})})]})]}),o&&e.jsx(sv,{onContactSupplier:async V=>{try{const K=localStorage.getItem("authToken");if(!K){R({title:"Erreur",description:"Vous devez tre connect pour contacter un fournisseur",variant:"destructive"});return}const me=await fetch("undefined/conversations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`},body:JSON.stringify({fournisseur_id:V.utilisateur_id,sujet:`Conversation avec ${V.nom_entreprise}`})});if(!me.ok){const G=await me.json();throw new Error(G.error||"Erreur lors de la cration de la conversation")}const U=await me.json();T(`/messages?conversation=${U.data?.id||""}&supplier=${V.utilisateur_id}&supplierName=${encodeURIComponent(V.nom_entreprise)}`),R({title:"Conversation cre",description:`Conversation cre avec ${V.nom_entreprise}`})}catch(K){console.error("Erreur cration conversation:",K),R({title:"Erreur",description:K.message||"Erreur lors de la cration de la conversation",variant:"destructive"})}},onBack:()=>l(!1),className:"fixed inset-0 bg-white z-50 overflow-auto"})]})]})},eM=()=>{const[t,s]=m.useState(!0),[r,a]=m.useState(null),[o,l]=m.useState(null),[d,u]=m.useState(""),[h,p]=m.useState("all");qh();const{data:v}=Rt(),{conversations:f,loading:g,error:N}=Fp();m.useEffect(()=>{const y=setTimeout(()=>{s(!1)},1e3);return()=>clearTimeout(y)},[]);const k=f?.filter(y=>{if(d){const _=d.toLowerCase();if(!`${y.sujet||""} ${y.acheteur_nom||""} ${y.acheteur_prenom||""}`.toLowerCase().includes(_))return!1}return!(h==="unread"&&(y.messages_non_lus_fournisseur||0)===0)})||[];return t?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(gr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Chargement du centre de messages..."})]})}):e.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Rb,{})}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[e.jsx("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ye,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Messages - Fournisseur"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Grez vos conversations avec les acheteurs"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx(Xe,{className:"h-4 w-4 inline mr-1"}),"Les acheteurs vous contactent directement depuis vos produits"]})})]})}),e.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-100 px-6 py-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Rechercher dans les conversations...",value:d,onChange:y=>u(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{variant:h==="all"?"default":"outline",size:"sm",onClick:()=>p("all"),children:"Toutes"}),e.jsx(D,{variant:h==="unread"?"default":"outline",size:"sm",onClick:()=>p("unread"),children:"Non lues"}),e.jsx(D,{variant:h==="recent"?"default":"outline",size:"sm",onClick:()=>p("recent"),children:"Rcentes"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-3",children:[e.jsxs("span",{children:[k.length," conversation(s)"]}),f&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{children:[f.filter(y=>(y.messages_non_lus_fournisseur||0)>0).length," avec messages non lus"]})]})]})]}),e.jsxs("div",{className:"flex-1 flex min-h-0",children:[e.jsxs("div",{className:"w-80 lg:w-96 border-r border-gray-200 bg-white flex flex-col",children:[e.jsx("div",{className:"flex-shrink-0 p-4 border-b",children:e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Conversations avec les acheteurs"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:N?e.jsxs(js,{variant:"destructive",children:[e.jsx(Pt,{className:"h-4 w-4"}),e.jsx(ys,{children:"Erreur lors du chargement des conversations"})]}):g?e.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((y,_)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-muted animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded animate-pulse w-2/3"})]})]},_))}):k.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ye,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-sm font-medium mb-2",children:d?"Aucune conversation trouve":"Aucune conversation"}),e.jsx("p",{className:"text-xs mb-4",children:d?"Essayez avec d'autres termes de recherche":"Attendez qu'un acheteur vous contacte"}),!d&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsx(Vt,{className:"h-4 w-4 inline mr-1"}),"Les acheteurs peuvent vous contacter depuis vos produits"]})]}):e.jsx(Hb,{conversations:k,selectedConversation:o,onSelectConversation:l,currentUserId:v?.id})})]}),e.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:o?e.jsx(iN,{conversation:o,onBack:()=>l(null)}):e.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ye,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucune conversation active"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Les acheteurs peuvent vous contacter directement depuis vos produits"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx(Xe,{className:"h-4 w-4 inline mr-1"}),"Vous recevrez une notification quand un acheteur vous contacte"]})]})})})]})]})]})},rv=()=>{const{data:t,loading:s}=Rt();return s?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(gr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Chargement..."})]})}):t?.role_id===1?e.jsx(ZA,{}):t?.role_id===2?e.jsx(eM,{}):e.jsx("div",{className:"container mx-auto p-6 max-w-7xl",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Accs non autoris"}),e.jsx("p",{className:"text-muted-foreground",children:"Vous devez tre connect en tant qu'acheteur ou fournisseur pour accder  la messagerie."})]})})};function Ko(t,[s,r]){return Math.min(r,Math.max(s,t))}function tM(t,s){return m.useReducer((r,a)=>s[r][a]??r,t)}var zp="ScrollArea",[gN]=Ur(zp),[sM,Zs]=gN(zp),vN=m.forwardRef((t,s)=>{const{__scopeScrollArea:r,type:a="hover",dir:o,scrollHideDelay:l=600,...d}=t,[u,h]=m.useState(null),[p,v]=m.useState(null),[f,g]=m.useState(null),[N,k]=m.useState(null),[y,_]=m.useState(null),[w,E]=m.useState(0),[C,R]=m.useState(0),[I,T]=m.useState(!1),[b,P]=m.useState(!1),A=Be(s,F=>h(F)),O=Mi(o);return e.jsx(sM,{scope:r,type:a,dir:O,scrollHideDelay:l,scrollArea:u,viewport:p,onViewportChange:v,content:f,onContentChange:g,scrollbarX:N,onScrollbarXChange:k,scrollbarXEnabled:I,onScrollbarXEnabledChange:T,scrollbarY:y,onScrollbarYChange:_,scrollbarYEnabled:b,onScrollbarYEnabledChange:P,onCornerWidthChange:E,onCornerHeightChange:R,children:e.jsx(Te.div,{dir:O,...d,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":C+"px",...t.style}})})});vN.displayName=zp;var jN="ScrollAreaViewport",yN=m.forwardRef((t,s)=>{const{__scopeScrollArea:r,children:a,asChild:o,nonce:l,...d}=t,u=Zs(jN,r),h=m.useRef(null),p=Be(s,h,u.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:l}),e.jsx(Te.div,{"data-radix-scroll-area-viewport":"",...d,asChild:o,ref:p,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:mM({asChild:o,children:a},v=>e.jsx("div",{"data-radix-scroll-area-content":"",ref:u.onContentChange,style:{minWidth:u.scrollbarXEnabled?"fit-content":void 0},children:v}))})]})});yN.displayName=jN;var Kr="ScrollAreaScrollbar",$p=m.forwardRef((t,s)=>{const{forceMount:r,...a}=t,o=Zs(Kr,t.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:d}=o,u=t.orientation==="horizontal";return m.useEffect(()=>(u?l(!0):d(!0),()=>{u?l(!1):d(!1)}),[u,l,d]),o.type==="hover"?e.jsx(rM,{...a,ref:s,forceMount:r}):o.type==="scroll"?e.jsx(nM,{...a,ref:s,forceMount:r}):o.type==="auto"?e.jsx(bN,{...a,ref:s,forceMount:r}):o.type==="always"?e.jsx(qp,{...a,ref:s}):null});$p.displayName=Kr;var rM=m.forwardRef((t,s)=>{const{forceMount:r,...a}=t,o=Zs(Kr,t.__scopeScrollArea),[l,d]=m.useState(!1);return m.useEffect(()=>{const u=o.scrollArea;let h=0;if(u){const p=()=>{window.clearTimeout(h),d(!0)},v=()=>{h=window.setTimeout(()=>d(!1),o.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",v),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",v)}}},[o.scrollArea,o.scrollHideDelay]),e.jsx(is,{present:r||l,children:e.jsx(bN,{"data-state":l?"visible":"hidden",...a,ref:s})})}),nM=m.forwardRef((t,s)=>{const{forceMount:r,...a}=t,o=Zs(Kr,t.__scopeScrollArea),l=t.orientation==="horizontal",d=Id(()=>h("SCROLL_END"),100),[u,h]=tM("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>h("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,o.scrollHideDelay,h]),m.useEffect(()=>{const p=o.viewport,v=l?"scrollLeft":"scrollTop";if(p){let f=p[v];const g=()=>{const N=p[v];f!==N&&(h("SCROLL"),d()),f=N};return p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[o.viewport,l,h,d]),e.jsx(is,{present:r||u!=="hidden",children:e.jsx(qp,{"data-state":u==="hidden"?"hidden":"visible",...a,ref:s,onPointerEnter:ye(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:ye(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),bN=m.forwardRef((t,s)=>{const r=Zs(Kr,t.__scopeScrollArea),{forceMount:a,...o}=t,[l,d]=m.useState(!1),u=t.orientation==="horizontal",h=Id(()=>{if(r.viewport){const p=r.viewport.offsetWidth<r.viewport.scrollWidth,v=r.viewport.offsetHeight<r.viewport.scrollHeight;d(u?p:v)}},10);return Ni(r.viewport,h),Ni(r.content,h),e.jsx(is,{present:a||l,children:e.jsx(qp,{"data-state":l?"visible":"hidden",...o,ref:s})})}),qp=m.forwardRef((t,s)=>{const{orientation:r="vertical",...a}=t,o=Zs(Kr,t.__scopeScrollArea),l=m.useRef(null),d=m.useRef(0),[u,h]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=_N(u.viewport,u.content),v={...a,sizes:u,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:g=>l.current=g,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:g=>d.current=g};function f(g,N){return dM(g,d.current,u,N)}return r==="horizontal"?e.jsx(aM,{...v,ref:s,onThumbPositionChange:()=>{if(o.viewport&&l.current){const g=o.viewport.scrollLeft,N=nv(g,u,o.dir);l.current.style.transform=`translate3d(${N}px, 0, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollLeft=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollLeft=f(g,o.dir))}}):r==="vertical"?e.jsx(iM,{...v,ref:s,onThumbPositionChange:()=>{if(o.viewport&&l.current){const g=o.viewport.scrollTop,N=nv(g,u);l.current.style.transform=`translate3d(0, ${N}px, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollTop=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollTop=f(g))}}):null}),aM=m.forwardRef((t,s)=>{const{sizes:r,onSizesChange:a,...o}=t,l=Zs(Kr,t.__scopeScrollArea),[d,u]=m.useState(),h=m.useRef(null),p=Be(s,h,l.onScrollbarXChange);return m.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),e.jsx(wN,{"data-orientation":"horizontal",...o,ref:p,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Dd(r)+"px",...t.style},onThumbPointerDown:v=>t.onThumbPointerDown(v.x),onDragScroll:v=>t.onDragScroll(v.x),onWheelScroll:(v,f)=>{if(l.viewport){const g=l.viewport.scrollLeft+v.deltaX;t.onWheelScroll(g),EN(g,f)&&v.preventDefault()}},onResize:()=>{h.current&&l.viewport&&d&&a({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:ad(d.paddingLeft),paddingEnd:ad(d.paddingRight)}})}})}),iM=m.forwardRef((t,s)=>{const{sizes:r,onSizesChange:a,...o}=t,l=Zs(Kr,t.__scopeScrollArea),[d,u]=m.useState(),h=m.useRef(null),p=Be(s,h,l.onScrollbarYChange);return m.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),e.jsx(wN,{"data-orientation":"vertical",...o,ref:p,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Dd(r)+"px",...t.style},onThumbPointerDown:v=>t.onThumbPointerDown(v.y),onDragScroll:v=>t.onDragScroll(v.y),onWheelScroll:(v,f)=>{if(l.viewport){const g=l.viewport.scrollTop+v.deltaY;t.onWheelScroll(g),EN(g,f)&&v.preventDefault()}},onResize:()=>{h.current&&l.viewport&&d&&a({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:ad(d.paddingTop),paddingEnd:ad(d.paddingBottom)}})}})}),[oM,NN]=gN(Kr),wN=m.forwardRef((t,s)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:o,onThumbChange:l,onThumbPointerUp:d,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:v,onResize:f,...g}=t,N=Zs(Kr,r),[k,y]=m.useState(null),_=Be(s,A=>y(A)),w=m.useRef(null),E=m.useRef(""),C=N.viewport,R=a.content-a.viewport,I=yt(v),T=yt(h),b=Id(f,10);function P(A){if(w.current){const O=A.clientX-w.current.left,F=A.clientY-w.current.top;p({x:O,y:F})}}return m.useEffect(()=>{const A=O=>{const F=O.target;k?.contains(F)&&I(O,R)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[C,k,R,I]),m.useEffect(T,[a,T]),Ni(k,b),Ni(N.content,b),e.jsx(oM,{scope:r,scrollbar:k,hasThumb:o,onThumbChange:yt(l),onThumbPointerUp:yt(d),onThumbPositionChange:T,onThumbPointerDown:yt(u),children:e.jsx(Te.div,{...g,ref:_,style:{position:"absolute",...g.style},onPointerDown:ye(t.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),w.current=k.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",N.viewport&&(N.viewport.style.scrollBehavior="auto"),P(A))}),onPointerMove:ye(t.onPointerMove,P),onPointerUp:ye(t.onPointerUp,A=>{const O=A.target;O.hasPointerCapture(A.pointerId)&&O.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=E.current,N.viewport&&(N.viewport.style.scrollBehavior=""),w.current=null})})})}),nd="ScrollAreaThumb",CN=m.forwardRef((t,s)=>{const{forceMount:r,...a}=t,o=NN(nd,t.__scopeScrollArea);return e.jsx(is,{present:r||o.hasThumb,children:e.jsx(lM,{ref:s,...a})})}),lM=m.forwardRef((t,s)=>{const{__scopeScrollArea:r,style:a,...o}=t,l=Zs(nd,r),d=NN(nd,r),{onThumbPositionChange:u}=d,h=Be(s,f=>d.onThumbChange(f)),p=m.useRef(),v=Id(()=>{p.current&&(p.current(),p.current=void 0)},100);return m.useEffect(()=>{const f=l.viewport;if(f){const g=()=>{if(v(),!p.current){const N=uM(f,u);p.current=N,u()}};return u(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[l.viewport,v,u]),e.jsx(Te.div,{"data-state":d.hasThumb?"visible":"hidden",...o,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:ye(t.onPointerDownCapture,f=>{const N=f.target.getBoundingClientRect(),k=f.clientX-N.left,y=f.clientY-N.top;d.onThumbPointerDown({x:k,y})}),onPointerUp:ye(t.onPointerUp,d.onThumbPointerUp)})});CN.displayName=nd;var Bp="ScrollAreaCorner",SN=m.forwardRef((t,s)=>{const r=Zs(Bp,t.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?e.jsx(cM,{...t,ref:s}):null});SN.displayName=Bp;var cM=m.forwardRef((t,s)=>{const{__scopeScrollArea:r,...a}=t,o=Zs(Bp,r),[l,d]=m.useState(0),[u,h]=m.useState(0),p=!!(l&&u);return Ni(o.scrollbarX,()=>{const v=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(v),h(v)}),Ni(o.scrollbarY,()=>{const v=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(v),d(v)}),p?e.jsx(Te.div,{...a,ref:s,style:{width:l,height:u,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ad(t){return t?parseInt(t,10):0}function _N(t,s){const r=t/s;return isNaN(r)?0:r}function Dd(t){const s=_N(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=(t.scrollbar.size-r)*s;return Math.max(a,18)}function dM(t,s,r,a="ltr"){const o=Dd(r),l=o/2,d=s||l,u=o-d,h=r.scrollbar.paddingStart+d,p=r.scrollbar.size-r.scrollbar.paddingEnd-u,v=r.content-r.viewport,f=a==="ltr"?[0,v]:[v*-1,0];return kN([h,p],f)(t)}function nv(t,s,r="ltr"){const a=Dd(s),o=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,l=s.scrollbar.size-o,d=s.content-s.viewport,u=l-a,h=r==="ltr"?[0,d]:[d*-1,0],p=Ko(t,h);return kN([0,d],[0,u])(p)}function kN(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const a=(s[1]-s[0])/(t[1]-t[0]);return s[0]+a*(r-t[0])}}function EN(t,s){return t>0&&t<s}var uM=(t,s=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},a=0;return(function o(){const l={left:t.scrollLeft,top:t.scrollTop},d=r.left!==l.left,u=r.top!==l.top;(d||u)&&s(),r=l,a=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(a)};function Id(t,s){const r=yt(t),a=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(a.current),[]),m.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,s)},[r,s])}function Ni(t,s){const r=yt(s);Ft(()=>{let a=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return o.observe(t),()=>{window.cancelAnimationFrame(a),o.unobserve(t)}}},[t,r])}function mM(t,s){const{asChild:r,children:a}=t;if(!r)return typeof s=="function"?s(a):s;const o=m.Children.only(a);return m.cloneElement(o,{children:typeof s=="function"?s(o.props.children):s})}var PN=vN,hM=yN,pM=SN;const TN=m.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(PN,{ref:a,className:we("relative overflow-hidden",t),...r,children:[e.jsx(hM,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(RN,{}),e.jsx(pM,{})]}));TN.displayName=PN.displayName;const RN=m.forwardRef(({className:t,orientation:s="vertical",...r},a)=>e.jsx($p,{ref:a,orientation:s,className:we("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:e.jsx(CN,{className:"relative flex-1 rounded-full bg-border"})}));RN.displayName=$p.displayName;const fM=()=>{const{conversationId:t}=Ma(),s=Re(),{data:r}=Rt(),{conversations:a,activeConversation:o,totalUnreadCount:l,isLoading:d,error:u,openConversation:h,refreshConversations:p,getConversationUrl:v}=Fp(),[f,g]=m.useState(null);m.useEffect(()=>{console.log(" FOURNISSEUR - tat conversations:",{conversationsCount:a.length,isLoading:d,error:u,currentUser:r?{id:r.id,role_id:r.role_id,nom:r.nom}:null,conversations:a.map(_=>({id:_.id,sujet:_.sujet,acheteur_data:{acheteur_nom:_.acheteur_nom,acheteur_prenom:_.acheteur_prenom,acheteur_email:_.acheteur_email}}))})},[a,d,u,r]),m.useEffect(()=>{if(t&&a.length>0){const _=parseInt(t);a.find(E=>E.id===_)&&o?.id!==_&&h(_).catch(E=>{console.error("Error opening conversation from URL:",E),g("Impossible d'ouvrir cette conversation")})}},[t,a,o,h]);const N=async _=>{try{g(null),await h(_.id);const w=v(_.id);s(w)}catch(w){console.error("Error selecting conversation:",w),g("Impossible d'ouvrir cette conversation"),$.error("Erreur lors de l'ouverture de la conversation")}},k=()=>{s("/supplier/messages")},y=async()=>{try{g(null),await p()}catch(_){const w=_ instanceof Error?_.message:"Erreur lors du rafrachissement";g(w)}};return r?r.role_id===1?(s("/messages"),null):e.jsx(Ys,{children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(di,{className:"h-6 w-6 text-blue-600"}),"Messages",e.jsxs(ne,{variant:"secondary",className:"ml-2",children:[a.length," conversation",a.length!==1?"s":""]}),l>0&&e.jsxs(ne,{variant:"destructive",className:"ml-2",children:[l," non lu",l!==1?"s":""]})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Grez vos conversations avec les acheteurs"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(D,{variant:"outline",size:"sm",onClick:y,disabled:d,className:"flex items-center gap-2",children:[e.jsx(Lr,{className:`h-4 w-4 ${d?"animate-spin":""}`}),"Actualiser"]}),o&&e.jsxs(D,{variant:"outline",onClick:k,className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"h-4 w-4"}),"Retour  la liste"]})]})]}),(u||f)&&e.jsx(js,{variant:"destructive",className:"mt-4",children:e.jsx(ys,{children:u||f})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-[calc(100vh-250px)]",children:[e.jsx("div",{className:`lg:col-span-4 ${o?"hidden lg:block":""}`,children:e.jsxs(Q,{className:"h-full",children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(St,{className:"h-5 w-5 text-blue-600"}),"Conversations avec les acheteurs"]})}),e.jsx(J,{className:"p-0",children:d&&a.length===0?e.jsxs("div",{className:"p-4 text-center text-gray-500",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),"Chargement des conversations..."]}):(u||f)&&a.length===0?e.jsx("div",{className:"p-4 text-center text-red-500",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-red-800 mb-2",children:"Erreur de chargement"}),e.jsx("p",{className:"text-sm",children:u||f}),e.jsxs(D,{size:"sm",variant:"outline",onClick:y,disabled:d,className:"mt-2",children:[e.jsx(Lr,{className:`h-4 w-4 mr-2 ${d?"animate-spin":""}`}),"Ressayer"]})]})}):a.length===0?e.jsxs("div",{className:"p-6 text-center text-gray-500",children:[e.jsx(di,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Aucune conversation"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Les acheteurs intresss par vos produits vous contacteront ici."}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-700",children:[" ",e.jsx("strong",{children:"Conseil :"})," Assurez-vous que vos produits sont bien rfrencs pour attirer plus d'acheteurs !"]})})]}):e.jsx(TN,{className:"h-[calc(100vh-350px)]",children:e.jsx("div",{className:"divide-y divide-gray-200",children:a.map(_=>{const w=o?.id===_.id,E=_.acheteur_nom||"",C=_.acheteur_prenom||"",R=`${E} ${C}`.trim()||"Acheteur inconnu",I=_.messages_non_lus_fournisseur||0;return e.jsx("div",{className:`p-4 cursor-pointer hover:bg-gray-50 transition-colors ${w?"bg-blue-50 border-r-4 border-blue-500":""}`,onClick:()=>N(_),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[e.jsx(Lp,{className:"w-10 h-10 flex-shrink-0",children:e.jsx(Op,{className:"bg-blue-100 text-blue-600",children:E?.charAt(0).toUpperCase()||"A"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:R}),I>0&&e.jsx(ne,{variant:"destructive",className:"text-xs",children:I})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",children:_.sujet||"Demande de renseignements"}),_.acheteur_email&&e.jsxs("p",{className:"text-xs text-gray-400 mt-1 truncate",children:[" ",_.acheteur_email]}),_.derniere_activite&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Ub(_.derniere_activite,{addSuffix:!0,fallback:"Rcemment"})})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1 ml-2",children:[e.jsx(ne,{variant:_.statut==="ouverte"?"default":"secondary",className:"text-xs",children:_.statut}),_.priorite&&_.priorite!=="normale"&&e.jsx(ne,{variant:_.priorite==="urgente"?"destructive":"secondary",className:"text-xs",children:_.priorite})]})]})},_.id)})})})})]})}),e.jsx("div",{className:`lg:col-span-8 ${o?"":"hidden lg:block"}`,children:o?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Interface fournisseur en cours de migration"}):e.jsx(Q,{className:"h-full flex items-center justify-center",children:e.jsx(J,{children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx(di,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Slectionnez une conversation"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Choisissez une conversation dans la liste pour rpondre aux acheteurs"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:" Conseils pour les fournisseurs"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 text-left",children:[e.jsx("li",{children:" Rpondez rapidement aux questions"}),e.jsx("li",{children:" Soyez prcis sur vos produits"}),e.jsx("li",{children:" Proposez des chantillons si possible"}),e.jsx("li",{children:" Ngociez les prix de manire professionnelle"})]})]})]})})})})]})]})}):e.jsx(Ys,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Q,{className:"w-full max-w-md",children:e.jsx(J,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(di,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connexion requise"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Vous devez tre connect pour accder  vos messages."}),e.jsx(D,{onClick:()=>s("/supplier/login"),children:"Se connecter"})]})})})})})},av=()=>{const{data:t}=Rt();return t?t.role_id===1?(window.location.href="/messages",null):e.jsx(fM,{}):e.jsx(Ys,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Q,{className:"w-full max-w-md",children:e.jsx(J,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(di,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connexion requise"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Vous devez tre connect pour accder  vos messages."}),e.jsx(D,{onClick:()=>window.location.href="/supplier/login",children:"Se connecter"})]})})})})})},xM=t=>{const[s,r]=m.useState(null),[a,o]=m.useState(!1),[l,d]=m.useState(null),u=m.useCallback(async h=>{try{o(!0),d(null);const p=localStorage.getItem("authToken"),v=await fetch(`undefined/entreprises/${h}`,{headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"}});if(!v.ok)throw new Error(`Erreur ${v.status}: ${v.statusText}`);const f=await v.json();if(f.success&&f.data)r(f.data);else throw new Error(f.error||"Erreur lors de la rcupration de l'entreprise")}catch(p){const v=p instanceof Error?p.message:"Erreur inconnue";console.error("Erreur rcupration entreprise:",v),d(v),r(null)}finally{o(!1)}},[]);return m.useState(()=>{t&&u(t)}),{entreprise:s,isLoading:a,error:l,fetchEntreprise:u}},AN=()=>{const[t,s]=m.useState(!1),[r,a]=m.useState(null);return{updateEntreprise:m.useCallback(async(l,d)=>{try{s(!0),a(null);const u=localStorage.getItem("authToken"),h=await fetch(`undefined/entreprises/${l}`,{method:"PUT",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"},body:JSON.stringify(d)}),p=await h.json();if(!h.ok||!p.success)throw new Error(p.error||"Erreur lors de la mise  jour de l'entreprise");return p}catch(u){const h=u instanceof Error?u.message:"Erreur inconnue";throw console.error("Erreur mise  jour entreprise:",h),a(h),u}finally{s(!1)}},[]),isUpdating:t,error:r}},gM=({initialData:t,onSave:s,onCancel:r})=>{const[a,o]=m.useState(!1),[l,d]=m.useState([]),[u,h]=m.useState([]),[p,v]=m.useState(!1),f=AN(),[g,N]=m.useState({id:t?.id,nom_entreprise:t?.nom_entreprise||"",description:t?.description||"",logo:null,logo_url:t?.logo_url||"",site_web:t?.site_web||"",numero_siret:t?.numero_siret||"",numero_registre_commerce:t?.numero_registre_commerce||"",numero_tva:t?.numero_tva||"",telephone_professionnel:t?.telephone_professionnel||"",adresse_ligne1:t?.adresse_ligne1||"",adresse_ligne2:t?.adresse_ligne2||"",ville:t?.ville||"",code_postal:t?.code_postal||"",pays:t?.pays||"Gabon",secteur_activite_id:t?.secteur_activite_id?.toString()||"",type_entreprise_id:t?.type_entreprise_id?.toString()||"",annee_creation:t?.annee_creation?.toString()||"",nombre_employes:t?.nombre_employes?.toString()||"",capacite_production:t?.capacite_production||"",certifications:t?.certifications||"",nom_banque:t?.nom_banque||"",iban:t?.iban||"",nom_titulaire_compte:t?.nom_titulaire_compte||"",bic_swift:t?.bic_swift||"",statut_verification:t?.statut_verification||"en_attente"});m.useEffect(()=>{console.log(" Initialisation CompanyInfoForm avec:",t),k(),v(!!t?.id),t&&N(T=>({...T,id:t.id,nom_entreprise:t.nom_entreprise||"",description:t.description||"",logo_url:t.logo_url||"",site_web:t.site_web||"",numero_siret:t.numero_siret||"",numero_registre_commerce:t.numero_registre_commerce||"",numero_tva:t.numero_tva||"",telephone_professionnel:t.telephone_professionnel||"",adresse_ligne1:t.adresse_ligne1||"",adresse_ligne2:t.adresse_ligne2||"",ville:t.ville||"",code_postal:t.code_postal||"",pays:t.pays||"Gabon",secteur_activite_id:t.secteur_activite_id?.toString()||"",type_entreprise_id:t.type_entreprise_id?.toString()||"",annee_creation:t.annee_creation?.toString()||"",nombre_employes:t.nombre_employes?.toString()||"",capacite_production:t.capacite_production||"",certifications:t.certifications||"",nom_banque:t.nom_banque||"",iban:t.iban||"",nom_titulaire_compte:t.nom_titulaire_compte||"",bic_swift:t.bic_swift||"",statut_verification:t.statut_verification||"en_attente"}))},[t]);const k=async()=>{try{await Promise.all([y(),_()])}catch(T){console.error("Erreur chargement donnes:",T)}},y=async()=>{try{console.log(" Chargement des secteurs...");const T=await ie.get("/supplier/secteurs");console.log(" Secteurs chargs:",T);const b=T.secteurs||T.data?.secteurs||[];console.log(" Secteurs extraits:",b),d(b)}catch(T){console.log(" Erreur chargement secteurs, utilisation des donnes par dfaut:",T),d([{id:1,nom:"Agriculture",description:"Agriculture et levage"},{id:2,nom:"Artisanat",description:"Artisanat traditionnel"},{id:3,nom:"Textile",description:"Textile et vtements"},{id:4,nom:"lectronique",description:"lectronique et technologie"},{id:5,nom:"Alimentaire",description:"Produits alimentaires"}])}},_=async()=>{try{console.log(" Chargement des types d'entreprise...");const T=await ie.get("/supplier/types-entreprise");console.log(" Types d'entreprise chargs:",T);const b=T.types||T.data?.types||[];console.log(" Types extraits:",b),h(b)}catch(T){console.log(" Erreur chargement types entreprise, utilisation des donnes par dfaut:",T),h([{id:1,nom:"SARL",description:"Socit  responsabilit limite"},{id:2,nom:"SA",description:"Socit anonyme"},{id:3,nom:"Entreprise individuelle",description:"Entreprise individuelle"},{id:4,nom:"Cooprative",description:"Cooprative"}])}},w=T=>{const{name:b,value:P}=T.target;N(A=>({...A,[b]:P}))},E=(T,b)=>{N(P=>({...P,[T]:b}))},C=T=>{const{files:b}=T.target;b&&b[0]&&N(P=>({...P,logo:b[0]}))},R=()=>{const T=["nom_entreprise","telephone_professionnel","secteur_activite_id","type_entreprise_id","adresse_ligne1","ville","code_postal","numero_siret"];for(const b of T)if(!g[b])return $.error(`Le champ ${b.replace("_"," ")} est obligatoire`),!1;return!0},I=async T=>{if(T.preventDefault(),!!R())try{o(!0);const b={nom_entreprise:g.nom_entreprise,description:g.description,site_web:g.site_web,numero_siret:g.numero_siret,numero_registre_commerce:g.numero_registre_commerce,numero_tva:g.numero_tva,telephone_professionnel:g.telephone_professionnel,adresse_ligne1:g.adresse_ligne1,adresse_ligne2:g.adresse_ligne2,ville:g.ville,code_postal:g.code_postal,pays:g.pays,secteur_activite_id:parseInt(g.secteur_activite_id)||null,type_entreprise_id:parseInt(g.type_entreprise_id)||null,annee_creation:parseInt(g.annee_creation)||null,nombre_employes:parseInt(g.nombre_employes)||null,capacite_production:g.capacite_production,certifications:g.certifications,nom_banque:g.nom_banque,iban:g.iban,nom_titulaire_compte:g.nom_titulaire_compte,bic_swift:g.bic_swift};console.log(" Sauvegarde avec les donnes:",b),console.log(" ID entreprise:",g.id),await f.mutateAsync({id:g.id,data:b}),$.success("Informations de l'entreprise mises  jour avec succs"),s()}catch(b){console.error("Erreur sauvegarde:",b);const P=b.message||"Erreur lors de la sauvegarde";$.error(P)}finally{o(!1)}};return e.jsxs("form",{onSubmit:I,className:"space-y-6",children:[e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(ot,{className:"mr-2 h-5 w-5"}),"Informations gnrales"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'entreprise *"}),e.jsx(B,{name:"nom_entreprise",required:!0,placeholder:"Nom de votre entreprise",value:g.nom_entreprise,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone professionnel *"}),e.jsx(B,{name:"telephone_professionnel",required:!0,placeholder:"+241 XX XX XX XX",value:g.telephone_professionnel,onChange:w})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site web"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(B,{name:"site_web",placeholder:"https://www.votre-site.com",value:g.site_web,onChange:w,className:"pl-10"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secteur d'activit *"}),e.jsx(bs,{value:g.secteur_activite_id,onValueChange:T=>E("secteur_activite_id",T),placeholder:"Slectionnez un secteur",options:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type d'entreprise *"}),e.jsx(bs,{value:g.type_entreprise_id,onValueChange:T=>E("type_entreprise_id",T),placeholder:"Slectionnez un type",options:u})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo de l'entreprise"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[g.logo_url&&e.jsx("img",{src:g.logo_url,alt:"Logo actuel",className:"w-16 h-16 object-cover rounded-lg border"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(B,{name:"logo",type:"file",accept:"image/*",onChange:C,className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.logo_url?"Choisir un nouveau logo":"Formats accepts: JPG, PNG, GIF (max 2MB)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description de l'entreprise"}),e.jsx(ht,{name:"description",placeholder:"Dcrivez votre entreprise, vos produits et services...",value:g.description,onChange:w,rows:3})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(os,{className:"mr-2 h-5 w-5"}),"Adresse et informations lgales"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 1 *"}),e.jsx(B,{name:"adresse_ligne1",required:!0,placeholder:"Numro et nom de rue",value:g.adresse_ligne1,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 2"}),e.jsx(B,{name:"adresse_ligne2",placeholder:"Complment d'adresse (optionnel)",value:g.adresse_ligne2,onChange:w})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville *"}),e.jsx(B,{name:"ville",required:!0,placeholder:"Libreville",value:g.ville,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code postal *"}),e.jsx(B,{name:"code_postal",required:!0,placeholder:"BP 1234",value:g.code_postal,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pays"}),e.jsx(B,{name:"pays",value:g.pays,onChange:w,disabled:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro SIRET *"}),e.jsx(B,{name:"numero_siret",required:!0,placeholder:"Numro d'identification SIRET",value:g.numero_siret,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro TVA"}),e.jsx(B,{name:"numero_tva",placeholder:"Numro TVA (optionnel)",value:g.numero_tva,onChange:w})]})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(ft,{className:"mr-2 h-5 w-5"}),"Informations complmentaires"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anne de cration"}),e.jsx(B,{name:"annee_creation",type:"number",placeholder:"2020",value:g.annee_creation,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre d'employs"}),e.jsx(B,{name:"nombre_employes",type:"number",placeholder:"10",value:g.nombre_employes,onChange:w})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacit de production"}),e.jsx(B,{name:"capacite_production",placeholder:"Ex: 1000 units/mois",value:g.capacite_production,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certifications"}),e.jsx(ht,{name:"certifications",placeholder:"Listez vos certifications (ISO, etc.)",value:g.certifications,onChange:w,rows:3})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(ot,{className:"mr-2 h-5 w-5"}),"Informations bancaires"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la banque"}),e.jsx(B,{name:"nom_banque",placeholder:"Ex: BGFI Bank",value:g.nom_banque,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du titulaire du compte"}),e.jsx(B,{name:"nom_titulaire_compte",placeholder:"Nom sur le compte bancaire",value:g.nom_titulaire_compte,onChange:w})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IBAN"}),e.jsx(B,{name:"iban",placeholder:"GA21 1234 5678 9012 3456 7890 12",value:g.iban,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code BIC/SWIFT"}),e.jsx(B,{name:"bic_swift",placeholder:"BGFIGAXX",value:g.bic_swift,onChange:w})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(D,{type:"button",variant:"outline",onClick:r,children:"Annuler"}),e.jsx(D,{type:"submit",disabled:a,className:"bg-green-600 hover:bg-green-700",children:a?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sauvegarde..."]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(ln,{className:"mr-2 h-4 w-4"}),p?"Mettre  jour":"Enregistrer"]})})]})]})},vM=({currentPhoto:t,onPhotoUpdate:s,onPhotoDelete:r,size:a="md",className:o=""})=>{const[l,d]=m.useState(!1),[u,h]=m.useState(null),[p,v]=m.useState(null),[f,g]=m.useState(null),N=m.useRef(null),k={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},y={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-10 h-10"};m.useEffect(()=>{if(u||p){const I=setTimeout(()=>{h(null),v(null)},3e3);return()=>clearTimeout(I)}},[u,p]);const _=I=>{const T=I.target.files?.[0];if(!T)return;const b=["image/jpeg","image/jpg","image/png","image/gif","image/webp"],P=5*1024*1024;if(!b.includes(T.type)){h("Format de fichier non support. Utilisez JPEG, PNG, GIF ou WEBP.");return}if(T.size>P){h("Le fichier est trop volumineux. Taille maximale : 5MB.");return}const A=new FileReader;A.onload=O=>{g(O.target?.result)},A.readAsDataURL(T),w(T)},w=async I=>{d(!0),h(null),v(null);try{const T=new FormData;T.append("photo",I);const b=localStorage.getItem("authToken");if(!b)throw new Error("Token d'authentification manquant");const P=await fetch("undefined/profile-photo/upload",{method:"POST",headers:{Authorization:`Bearer ${b}`},body:T}),A=await P.json();if(!P.ok)throw new Error(A.error||"Erreur lors de l'upload");v("Photo de profil mise  jour avec succs !"),s(A.data.photo_profil),g(null)}catch(T){console.error("Erreur upload photo:",T),h(T instanceof Error?T.message:"Erreur lors de l'upload"),g(null)}finally{d(!1)}},E=async()=>{if(t){d(!0),h(null),v(null);try{const I=localStorage.getItem("authToken");if(!I)throw new Error("Token d'authentification manquant");const T=await fetch("undefined/profile-photo",{method:"DELETE",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}}),b=await T.json();if(!T.ok)throw new Error(b.error||"Erreur lors de la suppression");v("Photo de profil supprime avec succs !"),r()}catch(I){console.error("Erreur suppression photo:",I),h(I instanceof Error?I.message:"Erreur lors de la suppression")}finally{d(!1)}}},C=()=>{N.current?.click()},R=f||t;return e.jsxs("div",{className:`flex flex-col items-center space-y-4 ${o}`,children:[e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:`
            ${k[a]} 
            rounded-full border-2 border-gray-300 
            overflow-hidden cursor-pointer
            transition-all duration-200
            hover:border-blue-500 hover:shadow-lg
            ${l?"opacity-50":""}
          `,onClick:C,children:[R?e.jsx("img",{src:Yt(R),alt:"Photo de profil",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:e.jsx(Xe,{className:`${y[a]} text-gray-400`})}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center",children:e.jsx(qv,{className:`${y[a]} text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200`})}),l&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})})]}),t&&!l&&e.jsx("button",{onClick:I=>{I.stopPropagation(),E()},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors duration-200",title:"Supprimer la photo",children:e.jsx(Je,{className:"w-3 h-3"})})]}),e.jsx("input",{ref:N,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:_,className:"hidden"}),e.jsxs("button",{onClick:C,disabled:l,className:`
          flex items-center space-x-2 px-4 py-2 
          bg-blue-500 text-white rounded-lg
          hover:bg-blue-600 disabled:opacity-50
          transition-colors duration-200
          ${l?"cursor-not-allowed":"cursor-pointer"}
        `,children:[e.jsx(Si,{className:"w-4 h-4"}),e.jsx("span",{children:l?"Upload en cours...":"Changer la photo"})]}),u&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:[e.jsx(Pt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:u})]}),p&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-green-50 px-3 py-2 rounded-lg",children:[e.jsx(qe,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:p})]}),e.jsxs("div",{className:"text-xs text-gray-500 text-center max-w-xs",children:[e.jsx("p",{children:"Formats accepts : JPEG, PNG, GIF, WEBP"}),e.jsx("p",{children:"Taille maximale : 5MB"})]})]})},jM=()=>{const t=Re(),{data:s,isLoading:r}=Rt(),a=s?.role_id===2,[o,l]=m.useState("personal"),[d,u]=m.useState([]),[h,p]=m.useState([]),{photoData:v,refetch:f}=Di(),g=G=>{$.success("Photo de profil mise  jour avec succs !"),f()},N=()=>{$.success("Photo de profil supprime avec succs !"),f()};m.useEffect(()=>{s?.entreprise&&(console.log(" Donnes entreprise reues:",s.entreprise),console.log(" Secteur activit:",s.entreprise.secteur_activite),console.log(" Type entreprise:",s.entreprise.type_entreprise))},[s]),m.useEffect(()=>{a&&(k(),y())},[a]);const k=async()=>{try{const G=await ie.get("/supplier/secteurs"),L=G.secteurs||G.data?.secteurs||[];u(L)}catch(G){console.error("Erreur chargement secteurs:",G)}},y=async()=>{try{const G=await ie.get("/supplier/types-entreprise"),L=G.types||G.data?.types||[];p(L)}catch(G){console.error("Erreur chargement types entreprise:",G)}},_=G=>d.find(H=>H.id===G)?.nom||`Secteur ID: ${G}`,w=G=>h.find(H=>H.id===G)?.nom||`Type ID: ${G}`;xM(s?.entreprise?.id||0),m.useEffect(()=>{s&&a&&l("company")},[s,a]),Eb();const E=S5();AN();const C=ea(),[R,I]=m.useState(!1),[T,b]=m.useState(!1),[P,A]=m.useState({nom:"",prenom:"",telephone:"",email:""});m.useEffect(()=>{s&&A({nom:s.nom||"",prenom:s.prenom||"",telephone:s.telephone||"",email:s.email||""})},[s]);const O=a?Ys:$e,F=()=>{C.mutate()},X=G=>{A({...P,[G.target.name]:G.target.value})},V=async()=>{try{await E.mutateAsync(P),$.success("Profil mis  jour avec succs"),I(!1)}catch(G){$.error(G.message||"Erreur lors de la mise  jour")}},K=()=>{s&&A({nom:s.nom||"",prenom:s.prenom||"",telephone:s.telephone||"",email:s.email||""}),I(!1)},me=()=>{b(!1),window.location.reload()},U=()=>{b(!1)};return r?e.jsx(O,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{children:"Chargement du profil..."})]})})}):e.jsx(O,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"container mx-auto px-4 py-4 sm:py-8",children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-4 gap-4 lg:gap-8",children:[e.jsx("div",{className:"lg:col-span-1 order-2 lg:order-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:[e.jsxs("div",{className:"text-center mb-4 lg:mb-6",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Xe,{className:"w-8 h-8 sm:w-10 sm:h-10 text-green-600"})}),e.jsxs("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:[s?.nom," ",s?.prenom]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:s?.email}),e.jsx(ne,{variant:"outline",className:"mt-2 text-xs bg-green-50 text-green-700",children:a?"Fournisseur":"Acheteur"})]}),e.jsx("div",{className:"lg:hidden mb-4",children:e.jsx("div",{className:"flex overflow-x-auto space-x-2 pb-2",children:[{key:"personal",icon:Xe,label:"Personnel"},{key:"company",icon:ot,label:"Entreprise"},{key:"security",icon:lt,label:"Scurit"},{key:"preferences",icon:Ws,label:"Prfrences"}].map(G=>e.jsxs(D,{variant:o===G.key?"default":"ghost",size:"sm",className:"flex-shrink-0 px-3",onClick:()=>l(G.key),children:[e.jsx(G.icon,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-xs",children:G.label})]},G.key))})}),e.jsxs("nav",{className:"hidden lg:block space-y-2",children:[e.jsxs(D,{variant:o==="personal"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>l("personal"),children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Informations personnelles"]}),a&&e.jsxs(D,{variant:o==="company"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>l("company"),children:[e.jsx(ot,{className:"w-4 h-4 mr-2"}),"Informations entreprise"]}),e.jsxs(D,{variant:o==="security"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>l("security"),children:[e.jsx(lt,{className:"w-4 h-4 mr-2"}),"Scurit"]}),e.jsxs(D,{variant:o==="preferences"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>l("preferences"),children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Prfrences"]}),a&&e.jsxs(D,{variant:o==="documents"?"default":"ghost",className:"w-full justify-start text-sm",onClick:()=>l("documents"),children:[e.jsx(ft,{className:"w-4 h-4 mr-2"}),"Documents"]})]}),e.jsx("div",{className:"mt-4 lg:mt-8 pt-4 lg:pt-6 border-t",children:e.jsxs(D,{variant:"outline",size:"sm",className:"w-full text-red-600 hover:text-red-700 text-sm",onClick:F,disabled:C.isPending,children:[e.jsx(Ca,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:C.isPending?"Dconnexion...":"Dconnexion"}),e.jsx("span",{className:"sm:hidden",children:"Sortir"})]})})]})}),e.jsxs("div",{className:"lg:col-span-3 order-1 lg:order-2",children:[o==="personal"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations personnelles "}),e.jsx("p",{className:"text-gray-600",children:"Grez vos informations personnelles et de contact"})]}),R?e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(D,{onClick:V,disabled:E.isPending,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ln,{className:"w-4 h-4 mr-2"}),E.isPending?"Sauvegarde...":"Sauvegarder"]}),e.jsxs(D,{variant:"outline",onClick:K,children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Annuler"]})]}):e.jsxs(D,{onClick:()=>I(!0),children:[e.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Modifier"]})]})}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2"}),"Photo de profil"]})}),e.jsx(J,{children:e.jsx(vM,{currentPhoto:v?.photo_profil,onPhotoUpdate:g,onPhotoDelete:N,size:"lg",className:"justify-center"})})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2"}),"Dtails du compte"]})}),e.jsxs(J,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),e.jsx(B,{name:"nom",value:P.nom,onChange:X,disabled:!R,placeholder:"Votre nom"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prnom"}),e.jsx(B,{name:"prenom",value:P.prenom,onChange:X,disabled:!R,placeholder:"Votre prnom"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(B,{name:"email",type:"email",value:P.email,onChange:X,disabled:!R,className:"pl-10",placeholder:"votre@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(B,{name:"telephone",value:P.telephone,onChange:X,disabled:!R,className:"pl-10",placeholder:"+241 XX XX XX XX"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rle"}),e.jsx(B,{value:a?"Fournisseur":"Acheteur",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date d'inscription"}),e.jsxs("div",{className:"relative",children:[e.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(B,{value:s?.created_at?new Date(s.created_at).toLocaleDateString("fr-FR"):"Non disponible",disabled:!0,className:"bg-gray-50 pl-10"})]})]})]})]})]}),o==="company"&&a&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations entreprise "}),e.jsx("p",{className:"text-gray-600",children:"Grez les informations de votre entreprise et votre profil fournisseur"})]}),!T&&e.jsxs(D,{onClick:()=>b(!0),children:[e.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Modifier"]})]})}),T?e.jsx(gM,{initialData:s?.entreprise,onSave:me,onCancel:U}):e.jsxs(e.Fragment,{children:[e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(ot,{className:"w-5 h-5 mr-2"}),"Informations gnrales"]})}),e.jsxs(J,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'entreprise"}),e.jsx(B,{value:s?.entreprise?.nom_entreprise||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx(B,{value:s?.entreprise?.description||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site web"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(B,{value:s?.entreprise?.site_web||"Non renseign",disabled:!0,className:"bg-gray-50 pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone professionnel"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(B,{value:s?.entreprise?.telephone_professionnel||"Non renseign",disabled:!0,className:"bg-gray-50 pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secteur d'activit"}),e.jsx(B,{value:s?.entreprise?.secteur_activite?.nom||(s?.entreprise?.secteur_activite_id?_(s.entreprise.secteur_activite_id):"Non renseign"),disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type d'entreprise"}),e.jsx(B,{value:s?.entreprise?.type_entreprise?.nom||(s?.entreprise?.type_entreprise_id?w(s.entreprise.type_entreprise_id):"Non renseign"),disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo de l'entreprise"}),e.jsxs("div",{className:"flex items-center gap-3",children:[s?.entreprise?.logo_url?e.jsx("img",{src:s.entreprise.logo_url,alt:"Logo entreprise",className:"w-12 h-12 object-cover rounded-lg border"}):e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(ot,{className:"w-6 h-6 text-gray-400"})}),e.jsx(B,{value:s?.entreprise?.logo_url?"Logo configur":"Aucun logo",disabled:!0,className:"bg-gray-50 flex-1"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut de vrification"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{value:s?.entreprise?.statut_verification==="verifie"?"Vrifi":s?.entreprise?.statut_verification==="rejete"?"Rejet":"En attente",disabled:!0,className:"bg-gray-50"}),s?.entreprise?.statut_verification==="verifie"&&e.jsxs(ne,{className:"bg-green-100 text-green-800",children:[e.jsx(lt,{className:"w-3 h-3 mr-1"}),"Vrifi"]})]})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(ft,{className:"w-5 h-5 mr-2"}),"Informations lgales"]})}),e.jsxs(J,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro SIRET"}),e.jsx(B,{value:s?.entreprise?.numero_siret||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro TVA"}),e.jsx(B,{value:s?.entreprise?.numero_tva||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registre de commerce"}),e.jsx(B,{value:s?.entreprise?.numero_registre_commerce||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anne de cration"}),e.jsx(B,{value:s?.entreprise?.annee_creation||"Non renseign",disabled:!0,className:"bg-gray-50"})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(os,{className:"w-5 h-5 mr-2"}),"Adresse de l'entreprise"]})}),e.jsxs(J,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 1"}),e.jsx(B,{value:s?.entreprise?.adresse_ligne1||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 2"}),e.jsx(B,{value:s?.entreprise?.adresse_ligne2||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville"}),e.jsx(B,{value:s?.entreprise?.ville||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code postal"}),e.jsx(B,{value:s?.entreprise?.code_postal||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pays"}),e.jsx(B,{value:s?.entreprise?.pays||"Gabon",disabled:!0,className:"bg-gray-50"})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(St,{className:"w-5 h-5 mr-2"}),"Informations complmentaires"]})}),e.jsxs(J,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre d'employs"}),e.jsx(B,{value:s?.entreprise?.nombre_employes||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacit de production"}),e.jsx(B,{value:s?.entreprise?.capacite_production||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certifications"}),e.jsx(B,{value:s?.entreprise?.certifications||"Aucune certification renseigne",disabled:!0,className:"bg-gray-50"})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(Bv,{className:"w-5 h-5 mr-2"}),"Informations bancaires"]})}),e.jsxs(J,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la banque"}),e.jsx(B,{value:s?.entreprise?.nom_banque||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du titulaire du compte"}),e.jsx(B,{value:s?.entreprise?.nom_titulaire_compte||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IBAN"}),e.jsx(B,{value:s?.entreprise?.iban||"Non renseign",disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code BIC/SWIFT"}),e.jsx(B,{value:s?.entreprise?.bic_swift||"Non renseign",disabled:!0,className:"bg-gray-50"})]})]})]})]})]}),o==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Scurit du compte "}),e.jsx("p",{className:"text-gray-600",children:"Grez la scurit de votre compte et vos paramtres de confidentialit"})]}),e.jsx(Q,{children:e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(lt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Paramtres de scurit"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Accdez aux paramtres complets pour grer votre scurit"}),e.jsxs(D,{onClick:()=>t("/settings"),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Ouvrir les paramtres"]})]})})})]}),o==="preferences"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Prfrences "}),e.jsx("p",{className:"text-gray-600",children:"Personnalisez votre exprience sur la plateforme"})]}),e.jsx(Q,{children:e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ws,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Paramtres avancs"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Configurez vos notifications, confidentialit et prfrences"}),e.jsxs(D,{onClick:()=>t("/settings"),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Ouvrir les paramtres"]})]})})})]}),o==="documents"&&a&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Documents de vrification "}),e.jsx("p",{className:"text-gray-600",children:"Tlchargez vos documents officiels pour la vrification de votre compte"})]}),e.jsx(Q,{children:e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ft,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Gestion des documents"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Accdez au tableau de bord pour grer vos documents"}),e.jsxs(D,{onClick:()=>t("/supplier/dashboard"),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"Aller au tableau de bord"]})]})})})]})]})]})})})})};function yM(t,s,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return s?.(o)}}function iv(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function MN(...t){return s=>{let r=!1;const a=t.map(o=>{const l=iv(o,s);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<a.length;o++){const l=a[o];typeof l=="function"?l():iv(t[o],null)}}}}function DN(...t){return m.useCallback(MN(...t),t)}function bM(t,s=[]){let r=[];function a(l,d){const u=m.createContext(d),h=r.length;r=[...r,d];const p=f=>{const{scope:g,children:N,...k}=f,y=g?.[t]?.[h]||u,_=m.useMemo(()=>k,Object.values(k));return e.jsx(y.Provider,{value:_,children:N})};p.displayName=l+"Provider";function v(f,g){const N=g?.[t]?.[h]||u,k=m.useContext(N);if(k)return k;if(d!==void 0)return d;throw new Error(`\`${f}\` must be used within \`${l}\``)}return[p,v]}const o=()=>{const l=r.map(d=>m.createContext(d));return function(u){const h=u?.[t]||l;return m.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return o.scopeName=t,[a,NM(o,...s)]}function NM(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const a=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const d=a.reduce((u,{useScope:h,scopeName:p})=>{const f=h(l)[`__scope${p}`];return{...u,...f}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:d}),[d])}};return r.scopeName=s.scopeName,r}var IN=globalThis?.document?m.useLayoutEffect:()=>{},wM=$h[" useInsertionEffect ".trim().toString()]||IN;function CM({prop:t,defaultProp:s,onChange:r=()=>{},caller:a}){const[o,l,d]=SM({defaultProp:s,onChange:r}),u=t!==void 0,h=u?t:o;{const v=m.useRef(t!==void 0);m.useEffect(()=>{const f=v.current;f!==u&&console.warn(`${a} is changing from ${f?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=u},[u,a])}const p=m.useCallback(v=>{if(u){const f=_M(v)?v(t):v;f!==t&&d.current?.(f)}else l(v)},[u,t,l,d]);return[h,p]}function SM({defaultProp:t,onChange:s}){const[r,a]=m.useState(t),o=m.useRef(r),l=m.useRef(s);return wM(()=>{l.current=s},[s]),m.useEffect(()=>{o.current!==r&&(l.current?.(r),o.current=r)},[r,o]),[r,a,l]}function _M(t){return typeof t=="function"}function kM(t){const s=m.useRef({value:t,previous:t});return m.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}function EM(t){const[s,r]=m.useState(void 0);return IN(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let d,u;if("borderBoxSize"in l){const h=l.borderBoxSize,p=Array.isArray(h)?h[0]:h;d=p.inlineSize,u=p.blockSize}else d=t.offsetWidth,u=t.offsetHeight;r({width:d,height:u})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else r(void 0)},[t]),s}function PM(t){const s=TM(t),r=m.forwardRef((a,o)=>{const{children:l,...d}=a,u=m.Children.toArray(l),h=u.find(AM);if(h){const p=h.props.children,v=u.map(f=>f===h?m.Children.count(p)>1?m.Children.only(null):m.isValidElement(p)?p.props.children:null:f);return e.jsx(s,{...d,ref:o,children:m.isValidElement(p)?m.cloneElement(p,void 0,v):null})}return e.jsx(s,{...d,ref:o,children:l})});return r.displayName=`${t}.Slot`,r}function TM(t){const s=m.forwardRef((r,a)=>{const{children:o,...l}=r;if(m.isValidElement(o)){const d=DM(o),u=MM(l,o.props);return o.type!==m.Fragment&&(u.ref=a?MN(a,d):d),m.cloneElement(o,u)}return m.Children.count(o)>1?m.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var RM=Symbol("radix.slottable");function AM(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===RM}function MM(t,s){const r={...s};for(const a in s){const o=t[a],l=s[a];/^on[A-Z]/.test(a)?o&&l?r[a]=(...u)=>{const h=l(...u);return o(...u),h}:o&&(r[a]=o):a==="style"?r[a]={...o,...l}:a==="className"&&(r[a]=[o,l].filter(Boolean).join(" "))}return{...t,...r}}function DM(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var IM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],LN=IM.reduce((t,s)=>{const r=PM(`Primitive.${s}`),a=m.forwardRef((o,l)=>{const{asChild:d,...u}=o,h=d?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(h,{...u,ref:l})});return a.displayName=`Primitive.${s}`,{...t,[s]:a}},{}),Ld="Switch",[LM]=bM(Ld),[OM,FM]=LM(Ld),ON=m.forwardRef((t,s)=>{const{__scopeSwitch:r,name:a,checked:o,defaultChecked:l,required:d,disabled:u,value:h="on",onCheckedChange:p,form:v,...f}=t,[g,N]=m.useState(null),k=DN(s,C=>N(C)),y=m.useRef(!1),_=g?v||!!g.closest("form"):!0,[w,E]=CM({prop:o,defaultProp:l??!1,onChange:p,caller:Ld});return e.jsxs(OM,{scope:r,checked:w,disabled:u,children:[e.jsx(LN.button,{type:"button",role:"switch","aria-checked":w,"aria-required":d,"data-state":qN(w),"data-disabled":u?"":void 0,disabled:u,value:h,...f,ref:k,onClick:yM(t.onClick,C=>{E(R=>!R),_&&(y.current=C.isPropagationStopped(),y.current||C.stopPropagation())})}),_&&e.jsx($N,{control:g,bubbles:!y.current,name:a,value:h,checked:w,required:d,disabled:u,form:v,style:{transform:"translateX(-100%)"}})]})});ON.displayName=Ld;var FN="SwitchThumb",zN=m.forwardRef((t,s)=>{const{__scopeSwitch:r,...a}=t,o=FM(FN,r);return e.jsx(LN.span,{"data-state":qN(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:s})});zN.displayName=FN;var zM="SwitchBubbleInput",$N=m.forwardRef(({__scopeSwitch:t,control:s,checked:r,bubbles:a=!0,...o},l)=>{const d=m.useRef(null),u=DN(d,l),h=kM(r),p=EM(s);return m.useEffect(()=>{const v=d.current;if(!v)return;const f=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(f,"checked").set;if(h!==r&&N){const k=new Event("click",{bubbles:a});N.call(v,r),v.dispatchEvent(k)}},[h,r,a]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:u,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$N.displayName=zM;function qN(t){return t?"checked":"unchecked"}var BN=ON,$M=zN;const Pr=m.forwardRef(({className:t,...s},r)=>e.jsx(BN,{className:we("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:r,children:e.jsx($M,{className:we("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Pr.displayName=BN.displayName;const qM=()=>{const{data:t}=Rt(),[s,r]=m.useState(!1),[a,o]=m.useState(!1),[l,d]=m.useState({nom:t?.nom||"",prenom:t?.prenom||"",email:t?.email||"",telephone:t?.telephone||""}),[u,h]=m.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[p,v]=m.useState({emailNotifications:!0,pushNotifications:!0,messageNotifications:!0,orderNotifications:!0,marketingEmails:!1}),[f,g]=m.useState({profileVisible:!0,showEmail:!1,showPhone:!1,allowMessages:!0}),k=t?.role_id===2?Ys:$e,y=async()=>{r(!0);try{await ie.put("/users/profile",l),$.success("Profil mis  jour avec succs")}catch(C){$.error(C.message||"Erreur lors de la mise  jour")}finally{r(!1)}},_=async()=>{if(u.newPassword!==u.confirmPassword){$.error("Les mots de passe ne correspondent pas");return}if(u.newPassword.length<6){$.error("Le mot de passe doit contenir au moins 6 caractres");return}r(!0);try{await ie.put("/users/password",{currentPassword:u.currentPassword,newPassword:u.newPassword}),$.success("Mot de passe modifi avec succs"),h({currentPassword:"",newPassword:"",confirmPassword:""})}catch(C){$.error(C.message||"Erreur lors du changement de mot de passe")}finally{r(!1)}},w=async()=>{r(!0);try{try{await ie.put("/users/notifications-settings",p),$.success("Paramtres de notification mis  jour")}catch(C){if(C.message?.includes("404")||C.message?.includes("Not Found"))console.warn("Route /users/notifications-settings non implmente"),$.success("Paramtres de notification mis  jour (Mode simulation)");else throw C}}catch(C){$.error(C.message||"Erreur lors de la mise  jour")}finally{r(!1)}},E=async()=>{r(!0);try{try{await ie.put("/users/privacy-settings",f),$.success("Paramtres de confidentialit mis  jour")}catch(C){if(C.message?.includes("404")||C.message?.includes("Not Found"))console.warn("Route /users/privacy-settings non implmente"),$.success("Paramtres de confidentialit mis  jour (Mode simulation)");else throw C}}catch(C){$.error(C.message||"Erreur lors de la mise  jour")}finally{r(!1)}};return e.jsx(k,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(rl,{className:"mb-4"}),e.jsx(Pp,{items:[{label:"Paramtres"}]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Paramtres"}),e.jsx("p",{className:"text-gray-600",children:"Grez vos prfrences et paramtres de compte"})]}),e.jsxs(Gr,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(yr,{className:"grid w-full grid-cols-4",children:[e.jsxs(Ue,{value:"profile",className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4"}),"Profil"]}),e.jsxs(Ue,{value:"notifications",className:"flex items-center gap-2",children:[e.jsx(vs,{className:"w-4 h-4"}),"Notifications"]}),e.jsxs(Ue,{value:"security",className:"flex items-center gap-2",children:[e.jsx(lt,{className:"w-4 h-4"}),"Scurit"]}),e.jsxs(Ue,{value:"privacy",className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-4 h-4"}),"Confidentialit"]})]}),e.jsx(He,{value:"profile",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-5 h-5"}),"Informations personnelles"]})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"nom",children:"Nom"}),e.jsx(B,{id:"nom",value:l.nom,onChange:C=>d({...l,nom:C.target.value}),placeholder:"Votre nom"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"prenom",children:"Prnom"}),e.jsx(B,{id:"prenom",value:l.prenom,onChange:C=>d({...l,prenom:C.target.value}),placeholder:"Votre prnom"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(B,{id:"email",type:"email",value:l.email,onChange:C=>d({...l,email:C.target.value}),className:"pl-10",placeholder:"votre@email.com"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"telephone",children:"Tlphone"}),e.jsxs("div",{className:"relative",children:[e.jsx(sh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(B,{id:"telephone",value:l.telephone,onChange:C=>d({...l,telephone:C.target.value}),className:"pl-10",placeholder:"+241 XX XX XX XX"})]})]}),e.jsxs(D,{onClick:y,disabled:s,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ln,{className:"w-4 h-4 mr-2"}),s?"Enregistrement...":"Enregistrer les modifications"]})]})]})}),e.jsx(He,{value:"notifications",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(vs,{className:"w-5 h-5"}),"Prfrences de notification"]})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Notifications par email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir les notifications importantes par email"})]}),e.jsx(Pr,{checked:p.emailNotifications,onCheckedChange:C=>v({...p,emailNotifications:C})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Notifications push"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir les notifications dans le navigateur"})]}),e.jsx(Pr,{checked:p.pushNotifications,onCheckedChange:C=>v({...p,pushNotifications:C})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Messages"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Notifications pour les nouveaux messages"})]}),e.jsx(Pr,{checked:p.messageNotifications,onCheckedChange:C=>v({...p,messageNotifications:C})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Commandes"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Notifications pour les commandes et leur statut"})]}),e.jsx(Pr,{checked:p.orderNotifications,onCheckedChange:C=>v({...p,orderNotifications:C})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Emails marketing"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Recevoir les offres et actualits"})]}),e.jsx(Pr,{checked:p.marketingEmails,onCheckedChange:C=>v({...p,marketingEmails:C})})]})]}),e.jsxs(D,{onClick:w,disabled:s,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ln,{className:"w-4 h-4 mr-2"}),s?"Enregistrement...":"Enregistrer les prfrences"]})]})]})}),e.jsx(He,{value:"security",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"w-5 h-5"}),"Scurit du compte"]})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"currentPassword",children:"Mot de passe actuel"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{id:"currentPassword",type:a?"text":"password",value:u.currentPassword,onChange:C=>h({...u,currentPassword:C.target.value}),placeholder:"Votre mot de passe actuel"}),e.jsx(D,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>o(!a),children:a?e.jsx(Gs,{className:"w-4 h-4"}):e.jsx(Ze,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"newPassword",children:"Nouveau mot de passe"}),e.jsx(B,{id:"newPassword",type:a?"text":"password",value:u.newPassword,onChange:C=>h({...u,newPassword:C.target.value}),placeholder:"Nouveau mot de passe (min. 6 caractres)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"confirmPassword",children:"Confirmer le nouveau mot de passe"}),e.jsx(B,{id:"confirmPassword",type:a?"text":"password",value:u.confirmPassword,onChange:C=>h({...u,confirmPassword:C.target.value}),placeholder:"Confirmer le nouveau mot de passe"})]})]}),e.jsxs(D,{onClick:_,disabled:s||!u.currentPassword||!u.newPassword,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ln,{className:"w-4 h-4 mr-2"}),s?"Modification...":"Modifier le mot de passe"]})]})]})}),e.jsx(He,{value:"privacy",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-5 h-5"}),"Paramtres de confidentialit"]})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Profil visible"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Permettre aux autres utilisateurs de voir votre profil"})]}),e.jsx(Pr,{checked:f.profileVisible,onCheckedChange:C=>g({...f,profileVisible:C})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Afficher l'email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Rendre votre email visible sur votre profil"})]}),e.jsx(Pr,{checked:f.showEmail,onCheckedChange:C=>g({...f,showEmail:C})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Afficher le tlphone"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Rendre votre numro visible sur votre profil"})]}),e.jsx(Pr,{checked:f.showPhone,onCheckedChange:C=>g({...f,showPhone:C})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Autoriser les messages"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Permettre aux autres utilisateurs de vous contacter"})]}),e.jsx(Pr,{checked:f.allowMessages,onCheckedChange:C=>g({...f,allowMessages:C})})]})]}),e.jsxs(D,{onClick:E,disabled:s,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ln,{className:"w-4 h-4 mr-2"}),s?"Enregistrement...":"Enregistrer les paramtres"]})]})]})})]})]})})})},Bt=({children:t,requiredRole:s})=>{const r=!!_b.getToken(),{data:a,isLoading:o}=Rt(),l=pn();if(!r)return e.jsx(Ro,{to:"/login",state:{from:l},replace:!0});if(o)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gr,{className:"w-6 h-6 animate-spin text-green-600"}),e.jsx("span",{children:"Vrification de l'authentification..."})]})});if(!a)return e.jsx(Ro,{to:"/login",state:{from:l},replace:!0});if(s&&a.role_id!==s){const d=ov(a.role_id);return e.jsx(Ro,{to:d,replace:!0})}if(l.pathname==="/dashboard"){const d=ov(a.role_id);return e.jsx(Ro,{to:d,replace:!0})}return e.jsx(e.Fragment,{children:t})},ov=t=>{switch(t){case 1:return"/buyer/dashboard";case 2:return"/supplier/dashboard";case 3:return"/admin/dashboard";default:return"/"}},BM=()=>(m.useEffect(()=>{console.log("AuthErrorHandler: Vrification des tokens dsactive")},[]),null),Er=({children:t,redirectTo:s})=>{const r=Wr(),{data:a,isLoading:o}=Rt();if(o)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gr,{className:"w-6 h-6 animate-spin text-green-600"}),e.jsx("span",{children:"Chargement..."})]})});if(r&&a){const l=VM(a.role_id);return e.jsx(Ro,{to:s||l,replace:!0})}return e.jsx(e.Fragment,{children:t})},VM=t=>{switch(t){case 1:return"/buyer/dashboard";case 2:return"/supplier/dashboard";case 3:return"/admin/dashboard";default:return"/"}};class UM{constructor(){this.listeners=[],this.pollingInterval=null}async getAllNotifications(){try{console.log(" [AdminNotificationService] Rcupration des notifications admin");const s=await ie.get("/admin/notifications"),r=s.data||s;return r&&r.notifications&&Array.isArray(r.notifications)?r.notifications:Array.isArray(r)?r:[]}catch(s){return console.error(" [AdminNotificationService] Erreur rcupration notifications:",s),[]}}async getNotificationCounts(){try{console.log(" [AdminNotificationService] Rcupration des compteurs");const s=await ie.get("/admin/notifications/counts");return s.data||s||{total:0,unread:0,byType:{user_management:0,product_management:0,system:0,order_management:0},byPriority:{low:0,medium:0,high:0,urgent:0}}}catch(s){return console.error(" [AdminNotificationService] Erreur rcupration compteurs:",s),{total:0,unread:0,byType:{user_management:0,product_management:0,system:0,order_management:0},byPriority:{low:0,medium:0,high:0,urgent:0}}}}async markAsRead(s){try{await ie.patch(`/admin/notifications/${s}/read`),console.log(" [AdminNotificationService] Notification marque comme lue:",s)}catch(r){throw console.error(" [AdminNotificationService] Erreur marquage notification:",r),r}}async markAllAsRead(){try{await ie.patch("/admin/notifications/mark-all-read"),console.log(" [AdminNotificationService] Toutes les notifications marques comme lues")}catch(s){throw console.error(" [AdminNotificationService] Erreur marquage toutes notifications:",s),s}}async deleteNotification(s){try{await ie.delete(`/admin/notifications/${s}`),console.log(" [AdminNotificationService] Notification supprime:",s)}catch(r){throw console.error(" [AdminNotificationService] Erreur suppression notification:",r),r}}async deleteAllRead(){try{await ie.delete("/admin/notifications/delete-read"),console.log(" [AdminNotificationService] Toutes les notifications lues supprimes")}catch(s){throw console.error(" [AdminNotificationService] Erreur suppression notifications lues:",s),s}}async getNotificationsByType(s){try{const r=await ie.get(`/admin/notifications?type=${s}`);return r.data||r||[]}catch(r){return console.error(" [AdminNotificationService] Erreur rcupration par type:",r),[]}}async getNotificationsByPriority(s){try{const r=await ie.get(`/admin/notifications?priority=${s}`);return r.data||r||[]}catch(r){return console.error(" [AdminNotificationService] Erreur rcupration par priorit:",r),[]}}async approveUser(s){try{await ie.patch(`/admin/users/${s}/approve`),console.log(" [AdminNotificationService] Utilisateur approuv:",s)}catch(r){throw console.error(" [AdminNotificationService] Erreur approbation utilisateur:",r),r}}async suspendUser(s,r){try{await ie.patch(`/admin/users/${s}/suspend`,{reason:r}),console.log(" [AdminNotificationService] Utilisateur suspendu:",s)}catch(a){throw console.error(" [AdminNotificationService] Erreur suspension utilisateur:",a),a}}async approveProduct(s){try{await ie.patch(`/admin/products/${s}/approve`),console.log(" [AdminNotificationService] Produit approuv:",s)}catch(r){throw console.error(" [AdminNotificationService] Erreur approbation produit:",r),r}}async rejectProduct(s,r){try{await ie.patch(`/admin/products/${s}/reject`,{reason:r}),console.log(" [AdminNotificationService] Produit rejet:",s)}catch(a){throw console.error(" [AdminNotificationService] Erreur rejet produit:",a),a}}addListener(s){return this.listeners.push(s),()=>{const r=this.listeners.indexOf(s);r>-1&&this.listeners.splice(r,1)}}notifyListeners(s){this.listeners.forEach(r=>r(s))}startPolling(s=3e4){return this.pollingInterval&&clearInterval(this.pollingInterval),this.pollingInterval=setInterval(async()=>{try{const r=await this.getNotificationCounts();this.notifyListeners(r)}catch(r){console.error(" [AdminNotificationService] Erreur polling:",r)}},s),this.pollingInterval}stopPolling(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null)}getNotificationIcon(s,r){switch(s){case"user_management":switch(r){case"new_user":return"";case"verification_request":return"";case"user_suspension":return"";case"user_report":return"";default:return""}case"product_management":switch(r){case"product_moderation":return"";case"product_report":return"";case"product_modification_request":return"";default:return""}case"system":switch(r){case"system_error":return"";case"security_alert":return"";case"performance_stats":return"";case"maintenance":return"";default:return""}case"order_management":return"";default:return""}}getPriorityColor(s){switch(s){case"urgent":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-blue-600 bg-blue-50 border-blue-200";case"low":return"text-gray-600 bg-gray-50 border-gray-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}}}const ss=new UM,HM=()=>{const[t,s]=m.useState([]),[r,a]=m.useState({total:0,unread:0,byType:{user_management:0,product_management:0,system:0,order_management:0},byPriority:{low:0,medium:0,high:0,urgent:0}}),[o,l]=m.useState(!1),[d,u]=m.useState(!1),[h,p]=m.useState(""),[v,f]=m.useState("all"),[g,N]=m.useState("all"),k=async()=>{try{u(!0);const[F,X]=await Promise.all([ss.getAllNotifications(),ss.getNotificationCounts()]);s(F),a(X)}catch(F){console.error("Erreur chargement notifications admin:",F),$.error("Erreur lors du chargement des notifications")}finally{u(!1)}},y=async F=>{try{await ss.markAsRead(F),await k(),$.success("Notification marque comme lue")}catch(X){console.error("Erreur marquage notification:",X),$.error("Erreur lors du marquage de la notification")}},_=async()=>{try{await ss.markAllAsRead(),await k(),$.success("Toutes les notifications marques comme lues")}catch(F){console.error("Erreur marquage toutes notifications:",F),$.error("Erreur lors du marquage des notifications")}},w=async F=>{try{await ss.deleteNotification(F),await k(),$.success("Notification supprime")}catch(X){console.error("Erreur suppression notification:",X),$.error("Erreur lors de la suppression de la notification")}},E=async()=>{try{await ss.deleteAllRead(),await k(),$.success("Notifications lues supprimes")}catch(F){console.error("Erreur suppression notifications lues:",F),$.error("Erreur lors de la suppression des notifications")}},C=async F=>{try{await ss.approveUser(F),await k(),$.success("Utilisateur approuv")}catch(X){console.error("Erreur approbation utilisateur:",X),$.error("Erreur lors de l'approbation de l'utilisateur")}},R=async(F,X)=>{try{await ss.suspendUser(F,X),await k(),$.success("Utilisateur suspendu")}catch(V){console.error("Erreur suspension utilisateur:",V),$.error("Erreur lors de la suspension de l'utilisateur")}},I=async F=>{try{await ss.approveProduct(F),await k(),$.success("Produit approuv")}catch(X){console.error("Erreur approbation produit:",X),$.error("Erreur lors de l'approbation du produit")}},T=async(F,X)=>{try{await ss.rejectProduct(F,X),await k(),$.success("Produit rejet")}catch(V){console.error("Erreur rejet produit:",V),$.error("Erreur lors du rejet du produit")}};m.useEffect(()=>{k();const F=ss.addListener(V=>{a(V)}),X=ss.startPolling(3e4);return()=>{F(),clearInterval(X)}},[]);const b=(Array.isArray(t)?t:[]).filter(F=>{const X=!h||F.title.toLowerCase().includes(h.toLowerCase())||F.message.toLowerCase().includes(h.toLowerCase()),V=v==="all"||F.type===v,K=g==="all"||F.priority===g;return X&&V&&K}),P=b.reduce((F,X)=>(F[X.type]||(F[X.type]=[]),F[X.type].push(X),F),{}),A=F=>{switch(F){case"user_management":return e.jsx(St,{className:"w-4 h-4"});case"product_management":return e.jsx(De,{className:"w-4 h-4"});case"system":return e.jsx(Ws,{className:"w-4 h-4"});case"order_management":return e.jsx(pr,{className:"w-4 h-4"});default:return e.jsx(vs,{className:"w-4 h-4"})}},O=F=>{switch(F){case"user_management":return"Gestion Utilisateurs";case"product_management":return"Gestion Produits";case"system":return"Systme";case"order_management":return"Gestion Commandes";default:return"Autres"}};return e.jsxs("div",{className:"relative",children:[e.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>l(!o),className:"relative",children:[e.jsx(vs,{className:"w-5 h-5"}),r.unread>0&&e.jsx(ne,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:r.unread>99?"99+":r.unread})]}),o&&e.jsxs(Q,{className:"absolute right-0 top-12 w-96 max-h-[600px] z-50 shadow-lg",children:[e.jsxs(de,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ue,{className:"text-lg",children:"Notifications Admin"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(D,{variant:"ghost",size:"sm",onClick:_,disabled:r.unread===0,children:[e.jsx(Ps,{className:"w-4 h-4 mr-1"}),"Tout marquer"]}),e.jsxs(D,{variant:"ghost",size:"sm",onClick:E,disabled:(Array.isArray(t)?t:[]).filter(F=>F.isRead).length===0,children:[e.jsx(Rs,{className:"w-4 h-4 mr-1"}),"Nettoyer"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(pt,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(B,{placeholder:"Rechercher...",value:h,onChange:F=>p(F.target.value),className:"pl-8"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:v,onChange:F=>f(F.target.value),className:"px-3 py-1 text-sm border rounded-md",children:[e.jsx("option",{value:"all",children:"Tous les types"}),e.jsx("option",{value:"user_management",children:"Utilisateurs"}),e.jsx("option",{value:"product_management",children:"Produits"}),e.jsx("option",{value:"system",children:"Systme"}),e.jsx("option",{value:"order_management",children:"Commandes"})]}),e.jsxs("select",{value:g,onChange:F=>N(F.target.value),className:"px-3 py-1 text-sm border rounded-md",children:[e.jsx("option",{value:"all",children:"Toutes priorits"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"high",children:"leve"}),e.jsx("option",{value:"medium",children:"Moyenne"}),e.jsx("option",{value:"low",children:"Faible"})]})]})]})]}),e.jsx(J,{className:"p-0",children:d?e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Chargement..."})]}):b.length===0?e.jsxs("div",{className:"p-4 text-center",children:[e.jsx(vs,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucune notification"})]}):e.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:e.jsxs(Gr,{defaultValue:"all",className:"w-full",children:[e.jsxs(yr,{className:"grid w-full grid-cols-2",children:[e.jsxs(Ue,{value:"all",children:["Toutes (",b.length,")"]}),e.jsxs(Ue,{value:"unread",children:["Non lues (",r.unread,")"]})]}),e.jsx(He,{value:"all",className:"mt-0",children:Object.entries(P).map(([F,X])=>e.jsxs("div",{className:"border-b last:border-b-0",children:[e.jsxs("div",{className:"px-4 py-2 bg-muted/50 flex items-center gap-2 text-sm font-medium",children:[A(F),O(F)," (",X.length,")"]}),X.map(V=>e.jsx("div",{className:`p-4 border-b last:border-b-0 hover:bg-muted/30 transition-colors ${V.isRead?"":"bg-blue-50/50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-lg",children:ss.getNotificationIcon(V.type,V.category)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-medium truncate",children:V.title}),e.jsx(ne,{variant:"outline",className:`text-xs ${ss.getPriorityColor(V.priority)}`,children:V.priority}),!V.isRead&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2 line-clamp-2",children:V.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(V.createdAt).toLocaleString("fr-FR")}),e.jsxs("div",{className:"flex items-center gap-1",children:[!V.isRead&&e.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>y(V.id),className:"h-6 px-2 text-xs",children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Marquer lu"]}),e.jsxs(zr,{children:[e.jsx($r,{asChild:!0,children:e.jsx(D,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:e.jsx(Wh,{className:"w-3 h-3"})})}),e.jsxs(fr,{align:"end",children:[V.type==="user_management"&&V.userId&&e.jsxs(e.Fragment,{children:[e.jsxs(Ke,{onClick:()=>C(V.userId),children:[e.jsx(Ps,{className:"w-3 h-3 mr-2"}),"Approuver utilisateur"]}),e.jsxs(Ke,{onClick:()=>R(V.userId,"Raison non spcifie"),children:[e.jsx(Je,{className:"w-3 h-3 mr-2"}),"Suspendre utilisateur"]})]}),V.type==="product_management"&&V.productId&&e.jsxs(e.Fragment,{children:[e.jsxs(Ke,{onClick:()=>I(V.productId),children:[e.jsx(Ps,{className:"w-3 h-3 mr-2"}),"Approuver produit"]}),e.jsxs(Ke,{onClick:()=>T(V.productId,"Raison non spcifie"),children:[e.jsx(Je,{className:"w-3 h-3 mr-2"}),"Rejeter produit"]})]}),e.jsxs(Ke,{onClick:()=>w(V.id),children:[e.jsx(Rs,{className:"w-3 h-3 mr-2"}),"Supprimer"]})]})]})]})]})]})]})},V.id))]},F))}),e.jsx(He,{value:"unread",className:"mt-0",children:b.filter(F=>!F.isRead).length===0?e.jsxs("div",{className:"p-4 text-center",children:[e.jsx(Ps,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Toutes les notifications sont lues"})]}):b.filter(F=>!F.isRead).map(F=>e.jsx("div",{className:"p-4 border-b last:border-b-0 hover:bg-muted/30 transition-colors bg-blue-50/50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("span",{className:"text-lg",children:ss.getNotificationIcon(F.type,F.category)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-medium truncate",children:F.title}),e.jsx(ne,{variant:"outline",className:`text-xs ${ss.getPriorityColor(F.priority)}`,children:F.priority}),e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2 line-clamp-2",children:F.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(F.createdAt).toLocaleString("fr-FR")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>y(F.id),className:"h-6 px-2 text-xs",children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Marquer lu"]}),e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>w(F.id),className:"h-6 w-6 p-0",children:e.jsx(Rs,{className:"w-3 h-3"})})]})]})]})]})},F.id))})]})})})]})]})},Xo=({children:t,activeTab:s,onTabChange:r})=>{const[a,o]=m.useState(!1),[l,d]=m.useState(""),{data:u}=Rt(),h=ea(),p=Re(),{photoData:v}=Di(),f=()=>{h(),$.success("Dconnexion russie"),p("/admin/login")},g=y=>{if(y.preventDefault(),l.trim()){const _=l.trim();_.includes("@")||_.includes("email")?(p(`/admin/users?search=${encodeURIComponent(_)}`),$.info(`Recherche d'utilisateur: ${_}`)):(p(`/admin/users?search=${encodeURIComponent(_)}`),$.info(`Recherche: ${_}`)),d("")}},N=y=>{switch(y){case"overview":p("/admin/dashboard");break;case"users":p("/admin/users");break;case"analytics":case"settings":p("/admin/dashboard"),r?.(y);break;default:r?.(y);break}o(!1)},k=[{key:"overview",label:"Vue d'ensemble",icon:xr,description:"Statistiques gnrales"},{key:"users",label:"Utilisateurs",icon:St,description:"Gestion des comptes"},{key:"analytics",label:"Analyses",icon:xr,description:"Rapports dtaills"},{key:"settings",label:"Paramtres",icon:Ws,description:"Configuration systme"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm fixed top-0 left-0 right-0 z-40",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(D,{variant:"ghost",size:"icon",className:"lg:hidden mr-2",onClick:()=>o(!a),children:e.jsx(Gh,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ta,{size:"sm",showText:!1,onClick:()=>p("/admin/dashboard")}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Administration"}),e.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"GabMarketHub"})]})]})]}),e.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:e.jsxs("form",{onSubmit:g,className:"relative w-full",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(B,{value:l,onChange:y=>d(y.target.value),placeholder:"Rechercher utilisateurs...",className:"pl-10 pr-4 h-9 border-gray-300"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(HM,{}),e.jsxs(zr,{children:[e.jsx($r,{asChild:!0,children:e.jsxs(D,{variant:"ghost",className:"flex items-center space-x-2",children:[e.jsx(Rd,{photoUrl:v?.photo_profil,name:`${u?.nom} ${u?.prenom}`,size:"sm"}),e.jsx("span",{className:"hidden sm:block text-sm font-medium",children:u?.nom||"Admin"})]})}),e.jsxs(fr,{align:"end",className:"w-56",children:[e.jsxs("div",{className:"px-3 py-2 border-b",children:[e.jsx("p",{className:"text-sm font-medium",children:u?.nom}),e.jsx("p",{className:"text-xs text-gray-500",children:u?.email}),e.jsx(ne,{className:"mt-1 bg-red-100 text-red-800 text-xs",children:"Administrateur"})]}),e.jsxs(Ke,{onClick:()=>p("/admin/profile"),children:[e.jsx(lt,{className:"w-4 h-4 mr-2"}),"Mon profil"]}),e.jsxs(Ke,{children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Paramtres"]}),e.jsx(kd,{}),e.jsxs(Ke,{onClick:f,className:"text-red-600",children:[e.jsx(Ca,{className:"w-4 h-4 mr-2"}),"Se dconnecter"]})]})]})]})]})})}),e.jsxs("div",{className:"flex pt-16",children:[e.jsx("aside",{className:`
          fixed inset-y-0 left-0 z-30 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0
          ${a?"translate-x-0":"-translate-x-full"}
        `,children:e.jsxs("div",{className:"flex flex-col h-full pt-16 lg:pt-0",children:[e.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:k.map(y=>e.jsxs("button",{onClick:()=>N(y.key),className:`
                    w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors
                    ${s===y.key?"bg-red-50 text-red-700 border-r-2 border-red-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}
                  `,children:[e.jsx(y.icon,{className:"w-5 h-5 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{children:y.label}),e.jsx("div",{className:"text-xs text-gray-500",children:y.description})]})]},y.key))}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[e.jsx("p",{children:"GabMarketHub Admin"}),e.jsx("p",{children:"Version 1.0.0"})]})})]})}),a&&e.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-50 lg:hidden",onClick:()=>o(!1)}),e.jsx("main",{className:"flex-1 lg:ml-0 min-h-screen",children:e.jsx("div",{className:"p-6 max-h-screen overflow-y-auto",children:t})})]})]})},lv=()=>{const[t,s]=m.useState("overview"),[r,a]=m.useState(null),[o,l]=m.useState(!0);Re(),m.useEffect(()=>{d()},[]);const d=async()=>{try{l(!0),console.log(" Rcupration des statistiques admin...");const p=localStorage.getItem("authToken");console.log("Token prsent:",!!p);const v=await ie.get("/admin/stats");console.log(" Statistiques reues:",v),a(v)}catch(p){console.error(" Erreur chargement donnes admin:",p),console.error("Dtails de l'erreur:",p),$.error("Erreur lors du chargement des donnes")}finally{l(!1)}},u=()=>r?[{title:"Fournisseurs actifs",value:r.total_fournisseurs.toString(),change:"Partenaires vrifis",icon:ot,color:"text-green-600",action:()=>s("suppliers")},{title:"Acheteurs",value:r.total_acheteurs.toString(),change:"Clients enregistrs",icon:St,color:"text-purple-600",action:()=>s("buyers")}]:[];if(o)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement du tableau de bord..."})]})});const h=p=>{s(p)};return e.jsx(Xo,{activeTab:t,onTabChange:h,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tableau de bord administrateur"}),e.jsx("p",{className:"text-gray-600",children:"Supervision de la plateforme et gestion des utilisateurs"})]}),t==="overview"&&e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u().map((p,v)=>e.jsx(Q,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:p.action,children:e.jsxs(J,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-2 rounded-lg bg-gray-50",children:e.jsx(p.icon,{className:`w-6 h-6 ${p.color}`})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:p.value}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:p.title}),e.jsx("p",{className:"text-xs text-gray-500",children:p.change})]})]})},v))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[e.jsx(Q,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{window.location.href="/user-type"},children:e.jsxs(J,{className:"p-6 text-center",children:[e.jsx(St,{className:"w-8 h-8 text-blue-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Nouvel utilisateur"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Crer un compte fournisseur ou acheteur"})]})}),e.jsx(Q,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>s("analytics"),children:e.jsxs(J,{className:"p-6 text-center",children:[e.jsx(xr,{className:"w-8 h-8 text-purple-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Voir analyses"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Rapports et statistiques"})]})})]})]}),t==="analytics"&&e.jsx("div",{className:"space-y-6",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(xr,{className:"w-5 h-5"}),"Rapport d'analyse complet"]})}),e.jsxs(J,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:r?r.total_fournisseurs:0}),e.jsx("div",{className:"text-sm text-green-800",children:"Fournisseurs actifs"}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Partenaires vrifis"})]}),e.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:r?r.total_acheteurs:0}),e.jsx("div",{className:"text-sm text-purple-800",children:"Acheteurs enregistrs"}),e.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"Clients de la plateforme"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{className:"text-lg",children:"Statistiques utilisateurs"})}),e.jsx(J,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Total utilisateurs"}),e.jsx("span",{className:"font-bold text-green-600",children:r?r.total_fournisseurs+r.total_acheteurs:0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Fournisseurs"}),e.jsx("span",{className:"font-bold text-blue-600",children:r?r.total_fournisseurs:0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Acheteurs"}),e.jsx("span",{className:"font-bold text-purple-600",children:r?r.total_acheteurs:0})]})]})})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{className:"text-lg",children:"Activit de la plateforme"})}),e.jsx(J,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Plateforme active"}),e.jsx("span",{className:"font-bold text-green-600",children:""})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Gestion des documents"}),e.jsx("span",{className:"font-bold text-blue-600",children:""})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Validation des fournisseurs"}),e.jsx("span",{className:"font-bold text-purple-600",children:""})]})]})})]})]})]})]})})]})})},WM=()=>{const[t,s]=m.useState({email:"",mot_de_passe:""}),[r,a]=m.useState(!1),[o,l]=m.useState(!1),[d,u]=m.useState(""),h=Re(),p=_p(),v=async g=>{g.preventDefault(),l(!0),u("");try{if((await p(t)).data.user.role_id!==3){u("Accs refus. Seuls les administrateurs peuvent accder  cette page.");return}$.success("Connexion administrateur russie"),h("/admin/dashboard")}catch(N){u(N.message||"Erreur de connexion"),$.error("Erreur de connexion")}finally{l(!1)}},f=g=>{s({...t,[g.target.name]:g.target.value})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(ta,{size:"xl",showText:!1,onClick:()=>h("/")})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Administration"}),e.jsx("p",{className:"text-gray-600",children:"Accs rserv aux administrateurs"})]}),e.jsxs(Q,{className:"shadow-xl border-0",children:[e.jsx(de,{className:"space-y-1 pb-6",children:e.jsx(ue,{className:"text-2xl text-center text-gray-900",children:"Connexion Admin"})}),e.jsxs(J,{children:[e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[d&&e.jsxs(js,{className:"border-red-200 bg-red-50",children:[e.jsx(Pt,{className:"h-4 w-4 text-red-600"}),e.jsx(ys,{className:"text-red-800",children:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email administrateur"}),e.jsx(B,{id:"email",name:"email",type:"email",value:t.email,onChange:f,placeholder:"admin@gabmarkethub.com",required:!0,className:"h-12"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"mot_de_passe",className:"text-sm font-medium text-gray-700",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{id:"mot_de_passe",name:"mot_de_passe",type:r?"text":"password",value:t.mot_de_passe,onChange:f,placeholder:"Votre mot de passe",required:!0,className:"h-12 pr-12"}),e.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:r?e.jsx(Gs,{className:"w-5 h-5"}):e.jsx(Ze,{className:"w-5 h-5"})})]})]}),e.jsx(D,{type:"submit",className:"w-full h-12 bg-red-600 hover:bg-red-700 text-white font-medium",disabled:o,children:o?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Connexion..."]}):"Se connecter"})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Compte de test (dveloppement)"}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," admin@gabmarkethub.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Mot de passe:"})," Admin123!"]}),e.jsx("p",{className:"text-red-600 mt-2",children:" Changez ces identifiants en production !"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(Fr,{to:"/",className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:" Retour  l'accueil"})})]})]}),e.jsxs("div",{className:"text-center mt-8 text-sm text-gray-500",children:[e.jsx("p",{children:"GabMarketHub - Administration"}),e.jsx("p",{children:"Accs scuris et surveill"})]})]})})};var Vp="Dialog",[VN]=Ur(Vp),[GM,br]=VN(Vp),UN=t=>{const{__scopeDialog:s,children:r,open:a,defaultOpen:o,onOpenChange:l,modal:d=!0}=t,u=m.useRef(null),h=m.useRef(null),[p=!1,v]=Un({prop:a,defaultProp:o,onChange:l});return e.jsx(GM,{scope:s,triggerRef:u,contentRef:h,contentId:Or(),titleId:Or(),descriptionId:Or(),open:p,onOpenChange:v,onOpenToggle:m.useCallback(()=>v(f=>!f),[v]),modal:d,children:r})};UN.displayName=Vp;var HN="DialogTrigger",KM=m.forwardRef((t,s)=>{const{__scopeDialog:r,...a}=t,o=br(HN,r),l=Be(s,o.triggerRef);return e.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Wp(o.open),...a,ref:l,onClick:ye(t.onClick,o.onOpenToggle)})});KM.displayName=HN;var Up="DialogPortal",[XM,WN]=VN(Up,{forceMount:void 0}),GN=t=>{const{__scopeDialog:s,forceMount:r,children:a,container:o}=t,l=br(Up,s);return e.jsx(XM,{scope:s,forceMount:r,children:m.Children.map(a,d=>e.jsx(is,{present:r||l.open,children:e.jsx(Qo,{asChild:!0,container:o,children:d})}))})};GN.displayName=Up;var id="DialogOverlay",KN=m.forwardRef((t,s)=>{const r=WN(id,t.__scopeDialog),{forceMount:a=r.forceMount,...o}=t,l=br(id,t.__scopeDialog);return l.modal?e.jsx(is,{present:a||l.open,children:e.jsx(YM,{...o,ref:s})}):null});KN.displayName=id;var YM=m.forwardRef((t,s)=>{const{__scopeDialog:r,...a}=t,o=br(id,r);return e.jsx(Cd,{as:Vn,allowPinchZoom:!0,shards:[o.contentRef],children:e.jsx(Te.div,{"data-state":Wp(o.open),...a,ref:s,style:{pointerEvents:"auto",...a.style}})})}),Pa="DialogContent",XN=m.forwardRef((t,s)=>{const r=WN(Pa,t.__scopeDialog),{forceMount:a=r.forceMount,...o}=t,l=br(Pa,t.__scopeDialog);return e.jsx(is,{present:a||l.open,children:l.modal?e.jsx(QM,{...o,ref:s}):e.jsx(JM,{...o,ref:s})})});XN.displayName=Pa;var QM=m.forwardRef((t,s)=>{const r=br(Pa,t.__scopeDialog),a=m.useRef(null),o=Be(s,r.contentRef,a);return m.useEffect(()=>{const l=a.current;if(l)return gp(l)},[]),e.jsx(YN,{...t,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0;(d.button===2||u)&&l.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,l=>l.preventDefault())})}),JM=m.forwardRef((t,s)=>{const r=br(Pa,t.__scopeDialog),a=m.useRef(!1),o=m.useRef(!1);return e.jsx(YN,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||r.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=l.target;r.triggerRef.current?.contains(d)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),YN=m.forwardRef((t,s)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:l,...d}=t,u=br(Pa,r),h=m.useRef(null),p=Be(s,h);return xp(),e.jsxs(e.Fragment,{children:[e.jsx(yd,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:l,children:e.jsx(Ci,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Wp(u.open),...d,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(ZM,{titleId:u.titleId}),e.jsx(tD,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Hp="DialogTitle",QN=m.forwardRef((t,s)=>{const{__scopeDialog:r,...a}=t,o=br(Hp,r);return e.jsx(Te.h2,{id:o.titleId,...a,ref:s})});QN.displayName=Hp;var JN="DialogDescription",ZN=m.forwardRef((t,s)=>{const{__scopeDialog:r,...a}=t,o=br(JN,r);return e.jsx(Te.p,{id:o.descriptionId,...a,ref:s})});ZN.displayName=JN;var ew="DialogClose",tw=m.forwardRef((t,s)=>{const{__scopeDialog:r,...a}=t,o=br(ew,r);return e.jsx(Te.button,{type:"button",...a,ref:s,onClick:ye(t.onClick,()=>o.onOpenChange(!1))})});tw.displayName=ew;function Wp(t){return t?"open":"closed"}var sw="DialogTitleWarning",[wI,rw]=bC(sw,{contentName:Pa,titleName:Hp,docsSlug:"dialog"}),ZM=({titleId:t})=>{const s=rw(sw),r=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},eD="DialogDescriptionWarning",tD=({contentRef:t,descriptionId:s})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rw(eD).contentName}}.`;return m.useEffect(()=>{const o=t.current?.getAttribute("aria-describedby");s&&o&&(document.getElementById(s)||console.warn(a))},[a,t,s]),null},sD=UN,rD=GN,nw=KN,aw=XN,iw=QN,ow=ZN,nD=tw;const Ta=sD,aD=rD,lw=m.forwardRef(({className:t,...s},r)=>e.jsx(nw,{ref:r,className:we("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));lw.displayName=nw.displayName;const Yn=m.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(aD,{children:[e.jsx(lw,{}),e.jsxs(aw,{ref:a,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[s,e.jsxs(nD,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Je,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yn.displayName=aw.displayName;const Qn=({className:t,...s})=>e.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Qn.displayName="DialogHeader";const Jn=m.forwardRef(({className:t,...s},r)=>e.jsx(iw,{ref:r,className:we("text-lg font-semibold leading-none tracking-tight",t),...s}));Jn.displayName=iw.displayName;const Ra=m.forwardRef(({className:t,...s},r)=>e.jsx(ow,{ref:r,className:we("text-sm text-muted-foreground",t),...s}));Ra.displayName=ow.displayName;const cv=t=>{if(!t)return"Non disponible";try{const s=new Date(t);return isNaN(s.getTime())?"Date invalide":s.toLocaleDateString("fr-FR")}catch{return"Date invalide"}},iD=({userId:t,isOpen:s,onClose:r})=>{const[a,o]=m.useState(null),[l,d]=m.useState(!1);m.useEffect(()=>{t&&s&&u()},[t,s]);const u=async()=>{try{d(!0),console.log(" Chargement dtails utilisateur ID:",t);const v=await ie.get(`/admin/users/${t}`);console.log(" Dtails utilisateur reus:",v),o(v)}catch(v){console.error(" Erreur chargement dtails utilisateur:",v);const f=v instanceof Error?v.message:"Erreur inconnue";f.includes("404")?$.error("Utilisateur non trouv"):f.includes("500")?$.error("Erreur serveur lors du chargement des dtails"):$.error("Erreur lors du chargement des dtails"),r()}finally{d(!1)}},h=(v,f)=>{switch(v){case 1:return e.jsxs(ne,{className:"bg-blue-100 text-blue-800",children:[e.jsx(Xe,{className:"w-3 h-3 mr-1"}),"Acheteur"]});case 2:return e.jsxs(ne,{className:"bg-green-100 text-green-800",children:[e.jsx(ot,{className:"w-3 h-3 mr-1"}),"Fournisseur"]});case 3:return e.jsxs(ne,{className:"bg-purple-100 text-purple-800",children:[e.jsx(lt,{className:"w-3 h-3 mr-1"}),"Admin"]});default:return e.jsx(ne,{className:"bg-gray-100 text-gray-800",children:f})}},p=v=>{switch(v){case"actif":return e.jsxs(ne,{className:"bg-green-100 text-green-800",children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"Actif"]});case"suspendu":return e.jsxs(ne,{className:"bg-red-100 text-red-800",children:[e.jsx(Js,{className:"w-3 h-3 mr-1"}),"Suspendu"]});case"inactif":return e.jsxs(ne,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(Vt,{className:"w-3 h-3 mr-1"}),"Inactif"]});default:return e.jsx(ne,{className:"bg-gray-100 text-gray-800",children:v})}};return l?e.jsx(Ta,{open:s,onOpenChange:r,children:e.jsxs(Yn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Qn,{children:[e.jsx(Jn,{children:"Chargement des dtails utilisateur"}),e.jsx(Ra,{children:"Rcupration des informations en cours..."})]}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des dtails..."})]})})]})}):!t||!a?null:e.jsx(Ta,{open:s,onOpenChange:r,children:e.jsxs(Yn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Qn,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(Jn,{className:"text-2xl font-bold",children:["Dtails de l'utilisateur #",a.id]}),e.jsxs(Ra,{children:["Informations compltes de l'utilisateur ",a.prenom," ",a.nom]})]}),e.jsx(D,{variant:"ghost",size:"icon",onClick:r,children:e.jsx(Je,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-5 h-5"}),"Informations personnelles"]})}),e.jsx(J,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Identit"}),e.jsxs("p",{className:"text-lg font-medium",children:[a.prenom," ",a.nom]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[h(a.role_id,a.role_nom),p(a.statut)]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Contact"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rs,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:a.email}),a.email_verified&&e.jsx(qe,{className:"w-4 h-4 text-green-500"})]}),a.telephone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ks,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:a.telephone}),a.phone_verified&&e.jsx(qe,{className:"w-4 h-4 text-green-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Dates importantes"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:["Inscrit le ",cv(a.date_inscription)]})]}),a.derniere_connexion&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:["Dernire connexion: ",cv(a.derniere_connexion)]})]})]})]})]})})]}),a.statut==="suspendu"&&e.jsxs(Q,{className:"border-red-200 bg-red-50",children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2 text-red-800",children:[e.jsx(Js,{className:"w-5 h-5"}),"Informations de suspension"]})}),e.jsx(J,{children:e.jsxs("div",{className:"space-y-2",children:[a.suspended_at&&e.jsxs("p",{children:[e.jsx("strong",{children:"Date de suspension:"})," ",new Date(a.suspended_at).toLocaleDateString("fr-FR")]}),a.suspension_reason&&e.jsxs("p",{children:[e.jsx("strong",{children:"Raison:"})," ",a.suspension_reason]})]})})]}),a.role_id===2&&a.entreprise&&e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"w-5 h-5"}),"Informations entreprise"]})}),e.jsxs(J,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Entreprise"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Nom:"})," ",a.entreprise.nom_entreprise]}),a.entreprise.secteur_activite&&e.jsxs("p",{children:[e.jsx("strong",{children:"Secteur:"})," ",a.entreprise.secteur_activite]}),a.entreprise.annee_creation&&e.jsxs("p",{children:[e.jsx("strong",{children:"Anne de cration:"})," ",a.entreprise.annee_creation]}),a.entreprise.nombre_employes&&e.jsxs("p",{children:[e.jsx("strong",{children:"Nombre d'employs:"})," ",a.entreprise.nombre_employes]}),a.entreprise.site_web&&e.jsxs("p",{children:[e.jsx("strong",{children:"Site web:"}),e.jsx("a",{href:a.entreprise.site_web,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline ml-1",children:a.entreprise.site_web})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Adresse"}),e.jsxs("div",{className:"space-y-1",children:[a.entreprise.adresse_ligne1&&e.jsx("p",{children:a.entreprise.adresse_ligne1}),a.entreprise.adresse_ligne2&&e.jsx("p",{children:a.entreprise.adresse_ligne2}),(a.entreprise.code_postal||a.entreprise.ville)&&e.jsxs("p",{children:[a.entreprise.code_postal," ",a.entreprise.ville]}),a.entreprise.pays&&e.jsx("p",{children:a.entreprise.pays}),a.entreprise.telephone_professionnel&&e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Ks,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{children:a.entreprise.telephone_professionnel})]})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informations lgales"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.entreprise.numero_siret&&e.jsxs("p",{children:[e.jsx("strong",{children:"SIRET:"})," ",a.entreprise.numero_siret]}),a.entreprise.numero_registre_commerce&&e.jsxs("p",{children:[e.jsx("strong",{children:"RC:"})," ",a.entreprise.numero_registre_commerce]}),a.entreprise.numero_tva&&e.jsxs("p",{children:[e.jsx("strong",{children:"TVA:"})," ",a.entreprise.numero_tva]})]})]}),(a.entreprise.nom_banque||a.entreprise.iban)&&e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Bv,{className:"w-4 h-4"}),"Informations bancaires"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.entreprise.nom_banque&&e.jsxs("p",{children:[e.jsx("strong",{children:"Banque:"})," ",a.entreprise.nom_banque]}),a.entreprise.nom_titulaire_compte&&e.jsxs("p",{children:[e.jsx("strong",{children:"Titulaire:"})," ",a.entreprise.nom_titulaire_compte]}),a.entreprise.iban&&e.jsxs("p",{children:[e.jsx("strong",{children:"IBAN:"})," ****",a.entreprise.iban.slice(-4)]}),a.entreprise.bic_swift&&e.jsxs("p",{children:[e.jsx("strong",{children:"BIC/SWIFT:"})," ",a.entreprise.bic_swift]})]})]})]})]}),a.stats&&e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Statistiques d'activit"})}),e.jsx(J,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.stats.nombre_commandes}),e.jsx("div",{className:"text-sm text-blue-800",children:"Commandes"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[a.stats.montant_total_commandes?.toLocaleString()," FCFA"]}),e.jsx("div",{className:"text-sm text-green-800",children:"Montant total"})]}),a.role_id===2&&e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:a.stats.nombre_produits}),e.jsx("div",{className:"text-sm text-purple-800",children:"Produits"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-yellow-800",children:"Dernire activit"}),e.jsx("div",{className:"text-xs text-yellow-600",children:a.stats.derniere_activite?new Date(a.stats.derniere_activite).toLocaleDateString("fr-FR"):"Aucune"})]})]})})]}),a.notes_admin&&e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"w-5 h-5"}),"Notes administratives"]})}),e.jsx(J,{children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.notes_admin})})]})]})]})})};function cw(t){const s=m.useRef({value:t,previous:t});return m.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var oD=[" ","Enter","ArrowUp","ArrowDown"],lD=[" ","Enter"],il="Select",[Od,Fd,cD]=Yo(il),[Li]=Ur(il,[cD,Pi]),zd=Pi(),[dD,sa]=Li(il),[uD,mD]=Li(il),dw=t=>{const{__scopeSelect:s,children:r,open:a,defaultOpen:o,onOpenChange:l,value:d,defaultValue:u,onValueChange:h,dir:p,name:v,autoComplete:f,disabled:g,required:N,form:k}=t,y=zd(s),[_,w]=m.useState(null),[E,C]=m.useState(null),[R,I]=m.useState(!1),T=Mi(p),[b=!1,P]=Un({prop:a,defaultProp:o,onChange:l}),[A,O]=Un({prop:d,defaultProp:u,onChange:h}),F=m.useRef(null),X=_?k||!!_.closest("form"):!0,[V,K]=m.useState(new Set),me=Array.from(V).map(U=>U.props.value).join(";");return e.jsx(bj,{...y,children:e.jsxs(dD,{required:N,scope:s,trigger:_,onTriggerChange:w,valueNode:E,onValueNodeChange:C,valueNodeHasChildren:R,onValueNodeHasChildrenChange:I,contentId:Or(),value:A,onValueChange:O,open:b,onOpenChange:P,dir:T,triggerPointerDownPosRef:F,disabled:g,children:[e.jsx(Od.Provider,{scope:s,children:e.jsx(uD,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(U=>{K(G=>new Set(G).add(U))},[]),onNativeOptionRemove:m.useCallback(U=>{K(G=>{const L=new Set(G);return L.delete(U),L})},[]),children:r})}),X?e.jsxs(Iw,{"aria-hidden":!0,required:N,tabIndex:-1,name:v,autoComplete:f,value:A,onChange:U=>O(U.target.value),disabled:g,form:k,children:[A===void 0?e.jsx("option",{value:""}):null,Array.from(V)]},me):null]})})};dw.displayName=il;var uw="SelectTrigger",mw=m.forwardRef((t,s)=>{const{__scopeSelect:r,disabled:a=!1,...o}=t,l=zd(r),d=sa(uw,r),u=d.disabled||a,h=Be(s,d.onTriggerChange),p=Fd(r),v=m.useRef("touch"),[f,g,N]=Lw(y=>{const _=p().filter(C=>!C.disabled),w=_.find(C=>C.value===d.value),E=Ow(_,y,w);E!==void 0&&d.onValueChange(E.value)}),k=y=>{u||(d.onOpenChange(!0),N()),y&&(d.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return e.jsx(rp,{asChild:!0,...l,children:e.jsx(Te.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":Dw(d.value)?"":void 0,...o,ref:h,onClick:ye(o.onClick,y=>{y.currentTarget.focus(),v.current!=="mouse"&&k(y)}),onPointerDown:ye(o.onPointerDown,y=>{v.current=y.pointerType;const _=y.target;_.hasPointerCapture(y.pointerId)&&_.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(k(y),y.preventDefault())}),onKeyDown:ye(o.onKeyDown,y=>{const _=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(_&&y.key===" ")&&oD.includes(y.key)&&(k(),y.preventDefault())})})})});mw.displayName=uw;var hw="SelectValue",pw=m.forwardRef((t,s)=>{const{__scopeSelect:r,className:a,style:o,children:l,placeholder:d="",...u}=t,h=sa(hw,r),{onValueNodeHasChildrenChange:p}=h,v=l!==void 0,f=Be(s,h.onValueNodeChange);return Ft(()=>{p(v)},[p,v]),e.jsx(Te.span,{...u,ref:f,style:{pointerEvents:"none"},children:Dw(h.value)?e.jsx(e.Fragment,{children:d}):l})});pw.displayName=hw;var hD="SelectIcon",fw=m.forwardRef((t,s)=>{const{__scopeSelect:r,children:a,...o}=t;return e.jsx(Te.span,{"aria-hidden":!0,...o,ref:s,children:a||""})});fw.displayName=hD;var pD="SelectPortal",xw=t=>e.jsx(Qo,{asChild:!0,...t});xw.displayName=pD;var Aa="SelectContent",gw=m.forwardRef((t,s)=>{const r=sa(Aa,t.__scopeSelect),[a,o]=m.useState();if(Ft(()=>{o(new DocumentFragment)},[]),!r.open){const l=a;return l?wi.createPortal(e.jsx(vw,{scope:t.__scopeSelect,children:e.jsx(Od.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),l):null}return e.jsx(jw,{...t,ref:s})});gw.displayName=Aa;var cr=10,[vw,ra]=Li(Aa),fD="SelectContentImpl",jw=m.forwardRef((t,s)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:d,side:u,sideOffset:h,align:p,alignOffset:v,arrowPadding:f,collisionBoundary:g,collisionPadding:N,sticky:k,hideWhenDetached:y,avoidCollisions:_,...w}=t,E=sa(Aa,r),[C,R]=m.useState(null),[I,T]=m.useState(null),b=Be(s,re=>R(re)),[P,A]=m.useState(null),[O,F]=m.useState(null),X=Fd(r),[V,K]=m.useState(!1),me=m.useRef(!1);m.useEffect(()=>{if(C)return gp(C)},[C]),xp();const U=m.useCallback(re=>{const[Ne,...Ee]=X().map(ct=>ct.ref.current),[Le]=Ee.slice(-1),st=document.activeElement;for(const ct of re)if(ct===st||(ct?.scrollIntoView({block:"nearest"}),ct===Ne&&I&&(I.scrollTop=0),ct===Le&&I&&(I.scrollTop=I.scrollHeight),ct?.focus(),document.activeElement!==st))return},[X,I]),G=m.useCallback(()=>U([P,C]),[U,P,C]);m.useEffect(()=>{V&&G()},[V,G]);const{onOpenChange:L,triggerPointerDownPosRef:H}=E;m.useEffect(()=>{if(C){let re={x:0,y:0};const Ne=Le=>{re={x:Math.abs(Math.round(Le.pageX)-(H.current?.x??0)),y:Math.abs(Math.round(Le.pageY)-(H.current?.y??0))}},Ee=Le=>{re.x<=10&&re.y<=10?Le.preventDefault():C.contains(Le.target)||L(!1),document.removeEventListener("pointermove",Ne),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[C,L,H]),m.useEffect(()=>{const re=()=>L(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[L]);const[le,q]=Lw(re=>{const Ne=X().filter(st=>!st.disabled),Ee=Ne.find(st=>st.ref.current===document.activeElement),Le=Ow(Ne,re,Ee);Le&&setTimeout(()=>Le.ref.current.focus())}),se=m.useCallback((re,Ne,Ee)=>{const Le=!me.current&&!Ee;(E.value!==void 0&&E.value===Ne||Le)&&(A(re),Le&&(me.current=!0))},[E.value]),ee=m.useCallback(()=>C?.focus(),[C]),oe=m.useCallback((re,Ne,Ee)=>{const Le=!me.current&&!Ee;(E.value!==void 0&&E.value===Ne||Le)&&F(re)},[E.value]),xe=a==="popper"?Th:yw,ve=xe===Th?{side:u,sideOffset:h,align:p,alignOffset:v,arrowPadding:f,collisionBoundary:g,collisionPadding:N,sticky:k,hideWhenDetached:y,avoidCollisions:_}:{};return e.jsx(vw,{scope:r,content:C,viewport:I,onViewportChange:T,itemRefCallback:se,selectedItem:P,onItemLeave:ee,itemTextRefCallback:oe,focusSelectedItem:G,selectedItemText:O,position:a,isPositioned:V,searchRef:le,children:e.jsx(Cd,{as:Vn,allowPinchZoom:!0,children:e.jsx(yd,{asChild:!0,trapped:E.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:ye(o,re=>{E.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:e.jsx(Ci,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:e.jsx(xe,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:re=>re.preventDefault(),...w,...ve,onPlaced:()=>K(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ye(w.onKeyDown,re=>{const Ne=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Ne&&re.key.length===1&&q(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Le=X().filter(st=>!st.disabled).map(st=>st.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const st=re.target,ct=Le.indexOf(st);Le=Le.slice(ct+1)}setTimeout(()=>U(Le)),re.preventDefault()}})})})})})})});jw.displayName=fD;var xD="SelectItemAlignedPosition",yw=m.forwardRef((t,s)=>{const{__scopeSelect:r,onPlaced:a,...o}=t,l=sa(Aa,r),d=ra(Aa,r),[u,h]=m.useState(null),[p,v]=m.useState(null),f=Be(s,b=>v(b)),g=Fd(r),N=m.useRef(!1),k=m.useRef(!0),{viewport:y,selectedItem:_,selectedItemText:w,focusSelectedItem:E}=d,C=m.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&p&&y&&_&&w){const b=l.trigger.getBoundingClientRect(),P=p.getBoundingClientRect(),A=l.valueNode.getBoundingClientRect(),O=w.getBoundingClientRect();if(l.dir!=="rtl"){const st=O.left-P.left,ct=A.left-st,Dt=b.left-ct,cs=b.width+Dt,Xr=Math.max(cs,P.width),ws=window.innerWidth-cr,Yr=Ko(ct,[cr,Math.max(cr,ws-Xr)]);u.style.minWidth=cs+"px",u.style.left=Yr+"px"}else{const st=P.right-O.right,ct=window.innerWidth-A.right-st,Dt=window.innerWidth-b.right-ct,cs=b.width+Dt,Xr=Math.max(cs,P.width),ws=window.innerWidth-cr,Yr=Ko(ct,[cr,Math.max(cr,ws-Xr)]);u.style.minWidth=cs+"px",u.style.right=Yr+"px"}const F=g(),X=window.innerHeight-cr*2,V=y.scrollHeight,K=window.getComputedStyle(p),me=parseInt(K.borderTopWidth,10),U=parseInt(K.paddingTop,10),G=parseInt(K.borderBottomWidth,10),L=parseInt(K.paddingBottom,10),H=me+U+V+L+G,le=Math.min(_.offsetHeight*5,H),q=window.getComputedStyle(y),se=parseInt(q.paddingTop,10),ee=parseInt(q.paddingBottom,10),oe=b.top+b.height/2-cr,xe=X-oe,ve=_.offsetHeight/2,re=_.offsetTop+ve,Ne=me+U+re,Ee=H-Ne;if(Ne<=oe){const st=F.length>0&&_===F[F.length-1].ref.current;u.style.bottom="0px";const ct=p.clientHeight-y.offsetTop-y.offsetHeight,Dt=Math.max(xe,ve+(st?ee:0)+ct+G),cs=Ne+Dt;u.style.height=cs+"px"}else{const st=F.length>0&&_===F[0].ref.current;u.style.top="0px";const Dt=Math.max(oe,me+y.offsetTop+(st?se:0)+ve)+Ee;u.style.height=Dt+"px",y.scrollTop=Ne-oe+y.offsetTop}u.style.margin=`${cr}px 0`,u.style.minHeight=le+"px",u.style.maxHeight=X+"px",a?.(),requestAnimationFrame(()=>N.current=!0)}},[g,l.trigger,l.valueNode,u,p,y,_,w,l.dir,a]);Ft(()=>C(),[C]);const[R,I]=m.useState();Ft(()=>{p&&I(window.getComputedStyle(p).zIndex)},[p]);const T=m.useCallback(b=>{b&&k.current===!0&&(C(),E?.(),k.current=!1)},[C,E]);return e.jsx(vD,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:N,onScrollButtonChange:T,children:e.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:e.jsx(Te.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});yw.displayName=xD;var gD="SelectPopperPosition",Th=m.forwardRef((t,s)=>{const{__scopeSelect:r,align:a="start",collisionPadding:o=cr,...l}=t,d=zd(r);return e.jsx(np,{...d,...l,ref:s,align:a,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Th.displayName=gD;var[vD,Gp]=Li(Aa,{}),Rh="SelectViewport",bw=m.forwardRef((t,s)=>{const{__scopeSelect:r,nonce:a,...o}=t,l=ra(Rh,r),d=Gp(Rh,r),u=Be(s,l.onViewportChange),h=m.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(Od.Slot,{scope:r,children:e.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ye(o.onScroll,p=>{const v=p.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=d;if(g?.current&&f){const N=Math.abs(h.current-v.scrollTop);if(N>0){const k=window.innerHeight-cr*2,y=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),w=Math.max(y,_);if(w<k){const E=w+N,C=Math.min(k,E),R=E-C;f.style.height=C+"px",f.style.bottom==="0px"&&(v.scrollTop=R>0?R:0,f.style.justifyContent="flex-end")}}}h.current=v.scrollTop})})})]})});bw.displayName=Rh;var Nw="SelectGroup",[jD,yD]=Li(Nw),bD=m.forwardRef((t,s)=>{const{__scopeSelect:r,...a}=t,o=Or();return e.jsx(jD,{scope:r,id:o,children:e.jsx(Te.div,{role:"group","aria-labelledby":o,...a,ref:s})})});bD.displayName=Nw;var ww="SelectLabel",Cw=m.forwardRef((t,s)=>{const{__scopeSelect:r,...a}=t,o=yD(ww,r);return e.jsx(Te.div,{id:o.id,...a,ref:s})});Cw.displayName=ww;var od="SelectItem",[ND,Sw]=Li(od),_w=m.forwardRef((t,s)=>{const{__scopeSelect:r,value:a,disabled:o=!1,textValue:l,...d}=t,u=sa(od,r),h=ra(od,r),p=u.value===a,[v,f]=m.useState(l??""),[g,N]=m.useState(!1),k=Be(s,E=>h.itemRefCallback?.(E,a,o)),y=Or(),_=m.useRef("touch"),w=()=>{o||(u.onValueChange(a),u.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(ND,{scope:r,value:a,disabled:o,textId:y,isSelected:p,onItemTextChange:m.useCallback(E=>{f(C=>C||(E?.textContent??"").trim())},[]),children:e.jsx(Od.ItemSlot,{scope:r,value:a,disabled:o,textValue:v,children:e.jsx(Te.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":p&&g,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:k,onFocus:ye(d.onFocus,()=>N(!0)),onBlur:ye(d.onBlur,()=>N(!1)),onClick:ye(d.onClick,()=>{_.current!=="mouse"&&w()}),onPointerUp:ye(d.onPointerUp,()=>{_.current==="mouse"&&w()}),onPointerDown:ye(d.onPointerDown,E=>{_.current=E.pointerType}),onPointerMove:ye(d.onPointerMove,E=>{_.current=E.pointerType,o?h.onItemLeave?.():_.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(d.onPointerLeave,E=>{E.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:ye(d.onKeyDown,E=>{h.searchRef?.current!==""&&E.key===" "||(lD.includes(E.key)&&w(),E.key===" "&&E.preventDefault())})})})})});_w.displayName=od;var Do="SelectItemText",kw=m.forwardRef((t,s)=>{const{__scopeSelect:r,className:a,style:o,...l}=t,d=sa(Do,r),u=ra(Do,r),h=Sw(Do,r),p=mD(Do,r),[v,f]=m.useState(null),g=Be(s,w=>f(w),h.onItemTextChange,w=>u.itemTextRefCallback?.(w,h.value,h.disabled)),N=v?.textContent,k=m.useMemo(()=>e.jsx("option",{value:h.value,disabled:h.disabled,children:N},h.value),[h.disabled,h.value,N]),{onNativeOptionAdd:y,onNativeOptionRemove:_}=p;return Ft(()=>(y(k),()=>_(k)),[y,_,k]),e.jsxs(e.Fragment,{children:[e.jsx(Te.span,{id:h.textId,...l,ref:g}),h.isSelected&&d.valueNode&&!d.valueNodeHasChildren?wi.createPortal(l.children,d.valueNode):null]})});kw.displayName=Do;var Ew="SelectItemIndicator",Pw=m.forwardRef((t,s)=>{const{__scopeSelect:r,...a}=t;return Sw(Ew,r).isSelected?e.jsx(Te.span,{"aria-hidden":!0,...a,ref:s}):null});Pw.displayName=Ew;var Ah="SelectScrollUpButton",Tw=m.forwardRef((t,s)=>{const r=ra(Ah,t.__scopeSelect),a=Gp(Ah,t.__scopeSelect),[o,l]=m.useState(!1),d=Be(s,a.onScrollButtonChange);return Ft(()=>{if(r.viewport&&r.isPositioned){let u=function(){const p=h.scrollTop>0;l(p)};const h=r.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),o?e.jsx(Aw,{...t,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=r;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});Tw.displayName=Ah;var Mh="SelectScrollDownButton",Rw=m.forwardRef((t,s)=>{const r=ra(Mh,t.__scopeSelect),a=Gp(Mh,t.__scopeSelect),[o,l]=m.useState(!1),d=Be(s,a.onScrollButtonChange);return Ft(()=>{if(r.viewport&&r.isPositioned){let u=function(){const p=h.scrollHeight-h.clientHeight,v=Math.ceil(h.scrollTop)<p;l(v)};const h=r.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),o?e.jsx(Aw,{...t,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=r;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});Rw.displayName=Mh;var Aw=m.forwardRef((t,s)=>{const{__scopeSelect:r,onAutoScroll:a,...o}=t,l=ra("SelectScrollButton",r),d=m.useRef(null),u=Fd(r),h=m.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return m.useEffect(()=>()=>h(),[h]),Ft(()=>{u().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),e.jsx(Te.div,{"aria-hidden":!0,...o,ref:s,style:{flexShrink:0,...o.style},onPointerDown:ye(o.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(a,50))}),onPointerMove:ye(o.onPointerMove,()=>{l.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(a,50))}),onPointerLeave:ye(o.onPointerLeave,()=>{h()})})}),wD="SelectSeparator",Mw=m.forwardRef((t,s)=>{const{__scopeSelect:r,...a}=t;return e.jsx(Te.div,{"aria-hidden":!0,...a,ref:s})});Mw.displayName=wD;var Dh="SelectArrow",CD=m.forwardRef((t,s)=>{const{__scopeSelect:r,...a}=t,o=zd(r),l=sa(Dh,r),d=ra(Dh,r);return l.open&&d.position==="popper"?e.jsx(ap,{...o,...a,ref:s}):null});CD.displayName=Dh;function Dw(t){return t===""||t===void 0}var Iw=m.forwardRef((t,s)=>{const{value:r,...a}=t,o=m.useRef(null),l=Be(s,o),d=cw(r);return m.useEffect(()=>{const u=o.current,h=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(d!==r&&v){const f=new Event("change",{bubbles:!0});v.call(u,r),u.dispatchEvent(f)}},[d,r]),e.jsx(Jo,{asChild:!0,children:e.jsx("select",{...a,ref:l,defaultValue:r})})});Iw.displayName="BubbleSelect";function Lw(t){const s=yt(t),r=m.useRef(""),a=m.useRef(0),o=m.useCallback(d=>{const u=r.current+d;s(u),(function h(p){r.current=p,window.clearTimeout(a.current),p!==""&&(a.current=window.setTimeout(()=>h(""),1e3))})(u)},[s]),l=m.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,o,l]}function Ow(t,s,r){const o=s.length>1&&Array.from(s).every(p=>p===s[0])?s[0]:s,l=r?t.indexOf(r):-1;let d=SD(t,Math.max(l,0));o.length===1&&(d=d.filter(p=>p!==r));const h=d.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==r?h:void 0}function SD(t,s){return t.map((r,a)=>t[(s+a)%t.length])}var _D=dw,Fw=mw,kD=pw,ED=fw,PD=xw,zw=gw,TD=bw,$w=Cw,qw=_w,RD=kw,AD=Pw,Bw=Tw,Vw=Rw,Uw=Mw;const mr=_D,hr=kD,Vs=m.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(Fw,{ref:a,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[s,e.jsx(ED,{asChild:!0,children:e.jsx(ud,{className:"h-4 w-4 opacity-50"})})]}));Vs.displayName=Fw.displayName;const Hw=m.forwardRef(({className:t,...s},r)=>e.jsx(Bw,{ref:r,className:we("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(cS,{className:"h-4 w-4"})}));Hw.displayName=Bw.displayName;const Ww=m.forwardRef(({className:t,...s},r)=>e.jsx(Vw,{ref:r,className:we("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ud,{className:"h-4 w-4"})}));Ww.displayName=Vw.displayName;const Us=m.forwardRef(({className:t,children:s,position:r="popper",...a},o)=>{const l=m.useMemo(()=>{try{return m.Children.toArray(s).filter(d=>m.isValidElement(d)?d.props&&typeof d.props=="object":!1)}catch(d){return console.warn("SelectContent: Erreur lors du traitement des enfants",d),[]}},[s]);return e.jsx(PD,{children:e.jsxs(zw,{ref:o,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...a,children:[e.jsx(Hw,{}),e.jsx(TD,{className:we("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),e.jsx(Ww,{})]})})});Us.displayName=zw.displayName;const MD=m.forwardRef(({className:t,...s},r)=>e.jsx($w,{ref:r,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));MD.displayName=$w.displayName;const ze=m.forwardRef(({className:t,children:s,value:r,...a},o)=>{const l=m.useMemo(()=>r==null?(console.warn("SelectItem: valeur null ou undefined dtecte",{value:r,children:s}),""):r.toString(),[r]),d=m.useMemo(()=>s??"",[s]);return!l&&!a.disabled?null:e.jsxs(qw,{ref:o,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),value:l,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(AD,{children:e.jsx(Ps,{className:"h-4 w-4"})})}),e.jsx(RD,{children:d})]})});ze.displayName=qw.displayName;const DD=m.forwardRef(({className:t,...s},r)=>e.jsx(Uw,{ref:r,className:we("-mx-1 my-1 h-px bg-muted",t),...s}));DD.displayName=Uw.displayName;const ID=({userId:t,isOpen:s,onClose:r,onUserUpdated:a})=>{const[o,l]=m.useState(null),[d,u]=m.useState(null),[h,p]=m.useState(!1),[v,f]=m.useState(!1),[g,N]=m.useState(1);m.useEffect(()=>{t&&s&&k()},[t,s]);const k=async()=>{try{p(!0);const C=await ie.get(`/admin/users/${t}`),R={nom:C.nom||"",prenom:C.prenom||"",email:C.email||"",telephone:C.telephone||"",statut:C.statut||"actif",notes_admin:C.notes_admin||"",...C.role_id===2&&C.entreprise&&{entreprise:{nom_entreprise:C.entreprise.nom_entreprise||"",description:C.entreprise.description||"",telephone_professionnel:C.entreprise.telephone_professionnel||"",adresse_ligne1:C.entreprise.adresse_ligne1||"",adresse_ligne2:C.entreprise.adresse_ligne2||"",ville:C.entreprise.ville||"",code_postal:C.entreprise.code_postal||"",pays:C.entreprise.pays||"Gabon",site_web:C.entreprise.site_web||"",numero_siret:C.entreprise.numero_siret||"",numero_registre_commerce:C.entreprise.numero_registre_commerce||"",numero_tva:C.entreprise.numero_tva||"",nom_banque:C.entreprise.nom_banque||"",iban:C.entreprise.iban||"",nom_titulaire_compte:C.entreprise.nom_titulaire_compte||"",bic_swift:C.entreprise.bic_swift||"",annee_creation:C.entreprise.annee_creation||new Date().getFullYear(),nombre_employes:C.entreprise.nombre_employes||0,capacite_production:C.entreprise.capacite_production||"",certifications:C.entreprise.certifications||""}}};l(R),u(JSON.parse(JSON.stringify(R))),N(C.role_id)}catch(C){console.error("Erreur chargement donnes utilisateur:",C),$.error("Erreur lors du chargement des donnes")}finally{p(!1)}},y=async()=>{if(!(!o||!t))try{f(!0),await ie.put(`/admin/users/${t}`,o),$.success("Utilisateur modifi avec succs"),a(),r()}catch(C){console.error("Erreur modification utilisateur:",C),$.error("Erreur lors de la modification")}finally{f(!1)}},_=(C,R)=>{o&&l(I=>({...I,[C]:R}))},w=(C,R)=>{!o||!o.entreprise||l(I=>({...I,entreprise:{...I.entreprise,[C]:R}}))},E=C=>{switch(C){case 1:return e.jsxs(ne,{className:"bg-blue-100 text-blue-800",children:[e.jsx(Xe,{className:"w-3 h-3 mr-1"}),"Acheteur"]});case 2:return e.jsxs(ne,{className:"bg-green-100 text-green-800",children:[e.jsx(ot,{className:"w-3 h-3 mr-1"}),"Fournisseur"]});case 3:return e.jsx(ne,{className:"bg-purple-100 text-purple-800",children:"Administrateur"});default:return e.jsx(ne,{className:"bg-gray-100 text-gray-800",children:"Inconnu"})}};return h?e.jsx(Ta,{open:s,onOpenChange:r,children:e.jsxs(Yn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Qn,{children:[e.jsx(Jn,{children:"Chargement des donnes utilisateur"}),e.jsx(Ra,{children:"Rcupration des informations pour modification..."})]}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des donnes..."})]})})]})}):o?e.jsx(Ta,{open:s,onOpenChange:r,children:e.jsxs(Yn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Qn,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(Jn,{className:"text-2xl font-bold",children:["Modifier l'utilisateur #",t]}),e.jsx(Ra,{children:"Modification des informations utilisateur et entreprise"}),e.jsx("div",{className:"mt-2",children:E(g)})]}),e.jsx(D,{variant:"ghost",size:"icon",onClick:r,children:e.jsx(Je,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-5 h-5"}),"Informations personnelles"]})}),e.jsx(J,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"prenom",children:"Prnom *"}),e.jsx(B,{id:"prenom",value:o.prenom,onChange:C=>_("prenom",C.target.value),placeholder:"Prnom"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"nom",children:"Nom *"}),e.jsx(B,{id:"nom",value:o.nom,onChange:C=>_("nom",C.target.value),placeholder:"Nom"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"email",children:"Email *"}),e.jsx(B,{id:"email",type:"email",value:o.email,onChange:C=>_("email",C.target.value),placeholder:"email@exemple.com"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"telephone",children:"Tlphone"}),e.jsx(B,{id:"telephone",value:o.telephone,onChange:C=>_("telephone",C.target.value),placeholder:"+241 XX XX XX XX"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"statut",children:"Statut"}),e.jsxs(mr,{value:o.statut,onValueChange:C=>_("statut",C),children:[e.jsx(Vs,{children:e.jsx(hr,{})}),e.jsxs(Us,{children:[e.jsx(ze,{value:"actif",children:"Actif"}),e.jsx(ze,{value:"suspendu",children:"Suspendu"}),e.jsx(ze,{value:"inactif",children:"Inactif"})]})]})]})]})})]}),g===2&&o.entreprise&&e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"w-5 h-5"}),"Informations entreprise"]})}),e.jsx(J,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informations gnrales"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"nom_entreprise",children:"Nom de l'entreprise *"}),e.jsx(B,{id:"nom_entreprise",value:o.entreprise.nom_entreprise,onChange:C=>w("nom_entreprise",C.target.value),placeholder:"Nom de l'entreprise"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"telephone_professionnel",children:"Tlphone professionnel"}),e.jsx(B,{id:"telephone_professionnel",value:o.entreprise.telephone_professionnel,onChange:C=>w("telephone_professionnel",C.target.value),placeholder:"+241 XX XX XX XX"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"site_web",children:"Site web"}),e.jsx(B,{id:"site_web",value:o.entreprise.site_web,onChange:C=>w("site_web",C.target.value),placeholder:"https://www.exemple.com"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"annee_creation",children:"Anne de cration"}),e.jsx(B,{id:"annee_creation",type:"number",value:o.entreprise.annee_creation,onChange:C=>w("annee_creation",parseInt(C.target.value)),placeholder:"2020"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"nombre_employes",children:"Nombre d'employs"}),e.jsx(B,{id:"nombre_employes",type:"number",value:o.entreprise.nombre_employes,onChange:C=>w("nombre_employes",parseInt(C.target.value)),placeholder:"10"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(ce,{htmlFor:"description",children:"Description"}),e.jsx(ht,{id:"description",value:o.entreprise.description,onChange:C=>w("description",C.target.value),placeholder:"Description de l'entreprise...",rows:3})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Adresse"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ce,{htmlFor:"adresse_ligne1",children:"Adresse ligne 1"}),e.jsx(B,{id:"adresse_ligne1",value:o.entreprise.adresse_ligne1,onChange:C=>w("adresse_ligne1",C.target.value),placeholder:"Numro et nom de rue"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ce,{htmlFor:"adresse_ligne2",children:"Adresse ligne 2"}),e.jsx(B,{id:"adresse_ligne2",value:o.entreprise.adresse_ligne2,onChange:C=>w("adresse_ligne2",C.target.value),placeholder:"Complment d'adresse"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"ville",children:"Ville"}),e.jsx(B,{id:"ville",value:o.entreprise.ville,onChange:C=>w("ville",C.target.value),placeholder:"Libreville"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"code_postal",children:"Code postal"}),e.jsx(B,{id:"code_postal",value:o.entreprise.code_postal,onChange:C=>w("code_postal",C.target.value),placeholder:"BP 1234"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"pays",children:"Pays"}),e.jsx(B,{id:"pays",value:o.entreprise.pays,onChange:C=>w("pays",C.target.value),placeholder:"Gabon"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informations lgales"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"numero_siret",children:"Numro SIRET"}),e.jsx(B,{id:"numero_siret",value:o.entreprise.numero_siret,onChange:C=>w("numero_siret",C.target.value),placeholder:"12345678901234"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"numero_registre_commerce",children:"Registre du commerce"}),e.jsx(B,{id:"numero_registre_commerce",value:o.entreprise.numero_registre_commerce,onChange:C=>w("numero_registre_commerce",C.target.value),placeholder:"RC123456"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"numero_tva",children:"Numro TVA"}),e.jsx(B,{id:"numero_tva",value:o.entreprise.numero_tva,onChange:C=>w("numero_tva",C.target.value),placeholder:"GA123456789"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informations bancaires"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"nom_banque",children:"Nom de la banque"}),e.jsx(B,{id:"nom_banque",value:o.entreprise.nom_banque,onChange:C=>w("nom_banque",C.target.value),placeholder:"Banque Centrale du Gabon"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"nom_titulaire_compte",children:"Nom du titulaire"}),e.jsx(B,{id:"nom_titulaire_compte",value:o.entreprise.nom_titulaire_compte,onChange:C=>w("nom_titulaire_compte",C.target.value),placeholder:"Nom du titulaire du compte"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"iban",children:"IBAN"}),e.jsx(B,{id:"iban",value:o.entreprise.iban,onChange:C=>w("iban",C.target.value),placeholder:"GA76 1234 5678 9012 3456 7890 123"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"bic_swift",children:"Code BIC/SWIFT"}),e.jsx(B,{id:"bic_swift",value:o.entreprise.bic_swift,onChange:C=>w("bic_swift",C.target.value),placeholder:"BCGAGAXX"})]})]})]})]})})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5"}),"Notes administratives"]})}),e.jsx(J,{children:e.jsx(ht,{value:o.notes_admin,onChange:C=>_("notes_admin",C.target.value),placeholder:"Notes internes pour l'administration...",rows:4})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[e.jsx(D,{variant:"outline",onClick:r,children:"Annuler"}),e.jsx(D,{onClick:y,disabled:v,children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enregistrement..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ln,{className:"w-4 h-4 mr-2"}),"Enregistrer"]})})]})]})]})}):null},LD=({user:t,isOpen:s,onClose:r,onUserDeleted:a})=>{const[o,l]=m.useState(""),[d,u]=m.useState(!1);if(!t)return null;const h=`SUPPRIMER ${t.email}`,p=o===h,v=async()=>{if(!(!t||!p))try{u(!0),await ie.delete(`/admin/users/${t.id}`),$.success("Utilisateur supprim dfinitivement"),a(),r(),l("")}catch(N){console.error("Erreur suppression utilisateur:",N),$.error("Erreur lors de la suppression")}finally{u(!1)}},f=()=>{l(""),r()},g=(N,k)=>{switch(N){case 1:return e.jsxs(ne,{className:"bg-blue-100 text-blue-800",children:[e.jsx(Xe,{className:"w-3 h-3 mr-1"}),"Acheteur"]});case 2:return e.jsxs(ne,{className:"bg-green-100 text-green-800",children:[e.jsx(ot,{className:"w-3 h-3 mr-1"}),"Fournisseur"]});case 3:return e.jsxs(ne,{className:"bg-purple-100 text-purple-800",children:[e.jsx(lt,{className:"w-3 h-3 mr-1"}),"Admin"]});default:return e.jsx(ne,{className:"bg-gray-100 text-gray-800",children:k})}};return t?e.jsx(Ta,{open:s,onOpenChange:f,children:e.jsxs(Yn,{className:"max-w-md",children:[e.jsx(Qn,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(Jn,{className:"text-xl font-bold text-red-600 flex items-center gap-2",children:[e.jsx(Js,{className:"w-5 h-5"}),"Suppression dfinitive"]}),e.jsxs(Ra,{children:["Suppression dfinitive de l'utilisateur ",t.prenom," ",t.nom]})]}),e.jsx(D,{variant:"ghost",size:"icon",onClick:f,children:e.jsx(Je,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Js,{className:"w-5 h-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:" ATTENTION - Action irrversible"}),e.jsxs("p",{className:"text-sm text-red-700 mb-2",children:["Cette action va ",e.jsx("strong",{children:"supprimer dfinitivement"})," l'utilisateur et toutes ses donnes de la base de donnes."]}),e.jsxs("ul",{className:"text-xs text-red-600 space-y-1",children:[e.jsx("li",{children:" Toutes les donnes personnelles seront perdues"}),e.jsx("li",{children:" L'historique des commandes sera supprim"}),e.jsx("li",{children:" Les informations d'entreprise seront effaces"}),e.jsx("li",{children:" Cette action ne peut pas tre annule"})]})]})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Utilisateur  supprimer :"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Nom :"}),e.jsxs("span",{className:"font-medium",children:[t.prenom," ",t.nom]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Email :"}),e.jsx("span",{className:"font-medium",children:t.email})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Rle :"}),g(t.role_id,t.role_nom)]}),t.nom_entreprise&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Entreprise :"}),e.jsx("span",{className:"font-medium",children:t.nom_entreprise})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"ID :"}),e.jsxs("span",{className:"font-mono text-sm",children:["#",t.id]})]})]})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"confirm",className:"text-sm font-medium text-gray-900",children:"Pour confirmer la suppression, tapez exactement :"}),e.jsx("div",{className:"mt-1 mb-2",children:e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm font-mono",children:h})}),e.jsx(B,{id:"confirm",value:o,onChange:N=>l(N.target.value),placeholder:h,className:`font-mono ${o&&!p?"border-red-300 focus:border-red-500":p?"border-green-300 focus:border-green-500":""}`}),o&&!p&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Le texte ne correspond pas exactement"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(D,{variant:"outline",onClick:f,children:"Annuler"}),e.jsx(D,{variant:"destructive",onClick:v,disabled:!p||d,children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Suppression..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Supprimer dfinitivement"]})})]})]})]})}):null},OD=({user:t,isOpen:s,onClose:r,onUserUpdated:a})=>{const[o,l]=m.useState(""),[d,u]=m.useState(!1),h=t?.statut==="suspendu",p=async()=>{if(t){if(!h&&!o.trim()){$.error("Veuillez indiquer une raison pour la suspension");return}try{u(!0),h?(await ie.patch(`/admin/users/${t.id}/activate`),$.success("Utilisateur ractiv avec succs")):(await ie.patch(`/admin/users/${t.id}/suspend`,{suspension_reason:o.trim()}),$.success("Utilisateur suspendu avec succs")),a(),r(),l("")}catch(N){console.error("Erreur lors de l'action:",N),$.error(`Erreur lors de ${h?"la ractivation":"la suspension"}`)}finally{u(!1)}}},v=()=>{l(""),r()},f=(N,k)=>{switch(N){case 1:return e.jsxs(ne,{className:"bg-blue-100 text-blue-800",children:[e.jsx(Xe,{className:"w-3 h-3 mr-1"}),"Acheteur"]});case 2:return e.jsxs(ne,{className:"bg-green-100 text-green-800",children:[e.jsx(ot,{className:"w-3 h-3 mr-1"}),"Fournisseur"]});case 3:return e.jsxs(ne,{className:"bg-purple-100 text-purple-800",children:[e.jsx(lt,{className:"w-3 h-3 mr-1"}),"Admin"]});default:return e.jsx(ne,{className:"bg-gray-100 text-gray-800",children:k})}},g=N=>{switch(N){case"actif":return e.jsxs(ne,{className:"bg-green-100 text-green-800",children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"Actif"]});case"suspendu":return e.jsxs(ne,{className:"bg-red-100 text-red-800",children:[e.jsx(Hc,{className:"w-3 h-3 mr-1"}),"Suspendu"]});default:return e.jsx(ne,{className:"bg-gray-100 text-gray-800",children:N})}};return t?e.jsx(Ta,{open:s,onOpenChange:v,children:e.jsxs(Yn,{className:"max-w-md",children:[e.jsx(Qn,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Jn,{className:`text-xl font-bold flex items-center gap-2 ${h?"text-green-600":"text-orange-600"}`,children:h?e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-5 h-5"}),"Ractiver l'utilisateur"]}):e.jsxs(e.Fragment,{children:[e.jsx(Js,{className:"w-5 h-5"}),"Suspendre l'utilisateur"]})}),e.jsxs(Ra,{children:[h?"Ractivation":"Suspension"," du compte de ",t.prenom," ",t.nom]})]}),e.jsx(D,{variant:"ghost",size:"icon",onClick:v,children:e.jsx(Je,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Utilisateur concern :"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Nom :"}),e.jsxs("span",{className:"font-medium",children:[t.prenom," ",t.nom]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Email :"}),e.jsx("span",{className:"font-medium",children:t.email})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Rle :"}),f(t.role_id,t.role_nom)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Statut actuel :"}),g(t.statut)]}),t.nom_entreprise&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Entreprise :"}),e.jsx("span",{className:"font-medium",children:t.nom_entreprise})]})]})]}),e.jsx("div",{className:`border rounded-lg p-4 ${h?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[h?e.jsx(qe,{className:"w-5 h-5 text-green-600 mt-0.5"}):e.jsx(Js,{className:"w-5 h-5 text-orange-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold mb-2 ${h?"text-green-800":"text-orange-800"}`,children:h?"Ractivation du compte":"Suspension du compte"}),e.jsx("p",{className:`text-sm ${h?"text-green-700":"text-orange-700"}`,children:h?"L'utilisateur pourra  nouveau se connecter et utiliser la plateforme normalement.":`L'utilisateur ne pourra plus se connecter. Un message "Compte suspendu par l'administrateur" s'affichera lors de ses tentatives de connexion.`})]})]})}),!h&&e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"reason",className:"text-sm font-medium text-gray-900",children:"Raison de la suspension *"}),e.jsx(ht,{id:"reason",value:o,onChange:N=>l(N.target.value),placeholder:"Expliquez pourquoi vous suspendez ce compte...",rows:4,className:"mt-1"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cette raison sera visible par l'utilisateur et enregistre dans les logs."})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(D,{variant:"outline",onClick:v,children:"Annuler"}),e.jsx(D,{onClick:p,disabled:d||!h&&!o.trim(),className:h?"bg-green-600 hover:bg-green-700":"bg-orange-600 hover:bg-orange-700",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),h?"Ractivation...":"Suspension..."]}):e.jsx(e.Fragment,{children:h?e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Ractiver le compte"]}):e.jsxs(e.Fragment,{children:[e.jsx(Hc,{className:"w-4 h-4 mr-2"}),"Suspendre le compte"]})})})]})]})]},t?.id)}):null},FD=()=>{const[t,s]=m.useState(!1),[r,a]=m.useState(null);return{loading:t,error:r,fetchSupplierDocuments:async u=>{try{s(!0),a(null),console.log(" [useAdminDocuments] Rcupration documents pour supplierId:",u);const h=await ie.get(`/admin/users/${u}/documents`);return console.log(" [useAdminDocuments] Rponse API:",h),h&&h.documents?(console.log(" [useAdminDocuments] Documents trouvs:",h.documents.length),h.documents):(console.log(" [useAdminDocuments] Aucun document trouv"),[])}catch(h){return console.error(" [useAdminDocuments] Erreur rcupration documents fournisseur:",h),a(h.message||"Erreur lors du chargement des documents"),[]}finally{s(!1)}},validateDocument:async(u,h)=>{try{s(!0),a(null);const p={status:"approved",commentaire:h},v=await ie.patch(`/admin/documents/${u}/validate`,p);return v&&v.document?{success:!0,document:v.document}:{success:!1,error:"Erreur lors de la validation"}}catch(p){console.error("Erreur validation document:",p);const v=p.message||"Erreur lors de la validation du document";return a(v),{success:!1,error:v}}finally{s(!1)}},rejectDocument:async(u,h)=>{try{s(!0),a(null);const p={status:"rejected",commentaire:h},v=await ie.patch(`/admin/documents/${u}/validate`,p);return v&&v.document?{success:!0,document:v.document}:{success:!1,error:"Erreur lors du rejet"}}catch(p){console.error("Erreur rejet document:",p);const v=p.message||"Erreur lors du rejet du document";return a(v),{success:!1,error:v}}finally{s(!1)}}}},zD=({supplierId:t,supplierName:s,isOpen:r,onClose:a})=>{const[o,l]=m.useState([]),[d,u]=m.useState(null),[h,p]=m.useState(""),[v,f]=m.useState(!1),{loading:g,error:N,fetchSupplierDocuments:k,validateDocument:y,rejectDocument:_}=FD();m.useEffect(()=>{r&&t&&w()},[r,t]);const w=async()=>{f(!0);const A=await k(t);l(A),f(!1)},E=async A=>{const O=await y(A.id,h);O.success?($.success("Document valid avec succs"),l(F=>F.map(X=>X.id===A.id?{...X,statut:"valide",commentaire_admin:h}:X)),p(""),u(null)):$.error(O.error||"Erreur lors de la validation")},C=async A=>{if(!h.trim()){$.error("Veuillez ajouter un commentaire pour le rejet");return}const O=await _(A.id,h);O.success?($.success("Document rejet"),l(F=>F.map(X=>X.id===A.id?{...X,statut:"rejete",commentaire_admin:h}:X)),p(""),u(null)):$.error(O.error||"Erreur lors du rejet")},R=async A=>{try{const O=await fetch(`undefined/admin/documents/${A.id}/download`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!O.ok)throw new Error("Erreur lors du tlchargement");const F=await O.blob(),X=window.URL.createObjectURL(F),V=document.createElement("a");V.href=X,V.download=A.nom_fichier,document.body.appendChild(V),V.click(),window.URL.revokeObjectURL(X),document.body.removeChild(V),$.success("Document tlcharg avec succs")}catch(O){console.error("Erreur tlchargement:",O),$.error("Erreur lors du tlchargement du document")}},I=A=>{switch(A){case"en_attente":return e.jsx(Vt,{className:"w-4 h-4"});case"valide":return e.jsx(qe,{className:"w-4 h-4"});case"rejete":return e.jsx(Na,{className:"w-4 h-4"});default:return e.jsx(Pt,{className:"w-4 h-4"})}},T=o.filter(A=>A.statut==="en_attente"),b=o.filter(A=>A.statut==="valide"),P=o.filter(A=>A.statut==="rejete");return e.jsx(Ta,{open:r,onOpenChange:a,children:e.jsxs(Yn,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[e.jsx(Qn,{children:e.jsxs(Jn,{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"w-5 h-5"}),"Documents de ",s]})}),e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:T.length}),e.jsx("div",{className:"text-sm text-yellow-800",children:"En attente"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.length}),e.jsx("div",{className:"text-sm text-green-800",children:"Valids"})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:P.length}),e.jsx("div",{className:"text-sm text-red-800",children:"Rejets"})]})]}),N&&e.jsxs(js,{variant:"destructive",className:"mb-4",children:[e.jsx(Pt,{className:"h-4 w-4"}),e.jsx(ys,{children:N})]}),v||g?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx(gr,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des documents..."})]})}):o.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ft,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun document"}),e.jsx("p",{className:"text-gray-600",children:"Ce fournisseur n'a pas encore upload de documents"})]}):e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full",children:[e.jsxs("div",{className:"space-y-4 overflow-y-auto",style:{maxHeight:"500px"},children:[e.jsx("h3",{className:"font-semibold text-gray-900 sticky top-0 bg-white pb-2",children:"Liste des documents"}),o.map(A=>e.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${d?.id===A.id?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>u(A),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(ft,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:A.nom_fichier}),e.jsx("p",{className:"text-sm text-gray-600",children:Oo[A.type_document]})]})]}),e.jsxs(ne,{className:q0[A.statut],children:[I(A.statut),e.jsx("span",{className:"ml-1",children:B0[A.statut]})]})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Upload le ",new Date(A.date_upload).toLocaleDateString("fr-FR")]})]},A.id))]}),e.jsx("div",{className:"space-y-4",children:d?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Dtails du document"}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:d.nom_fichier}),e.jsxs(ne,{className:q0[d.statut],children:[I(d.statut),e.jsx("span",{className:"ml-1",children:B0[d.statut]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Type :"})," ",Oo[d.type_document]]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Upload le :"})," ",new Date(d.date_upload).toLocaleDateString("fr-FR")]}),d.date_validation&&e.jsxs("p",{children:[e.jsx("strong",{children:"Valid le :"})," ",new Date(d.date_validation).toLocaleDateString("fr-FR")]})]}),d.commentaire_admin&&e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg mb-4",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Commentaire admin :"})," ",d.commentaire_admin]})}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs(D,{variant:"outline",size:"sm",children:[e.jsx(Ze,{className:"w-4 h-4 mr-1"}),"Aperu"]}),e.jsxs(D,{variant:"outline",size:"sm",onClick:()=>R(d),children:[e.jsx(Vv,{className:"w-4 h-4 mr-1"}),"Tlcharger"]})]}),d.statut==="en_attente"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commentaire (optionnel)"}),e.jsx(ht,{value:h,onChange:A=>p(A.target.value),placeholder:"Ajoutez un commentaire...",rows:3})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(D,{onClick:()=>E(d),className:"bg-green-600 hover:bg-green-700",disabled:g,children:[e.jsx(qe,{className:"w-4 h-4 mr-1"}),"Valider"]}),e.jsxs(D,{onClick:()=>C(d),variant:"destructive",disabled:g,children:[e.jsx(Na,{className:"w-4 h-4 mr-1"}),"Rejeter"]})]})]})]})]}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ft,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"Slectionnez un document pour voir les dtails"})]})})]})})]})]})})},dv=t=>{if(!t)return"Non disponible";try{const s=new Date(t);return isNaN(s.getTime())?"Date invalide":s.toLocaleDateString("fr-FR")}catch{return"Date invalide"}},$D=()=>{Re();const[t,s]=m.useState([]),[r,a]=m.useState(!0),[o,l]=m.useState(""),[d,u]=m.useState(""),[h,p]=m.useState("all"),[v,f]=m.useState("all"),[g,N]=m.useState(1),[k,y]=m.useState(1),[_,w]=m.useState(null),[E,C]=m.useState(null),[R,I]=m.useState(!1),[T,b]=m.useState(!1),[P,A]=m.useState(!1),[O,F]=m.useState(!1),[X,V]=m.useState(!1),[K,me]=m.useState(null);m.useEffect(()=>{const re=setTimeout(()=>{u(o)},500);return()=>clearTimeout(re)},[o]),m.useEffect(()=>{U()},[g,h,v,d]);const U=async()=>{try{a(!0);const re=localStorage.getItem("authToken");console.log("Token prsent:",!!re),console.log("Token (premiers caractres):",re?.substring(0,20)+"...");const Ne=new URLSearchParams({page:g.toString(),limit:"20",...h!=="all"&&{role:h},...v!=="all"&&{status:v},...d&&{search:d}});console.log("Requte vers:",`/admin/users?${Ne}`);const Ee=await ie.get(`/admin/users?${Ne}`);console.log("Response complte:",Ee),console.log("Response type:",typeof Ee),console.log("Response keys:",Object.keys(Ee||{})),Ee&&Ee.users?(console.log("Format: response.users"),s(Ee.users),y(Ee.pagination?.totalPages||1)):Array.isArray(Ee)?(console.log("Format: Array direct"),s(Ee),y(1)):Ee?(console.log("Format: Autre objet"),console.log("Contenu:",Ee),s([]),y(1)):(console.error("Pas de donnes dans la rponse"),s([]),y(1))}catch(re){console.error("Erreur complte:",re),console.error("Error message:",re.message),console.error("Error stack:",re.stack),$.error(`Erreur: ${re.message}`),s([]),y(1)}finally{a(!1)}},G=(re,Ne)=>{switch(re){case 1:return e.jsxs(ne,{className:"bg-blue-100 text-blue-800",children:[e.jsx(pr,{className:"w-3 h-3 mr-1"}),"Acheteur"]});case 2:return e.jsxs(ne,{className:"bg-green-100 text-green-800",children:[e.jsx(ot,{className:"w-3 h-3 mr-1"}),"Fournisseur"]});case 3:return e.jsxs(ne,{className:"bg-purple-100 text-purple-800",children:[e.jsx(kS,{className:"w-3 h-3 mr-1"}),"Admin"]});default:return e.jsx(ne,{className:"bg-gray-100 text-gray-800",children:Ne})}},L=re=>re.effective_status||re.statut,H=re=>{const Ne=L(re);switch(Ne){case"actif":return e.jsxs(ne,{className:"bg-green-100 text-green-800",children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"Actif"]});case"suspendu":return e.jsxs(ne,{className:"bg-red-100 text-red-800",children:[e.jsx(Hc,{className:"w-3 h-3 mr-1"}),"Suspendu"]});case"en_attente":return e.jsxs(ne,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(ES,{className:"w-3 h-3 mr-1"}),"En attente"]});default:return e.jsx(ne,{className:"bg-gray-100 text-gray-800",children:Ne})}},le=re=>{w(re.id),I(!0)},q=re=>{w(re.id),b(!0)},se=re=>{C(re),F(!0)},ee=re=>{C(re),A(!0)},oe=re=>{me(re),V(!0)},xe=()=>{w(null),C(null),I(!1),b(!1),A(!1),F(!1),V(!1),me(null)},ve=()=>{U(),xe()};return r?e.jsx(Xo,{activeTab:"users",onTabChange:()=>{},children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des utilisateurs..."})]})})}):e.jsxs(Xo,{activeTab:"users",onTabChange:()=>{},children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestion des utilisateurs "}),e.jsx("p",{className:"text-gray-600",children:"Grer les acheteurs, fournisseurs et administrateurs"})]}),e.jsxs(D,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{window.location.href="/user-type"},children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Nouvel utilisateur"]})]}),e.jsx(Q,{children:e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(B,{placeholder:"Rechercher un utilisateur...",value:o,onChange:re=>l(re.target.value),className:"pl-10"})]}),e.jsxs(mr,{value:h,onValueChange:p,children:[e.jsx(Vs,{children:e.jsx(hr,{placeholder:"Filtrer par rle"})}),e.jsxs(Us,{children:[e.jsx(ze,{value:"all",children:"Tous les rles"}),e.jsx(ze,{value:"1",children:"Acheteurs"}),e.jsx(ze,{value:"2",children:"Fournisseurs"}),e.jsx(ze,{value:"3",children:"Administrateurs"})]})]}),e.jsxs(mr,{value:v,onValueChange:f,children:[e.jsx(Vs,{children:e.jsx(hr,{placeholder:"Filtrer par statut"})}),e.jsxs(Us,{children:[e.jsx(ze,{value:"all",children:"Tous les statuts"}),e.jsx(ze,{value:"actif",children:"Actifs"}),e.jsx(ze,{value:"suspendu",children:"Suspendus"}),e.jsx(ze,{value:"en_attente",children:"En attente"})]})]}),e.jsxs(D,{variant:"outline",onClick:U,children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Actualiser"]})]})})}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(St,{className:"w-5 h-5"}),"Liste des utilisateurs (",t.length,")"]})}),e.jsxs(J,{children:[e.jsx("div",{className:"space-y-4",children:t.map(re=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(St,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:[re.prenom," ",re.nom]}),e.jsx("p",{className:"text-sm text-gray-600",children:re.email}),re.nom_entreprise&&e.jsx("p",{className:"text-xs text-gray-500",children:re.nom_entreprise})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[G(re.role_id,re.role_nom),H(re)]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm mb-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Tlphone:"})," ",re.telephone||"Non renseign"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"ID:"})," #",re.id]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Inscription:"})," ",dv(re.date_creation)]}),re.derniere_connexion&&e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Dernire connexion:"})," ",dv(re.derniere_connexion)]})]}),e.jsx("div",{children:re.secteur_activite&&e.jsxs("p",{className:"text-gray-600",children:[e.jsx("strong",{children:"Secteur:"})," ",re.secteur_activite]})})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(D,{size:"sm",variant:"outline",onClick:()=>le(re),children:[e.jsx(Ze,{className:"w-4 h-4 mr-1"}),"Voir"]}),e.jsxs(D,{size:"sm",variant:"outline",onClick:()=>q(re),children:[e.jsx(Sa,{className:"w-4 h-4 mr-1"}),"Modifier"]}),re.role_id===2&&e.jsxs(D,{size:"sm",variant:"outline",className:"text-blue-600 hover:text-blue-700",onClick:()=>oe(re),children:[e.jsx(ft,{className:"w-4 h-4 mr-1"}),"Documents"]}),e.jsx(D,{size:"sm",variant:"outline",className:re.statut==="actif"?"text-orange-600 hover:text-orange-700":"text-green-600 hover:text-green-700",onClick:()=>se(re),children:re.statut==="actif"?e.jsxs(e.Fragment,{children:[e.jsx(Hc,{className:"w-4 h-4 mr-1"}),"Suspendre"]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4 mr-1"}),"Activer"]})}),e.jsxs(D,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",onClick:()=>ee(re),children:[e.jsx(Rs,{className:"w-4 h-4 mr-1"}),"Supprimer"]})]})]},re.id))}),k>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[e.jsx(D,{variant:"outline",size:"sm",onClick:()=>N(re=>Math.max(1,re-1)),disabled:g===1,children:"Prcdent"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",g," sur ",k]}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>N(re=>Math.min(k,re+1)),disabled:g===k,children:"Suivant"})]})]})]})]}),e.jsx(iD,{userId:_,isOpen:R,onClose:xe}),e.jsx(ID,{userId:_,isOpen:T,onClose:xe,onUserUpdated:ve}),e.jsx(OD,{user:E,isOpen:O,onClose:xe,onUserUpdated:ve}),e.jsx(LD,{user:E,isOpen:P,onClose:xe,onUserDeleted:ve}),e.jsx(zD,{supplierId:K?.id||0,supplierName:K?`${K.prenom} ${K.nom}`:"",isOpen:X,onClose:xe})]})},qD=({currentPhoto:t,onPhotoUpdate:s,onPhotoDelete:r,size:a="xl",className:o=""})=>{const[l,d]=m.useState(!1),[u,h]=m.useState(null),[p,v]=m.useState(null),[f,g]=m.useState(null),N=m.useRef(null),k={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32",xl:"w-40 h-40"},y={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-10 h-10",xl:"w-12 h-12"};m.useEffect(()=>{if(u||p){const I=setTimeout(()=>{h(null),v(null)},3e3);return()=>clearTimeout(I)}},[u,p]);const _=I=>{const T=I.target.files?.[0];if(!T)return;const b=["image/jpeg","image/jpg","image/png","image/gif","image/webp"],P=5*1024*1024;if(!b.includes(T.type)){h("Format de fichier non support. Utilisez JPEG, PNG, GIF ou WEBP.");return}if(T.size>P){h("Le fichier est trop volumineux. Taille maximale : 5MB.");return}const A=new FileReader;A.onload=O=>{g(O.target?.result)},A.readAsDataURL(T),w(T)},w=async I=>{d(!0),h(null),v(null);try{const T=new FormData;T.append("photo",I);const b=localStorage.getItem("authToken");if(!b)throw new Error("Token d'authentification manquant");const P=await fetch("undefined/profile-photo/upload",{method:"POST",headers:{Authorization:`Bearer ${b}`},body:T}),A=await P.json();if(!P.ok)throw new Error(A.error||"Erreur lors de l'upload");v("Photo de profil mise  jour avec succs !"),s(A.data.photo_profil),g(null)}catch(T){console.error("Erreur upload photo:",T),h(T instanceof Error?T.message:"Erreur lors de l'upload"),g(null)}finally{d(!1)}},E=async()=>{if(t){d(!0),h(null),v(null);try{const I=localStorage.getItem("authToken");if(!I)throw new Error("Token d'authentification manquant");const T=await fetch("undefined/profile-photo",{method:"DELETE",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}}),b=await T.json();if(!T.ok)throw new Error(b.error||"Erreur lors de la suppression");v("Photo de profil supprime avec succs !"),r()}catch(I){console.error("Erreur suppression photo:",I),h(I instanceof Error?I.message:"Erreur lors de la suppression")}finally{d(!1)}}},C=()=>{N.current?.click()},R=f||t;return e.jsxs(Q,{className:`${o}`,children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center text-red-600",children:[e.jsx(lt,{className:"w-5 h-5 mr-2"}),"Photo de profil administrateur"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:`
                ${k[a]} 
                rounded-full border-2 border-red-200 
                overflow-hidden cursor-pointer
                transition-all duration-200
                hover:border-red-500 hover:shadow-lg
                ${l?"opacity-50":""}
              `,onClick:C,children:[R?e.jsx("img",{src:Yt(R),alt:"Photo de profil admin",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-red-100 flex items-center justify-center",children:e.jsx(lt,{className:`${y[a]} text-red-600`})}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center",children:e.jsx(qv,{className:`${y[a]} text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200`})}),l&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})})]}),t&&!l&&e.jsx("button",{onClick:I=>{I.stopPropagation(),E()},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors duration-200",title:"Supprimer la photo",children:e.jsx(Je,{className:"w-3 h-3"})})]})}),e.jsx("input",{ref:N,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:_,className:"hidden"}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs(D,{onClick:C,disabled:l,className:"w-full bg-red-600 hover:bg-red-700",children:[e.jsx(Si,{className:"w-4 h-4 mr-2"}),l?"Upload en cours...":"Changer la photo"]}),t&&e.jsxs(D,{variant:"outline",onClick:E,disabled:l,className:"w-full text-red-600 border-red-200 hover:bg-red-50",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Supprimer la photo"]})]}),u&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:[e.jsx(Pt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:u})]}),p&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-green-50 px-3 py-2 rounded-lg",children:[e.jsx(qe,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:p})]}),e.jsxs("div",{className:"text-xs text-gray-500 text-center space-y-1",children:[e.jsx("p",{children:"Formats accepts : JPEG, PNG, GIF, WEBP"}),e.jsx("p",{children:"Taille maximale : 5MB"}),e.jsx("p",{className:"text-red-600 font-medium",children:"Rserv aux administrateurs"})]})]})]})},BD=()=>{const t=Re(),{data:s,isLoading:r}=Rt();ea();const[a,o]=m.useState("overview"),[l,d]=m.useState(!1),[u,h]=m.useState({nom:"",prenom:"",email:"",telephone:""}),{photoData:p,refetch:v}=Di(),{data:f,isLoading:g}=We({queryKey:["admin-stats"],queryFn:async()=>await ie.get("/admin/stats")}),{data:N}=We({queryKey:["admin-notifications"],queryFn:async()=>(await ie.get("/admin/notifications?limit=5")).notifications||[]});m.useEffect(()=>{s&&h({nom:s.nom||"",prenom:s.prenom||"",email:s.email||"",telephone:s.telephone||""})},[s]);const k=b=>{$.success("Photo de profil mise  jour avec succs !"),v()},y=()=>{$.success("Photo de profil supprime avec succs !"),v()},_=(b,P)=>{h(A=>({...A,[b]:P}))},w=()=>{d(!0)},E=()=>{d(!1),h({nom:s?.nom||"",prenom:s?.prenom||"",email:s?.email||"",telephone:s?.telephone||""})},C=async()=>{try{await ie.put("/users/profile",u),$.success("Profil mis  jour avec succs"),d(!1)}catch{$.error("Erreur lors de la mise  jour du profil")}},R=()=>e.jsxs(ne,{className:"bg-red-100 text-red-800 border-red-200",children:[e.jsx(lt,{className:"w-3 h-3 mr-1"}),"Administrateur"]}),T=(()=>{const b=new Date,P=s?.last_login?new Date(s.last_login):null;if(!P)return{status:"inactive",text:"Jamais connect",color:"text-gray-500"};const A=Math.floor((b.getTime()-P.getTime())/(1e3*60));return A<5?{status:"online",text:"En ligne",color:"text-green-500"}:A<60?{status:"recent",text:"Rcemment actif",color:"text-blue-500"}:A<1440?{status:"today",text:"Aujourd'hui",color:"text-yellow-500"}:{status:"offline",text:"Hors ligne",color:"text-gray-500"}})();return r?e.jsx(Xo,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})})}):e.jsx(Xo,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 rounded-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Profil Administrateur"}),e.jsx("p",{className:"text-red-100",children:"Grez votre compte administrateur et les paramtres systme"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${T.color.replace("text-","bg-")}`}),e.jsx("span",{className:"text-sm",children:T.text})]}),R()]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsx(qD,{currentPhoto:p?.photo_profil,onPhotoUpdate:k,onPhotoDelete:y,size:"xl"}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(xr,{className:"w-5 h-5 mr-2"}),"Statistiques"]})}),e.jsx(J,{className:"space-y-4",children:g?e.jsx("div",{className:"space-y-2",children:[1,2,3,4].map(b=>e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"},b))}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Utilisateurs"}),e.jsx("span",{className:"font-semibold",children:f?.total_acheteurs+f?.total_fournisseurs||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Fournisseurs"}),e.jsx("span",{className:"font-semibold text-blue-600",children:f?.total_fournisseurs||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Acheteurs"}),e.jsx("span",{className:"font-semibold text-green-600",children:f?.total_acheteurs||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Produits"}),e.jsx("span",{className:"font-semibold text-purple-600",children:f?.total_produits||0})]})]})})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(Ws,{className:"w-5 h-5 mr-2"}),"Actions rapides"]})}),e.jsxs(J,{className:"space-y-2",children:[e.jsxs(D,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>t("/admin/users"),children:[e.jsx(St,{className:"w-4 h-4 mr-2"}),"Grer les utilisateurs"]}),e.jsxs(D,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>t("/admin/dashboard"),children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Tableau de bord"]}),e.jsxs(D,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>t("/admin/notifications"),children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Notifications"]})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(Gr,{value:a,onValueChange:o,children:[e.jsxs(yr,{className:"grid w-full grid-cols-4",children:[e.jsx(Ue,{value:"overview",children:"Vue d'ensemble"}),e.jsx(Ue,{value:"personal",children:"Informations"}),e.jsx(Ue,{value:"security",children:"Scurit"}),e.jsx(Ue,{value:"activity",children:"Activit"})]}),e.jsxs(He,{value:"overview",className:"space-y-6",children:[e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2"}),"Informations personnelles"]})}),e.jsxs(J,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),e.jsx("p",{className:"text-gray-900",children:s?.nom||"Non renseign"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prnom"}),e.jsx("p",{className:"text-gray-900",children:s?.prenom||"Non renseign"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("p",{className:"text-gray-900",children:s?.email||"Non renseign"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),e.jsx("p",{className:"text-gray-900",children:s?.telephone||"Non renseign"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(D,{onClick:w,children:[e.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Modifier les informations"]})})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(vs,{className:"w-5 h-5 mr-2"}),"Notifications rcentes"]})}),e.jsx(J,{children:N&&N.length>0?e.jsx("div",{className:"space-y-3",children:N.slice(0,3).map(b=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-shrink-0",children:[b.type==="user_management"&&e.jsx(St,{className:"w-4 h-4 text-blue-500"}),b.type==="product_management"&&e.jsx(ft,{className:"w-4 h-4 text-green-500"}),b.type==="system"&&e.jsx(Wc,{className:"w-4 h-4 text-red-500"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.titre}),e.jsx("p",{className:"text-xs text-gray-500",children:b.message})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-xs text-gray-400",children:new Date(b.created_at).toLocaleDateString()})})]},b.id))}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Aucune notification rcente"})})]})]}),e.jsx(He,{value:"personal",className:"space-y-6",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ue,{className:"flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2"}),"Dtails du compte"]}),l?e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(D,{onClick:C,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ln,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]}),e.jsxs(D,{variant:"outline",onClick:E,children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Annuler"]})]}):e.jsxs(D,{onClick:w,children:[e.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Modifier"]})]})}),e.jsxs(J,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),l?e.jsx(B,{value:u.nom,onChange:b=>_("nom",b.target.value),placeholder:"Votre nom"}):e.jsx("p",{className:"text-gray-900",children:s?.nom||"Non renseign"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prnom"}),l?e.jsx(B,{value:u.prenom,onChange:b=>_("prenom",b.target.value),placeholder:"Votre prnom"}):e.jsx("p",{className:"text-gray-900",children:s?.prenom||"Non renseign"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l?e.jsx(B,{type:"email",value:u.email,onChange:b=>_("email",b.target.value),placeholder:"votre@email.com"}):e.jsx("p",{className:"text-gray-900",children:s?.email||"Non renseign"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone"}),l?e.jsx(B,{value:u.telephone,onChange:b=>_("telephone",b.target.value),placeholder:"+241 XX XX XX XX"}):e.jsx("p",{className:"text-gray-900",children:s?.telephone||"Non renseign"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rle"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[R(),e.jsx("span",{className:"text-sm text-gray-500",children:"Accs complet  l'administration"})]})]})]})]})}),e.jsx(He,{value:"security",className:"space-y-6",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(vS,{className:"w-5 h-5 mr-2"}),"Scurit du compte"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Js,{className:"w-5 h-5 text-yellow-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800",children:"Mot de passe"}),e.jsx("p",{className:"text-sm text-yellow-600",children:"Dernire modification il y a plus de 90 jours"})]})]}),e.jsx(D,{variant:"outline",size:"sm",children:"Modifier"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(qe,{className:"w-5 h-5 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-800",children:"Authentification  deux facteurs"}),e.jsx("p",{className:"text-sm text-green-600",children:"Active et configure"})]})]}),e.jsx(D,{variant:"outline",size:"sm",children:"Grer"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Wg,{className:"w-5 h-5 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-800",children:"Sessions actives"}),e.jsx("p",{className:"text-sm text-blue-600",children:"2 sessions actives"})]})]}),e.jsx(D,{variant:"outline",size:"sm",children:"Voir toutes"})]})]})]})}),e.jsx(He,{value:"activity",className:"space-y-6",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(Wg,{className:"w-5 h-5 mr-2"}),"Activit rcente"]})}),e.jsx(J,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(St,{className:"w-5 h-5 text-blue-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Nouveau fournisseur inscrit"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Il y a 2 heures"})]}),e.jsx(ne,{variant:"outline",children:"Utilisateurs"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ft,{className:"w-5 h-5 text-green-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Produit approuv"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Il y a 4 heures"})]}),e.jsx(ne,{variant:"outline",children:"Produits"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Wc,{className:"w-5 h-5 text-red-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Sauvegarde systme"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Hier  23:30"})]}),e.jsx(ne,{variant:"outline",children:"Systme"})]})]})})]})})]})})]})]})})},VD=()=>{const[t,s]=m.useState(1),[r,a]=m.useState(!1),[o,l]=m.useState(!1),[d,u]=m.useState([]),[h,p]=m.useState([]),v=Re(),[f,g]=m.useState({email:"",mot_de_passe:"",confirm_password:"",nom:"",prenom:"",telephone:"",role_id:2,entreprise:{nom_entreprise:"",description:"",logo:null,site_web:"",numero_siret:"",numero_registre_commerce:"",numero_tva:"",telephone_professionnel:"",adresse_ligne1:"",adresse_ligne2:"",ville:"",code_postal:"",pays:"Gabon",secteur_activite_id:"",type_entreprise_id:"",annee_creation:"",nombre_employes:"",capacite_production:"",certifications:"",logo_url:"",statut_verification:"en_attente",note_moyenne:0,nombre_avis:0,date_verification:null}});m.useEffect(()=>{N(),k()},[]);const N=async()=>{try{const O=await ie.get("/supplier/secteurs");u(O.data?.secteurs||[])}catch(O){console.error("Erreur chargement secteurs:",O),u([{id:1,nom:"Agriculture",description:"Agriculture et levage"},{id:2,nom:"Artisanat",description:"Artisanat traditionnel"},{id:3,nom:"Textile",description:"Textile et vtements"},{id:4,nom:"lectronique",description:"lectronique et technologie"},{id:5,nom:"Alimentaire",description:"Produits alimentaires"}])}},k=async()=>{try{const O=await ie.get("/supplier/types-entreprise");p(O.data?.types||[])}catch(O){console.error("Erreur chargement types entreprise:",O),p([{id:1,nom:"SARL",description:"Socit  responsabilit limite"},{id:2,nom:"SA",description:"Socit anonyme"},{id:3,nom:"Entreprise individuelle",description:"Entreprise individuelle"},{id:4,nom:"Cooprative",description:"Cooprative"}])}},y=O=>{const{name:F,value:X}=O.target;if(F.startsWith("entreprise.")){const V=F.replace("entreprise.","");g(K=>({...K,entreprise:{...K.entreprise,[V]:X}}))}else g(V=>({...V,[F]:X}))},_=(O,F)=>{if(O.startsWith("entreprise.")){const X=O.replace("entreprise.","");g(V=>({...V,entreprise:{...V.entreprise,[X]:F}}))}else g(X=>({...X,[O]:F}))},w=O=>{switch(O){case 1:return!f.nom||!f.prenom||!f.email||!f.telephone||!f.mot_de_passe||!f.confirm_password?($.error("Veuillez remplir tous les champs obligatoires"),!1):f.mot_de_passe!==f.confirm_password?($.error("Les mots de passe ne correspondent pas"),!1):f.mot_de_passe.length<6?($.error("Le mot de passe doit contenir au moins 6 caractres"),!1):!0;case 2:const{nom_entreprise:F,telephone_professionnel:X,secteur_activite_id:V,type_entreprise_id:K}=f.entreprise;return!F||!X||!V||!K?($.error("Veuillez remplir tous les champs obligatoires de l'entreprise"),!1):!0;case 3:const{adresse_ligne1:me,ville:U,code_postal:G,numero_siret:L}=f.entreprise;return!me||!U||!G||!L?($.error("Veuillez remplir tous les champs obligatoires d'adresse et lgaux"),!1):!0;default:return!0}},E=()=>{w(t)&&s(O=>Math.min(O+1,5))},C=()=>{s(O=>Math.max(O-1,1))},R=async O=>{if(O.preventDefault(),t<4){E();return}if(w(t))try{l(!0);const F=new FormData;F.append("nom",f.nom),F.append("prenom",f.prenom),F.append("email",f.email),F.append("telephone",f.telephone),F.append("mot_de_passe",f.mot_de_passe),F.append("role_id",f.role_id.toString()),F.append("nom_entreprise",f.entreprise.nom_entreprise),F.append("description",f.entreprise.description),F.append("site_web",f.entreprise.site_web),F.append("numero_siret",f.entreprise.numero_siret),F.append("numero_registre_commerce",f.entreprise.numero_registre_commerce),F.append("numero_tva",f.entreprise.numero_tva),F.append("telephone_professionnel",f.entreprise.telephone_professionnel),F.append("adresse_ligne1",f.entreprise.adresse_ligne1),F.append("adresse_ligne2",f.entreprise.adresse_ligne2),F.append("ville",f.entreprise.ville),F.append("code_postal",f.entreprise.code_postal),F.append("pays",f.entreprise.pays),F.append("secteur_activite_id",f.entreprise.secteur_activite_id),F.append("type_entreprise_id",f.entreprise.type_entreprise_id),F.append("annee_creation",f.entreprise.annee_creation),F.append("nombre_employes",f.entreprise.nombre_employes),F.append("capacite_production",f.entreprise.capacite_production),F.append("certifications",f.entreprise.certifications),f.entreprise.logo&&F.append("logo",f.entreprise.logo);const X=await ie.request("/supplier/register-supplier",{method:"POST",body:F,headers:{}});if(console.log("Rponse inscription:",X),X&&(X.data?.token||X.token||X.success||X.message?.includes("succs")||X.message?.includes("russi"))){const V=X.data?.token||X.token,K=X.data?.user||X.user;V&&localStorage.setItem("authToken",V),K&&localStorage.setItem("user",JSON.stringify(K)),$.success("Inscription russie ! Bienvenue sur GabMarketHub"),v("/supplier/login")}else{const V=X.message||X.error||"Erreur lors de l'inscription";$.error(V)}}catch(F){console.error("Erreur inscription:",F);const X=F.message||"Erreur lors de l'inscription";$.error(X)}finally{l(!1)}},I=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informations personnelles"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Vos informations de contact personnel"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"nom",type:"text",required:!0,placeholder:"Votre nom de famille",value:f.nom,onChange:y,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prnom *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"prenom",type:"text",required:!0,placeholder:"Votre prnom",value:f.prenom,onChange:y,className:"pl-10"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email professionnel *"}),e.jsxs("div",{className:"relative",children:[e.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"email",type:"email",required:!0,placeholder:"contact@votre-entreprise.com",value:f.email,onChange:y,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone personnel *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"telephone",type:"tel",required:!0,placeholder:"+241 XX XX XX XX",value:f.telephone,onChange:y,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"mot_de_passe",type:r?"text":"password",required:!0,placeholder:"Minimum 6 caractres",value:f.mot_de_passe,onChange:y,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>a(!r),children:r?e.jsx(Gs,{className:"w-5 h-5"}):e.jsx(Ze,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"confirm_password",type:"password",required:!0,placeholder:"Confirmez votre mot de passe",value:f.confirm_password,onChange:y,className:"pl-10"})]})]})]}),T=O=>{const{name:F,files:X}=O.target;if(X&&X[0]&&F.startsWith("entreprise.")){const V=F.replace("entreprise.","");g(K=>({...K,entreprise:{...K.entreprise,[V]:X[0]}}))}},b=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informations de l'entreprise"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Prsentez votre entreprise"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'entreprise *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"entreprise.nom_entreprise",required:!0,placeholder:"Nom de votre entreprise",value:f.entreprise.nom_entreprise,onChange:y,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo de l'entreprise"}),e.jsx(B,{name:"entreprise.logo",type:"file",accept:"image/*",onChange:T,className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formats accepts: JPG, PNG, GIF (max 2MB)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone professionnel *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"entreprise.telephone_professionnel",required:!0,placeholder:"+241 XX XX XX XX",value:f.entreprise.telephone_professionnel,onChange:y,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site web"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"entreprise.site_web",placeholder:"https://www.votre-site.com",value:f.entreprise.site_web,onChange:y,className:"pl-10"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secteur d'activit *"}),e.jsx(bs,{value:f.entreprise.secteur_activite_id,onValueChange:O=>_("entreprise.secteur_activite_id",O),placeholder:"Slectionnez un secteur",options:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type d'entreprise *"}),e.jsx(bs,{value:f.entreprise.type_entreprise_id,onValueChange:O=>_("entreprise.type_entreprise_id",O),placeholder:"Slectionnez un type",options:h})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description de l'entreprise"}),e.jsx(ht,{name:"entreprise.description",placeholder:"Dcrivez votre entreprise, vos produits et services...",value:f.entreprise.description,onChange:y,rows:4})]})]}),P=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Adresse et informations lgales"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Informations de localisation et lgales"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 1 *"}),e.jsxs("div",{className:"relative",children:[e.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"entreprise.adresse_ligne1",required:!0,placeholder:"Numro et nom de rue",value:f.entreprise.adresse_ligne1,onChange:y,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 2"}),e.jsx(B,{name:"entreprise.adresse_ligne2",placeholder:"Complment d'adresse (optionnel)",value:f.entreprise.adresse_ligne2,onChange:y})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville *"}),e.jsx(B,{name:"entreprise.ville",required:!0,placeholder:"Libreville",value:f.entreprise.ville,onChange:y})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code postal *"}),e.jsx(B,{name:"entreprise.code_postal",required:!0,placeholder:"BP 1234",value:f.entreprise.code_postal,onChange:y})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pays *"}),e.jsxs("select",{name:"entreprise.pays",value:f.entreprise.pays,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Slectionnez votre pays"}),e.jsx("option",{value:"Gabon",children:"Gabon"}),e.jsx("option",{value:"Italie",children:"Italie"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro SIRET *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"entreprise.numero_siret",required:!0,placeholder:"Numro d'identification SIRET",value:f.entreprise.numero_siret,onChange:y,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro de registre de commerce"}),e.jsxs("div",{className:"relative",children:[e.jsx(ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"entreprise.numero_registre_commerce",placeholder:"Numro registre commerce",value:f.entreprise.numero_registre_commerce,onChange:y,className:"pl-10"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro TVA"}),e.jsx(B,{name:"entreprise.numero_tva",placeholder:"Numro TVA (optionnel)",value:f.entreprise.numero_tva,onChange:y})]})]}),A=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informations complmentaires"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Dtails sur votre entreprise"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anne de cration"}),e.jsx(B,{name:"entreprise.annee_creation",type:"number",placeholder:"2020",value:f.entreprise.annee_creation,onChange:y})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre d'employs"}),e.jsx(B,{name:"entreprise.nombre_employes",type:"number",placeholder:"10",value:f.entreprise.nombre_employes,onChange:y})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacit de production"}),e.jsx(B,{name:"entreprise.capacite_production",placeholder:"Ex: 1000 units/mois",value:f.entreprise.capacite_production,onChange:y})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certifications"}),e.jsx(ht,{name:"entreprise.certifications",placeholder:"Listez vos certifications (ISO, etc.)",value:f.entreprise.certifications,onChange:y,rows:3})]})]});return e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(ot,{className:"mx-auto h-12 w-12 text-green-600"}),e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Inscription Fournisseur"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Rejoignez GabMarketHub et dveloppez votre business"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map(O=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${O<=t?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:O}),O<4&&e.jsx("div",{className:`w-12 h-1 mx-1 ${O<t?"bg-green-600":"bg-gray-200"}`})]},O))}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:[e.jsx("span",{children:"Compte"}),e.jsx("span",{children:"Entreprise"}),e.jsx("span",{children:"Adresse"}),e.jsx("span",{children:"Finalisation"})]})]}),e.jsx(Q,{children:e.jsx(J,{className:"p-8",children:e.jsxs("form",{onSubmit:R,children:[t===1&&I(),t===2&&b(),t===3&&P(),t===4&&A(),e.jsxs("div",{className:"flex justify-between mt-8",children:[t>1&&e.jsx(D,{type:"button",variant:"outline",onClick:C,children:"Prcdent"}),e.jsx("div",{className:"ml-auto",children:t<4?e.jsx(D,{type:"submit",children:"Suivant"}):e.jsx(D,{type:"submit",disabled:o,className:"bg-green-600 hover:bg-green-700",children:o?"Inscription...":"Crer mon compte"})})]})]})})}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez dj un compte ?"," ",e.jsx(Fr,{to:"/supplier/login",className:"font-medium text-green-600 hover:text-green-500",children:"Connectez-vous"})]})})]})})})},UD=()=>{const[t,s]=m.useState(!1),[r,a]=m.useState(!0),[o,l]=m.useState([]),[d,u]=m.useState([]),[h,p]=m.useState(!1),v=Re(),[f,g]=m.useState({nom_entreprise:"",description:"",logo:null,logo_url:"",site_web:"",numero_siret:"",numero_registre_commerce:"",numero_tva:"",telephone_professionnel:"",adresse_ligne1:"",adresse_ligne2:"",ville:"",code_postal:"",pays:"Gabon",secteur_activite_id:"",type_entreprise_id:"",annee_creation:"",nombre_employes:"",capacite_production:"",certifications:"",nom_banque:"",iban:"",nom_titulaire_compte:"",bic_swift:"",statut_verification:"en_attente"});m.useEffect(()=>{N()},[]);const N=async()=>{try{a(!0),await Promise.all([k(),y(),_()])}catch(T){console.error("Erreur chargement donnes:",T),$.error("Erreur lors du chargement des donnes")}finally{a(!1)}},k=async()=>{try{const T=await ie.get("/supplier/secteurs");l(T.data?.secteurs||[])}catch(T){console.error("Erreur chargement secteurs:",T),l([{id:1,nom:"Agriculture",description:"Agriculture et levage"},{id:2,nom:"Artisanat",description:"Artisanat traditionnel"},{id:3,nom:"Textile",description:"Textile et vtements"},{id:4,nom:"lectronique",description:"lectronique et technologie"},{id:5,nom:"Alimentaire",description:"Produits alimentaires"}])}},y=async()=>{try{const T=await ie.get("/supplier/types-entreprise");u(T.data?.types||[])}catch(T){console.error("Erreur chargement types entreprise:",T),u([{id:1,nom:"SARL",description:"Socit  responsabilit limite"},{id:2,nom:"SA",description:"Socit anonyme"},{id:3,nom:"Entreprise individuelle",description:"Entreprise individuelle"},{id:4,nom:"Cooprative",description:"Cooprative"}])}},_=async()=>{try{let T;try{T=await ie.get("/supplier/company-info")}catch(P){if(P.message?.includes("404")||P.message?.includes("Route non trouve"))console.log(" Fallback vers ancien endpoint..."),T=await ie.get("/supplier/profile");else throw P}const b=T.data;if(b&&(b.entreprise||b.nom_entreprise)){p(!0);const P=b.entreprise||b;g({...P,logo:null,secteur_activite_id:P.secteur_activite_id?.toString()||"",type_entreprise_id:P.type_entreprise_id?.toString()||"",annee_creation:P.annee_creation?.toString()||"",nombre_employes:P.nombre_employes?.toString()||""})}}catch(T){console.error("Erreur chargement entreprise:",T),T.message?.includes("404")||T.message?.includes("Route non trouve")?p(!1):$.error("Erreur lors du chargement des informations de l'entreprise")}},w=T=>{const{name:b,value:P}=T.target;g(A=>({...A,[b]:P}))},E=(T,b)=>{g(P=>({...P,[T]:b}))},C=T=>{const{files:b}=T.target;b&&b[0]&&g(P=>({...P,logo:b[0]}))},R=()=>{const T=["nom_entreprise","telephone_professionnel","secteur_activite_id","type_entreprise_id","adresse_ligne1","ville","code_postal","numero_siret"];for(const b of T)if(!f[b])return $.error(`Le champ ${b.replace("_"," ")} est obligatoire`),!1;return!0},I=async T=>{if(T.preventDefault(),!!R())try{s(!0);const b=new FormData;Object.entries(f).forEach(([A,O])=>{A==="logo"&&O instanceof File?b.append("logo",O):A!=="logo"&&O!==null&&O!==void 0&&b.append(A,O.toString())});let P;try{const A=h?`/supplier/company-info/${f.id}`:"/supplier/company-info",O=h?"PUT":"POST";P=await ie.request(A,{method:O,body:b,headers:{}})}catch(A){if(A.message?.includes("404")||A.message?.includes("Route non trouve")){console.log(" Fallback vers ancien endpoint de sauvegarde...");const O={};b.forEach((F,X)=>{X!=="logo"&&(O[X]=F)}),P=await ie.put("/supplier/profile",O)}else throw A}P.success?($.success(h?"Informations de l'entreprise mises  jour avec succs":"Informations de l'entreprise cres avec succs"),await _()):$.error("Erreur lors de la sauvegarde")}catch(b){console.error("Erreur sauvegarde:",b);const P=b.message||"Erreur lors de la sauvegarde";$.error(P)}finally{s(!1)}};return r?e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement des informations..."})]})})}):e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(ot,{className:"mx-auto h-12 w-12 text-green-600"}),e.jsxs("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:[h?"Modifier les informations":"Complter les informations"," de l'entreprise"]}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:h?"Mettez  jour les informations de votre entreprise":"Ajoutez les informations manquantes de votre entreprise"})]}),h&&f.statut_verification&&e.jsxs(js,{className:"mb-6",children:[e.jsx(Pt,{className:"h-4 w-4"}),e.jsxs(ys,{children:["Statut de vrification: ",e.jsxs("strong",{children:[f.statut_verification==="en_attente"&&"En attente de vrification",f.statut_verification==="verifie"&&"Vrifi ",f.statut_verification==="rejete"&&"Rejet "]})]})]}),e.jsxs("form",{onSubmit:I,className:"space-y-8",children:[e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(ot,{className:"mr-2 h-5 w-5"}),"Informations gnrales"]})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'entreprise *"}),e.jsx(B,{name:"nom_entreprise",required:!0,placeholder:"Nom de votre entreprise",value:f.nom_entreprise,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tlphone professionnel *"}),e.jsx(B,{name:"telephone_professionnel",required:!0,placeholder:"+241 XX XX XX XX",value:f.telephone_professionnel,onChange:w})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo de l'entreprise"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[f.logo_url&&e.jsx("img",{src:f.logo_url,alt:"Logo actuel",className:"w-16 h-16 object-cover rounded-lg border"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(B,{name:"logo",type:"file",accept:"image/*",onChange:C,className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f.logo_url?"Choisir un nouveau logo":"Formats accepts: JPG, PNG, GIF (max 2MB)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site web"}),e.jsx(B,{name:"site_web",placeholder:"https://www.votre-site.com",value:f.site_web,onChange:w})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secteur d'activit *"}),e.jsx(bs,{value:f.secteur_activite_id,onValueChange:T=>E("secteur_activite_id",T),placeholder:"Slectionnez un secteur",options:o})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type d'entreprise *"}),e.jsx(bs,{value:f.type_entreprise_id,onValueChange:T=>E("type_entreprise_id",T),placeholder:"Slectionnez un type",options:d})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description de l'entreprise"}),e.jsx(ht,{name:"description",placeholder:"Dcrivez votre entreprise, vos produits et services...",value:f.description,onChange:w,rows:4})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(os,{className:"mr-2 h-5 w-5"}),"Adresse et informations lgales"]})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 1 *"}),e.jsx(B,{name:"adresse_ligne1",required:!0,placeholder:"Numro et nom de rue",value:f.adresse_ligne1,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 2"}),e.jsx(B,{name:"adresse_ligne2",placeholder:"Complment d'adresse (optionnel)",value:f.adresse_ligne2,onChange:w})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville *"}),e.jsx(B,{name:"ville",required:!0,placeholder:"Libreville",value:f.ville,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code postal *"}),e.jsx(B,{name:"code_postal",required:!0,placeholder:"BP 1234",value:f.code_postal,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pays"}),e.jsx(B,{name:"pays",value:f.pays,onChange:w,disabled:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro SIRET *"}),e.jsx(B,{name:"numero_siret",required:!0,placeholder:"Numro d'identification SIRET",value:f.numero_siret,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro de registre de commerce"}),e.jsx(B,{name:"numero_registre_commerce",placeholder:"Numro registre commerce",value:f.numero_registre_commerce,onChange:w})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numro TVA"}),e.jsx(B,{name:"numero_tva",placeholder:"Numro TVA (optionnel)",value:f.numero_tva,onChange:w})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(ft,{className:"mr-2 h-5 w-5"}),"Informations complmentaires"]})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anne de cration"}),e.jsx(B,{name:"annee_creation",type:"number",placeholder:"2020",value:f.annee_creation,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre d'employs"}),e.jsx(B,{name:"nombre_employes",type:"number",placeholder:"10",value:f.nombre_employes,onChange:w})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacit de production"}),e.jsx(B,{name:"capacite_production",placeholder:"Ex: 1000 units/mois",value:f.capacite_production,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certifications"}),e.jsx(ht,{name:"certifications",placeholder:"Listez vos certifications (ISO, etc.)",value:f.certifications,onChange:w,rows:3})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(ot,{className:"mr-2 h-5 w-5"}),"Informations bancaires"]})}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la banque"}),e.jsx(B,{name:"nom_banque",placeholder:"Ex: BGFI Bank",value:f.nom_banque,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du titulaire du compte"}),e.jsx(B,{name:"nom_titulaire_compte",placeholder:"Nom sur le compte bancaire",value:f.nom_titulaire_compte,onChange:w})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IBAN"}),e.jsx(B,{name:"iban",placeholder:"GA21 1234 5678 9012 3456 7890 12",value:f.iban,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code BIC/SWIFT"}),e.jsx(B,{name:"bic_swift",placeholder:"BGFIGAXX",value:f.bic_swift,onChange:w})]})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(D,{type:"button",variant:"outline",onClick:()=>v("/supplier/dashboard"),children:"Annuler"}),e.jsx(D,{type:"submit",disabled:t,className:"bg-green-600 hover:bg-green-700",children:t?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sauvegarde..."]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(ln,{className:"mr-2 h-4 w-4"}),h?"Mettre  jour":"Enregistrer"]})})]})]})]})})})},HD=()=>{const t=Re(),s=up(),[r,a]=m.useState(""),[o,l]=m.useState("date_added"),[d,u]=m.useState("grid"),[h,p]=m.useState("all"),[v,f]=m.useState([]),{data:g=[],isLoading:N}=We({queryKey:["favorites"],queryFn:()=>ie.get("/users/favorites")}),k=Wk({mutationFn:T=>ie.delete(`/users/favorites/${T}`),onSuccess:()=>{s.invalidateQueries({queryKey:["favorites"]}),$.success("Produit retir des favoris")},onError:T=>{$.error(T.response?.data?.error||"Erreur lors de la suppression")}}),y=async T=>{try{const b={produit_id:T.id,quantite:T.moq||1,prix_unitaire:T.prix_unitaire};await ie.post("/cart/add",b),$.success(`${T.nom} ajout au panier`)}catch(b){$.error(b.response?.data?.error||"Erreur lors de l'ajout au panier")}},_=m.useMemo(()=>{let T=g.filter(b=>{if(r){const P=b.nom.toLowerCase().includes(r.toLowerCase()),A=b.fournisseur_nom?.toLowerCase().includes(r.toLowerCase());if(!P&&!A)return!1}return!(h!=="all"&&b.categorie_nom!==h)});return T.sort((b,P)=>{switch(o){case"name_asc":return b.nom.localeCompare(P.nom);case"name_desc":return P.nom.localeCompare(b.nom);case"price_asc":return b.prix_unitaire-P.prix_unitaire;case"price_desc":return P.prix_unitaire-b.prix_unitaire;case"rating":return(P.note_moyenne||0)-(b.note_moyenne||0);default:return new Date(P.date_ajout||P.created_at).getTime()-new Date(b.date_ajout||b.created_at).getTime()}}),T},[g,r,h,o]),w=m.useMemo(()=>[...new Set(g.map(b=>b.categorie_nom).filter(Boolean))],[g]),E=()=>{f(_.map(T=>T.id))},C=()=>{f([])},R=async()=>{if(v.length!==0)try{await Promise.all(v.map(T=>ie.delete(`/users/favorites/${T}`))),s.invalidateQueries({queryKey:["favorites"]}),$.success(`${v.length} favori(s) supprim(s)`),f([])}catch{$.error("Erreur lors de la suppression")}},I=()=>{const b=`Mes favoris GabMarketHub:
${_.filter(P=>v.includes(P.id)).map(P=>` ${P.nom} - ${P.prix_unitaire}`).join(`
`)}`;navigator.share?navigator.share({title:"Mes favoris GabMarketHub",text:b,url:window.location.href}):(navigator.clipboard.writeText(b),$.success("Liste copie dans le presse-papiers"))};return N?e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement de vos favoris..."})]})})}):e.jsx($e,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx(rl,{fallbackPath:"/dashboard",className:"mb-4"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Kt,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Favoris"}),e.jsxs("p",{className:"text-gray-600",children:[g.length," produit",g.length>1?"s":""," dans vos favoris"]})]})]}),v.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ne,{variant:"secondary",className:"text-sm",children:[v.length," slectionn",v.length>1?"s":""]}),e.jsxs(D,{variant:"outline",size:"sm",onClick:I,children:[e.jsx(vi,{className:"w-4 h-4 mr-1"}),"Partager"]}),e.jsxs(D,{variant:"destructive",size:"sm",onClick:R,children:[e.jsx(Rs,{className:"w-4 h-4 mr-1"}),"Supprimer"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(B,{placeholder:"Rechercher dans vos favoris...",value:r,onChange:T=>a(T.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(mr,{value:h,onValueChange:p,children:[e.jsx(Vs,{className:"w-40",children:e.jsx(hr,{placeholder:"Catgorie"})}),e.jsxs(Us,{children:[e.jsx(ze,{value:"all",children:"Toutes les catgories"}),w.map(T=>e.jsx(ze,{value:T,children:T},T))]})]}),e.jsxs(mr,{value:o,onValueChange:l,children:[e.jsx(Vs,{className:"w-40",children:e.jsx(hr,{placeholder:"Trier par"})}),e.jsxs(Us,{children:[e.jsx(ze,{value:"date_added",children:"Date d'ajout"}),e.jsx(ze,{value:"name_asc",children:"Nom (A-Z)"}),e.jsx(ze,{value:"name_desc",children:"Nom (Z-A)"}),e.jsx(ze,{value:"price_asc",children:"Prix (croissant)"}),e.jsx(ze,{value:"price_desc",children:"Prix (dcroissant)"}),e.jsx(ze,{value:"rating",children:"Note"})]})]}),e.jsxs("div",{className:"flex border rounded-md",children:[e.jsx(D,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>u("grid"),className:"rounded-r-none",children:e.jsx(wa,{className:"w-4 h-4"})}),e.jsx(D,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),className:"rounded-l-none",children:e.jsx(md,{className:"w-4 h-4"})})]})]})]}),g.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx(D,{variant:"outline",size:"sm",onClick:E,children:"Tout slectionner"}),v.length>0&&e.jsx(D,{variant:"outline",size:"sm",onClick:C,children:"Dslectionner tout"})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(Kt,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Aucun favori pour le moment"}),e.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Dcouvrez nos produits et ajoutez-les  vos favoris pour les retrouver facilement"}),e.jsx(D,{size:"lg",onClick:()=>t("/products"),children:"Dcouvrir les produits"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(T=>e.jsx(Q,{className:"group hover:shadow-lg transition-shadow",children:e.jsxs(J,{className:"p-4",children:[e.jsxs("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg mb-4 overflow-hidden",children:[T.image_principale?e.jsx("img",{src:Yt(T.image_principale),alt:T.nom,className:"w-full h-full object-cover cursor-pointer",onClick:()=>t(`/products/${T.id}`),onError:b=>{const P=b.target;P.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center cursor-pointer",onClick:()=>t(`/products/${T.id}`),children:e.jsx(Ze,{className:"w-16 h-16 text-gray-400"})}),e.jsx(D,{variant:"outline",size:"sm",className:"absolute top-2 right-2 bg-white/90 hover:bg-white",onClick:()=>k.mutate(T.id),disabled:k.isPending,children:e.jsx(Rs,{className:"w-4 h-4 text-red-600"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 cursor-pointer hover:text-green-600",onClick:()=>t(`/products/${T.id}`),children:T.nom}),e.jsx("p",{className:"text-sm text-gray-600",children:T.fournisseur_nom})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((b,P)=>e.jsx(Ct,{className:`w-4 h-4 ${P<Math.floor(T.note_moyenne||0)?"text-yellow-400 fill-current":"text-gray-300"}`},P))}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",T.nombre_avis||0,")"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-xl font-bold text-green-600",children:[T.prix_unitaire,""]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["/",T.unite]})]}),T.featured&&e.jsx(ne,{className:"bg-yellow-400 text-gray-800",children:"Vedette"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(D,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>t(`/products/${T.id}`),children:[e.jsx(Ze,{className:"w-4 h-4 mr-1"}),"Voir"]}),e.jsxs(D,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>y(T),disabled:T.stock_disponible===0,children:[e.jsx(pr,{className:"w-4 h-4 mr-1"}),"Panier"]})]}),T.stock_disponible===0&&e.jsx("p",{className:"text-sm text-red-600 text-center",children:"Stock puis"})]})]})},T.id))}),g.length>0&&e.jsx("div",{className:"mt-12 text-center space-y-4",children:e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(D,{variant:"outline",onClick:()=>t("/products"),children:"Continuer mes achats"}),e.jsxs(D,{onClick:()=>t("/cart"),children:[e.jsx(pr,{className:"w-4 h-4 mr-2"}),"Voir mon panier"]})]})})]})]})})},uv=()=>{const t=Re(),[s,r]=m.useState(""),[a,o]=m.useState(!1),[l,d]=m.useState(!1),u=async h=>{if(h.preventDefault(),!s){$.error("Veuillez saisir votre adresse email");return}o(!0);try{await ie.post("/auth/forgot-password",{email:s}),d(!0),$.success("Si cet email existe dans notre systme, vous recevrez un lien de rinitialisation")}catch(p){console.error("Erreur forgot password:",p),$.error(p.response?.data?.error||"Erreur lors de l'envoi de l'email")}finally{o(!1)}};return e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs(Q,{className:"w-full max-w-md",children:[e.jsxs(de,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(rs,{className:"w-8 h-8 text-green-600"})}),e.jsx(ue,{className:"text-2xl font-bold text-gray-900",children:l?"Email envoy !":"Mot de passe oubli ?"}),e.jsx("p",{className:"text-gray-600 mt-2",children:l?"Vrifiez votre bote email pour rinitialiser votre mot de passe":"Saisissez votre email pour recevoir un lien de rcupration"})]}),e.jsxs(J,{children:[l?e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(qe,{className:"w-8 h-8 text-green-600"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Un email a t envoy  ",e.jsx("strong",{children:s})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cliquez sur le lien dans l'email pour rinitialiser votre mot de passe."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(D,{onClick:()=>t("/login"),className:"w-full bg-green-600 hover:bg-green-700",children:"Retour  la connexion"}),e.jsx(D,{variant:"outline",onClick:()=>{d(!1),r("")},className:"w-full",children:"Renvoyer l'email"})]})]}):e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),e.jsx(B,{id:"email",type:"email",value:s,onChange:h=>r(h.target.value),placeholder:"votre@email.com",required:!0,className:"w-full"})]}),e.jsx(D,{type:"submit",disabled:a,className:"w-full bg-green-600 hover:bg-green-700",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Envoi en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rs,{className:"w-4 h-4 mr-2"}),"Envoyer le lien de rcupration"]})}),e.jsx("div",{className:"text-center",children:e.jsxs(D,{type:"button",variant:"ghost",onClick:()=>t("/login"),className:"text-gray-600 hover:text-gray-800",children:[e.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Retour  la connexion"]})})]}),e.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Besoin d'aide ?"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" Vrifiez votre dossier spam/courrier indsirable"}),e.jsx("li",{children:" L'email peut prendre quelques minutes  arriver"}),e.jsx("li",{children:" Le lien expire aprs 24 heures"})]}),e.jsxs("p",{className:"text-sm text-blue-800 mt-3",children:["Problme persistant ? Contactez notre support "," ",e.jsx("a",{href:"mailto:support@gabmarkethub.com",className:"underline",children:"support@gabmarkethub.com"})]})]})]})]})})})},WD=()=>{const[t]=Da(),s=Re(),r=t.get("token"),[a,o]=m.useState({newPassword:"",confirmPassword:""}),[l,d]=m.useState(!1),[u,h]=m.useState(!1),[p,v]=m.useState(!1),[f,g]=m.useState(!0),[N,k]=m.useState(!1),[y,_]=m.useState(null);m.useEffect(()=>{(async()=>{if(!r){g(!1);return}try{const b=await ie.get(`/auth/reset-password/verify/${r}`);k(!0),_(b)}catch(b){console.error("Erreur vrification token:",b),k(!1),$.error("Lien de rinitialisation invalide ou expir")}finally{g(!1)}})()},[r]);const w=T=>{const{name:b,value:P}=T.target;o(A=>({...A,[b]:P}))},C=(T=>{const b=T.length>=6,P=/\d/.test(T),A=/[a-zA-Z]/.test(T);return{minLength:b,hasNumber:P,hasLetter:A,isValid:b&&P&&A}})(a.newPassword),R=a.newPassword===a.confirmPassword&&a.confirmPassword.length>0,I=async T=>{if(T.preventDefault(),!C.isValid){$.error("Le mot de passe doit contenir au moins 6 caractres, un chiffre et une lettre");return}if(!R){$.error("Les mots de passe ne correspondent pas");return}v(!0);try{await ie.post("/auth/reset-password",{token:r,newPassword:a.newPassword}),$.success("Mot de passe rinitialis avec succs !"),s("/login")}catch(b){console.error("Erreur reset password:",b),$.error(b.response?.data?.error||"Erreur lors de la rinitialisation")}finally{v(!1)}};return f?e.jsx($e,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsx(Q,{className:"w-full max-w-md",children:e.jsx(J,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gabon-green mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Vrification du lien..."})]})})})})}):N?e.jsx($e,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(Q,{className:"w-full max-w-md",children:[e.jsxs(de,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(gs,{className:"w-8 h-8 text-green-600"})}),e.jsx(ue,{className:"text-2xl font-bold text-gray-900",children:"Nouveau mot de passe"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Crez un nouveau mot de passe pour"}),e.jsx("p",{className:"text-gabon-green font-semibold",children:y?.user?.email})]}),e.jsx(J,{children:e.jsxs("form",{onSubmit:I,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"newPassword",type:l?"text":"password",required:!0,placeholder:"Votre nouveau mot de passe",value:a.newPassword,onChange:w,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>d(!l),children:l?e.jsx(Gs,{className:"w-5 h-5"}):e.jsx(Ze,{className:"w-5 h-5"})})]}),a.newPassword&&e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("div",{className:`flex items-center text-xs ${C.minLength?"text-green-600":"text-red-600"}`,children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"Au moins 6 caractres"]}),e.jsxs("div",{className:`flex items-center text-xs ${C.hasNumber?"text-green-600":"text-red-600"}`,children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"Contient un chiffre"]}),e.jsxs("div",{className:`flex items-center text-xs ${C.hasLetter?"text-green-600":"text-red-600"}`,children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"Contient une lettre"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{name:"confirmPassword",type:u?"text":"password",required:!0,placeholder:"Confirmez votre mot de passe",value:a.confirmPassword,onChange:w,className:"pl-10 pr-10"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>h(!u),children:u?e.jsx(Gs,{className:"w-5 h-5"}):e.jsx(Ze,{className:"w-5 h-5"})})]}),a.confirmPassword&&e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:`flex items-center text-xs ${R?"text-green-600":"text-red-600"}`,children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),R?"Les mots de passe correspondent":"Les mots de passe ne correspondent pas"]})})]}),e.jsx(D,{type:"submit",disabled:p||!C.isValid||!R,className:"w-full",children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Rinitialisation..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Rinitialiser le mot de passe"]})}),e.jsx("div",{className:"text-center",children:e.jsx(Fr,{to:"/login",className:"text-sm text-gabon-green hover:text-gabon-green/80",children:"Retour  la connexion"})})]})})]})})}):e.jsx($e,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(Q,{className:"w-full max-w-md",children:[e.jsxs(de,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Pt,{className:"w-8 h-8 text-red-600"})}),e.jsx(ue,{className:"text-2xl font-bold text-gray-900",children:"Lien invalide"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Ce lien de rinitialisation est invalide ou a expir."})]}),e.jsx(J,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(D,{asChild:!0,className:"w-full",children:e.jsx(Fr,{to:"/forgot-password",children:"Demander un nouveau lien"})}),e.jsx(D,{asChild:!0,variant:"outline",className:"w-full",children:e.jsx(Fr,{to:"/login",children:"Retour  la connexion"})})]})})]})})})},GD=()=>{const t=Re();return e.jsx($e,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs(D,{variant:"ghost",onClick:()=>t(-1),className:"mb-4",children:[e.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Retour"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ft,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Conditions d'utilisation"})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Dernire mise  jour : 15 janvier 2024"})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"w-5 h-5 text-green-600"}),"Introduction"]})}),e.jsx(J,{className:"prose max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Bienvenue sur GabMarketHub, la premire plateforme B2B du Gabon connectant les entreprises italiennes et les fournisseurs gabonais. En utilisant notre plateforme, vous acceptez les prsentes conditions d'utilisation."})})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"w-5 h-5 text-blue-600"}),"Dfinitions"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Plateforme"}),e.jsx("p",{className:"text-gray-700",children:"Dsigne le site web GabMarketHub et tous ses services associs."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Utilisateur"}),e.jsx("p",{className:"text-gray-700",children:"Toute personne physique ou morale utilisant la plateforme."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Fournisseur"}),e.jsx("p",{className:"text-gray-700",children:"Entreprise gabonaise proposant des produits ou services sur la plateforme."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Acheteur"}),e.jsx("p",{className:"text-gray-700",children:"Entreprise italienne ou internationale recherchant des produits ou services."})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(St,{className:"w-5 h-5 text-purple-600"}),"Conditions d'accs et d'inscription"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"ligibilit"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"tre une entreprise lgalement constitue"}),e.jsx("li",{children:"Avoir la capacit juridique de contracter"}),e.jsx("li",{children:"Fournir des informations exactes et  jour"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Vrification"}),e.jsx("p",{className:"text-gray-700",children:"GabMarketHub se rserve le droit de vrifier l'identit et la lgitimit de tous les utilisateurs avant l'activation de leur compte."})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"w-5 h-5 text-green-600"}),"Utilisation de la plateforme"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Usages autoriss"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Recherche et achat de produits professionnels"}),e.jsx("li",{children:"Communication avec les fournisseurs"}),e.jsx("li",{children:"Gestion des favoris et produits"}),e.jsx("li",{children:"valuation des produits et services"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Usages interdits"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Utilisation  des fins illgales ou frauduleuses"}),e.jsx("li",{children:"Contournement des mesures de scurit"}),e.jsx("li",{children:"Spam ou communications non sollicites"}),e.jsx("li",{children:"Violation des droits de proprit intellectuelle"})]})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"w-5 h-5 text-red-600"}),"Responsabilits et garanties"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Responsabilit de GabMarketHub"}),e.jsx("p",{className:"text-gray-700",children:"GabMarketHub agit en tant qu'intermdiaire technique. Nous ne sommes pas responsables de la qualit des produits, des dlais de livraison ou des litiges entre utilisateurs."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Responsabilit des utilisateurs"}),e.jsx("p",{className:"text-gray-700",children:"Chaque utilisateur est responsable de ses actions sur la plateforme et doit respecter la lgislation en vigueur au Gabon et en Italie."})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"w-5 h-5 text-indigo-600"}),"Proprit intellectuelle"]})}),e.jsx(J,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Tous les lments de la plateforme (design, logos, textes, images) sont protgs par les droits de proprit intellectuelle. Toute reproduction non autorise est interdite."})})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(fS,{className:"w-5 h-5 text-yellow-600"}),"Modification des conditions"]})}),e.jsx(J,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"GabMarketHub se rserve le droit de modifier les prsentes conditions  tout moment. Les utilisateurs seront informs des modifications par email et devront accepter les nouvelles conditions pour continuer  utiliser la plateforme."})})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(St,{className:"w-5 h-5 text-green-600"}),"Contact et support"]})}),e.jsxs(J,{children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Pour toute question concernant ces conditions d'utilisation, contactez-nous :"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email :"})," legal@gabmarkethub.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tlphone :"})," +241 XX XX XX XX"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Adresse :"})," Libreville, Gabon"]})]})]})]}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"En utilisant GabMarketHub, vous confirmez avoir lu et accept ces conditions d'utilisation."}),e.jsx(D,{onClick:()=>t(-1),size:"lg",children:"J'ai lu et j'accepte les conditions"})]})]})})]})})},KD=()=>{const t=Re();return e.jsx($e,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs(D,{variant:"ghost",onClick:()=>t(-1),className:"mb-4",children:[e.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Retour"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(lt,{className:"w-8 h-8 text-green-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Politique de confidentialit"})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Dernire mise  jour : 15 janvier 2024"})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"w-5 h-5 text-green-600"}),"Notre engagement"]})}),e.jsx(J,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"GabMarketHub s'engage  protger votre vie prive et vos donnes personnelles. Cette politique explique comment nous collectons, utilisons et protgeons vos informations dans le cadre de notre plateforme B2B reliant l'Italie et le Gabon."})})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(Wc,{className:"w-5 h-5 text-blue-600"}),"Donnes que nous collectons"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Informations d'entreprise"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Raison sociale et forme juridique"}),e.jsx("li",{children:"Numro d'identification (SIRET, TVA intracommunautaire)"}),e.jsx("li",{children:"Adresse du sige social"}),e.jsx("li",{children:"Secteur d'activit et certifications"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Informations de contact"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Nom et prnom du reprsentant"}),e.jsx("li",{children:"Adresse email professionnelle"}),e.jsx("li",{children:"Numro de tlphone"}),e.jsx("li",{children:"Fonction dans l'entreprise"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Donnes d'utilisation"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Historique de navigation et recherches"}),e.jsx("li",{children:"Interactions avec les fournisseurs"}),e.jsx("li",{children:"Favoris et interactions"}),e.jsx("li",{children:"valuations et commentaires"})]})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-5 h-5 text-purple-600"}),"Comment nous utilisons vos donnes"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Services de la plateforme"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Cration et gestion de votre compte"}),e.jsx("li",{children:"Mise en relation avec des partenaires commerciaux"}),e.jsx("li",{children:"Traitement des demandes et communications"}),e.jsx("li",{children:"Support client et rsolution de litiges"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Amlioration de l'exprience"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Personnalisation des recommandations"}),e.jsx("li",{children:"Analyse des tendances du march"}),e.jsx("li",{children:"Optimisation de la plateforme"}),e.jsx("li",{children:"Prvention de la fraude"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Communication"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Notifications sur vos favoris"}),e.jsx("li",{children:"Alertes de scurit importantes"}),e.jsx("li",{children:"Newsletter (avec votre consentement)"}),e.jsx("li",{children:"Enqutes de satisfaction"})]})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(St,{className:"w-5 h-5 text-orange-600"}),"Partage de vos donnes"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Avec les autres utilisateurs"}),e.jsx("p",{className:"text-gray-700",children:"Vos informations d'entreprise (nom, secteur, localisation) sont visibles par les autres utilisateurs pour faciliter les changes commerciaux."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Avec nos partenaires"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Services de validation (pour les documents)"}),e.jsx("li",{children:"Services de livraison (pour l'expdition)"}),e.jsx("li",{children:"Organismes de vrification (pour la certification)"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Obligations lgales"}),e.jsx("p",{className:"text-gray-700",children:"Nous pouvons divulguer vos donnes si requis par la loi, une dcision de justice ou les autorits comptentes du Gabon ou d'Italie."})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"w-5 h-5 text-red-600"}),"Scurit de vos donnes"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Mesures techniques"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Chiffrement SSL/TLS pour toutes les communications"}),e.jsx("li",{children:"Stockage scuris dans des centres de donnes certifis"}),e.jsx("li",{children:"Authentification  deux facteurs disponible"}),e.jsx("li",{children:"Surveillance continue des accs"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Mesures organisationnelles"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Accs limit aux donnes selon le principe du moindre privilge"}),e.jsx("li",{children:"Formation rgulire de nos quipes"}),e.jsx("li",{children:"Audits de scurit priodiques"}),e.jsx("li",{children:"Plan de rponse aux incidents"})]})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"w-5 h-5 text-green-600"}),"Vos droits"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Droits d'accs et de rectification"}),e.jsx("p",{className:"text-gray-700",children:"Vous pouvez consulter et modifier vos donnes personnelles  tout moment depuis votre espace utilisateur."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Droit  l'effacement"}),e.jsx("p",{className:"text-gray-700",children:"Vous pouvez demander la suppression de votre compte et de vos donnes, sous rserve de nos obligations lgales de conservation."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Droit  la portabilit"}),e.jsx("p",{className:"text-gray-700",children:"Vous pouvez rcuprer vos donnes dans un format structur et lisible pour les transfrer vers un autre service."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Droit d'opposition"}),e.jsx("p",{className:"text-gray-700",children:"Vous pouvez vous opposer au traitement de vos donnes  des fins de marketing ou d'analyse statistique."})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(Ir,{className:"w-5 h-5 text-indigo-600"}),"Transferts internationaux"]})}),e.jsx(J,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Dans le cadre de notre activit reliant l'Italie et le Gabon, vos donnes peuvent tre transfres entre ces pays. Nous nous assurons que ces transferts respectent les rglementations en vigueur et offrent un niveau de protection adquat."})})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(Wc,{className:"w-5 h-5 text-yellow-600"}),"Conservation des donnes"]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Dures de conservation"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[e.jsx("li",{children:"Donnes de compte : pendant la dure d'utilisation + 3 ans"}),e.jsx("li",{children:"Donnes de transaction : 10 ans (obligations comptables)"}),e.jsx("li",{children:"Donnes de navigation : 13 mois maximum"}),e.jsx("li",{children:"Donnes de support : 3 ans aprs rsolution"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Suppression automatique"}),e.jsx("p",{className:"text-gray-700",children:" l'expiration des dlais de conservation, vos donnes sont automatiquement supprimes de nos systmes de manire scurise et irrversible."})]})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(St,{className:"w-5 h-5 text-green-600"}),"Contact et rclamations"]})}),e.jsxs(J,{children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Pour toute question concernant cette politique de confidentialit ou pour exercer vos droits :"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Dlgu  la protection des donnes :"})," dpo@gabmarkethub.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Support :"})," privacy@gabmarkethub.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tlphone :"})," +241 XX XX XX XX"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Adresse :"})," Libreville, Gabon"]})]}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Autorit de contrle :"})," En cas de litige, vous pouvez saisir l'autorit de protection des donnes comptente de votre pays de rsidence."]})})]})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-5 h-5 text-purple-600"}),"Modifications de cette politique"]})}),e.jsx(J,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Nous pouvons modifier cette politique de confidentialit pour reflter les volutions de nos services ou de la rglementation. Vous serez inform de tout changement significatif par email et devrez accepter la nouvelle politique pour continuer  utiliser nos services."})})]}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"En utilisant GabMarketHub, vous confirmez avoir lu et compris cette politique de confidentialit."}),e.jsx(D,{onClick:()=>t(-1),size:"lg",children:"J'ai lu et j'accepte la politique"})]})]})})]})})};var Gw=["PageUp","PageDown"],Kw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Xw={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Oi="Slider",[Ih,XD,YD]=Yo(Oi),[Yw]=Ur(Oi,[YD]),[QD,$d]=Yw(Oi),Qw=m.forwardRef((t,s)=>{const{name:r,min:a=0,max:o=100,step:l=1,orientation:d="horizontal",disabled:u=!1,minStepsBetweenThumbs:h=0,defaultValue:p=[a],value:v,onValueChange:f=()=>{},onValueCommit:g=()=>{},inverted:N=!1,form:k,...y}=t,_=m.useRef(new Set),w=m.useRef(0),C=d==="horizontal"?JD:ZD,[R=[],I]=Un({prop:v,defaultProp:p,onChange:F=>{[..._.current][w.current]?.focus(),f(F)}}),T=m.useRef(R);function b(F){const X=nI(R,F);O(F,X)}function P(F){O(F,w.current)}function A(){const F=T.current[w.current];R[w.current]!==F&&g(R)}function O(F,X,{commit:V}={commit:!1}){const K=lI(l),me=cI(Math.round((F-a)/l)*l+a,K),U=Ko(me,[a,o]);I((G=[])=>{const L=sI(G,U,X);if(oI(L,h*l)){w.current=L.indexOf(U);const H=String(L)!==String(G);return H&&V&&g(L),H?L:G}else return G})}return e.jsx(QD,{scope:t.__scopeSlider,name:r,disabled:u,min:a,max:o,valueIndexToChangeRef:w,thumbs:_.current,values:R,orientation:d,form:k,children:e.jsx(Ih.Provider,{scope:t.__scopeSlider,children:e.jsx(Ih.Slot,{scope:t.__scopeSlider,children:e.jsx(C,{"aria-disabled":u,"data-disabled":u?"":void 0,...y,ref:s,onPointerDown:ye(y.onPointerDown,()=>{u||(T.current=R)}),min:a,max:o,inverted:N,onSlideStart:u?void 0:b,onSlideMove:u?void 0:P,onSlideEnd:u?void 0:A,onHomeKeyDown:()=>!u&&O(a,0,{commit:!0}),onEndKeyDown:()=>!u&&O(o,R.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:X})=>{if(!u){const me=Gw.includes(F.key)||F.shiftKey&&Kw.includes(F.key)?10:1,U=w.current,G=R[U],L=l*me*X;O(G+L,U,{commit:!0})}}})})})})});Qw.displayName=Oi;var[Jw,Zw]=Yw(Oi,{startEdge:"left",endEdge:"right",size:"width",direction:1}),JD=m.forwardRef((t,s)=>{const{min:r,max:a,dir:o,inverted:l,onSlideStart:d,onSlideMove:u,onSlideEnd:h,onStepKeyDown:p,...v}=t,[f,g]=m.useState(null),N=Be(s,C=>g(C)),k=m.useRef(),y=Mi(o),_=y==="ltr",w=_&&!l||!_&&l;function E(C){const R=k.current||f.getBoundingClientRect(),I=[0,R.width],b=Kp(I,w?[r,a]:[a,r]);return k.current=R,b(C-R.left)}return e.jsx(Jw,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:e.jsx(e1,{dir:y,"data-orientation":"horizontal",...v,ref:N,style:{...v.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const R=E(C.clientX);d?.(R)},onSlideMove:C=>{const R=E(C.clientX);u?.(R)},onSlideEnd:()=>{k.current=void 0,h?.()},onStepKeyDown:C=>{const I=Xw[w?"from-left":"from-right"].includes(C.key);p?.({event:C,direction:I?-1:1})}})})}),ZD=m.forwardRef((t,s)=>{const{min:r,max:a,inverted:o,onSlideStart:l,onSlideMove:d,onSlideEnd:u,onStepKeyDown:h,...p}=t,v=m.useRef(null),f=Be(s,v),g=m.useRef(),N=!o;function k(y){const _=g.current||v.current.getBoundingClientRect(),w=[0,_.height],C=Kp(w,N?[a,r]:[r,a]);return g.current=_,C(y-_.top)}return e.jsx(Jw,{scope:t.__scopeSlider,startEdge:N?"bottom":"top",endEdge:N?"top":"bottom",size:"height",direction:N?1:-1,children:e.jsx(e1,{"data-orientation":"vertical",...p,ref:f,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const _=k(y.clientY);l?.(_)},onSlideMove:y=>{const _=k(y.clientY);d?.(_)},onSlideEnd:()=>{g.current=void 0,u?.()},onStepKeyDown:y=>{const w=Xw[N?"from-bottom":"from-top"].includes(y.key);h?.({event:y,direction:w?-1:1})}})})}),e1=m.forwardRef((t,s)=>{const{__scopeSlider:r,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onHomeKeyDown:d,onEndKeyDown:u,onStepKeyDown:h,...p}=t,v=$d(Oi,r);return e.jsx(Te.span,{...p,ref:s,onKeyDown:ye(t.onKeyDown,f=>{f.key==="Home"?(d(f),f.preventDefault()):f.key==="End"?(u(f),f.preventDefault()):Gw.concat(Kw).includes(f.key)&&(h(f),f.preventDefault())}),onPointerDown:ye(t.onPointerDown,f=>{const g=f.target;g.setPointerCapture(f.pointerId),f.preventDefault(),v.thumbs.has(g)?g.focus():a(f)}),onPointerMove:ye(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&o(f)}),onPointerUp:ye(t.onPointerUp,f=>{const g=f.target;g.hasPointerCapture(f.pointerId)&&(g.releasePointerCapture(f.pointerId),l(f))})})}),t1="SliderTrack",s1=m.forwardRef((t,s)=>{const{__scopeSlider:r,...a}=t,o=$d(t1,r);return e.jsx(Te.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...a,ref:s})});s1.displayName=t1;var Lh="SliderRange",r1=m.forwardRef((t,s)=>{const{__scopeSlider:r,...a}=t,o=$d(Lh,r),l=Zw(Lh,r),d=m.useRef(null),u=Be(s,d),h=o.values.length,p=o.values.map(g=>a1(g,o.min,o.max)),v=h>1?Math.min(...p):0,f=100-Math.max(...p);return e.jsx(Te.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...a,ref:u,style:{...t.style,[l.startEdge]:v+"%",[l.endEdge]:f+"%"}})});r1.displayName=Lh;var Oh="SliderThumb",n1=m.forwardRef((t,s)=>{const r=XD(t.__scopeSlider),[a,o]=m.useState(null),l=Be(s,u=>o(u)),d=m.useMemo(()=>a?r().findIndex(u=>u.ref.current===a):-1,[r,a]);return e.jsx(eI,{...t,ref:l,index:d})}),eI=m.forwardRef((t,s)=>{const{__scopeSlider:r,index:a,name:o,...l}=t,d=$d(Oh,r),u=Zw(Oh,r),[h,p]=m.useState(null),v=Be(s,E=>p(E)),f=h?d.form||!!h.closest("form"):!0,g=uj(h),N=d.values[a],k=N===void 0?0:a1(N,d.min,d.max),y=rI(a,d.values.length),_=g?.[u.size],w=_?aI(_,k,u.direction):0;return m.useEffect(()=>{if(h)return d.thumbs.add(h),()=>{d.thumbs.delete(h)}},[h,d.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${k}% + ${w}px)`},children:[e.jsx(Ih.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(Te.span,{role:"slider","aria-label":t["aria-label"]||y,"aria-valuemin":d.min,"aria-valuenow":N,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...l,ref:v,style:N===void 0?{display:"none"}:t.style,onFocus:ye(t.onFocus,()=>{d.valueIndexToChangeRef.current=a})})}),f&&e.jsx(tI,{name:o??(d.name?d.name+(d.values.length>1?"[]":""):void 0),form:d.form,value:N},a)]})});n1.displayName=Oh;var tI=t=>{const{value:s,...r}=t,a=m.useRef(null),o=cw(s);return m.useEffect(()=>{const l=a.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==s&&h){const p=new Event("input",{bubbles:!0});h.call(l,s),l.dispatchEvent(p)}},[o,s]),e.jsx("input",{style:{display:"none"},...r,ref:a,defaultValue:s})};function sI(t=[],s,r){const a=[...t];return a[r]=s,a.sort((o,l)=>o-l)}function a1(t,s,r){const l=100/(r-s)*(t-s);return Ko(l,[0,100])}function rI(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function nI(t,s){if(t.length===1)return 0;const r=t.map(o=>Math.abs(o-s)),a=Math.min(...r);return r.indexOf(a)}function aI(t,s,r){const a=t/2,l=Kp([0,50],[0,a]);return(a-l(s)*r)*r}function iI(t){return t.slice(0,-1).map((s,r)=>t[r+1]-s)}function oI(t,s){if(s>0){const r=iI(t);return Math.min(...r)>=s}return!0}function Kp(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const a=(s[1]-s[0])/(t[1]-t[0]);return s[0]+a*(r-t[0])}}function lI(t){return(String(t).split(".")[1]||"").length}function cI(t,s){const r=Math.pow(10,s);return Math.round(t*r)/r}var i1=Qw,dI=s1,uI=r1,mI=n1;const Fh=m.forwardRef(({className:t,...s},r)=>e.jsxs(i1,{ref:r,className:we("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(dI,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(uI,{className:"absolute h-full bg-primary"})}),e.jsx(mI,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Fh.displayName=i1.displayName;const hI=()=>{const t=Re(),[s,r]=m.useState(!1),[a,o]=m.useState({query:"",type:"all",category:"all",priceRange:[0,1e4],rating:0,location:"all",sortBy:"relevance",features:[],availability:"all",supplierType:"all"}),{data:l=[]}=We({queryKey:["categories"],queryFn:async()=>{const E=await ie.get("/categories");return E.categories||E.data||E||[]}}),{data:d=[],isLoading:u}=We({queryKey:["search",a],queryFn:async()=>{if(!a.query.trim())return[];const E=new URLSearchParams({q:a.query,type:a.type,category:a.category,min_price:a.priceRange[0].toString(),max_price:a.priceRange[1].toString(),min_rating:a.rating.toString(),location:a.location,sort:a.sortBy,availability:a.availability,supplier_type:a.supplierType,features:a.features.join(",")}),C=await ie.get(`/search?${E}`);return C.results||C.data||C||[]},enabled:!!a.query.trim()}),[h,p]=m.useState([]),[v,f]=m.useState(!1),g=["Produits artisanaux","Fournisseurs locaux","Textiles traditionnels","Poterie gabonaise","Vannerie","Bijoux artisanaux"],N=JSON.parse(localStorage.getItem("recentSearches")||"[]");m.useEffect(()=>{if(a.query.length>2){const E=[`${a.query} artisanaux`,`${a.query} traditionnels`,`${a.query} locaux`,`Fournisseurs ${a.query}`,`Produits ${a.query}`];p(E),f(!0)}else f(!1)},[a.query]);const k=E=>{const C=E||a.query;if(!C.trim())return;const R=[C,...N.filter(I=>I!==C)].slice(0,5);localStorage.setItem("recentSearches",JSON.stringify(R)),o(I=>({...I,query:C})),f(!1)},y=()=>{o({query:"",type:"all",category:"all",priceRange:[0,1e4],rating:0,location:"all",sortBy:"relevance",features:[],availability:"all",supplierType:"all"})},_=E=>{switch(E){case"product":return e.jsx(De,{className:"w-4 h-4"});case"supplier":return e.jsx(cn,{className:"w-4 h-4"});case"category":return e.jsx(De,{className:"w-4 h-4"});default:return e.jsx(pt,{className:"w-4 h-4"})}},w=E=>{switch(E){case"product":return"Produit";case"supplier":return"Fournisseur";case"category":return"Catgorie";default:return"Rsultat"}};return e.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(B,{placeholder:"Rechercher des produits, fournisseurs, catgories...",value:a.query,onChange:E=>o(C=>({...C,query:E.target.value})),onKeyPress:E=>E.key==="Enter"&&k(),onFocus:()=>f(!0),className:"pl-10 pr-20 h-12 text-lg"}),a.query&&e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>o(E=>({...E,query:""})),className:"absolute right-12 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:e.jsx(Je,{className:"w-4 h-4"})})]}),e.jsxs(D,{onClick:()=>k(),size:"lg",className:"h-12 px-6",children:[e.jsx(pt,{className:"w-5 h-5 mr-2"}),"Rechercher"]}),e.jsx(D,{variant:"outline",size:"lg",onClick:()=>r(!s),className:"h-12 px-4",children:e.jsx(Ns,{className:"w-5 h-5"})})]}),v&&e.jsx(Q,{className:"absolute top-full left-0 right-0 mt-2 z-50 shadow-lg",children:e.jsx(J,{className:"p-0",children:a.query.length>2?e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2 px-2",children:"Suggestions"}),h.map((E,C)=>e.jsxs(D,{variant:"ghost",className:"w-full justify-start text-left h-auto p-2",onClick:()=>k(E),children:[e.jsx(pt,{className:"w-4 h-4 mr-2 text-gray-400"}),E]},C))]}):e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[N.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Recherches rcentes"}),e.jsx("div",{className:"space-y-1",children:N.map((E,C)=>e.jsxs(D,{variant:"ghost",size:"sm",className:"w-full justify-start text-left h-auto p-2",onClick:()=>k(E),children:[e.jsx(Vt,{className:"w-3 h-3 mr-2 text-gray-400"}),E]},C))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Recherches populaires"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:g.map((E,C)=>e.jsx(D,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>k(E),children:E},C))})]})]})})})})]}),s&&e.jsxs(Q,{className:"mt-4",children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ue,{className:"text-lg",children:"Filtres avancs"}),e.jsx(D,{variant:"ghost",size:"sm",onClick:y,children:"Effacer tout"})]})}),e.jsx(J,{children:e.jsxs(Gr,{defaultValue:"general",className:"w-full",children:[e.jsxs(yr,{className:"grid w-full grid-cols-4",children:[e.jsx(Ue,{value:"general",children:"Gnral"}),e.jsx(Ue,{value:"products",children:"Produits"}),e.jsx(Ue,{value:"suppliers",children:"Fournisseurs"}),e.jsx(Ue,{value:"location",children:"Localisation"})]}),e.jsxs(He,{value:"general",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Type de recherche"}),e.jsxs(mr,{value:a.type,onValueChange:E=>o(C=>({...C,type:E})),children:[e.jsx(Vs,{children:e.jsx(hr,{})}),e.jsxs(Us,{children:[e.jsx(ze,{value:"all",children:"Tout"}),e.jsx(ze,{value:"products",children:"Produits"}),e.jsx(ze,{value:"suppliers",children:"Fournisseurs"}),e.jsx(ze,{value:"categories",children:"Catgories"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Trier par"}),e.jsxs(mr,{value:a.sortBy,onValueChange:E=>o(C=>({...C,sortBy:E})),children:[e.jsx(Vs,{children:e.jsx(hr,{})}),e.jsxs(Us,{children:[e.jsx(ze,{value:"relevance",children:"Pertinence"}),e.jsx(ze,{value:"price_asc",children:"Prix croissant"}),e.jsx(ze,{value:"price_desc",children:"Prix dcroissant"}),e.jsx(ze,{value:"rating",children:"Note"}),e.jsx(ze,{value:"newest",children:"Plus rcent"}),e.jsx(ze,{value:"popular",children:"Plus populaire"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Catgorie"}),e.jsxs(mr,{value:a.category,onValueChange:E=>o(C=>({...C,category:E})),children:[e.jsx(Vs,{children:e.jsx(hr,{placeholder:"Slectionner une catgorie"})}),e.jsxs(Us,{children:[e.jsx(ze,{value:"all",children:"Toutes les catgories"}),l.map(E=>e.jsx(ze,{value:E.slug,children:E.nom},E.id))]})]})]})]}),e.jsxs(He,{value:"products",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["Prix: ",a.priceRange[0]," - ",a.priceRange[1],""]}),e.jsx(Fh,{value:a.priceRange,onValueChange:E=>o(C=>({...C,priceRange:E})),max:1e4,min:0,step:100,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["Note minimum: ",a.rating," toiles"]}),e.jsx(Fh,{value:[a.rating],onValueChange:E=>o(C=>({...C,rating:E[0]})),max:5,min:0,step:.5,className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Disponibilit"}),e.jsxs(mr,{value:a.availability,onValueChange:E=>o(C=>({...C,availability:E})),children:[e.jsx(Vs,{children:e.jsx(hr,{})}),e.jsxs(Us,{children:[e.jsx(ze,{value:"all",children:"Tous"}),e.jsx(ze,{value:"in_stock",children:"En stock"}),e.jsx(ze,{value:"out_of_stock",children:"Rupture de stock"})]})]})]})]}),e.jsx(He,{value:"suppliers",className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Type de fournisseur"}),e.jsxs(mr,{value:a.supplierType,onValueChange:E=>o(C=>({...C,supplierType:E})),children:[e.jsx(Vs,{children:e.jsx(hr,{})}),e.jsxs(Us,{children:[e.jsx(ze,{value:"all",children:"Tous"}),e.jsx(ze,{value:"verified",children:"Vrifis"}),e.jsx(ze,{value:"premium",children:"Premium"})]})]})]})}),e.jsx(He,{value:"location",className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Localisation"}),e.jsxs(mr,{value:a.location,onValueChange:E=>o(C=>({...C,location:E})),children:[e.jsx(Vs,{children:e.jsx(hr,{})}),e.jsxs(Us,{children:[e.jsx(ze,{value:"all",children:"Toutes les rgions"}),e.jsx(ze,{value:"libreville",children:"Libreville"}),e.jsx(ze,{value:"port_gentil",children:"Port-Gentil"}),e.jsx(ze,{value:"franceville",children:"Franceville"}),e.jsx(ze,{value:"oyem",children:"Oyem"})]})]})]})})]})})]}),a.query&&e.jsxs(Q,{className:"mt-4",children:[e.jsx(de,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(ue,{children:['Rsultats pour "',a.query,'"',d.length>0&&e.jsxs(ne,{variant:"secondary",className:"ml-2",children:[d.length," rsultat",d.length>1?"s":""]})]})})}),e.jsx(J,{children:u?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),e.jsx("span",{className:"ml-2",children:"Recherche en cours..."})]}):d.length>0?e.jsx("div",{className:"space-y-3",children:d.map(E=>e.jsx(Q,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>t(E.url),children:e.jsx(J,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:_(E.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:E.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:E.description})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx(ne,{variant:"outline",className:"text-xs",children:w(E.type)}),E.isVerified&&e.jsx(ne,{variant:"default",className:"text-xs bg-green-500",children:"Vrifi"}),E.isFeatured&&e.jsx(ne,{variant:"default",className:"text-xs bg-yellow-500",children:"Vedette"})]})]}),e.jsx("div",{className:"flex items-center justify-between mt-3",children:e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[E.price&&e.jsxs("span",{className:"font-medium text-green-600",children:[E.price,""]}),E.rating&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"w-4 h-4 text-yellow-400 fill-current mr-1"}),E.rating]}),E.location&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(os,{className:"w-4 h-4 mr-1"}),E.location]}),E.category&&e.jsx("span",{children:E.category})]})})]})]})})},`${E.type}-${E.id}`))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(pt,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun rsultat trouv"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Essayez de modifier vos critres de recherche"}),e.jsx(D,{variant:"outline",onClick:y,children:"Effacer les filtres"})]})})]})]})},pI=()=>{const t=[{term:"Produits artisanaux",count:1250},{term:"Fournisseurs locaux",count:890},{term:"Textiles traditionnels",count:650},{term:"Poterie gabonaise",count:420},{term:"Vannerie",count:380},{term:"Bijoux artisanaux",count:320}],s=["Produits bio","Fournisseurs Libreville","Artisanat local","Textiles africains"],r=[{icon:e.jsx(pt,{className:"w-5 h-5"}),title:"Recherche intelligente",description:"Utilisez des mots-cls spcifiques pour des rsultats plus prcis"},{icon:e.jsx(Ns,{className:"w-5 h-5"}),title:"Filtres avancs",description:"Affinez votre recherche avec nos filtres par prix, catgorie et localisation"},{icon:e.jsx(bt,{className:"w-5 h-5"}),title:"Tendances",description:"Dcouvrez les recherches populaires et les produits tendance"}];return e.jsx($e,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Recherche avance"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Trouvez exactement ce que vous cherchez parmi nos produits, fournisseurs et catgories"})]}),e.jsx("div",{className:"mb-8",children:e.jsx(hI,{})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(bt,{className:"w-5 h-5 mr-2 text-green-600"}),"Recherches populaires"]})}),e.jsx(J,{children:e.jsx("div",{className:"space-y-2",children:t.map((a,o)=>e.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded cursor-pointer",children:[e.jsx("span",{className:"text-sm font-medium",children:a.term}),e.jsx(ne,{variant:"secondary",className:"text-xs",children:a.count})]},o))})})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(Vt,{className:"w-5 h-5 mr-2 text-blue-600"}),"Recherches rcentes"]})}),e.jsx(J,{children:e.jsx("div",{className:"space-y-2",children:s.map((a,o)=>e.jsx("div",{className:"p-2 hover:bg-gray-50 rounded cursor-pointer",children:e.jsx("span",{className:"text-sm",children:a})},o))})})]}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx(pt,{className:"w-5 h-5 mr-2 text-purple-600"}),"Conseils de recherche"]})}),e.jsx(J,{children:e.jsx("div",{className:"space-y-4",children:r.map((a,o)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-gray-500 mt-0.5",children:a.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:a.title}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a.description})]})]},o))})})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(Q,{children:[e.jsx(de,{children:e.jsx(ue,{children:"Statistiques de recherche"})}),e.jsx(J,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"15,000+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Produits"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"500+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Fournisseurs"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"50+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Catgories"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"24/7"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Disponible"})]})]})})]})})]})})})};class fI extends be.Component{constructor(s){super(s),this.resetError=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("ErrorBoundary caught an error:",s,r)}render(){if(this.state.hasError){if(this.props.fallback){const s=this.props.fallback;return e.jsx(s,{error:this.state.error,resetError:this.resetError})}return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Js,{className:"w-8 h-8 text-red-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Oups ! Une erreur s'est produite"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Nous rencontrons un problme technique. Veuillez ressayer ou retourner  l'accueil."}),!1,e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(D,{onClick:this.resetError,className:"flex-1",variant:"outline",children:[e.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Ressayer"]}),e.jsxs(D,{onClick:()=>window.location.href="/",className:"flex-1",children:[e.jsx(gi,{className:"w-4 h-4 mr-2"}),"Accueil"]})]})]})})}return this.props.children}}const xI=new Pk({defaultOptions:{queries:{staleTime:0,gcTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchOnReconnect:!0,retry:!1}}}),gI=()=>e.jsx(Dk,{client:xI,children:e.jsxs(hk,{children:[e.jsx(BM,{}),e.jsx(m4,{}),e.jsx(q4,{}),e.jsx(JE,{}),e.jsx(fI,{children:e.jsxs(UE,{children:[e.jsx(ZE,{}),e.jsxs(LE,{children:[e.jsx(Fe,{path:"/",element:e.jsx(X5,{})}),e.jsx(Fe,{path:"/products",element:e.jsx(Z5,{})}),e.jsx(Fe,{path:"/search",element:e.jsx(pI,{})}),e.jsx(Fe,{path:"/suppliers",element:e.jsx(eP,{})}),e.jsx(Fe,{path:"/suppliers/:id",element:e.jsx(tP,{})}),e.jsx(Fe,{path:"/categories",element:e.jsx(aP,{})}),e.jsx(Fe,{path:"/categories/:slug",element:e.jsx(oP,{})}),e.jsx(Fe,{path:"/products/:id",element:e.jsx(kP,{})}),e.jsx(Fe,{path:"/blog",element:e.jsx(lP,{})}),e.jsx(Fe,{path:"/blog/:slug",element:e.jsx(cP,{})}),e.jsx(Fe,{path:"/login",element:e.jsx(Er,{children:e.jsx(uP,{})})}),e.jsx(Fe,{path:"/register",element:e.jsx(Er,{children:e.jsx(hP,{})})}),e.jsx(Fe,{path:"/supplier/login",element:e.jsx(Er,{children:e.jsx(TP,{})})}),e.jsx(Fe,{path:"/supplier/register",element:e.jsx(Er,{children:e.jsx(VD,{})})}),e.jsx(Fe,{path:"/user-type",element:e.jsx(Er,{children:e.jsx(PP,{})})}),e.jsx(Fe,{path:"/messages",element:e.jsx(Bt,{children:e.jsx(rv,{})})}),e.jsx(Fe,{path:"/messages/:conversationId",element:e.jsx(Bt,{children:e.jsx(rv,{})})}),e.jsx(Fe,{path:"/supplier/messages",element:e.jsx(Bt,{requiredRole:2,children:e.jsx(av,{})})}),e.jsx(Fe,{path:"/supplier/messages/:conversationId",element:e.jsx(Bt,{requiredRole:2,children:e.jsx(av,{})})}),e.jsx(Fe,{path:"/dashboard",element:e.jsx(Bt,{children:e.jsx(gP,{})})}),e.jsx(Fe,{path:"/supplier/dashboard",element:e.jsx(Bt,{requiredRole:2,children:e.jsx(Db,{})})}),e.jsx(Fe,{path:"/buyer/dashboard",element:e.jsx(Bt,{requiredRole:1,children:e.jsx(aT,{})})}),e.jsx(Fe,{path:"/supplier",element:e.jsx(VP,{})}),e.jsx(Fe,{path:"/supplier/products/add",element:e.jsx(Bt,{requiredRole:2,children:e.jsx(sT,{})})}),e.jsx(Fe,{path:"/supplier/products/edit/:id",element:e.jsx(Bt,{requiredRole:2,children:e.jsx(rT,{})})}),e.jsx(Fe,{path:"/supplier/products/preview/:id",element:e.jsx(Bt,{requiredRole:2,children:e.jsx(nT,{})})}),e.jsx(Fe,{path:"/supplier/company-info",element:e.jsx(Bt,{requiredRole:2,children:e.jsx(UD,{})})}),e.jsx(Fe,{path:"/profile",element:e.jsx(Bt,{children:e.jsx(jM,{})})}),e.jsx(Fe,{path:"/settings",element:e.jsx(Bt,{children:e.jsx(qM,{})})}),e.jsx(Fe,{path:"/admin/login",element:e.jsx(Er,{children:e.jsx(WM,{})})}),e.jsx(Fe,{path:"/admin",element:e.jsx(Bt,{requiredRole:3,children:e.jsx(lv,{})})}),e.jsx(Fe,{path:"/admin/dashboard",element:e.jsx(Bt,{requiredRole:3,children:e.jsx(lv,{})})}),e.jsx(Fe,{path:"/admin/users",element:e.jsx(Bt,{requiredRole:3,children:e.jsx($D,{})})}),e.jsx(Fe,{path:"/admin/profile",element:e.jsx(Bt,{requiredRole:3,children:e.jsx(BD,{})})}),e.jsx(Fe,{path:"/favorites",element:e.jsx(Bt,{children:e.jsx(HD,{})})}),e.jsx(Fe,{path:"/forgot-password",element:e.jsx(Er,{children:e.jsx(uv,{})})}),e.jsx(Fe,{path:"/supplier/forgot-password",element:e.jsx(Er,{children:e.jsx(uv,{})})}),e.jsx(Fe,{path:"/reset-password",element:e.jsx(Er,{children:e.jsx(WD,{})})}),e.jsx(Fe,{path:"/register-verification",element:e.jsx(Er,{children:e.jsx(kb,{})})}),e.jsx(Fe,{path:"/terms",element:e.jsx(GD,{})}),e.jsx(Fe,{path:"/privacy",element:e.jsx(KD,{})}),e.jsx(Fe,{path:"*",element:e.jsx(EP,{})})]})]})})]})});cC.createRoot(document.getElementById("root")).render(e.jsx(gI,{}));
